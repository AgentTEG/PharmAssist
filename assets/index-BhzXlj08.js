(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const bt={},As=[],_r=()=>{},dy=()=>!1,Jl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ad=t=>t.startsWith("onUpdate:"),an=Object.assign,Id=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},DE=Object.prototype.hasOwnProperty,ut=(t,e)=>DE.call(t,e),qe=Array.isArray,Is=t=>na(t)==="[object Map]",Xl=t=>na(t)==="[object Set]",dm=t=>na(t)==="[object Date]",Qe=t=>typeof t=="function",Ut=t=>typeof t=="string",yr=t=>typeof t=="symbol",vt=t=>t!==null&&typeof t=="object",py=t=>(vt(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),gy=Object.prototype.toString,na=t=>gy.call(t),LE=t=>na(t).slice(8,-1),my=t=>na(t)==="[object Object]",Zl=t=>Ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yo=Cd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ec=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},FE=/-\w/g,zn=ec(t=>t.replace(FE,e=>e.slice(1).toUpperCase())),jE=/\B([A-Z])/g,Xi=ec(t=>t.replace(jE,"-$1").toLowerCase()),tc=ec(t=>t.charAt(0).toUpperCase()+t.slice(1)),pu=ec(t=>t?`on${tc(t)}`:""),hi=(t,e)=>!Object.is(t,e),Wa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_y=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},nc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pm;const rc=()=>pm||(pm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lo(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ut(r)?$E(r):Lo(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Ut(t)||vt(t))return t}const BE=/;(?![^(]*\))/g,UE=/:([^]+)/,WE=/\/\*[^]*?\*\//g;function $E(t){const e={};return t.replace(WE,"").split(BE).forEach(n=>{if(n){const r=n.split(UE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function xd(t){let e="";if(Ut(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const r=xd(t[n]);r&&(e+=r+" ")}else if(vt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const HE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VE=Cd(HE);function yy(t){return!!t||t===""}function qE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ic(t[r],e[r]);return n}function ic(t,e){if(t===e)return!0;let n=dm(t),r=dm(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=yr(t),r=yr(e),n||r)return t===e;if(n=qe(t),r=qe(e),n||r)return n&&r?qE(t,e):!1;if(n=vt(t),r=vt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ic(t[o],e[o]))return!1}}return String(t)===String(e)}function GE(t,e){return t.findIndex(n=>ic(n,e))}const by=t=>!!(t&&t.__v_isRef===!0),yt=t=>Ut(t)?t:t==null?"":qe(t)||vt(t)&&(t.toString===gy||!Qe(t.toString))?by(t)?yt(t.value):JSON.stringify(t,vy,2):String(t),vy=(t,e)=>by(e)?vy(t,e.value):Is(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[gu(r,s)+" =>"]=i,n),{})}:Xl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gu(n))}:yr(e)?gu(e):vt(e)&&!qe(e)&&!my(e)?String(e):e,gu=(t,e="")=>{var n;return yr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let rn;class wy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rn,!e&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=rn;try{return rn=this,e()}finally{rn=n}}}on(){++this._on===1&&(this.prevScope=rn,rn=this)}off(){this._on>0&&--this._on===0&&(rn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ey(t){return new wy(t)}function Sy(){return rn}function zE(t,e=!1){rn&&rn.cleanups.push(t)}let St;const mu=new WeakSet;class Cy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rn&&rn.active&&rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mu.has(this)&&(mu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Iy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gm(this),xy(this);const e=St,n=tr;St=this,tr=!0;try{return this.fn()}finally{Ty(this),St=e,tr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Od(e);this.deps=this.depsTail=void 0,gm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$u(this)&&this.run()}get dirty(){return $u(this)}}let Ay=0,bo,vo;function Iy(t,e=!1){if(t.flags|=8,e){t.next=vo,vo=t;return}t.next=bo,bo=t}function Td(){Ay++}function kd(){if(--Ay>0)return;if(vo){let e=vo;for(vo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;bo;){let e=bo;for(bo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function xy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ty(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Od(r),KE(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function $u(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ky(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ky(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fo)||(t.globalVersion=Fo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!$u(t))))return;t.flags|=2;const e=t.dep,n=St,r=tr;St=t,tr=!0;try{xy(t);const i=t.fn(t._value);(e.version===0||hi(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{St=n,tr=r,Ty(t),t.flags&=-3}}function Od(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Od(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function KE(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let tr=!0;const Oy=[];function Fr(){Oy.push(tr),tr=!1}function jr(){const t=Oy.pop();tr=t===void 0?!0:t}function gm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=St;St=void 0;try{e()}finally{St=n}}}let Fo=0;class YE{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!St||!tr||St===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==St)n=this.activeLink=new YE(St,this),St.deps?(n.prevDep=St.depsTail,St.depsTail.nextDep=n,St.depsTail=n):St.deps=St.depsTail=n,Py(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=St.depsTail,n.nextDep=void 0,St.depsTail.nextDep=n,St.depsTail=n,St.deps===n&&(St.deps=r)}return n}trigger(e){this.version++,Fo++,this.notify(e)}notify(e){Td();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{kd()}}}function Py(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Py(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vl=new WeakMap,Vi=Symbol(""),Hu=Symbol(""),jo=Symbol("");function sn(t,e,n){if(tr&&St){let r=vl.get(t);r||vl.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Pd),i.map=r,i.key=n),i.track()}}function Rr(t,e,n,r,i,s){const o=vl.get(t);if(!o){Fo++;return}const a=l=>{l&&l.trigger()};if(Td(),e==="clear")o.forEach(a);else{const l=qe(t),c=l&&Zl(n);if(l&&n==="length"){const u=Number(r);o.forEach((h,f)=>{(f==="length"||f===jo||!yr(f)&&f>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(jo)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Vi)),Is(t)&&a(o.get(Hu)));break;case"delete":l||(a(o.get(Vi)),Is(t)&&a(o.get(Hu)));break;case"set":Is(t)&&a(o.get(Vi));break}}kd()}function QE(t,e){const n=vl.get(t);return n&&n.get(e)}function ms(t){const e=ot(t);return e===t?e:(sn(e,"iterate",jo),Dn(t)?e:e.map(ir))}function sc(t){return sn(t=ot(t),"iterate",jo),t}function si(t,e){return Br(t)?Dr(t)?Rs(ir(e)):Rs(e):ir(e)}const JE={__proto__:null,[Symbol.iterator](){return _u(this,Symbol.iterator,t=>si(this,t))},concat(...t){return ms(this).concat(...t.map(e=>qe(e)?ms(e):e))},entries(){return _u(this,"entries",t=>(t[1]=si(this,t[1]),t))},every(t,e){return Ar(this,"every",t,e,void 0,arguments)},filter(t,e){return Ar(this,"filter",t,e,n=>n.map(r=>si(this,r)),arguments)},find(t,e){return Ar(this,"find",t,e,n=>si(this,n),arguments)},findIndex(t,e){return Ar(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ar(this,"findLast",t,e,n=>si(this,n),arguments)},findLastIndex(t,e){return Ar(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ar(this,"forEach",t,e,void 0,arguments)},includes(...t){return yu(this,"includes",t)},indexOf(...t){return yu(this,"indexOf",t)},join(t){return ms(this).join(t)},lastIndexOf(...t){return yu(this,"lastIndexOf",t)},map(t,e){return Ar(this,"map",t,e,void 0,arguments)},pop(){return io(this,"pop")},push(...t){return io(this,"push",t)},reduce(t,...e){return mm(this,"reduce",t,e)},reduceRight(t,...e){return mm(this,"reduceRight",t,e)},shift(){return io(this,"shift")},some(t,e){return Ar(this,"some",t,e,void 0,arguments)},splice(...t){return io(this,"splice",t)},toReversed(){return ms(this).toReversed()},toSorted(t){return ms(this).toSorted(t)},toSpliced(...t){return ms(this).toSpliced(...t)},unshift(...t){return io(this,"unshift",t)},values(){return _u(this,"values",t=>si(this,t))}};function _u(t,e,n){const r=sc(t),i=r[e]();return r!==t&&!Dn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const XE=Array.prototype;function Ar(t,e,n,r,i,s){const o=sc(t),a=o!==t&&!Dn(t),l=o[e];if(l!==XE[e]){const h=l.apply(t,s);return a?ir(h):h}let c=n;o!==t&&(a?c=function(h,f){return n.call(this,si(t,h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function mm(t,e,n,r){const i=sc(t);let s=n;return i!==t&&(Dn(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,si(t,a),l,t)}),i[e](s,...r)}function yu(t,e,n){const r=ot(t);sn(r,"iterate",jo);const i=r[e](...n);return(i===-1||i===!1)&&oc(n[0])?(n[0]=ot(n[0]),r[e](...n)):i}function io(t,e,n=[]){Fr(),Td();const r=ot(t)[e].apply(t,n);return kd(),jr(),r}const ZE=Cd("__proto__,__v_isRef,__isVue"),Ry=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yr));function eS(t){yr(t)||(t=String(t));const e=ot(this);return sn(e,"has",t),e.hasOwnProperty(t)}class Ny{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?uS:Fy:s?Ly:Dy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=qe(e);if(!i){let l;if(o&&(l=JE[n]))return l;if(n==="hasOwnProperty")return eS}const a=Reflect.get(e,n,Ft(e)?e:r);if((yr(n)?Ry.has(n):ZE(n))||(i||sn(e,"get",n),s))return a;if(Ft(a)){const l=o&&Zl(n)?a:a.value;return i&&vt(l)?qu(l):l}return vt(a)?i?qu(a):ra(a):a}}class My extends Ny{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];const o=qe(e)&&Zl(n);if(!this._isShallow){const c=Br(s);if(!Dn(r)&&!Br(r)&&(s=ot(s),r=ot(r)),!o&&Ft(s)&&!Ft(r))return c||(s.value=r),!0}const a=o?Number(n)<e.length:ut(e,n),l=Reflect.set(e,n,r,Ft(e)?e:i);return e===ot(i)&&(a?hi(r,s)&&Rr(e,"set",n,r):Rr(e,"add",n,r)),l}deleteProperty(e,n){const r=ut(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Rr(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!yr(n)||!Ry.has(n))&&sn(e,"has",n),r}ownKeys(e){return sn(e,"iterate",qe(e)?"length":Vi),Reflect.ownKeys(e)}}class tS extends Ny{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const nS=new My,rS=new tS,iS=new My(!0);const Vu=t=>t,Ma=t=>Reflect.getPrototypeOf(t);function sS(t,e,n){return function(...r){const i=this.__v_raw,s=ot(i),o=Is(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Vu:e?Rs:ir;return!e&&sn(s,"iterate",l?Hu:Vi),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Da(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function oS(t,e){const n={get(i){const s=this.__v_raw,o=ot(s),a=ot(i);t||(hi(i,a)&&sn(o,"get",i),sn(o,"get",a));const{has:l}=Ma(o),c=e?Vu:t?Rs:ir;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&sn(ot(i),"iterate",Vi),i.size},has(i){const s=this.__v_raw,o=ot(s),a=ot(i);return t||(hi(i,a)&&sn(o,"has",i),sn(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=ot(a),c=e?Vu:t?Rs:ir;return!t&&sn(l,"iterate",Vi),a.forEach((u,h)=>i.call(s,c(u),c(h),o))}};return an(n,t?{add:Da("add"),set:Da("set"),delete:Da("delete"),clear:Da("clear")}:{add(i){!e&&!Dn(i)&&!Br(i)&&(i=ot(i));const s=ot(this);return Ma(s).has.call(s,i)||(s.add(i),Rr(s,"add",i,i)),this},set(i,s){!e&&!Dn(s)&&!Br(s)&&(s=ot(s));const o=ot(this),{has:a,get:l}=Ma(o);let c=a.call(o,i);c||(i=ot(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?hi(s,u)&&Rr(o,"set",i,s):Rr(o,"add",i,s),this},delete(i){const s=ot(this),{has:o,get:a}=Ma(s);let l=o.call(s,i);l||(i=ot(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&Rr(s,"delete",i,void 0),c},clear(){const i=ot(this),s=i.size!==0,o=i.clear();return s&&Rr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=sS(i,t,e)}),n}function Rd(t,e){const n=oS(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ut(n,i)&&i in r?n:r,i,s)}const aS={get:Rd(!1,!1)},lS={get:Rd(!1,!0)},cS={get:Rd(!0,!1)};const Dy=new WeakMap,Ly=new WeakMap,Fy=new WeakMap,uS=new WeakMap;function hS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fS(t){return t.__v_skip||!Object.isExtensible(t)?0:hS(LE(t))}function ra(t){return Br(t)?t:Nd(t,!1,nS,aS,Dy)}function jy(t){return Nd(t,!1,iS,lS,Ly)}function qu(t){return Nd(t,!0,rS,cS,Fy)}function Nd(t,e,n,r,i){if(!vt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=fS(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Dr(t){return Br(t)?Dr(t.__v_raw):!!(t&&t.__v_isReactive)}function Br(t){return!!(t&&t.__v_isReadonly)}function Dn(t){return!!(t&&t.__v_isShallow)}function oc(t){return t?!!t.__v_raw:!1}function ot(t){const e=t&&t.__v_raw;return e?ot(e):t}function Md(t){return!ut(t,"__v_skip")&&Object.isExtensible(t)&&_y(t,"__v_skip",!0),t}const ir=t=>vt(t)?ra(t):t,Rs=t=>vt(t)?qu(t):t;function Ft(t){return t?t.__v_isRef===!0:!1}function nt(t){return By(t,!1)}function dS(t){return By(t,!0)}function By(t,e){return Ft(t)?t:new pS(t,e)}class pS{constructor(e,n){this.dep=new Pd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ot(e),this._value=n?e:ir(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Dn(e)||Br(e);e=r?e:ot(e),hi(e,n)&&(this._rawValue=e,this._value=r?e:ir(e),this.dep.trigger())}}function st(t){return Ft(t)?t.value:t}const gS={get:(t,e,n)=>e==="__v_raw"?t:st(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ft(i)&&!Ft(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Uy(t){return Dr(t)?t:new Proxy(t,gS)}function mS(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=yS(t,n);return e}class _S{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=ot(e);let i=!0,s=e;if(!qe(e)||!Zl(String(n)))do i=!oc(s)||Dn(s);while(i&&(s=s.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=st(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Ft(this._raw[this._key])){const n=this._object[this._key];if(Ft(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return QE(this._raw,this._key)}}function yS(t,e,n){return new _S(t,e,n)}class bS{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Pd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&St!==this)return Iy(this,!0),!0}get value(){const e=this.dep.track();return ky(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vS(t,e,n=!1){let r,i;return Qe(t)?r=t:(r=t.get,i=t.set),new bS(r,i,n)}const La={},wl=new WeakMap;let Li;function wS(t,e=!1,n=Li){if(n){let r=wl.get(n);r||wl.set(n,r=[]),r.push(t)}}function ES(t,e,n=bt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=A=>i?A:Dn(A)||i===!1||i===0?Nr(A,1):Nr(A);let u,h,f,g,p=!1,_=!1;if(Ft(t)?(h=()=>t.value,p=Dn(t)):Dr(t)?(h=()=>c(t),p=!0):qe(t)?(_=!0,p=t.some(A=>Dr(A)||Dn(A)),h=()=>t.map(A=>{if(Ft(A))return A.value;if(Dr(A))return c(A);if(Qe(A))return l?l(A,2):A()})):Qe(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Fr();try{f()}finally{jr()}}const A=Li;Li=u;try{return l?l(t,3,[g]):t(g)}finally{Li=A}}:h=_r,e&&i){const A=h,w=i===!0?1/0:i;h=()=>Nr(A(),w)}const b=Sy(),E=()=>{u.stop(),b&&b.active&&Id(b.effects,u)};if(s&&e){const A=e;e=(...w)=>{A(...w),E()}}let y=_?new Array(t.length).fill(La):La;const v=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(e){const w=u.run();if(i||p||(_?w.some((x,I)=>hi(x,y[I])):hi(w,y))){f&&f();const x=Li;Li=u;try{const I=[w,y===La?void 0:_&&y[0]===La?[]:y,g];y=w,l?l(e,3,I):e(...I)}finally{Li=x}}}else u.run()};return a&&a(v),u=new Cy(h),u.scheduler=o?()=>o(v,!1):v,g=A=>wS(A,!1,u),f=u.onStop=()=>{const A=wl.get(u);if(A){if(l)l(A,4);else for(const w of A)w();wl.delete(u)}},e?r?v(!0):y=u.run():o?o(v.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Nr(t,e=1/0,n){if(e<=0||!vt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ft(t))Nr(t.value,e,n);else if(qe(t))for(let r=0;r<t.length;r++)Nr(t[r],e,n);else if(Xl(t)||Is(t))t.forEach(r=>{Nr(r,e,n)});else if(my(t)){for(const r in t)Nr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Nr(t[r],e,n)}return t}function ia(t,e,n,r){try{return r?t(...r):t()}catch(i){ac(i,e,n)}}function br(t,e,n,r){if(Qe(t)){const i=ia(t,e,n,r);return i&&py(i)&&i.catch(s=>{ac(s,e,n)}),i}if(qe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(br(t[s],e,n,r));return i}}function ac(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||bt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(s){Fr(),ia(s,null,10,[t,l,c]),jr();return}}SS(t,n,i,r,o)}function SS(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const dn=[];let dr=-1;const xs=[];let oi=null,bs=0;const Wy=Promise.resolve();let El=null;function lc(t){const e=El||Wy;return t?e.then(this?t.bind(this):t):e}function CS(t){let e=dr+1,n=dn.length;for(;e<n;){const r=e+n>>>1,i=dn[r],s=Bo(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Dd(t){if(!(t.flags&1)){const e=Bo(t),n=dn[dn.length-1];!n||!(t.flags&2)&&e>=Bo(n)?dn.push(t):dn.splice(CS(e),0,t),t.flags|=1,$y()}}function $y(){El||(El=Wy.then(Vy))}function AS(t){qe(t)?xs.push(...t):oi&&t.id===-1?oi.splice(bs+1,0,t):t.flags&1||(xs.push(t),t.flags|=1),$y()}function _m(t,e,n=dr+1){for(;n<dn.length;n++){const r=dn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;dn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Hy(t){if(xs.length){const e=[...new Set(xs)].sort((n,r)=>Bo(n)-Bo(r));if(xs.length=0,oi){oi.push(...e);return}for(oi=e,bs=0;bs<oi.length;bs++){const n=oi[bs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}oi=null,bs=0}}const Bo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vy(t){try{for(dr=0;dr<dn.length;dr++){const e=dn[dr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ia(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dr<dn.length;dr++){const e=dn[dr];e&&(e.flags&=-2)}dr=-1,dn.length=0,Hy(),El=null,(dn.length||xs.length)&&Vy()}}let Rn=null,qy=null;function Sl(t){const e=Rn;return Rn=t,qy=t&&t.type.__scopeId||null,e}function ci(t,e=Rn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Il(-1);const s=Sl(e);let o;try{o=t(...i)}finally{Sl(s),r._d&&Il(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function pn(t,e){if(Rn===null)return t;const n=fc(Rn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=bt]=e[i];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&Nr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Mi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Fr(),br(l,n,8,[t.el,a,t,e]),jr())}}function $a(t,e){if(on){let n=on.provides;const r=on.parent&&on.parent.provides;r===n&&(n=on.provides=Object.create(r)),n[t]=e}}function nr(t,e,n=!1){const r=_b();if(r||qi){let i=qi?qi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Qe(e)?e.call(r&&r.proxy):e}}function IS(){return!!(_b()||qi)}const xS=Symbol.for("v-scx"),TS=()=>nr(xS);function wo(t,e,n){return Gy(t,e,n)}function Gy(t,e,n=bt){const{immediate:r,deep:i,flush:s,once:o}=n,a=an({},n),l=e&&r||!e&&s!=="post";let c;if($o){if(s==="sync"){const g=TS();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=_r,g.resume=_r,g.pause=_r,g}}const u=on;a.call=(g,p,_)=>br(g,u,p,_);let h=!1;s==="post"?a.scheduler=g=>{On(g,u&&u.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(g,p)=>{p?g():Dd(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=ES(t,e,a);return $o&&(c?c.push(f):l&&f()),f}function kS(t,e,n){const r=this.proxy,i=Ut(t)?t.includes(".")?zy(r,t):()=>r[t]:t.bind(r,r);let s;Qe(e)?s=e:(s=e.handler,n=e);const o=oa(this),a=Gy(i,s.bind(r),n);return o(),a}function zy(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const OS=Symbol("_vte"),PS=t=>t.__isTeleport,RS=Symbol("_leaveCb");function Ld(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ld(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ky(t,e){return Qe(t)?an({name:t.name},e,{setup:t}):t}function Yy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Cl=new WeakMap;function Eo(t,e,n,r,i=!1){if(qe(t)){t.forEach((p,_)=>Eo(p,e&&(qe(e)?e[_]:e),n,r,i));return}if(So(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Eo(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?fc(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===bt?a.refs={}:a.refs,h=a.setupState,f=ot(h),g=h===bt?dy:p=>ut(f,p);if(c!=null&&c!==l){if(ym(e),Ut(c))u[c]=null,g(c)&&(h[c]=null);else if(Ft(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(Qe(l))ia(l,a,12,[o,u]);else{const p=Ut(l),_=Ft(l);if(p||_){const b=()=>{if(t.f){const E=p?g(l)?h[l]:u[l]:l.value;if(i)qe(E)&&Id(E,s);else if(qe(E))E.includes(s)||E.push(s);else if(p)u[l]=[s],g(l)&&(h[l]=u[l]);else{const y=[s];l.value=y,t.k&&(u[t.k]=y)}}else p?(u[l]=o,g(l)&&(h[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const E=()=>{b(),Cl.delete(t)};E.id=-1,Cl.set(t,E),On(E,n)}else ym(t),b()}}}function ym(t){const e=Cl.get(t);e&&(e.flags|=8,Cl.delete(t))}rc().requestIdleCallback;rc().cancelIdleCallback;const So=t=>!!t.type.__asyncLoader,Qy=t=>t.type.__isKeepAlive;function NS(t,e){Jy(t,"a",e)}function MS(t,e){Jy(t,"da",e)}function Jy(t,e,n=on){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(cc(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Qy(i.parent.vnode)&&DS(r,e,n,i),i=i.parent}}function DS(t,e,n,r){const i=cc(e,t,r,!0);Xy(()=>{Id(r[e],i)},n)}function cc(t,e,n=on,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Fr();const a=oa(n),l=br(e,n,t,o);return a(),jr(),l});return r?i.unshift(s):i.push(s),s}}const Vr=t=>(e,n=on)=>{(!$o||t==="sp")&&cc(t,(...r)=>e(...r),n)},LS=Vr("bm"),sa=Vr("m"),FS=Vr("bu"),jS=Vr("u"),BS=Vr("bum"),Xy=Vr("um"),US=Vr("sp"),WS=Vr("rtg"),$S=Vr("rtc");function HS(t,e=on){cc("ec",t,e)}const VS="components";function Uo(t,e){return GS(VS,t,!0,e)||t}const qS=Symbol.for("v-ndc");function GS(t,e,n=!0,r=!1){const i=Rn||on;if(i){const s=i.type;{const a=PC(s,!1);if(a&&(a===e||a===zn(e)||a===tc(zn(e))))return s}const o=bm(i[t]||s[t],e)||bm(i.appContext[t],e);return!o&&r?s:o}}function bm(t,e){return t&&(t[e]||t[zn(e)]||t[tc(zn(e))])}function Gu(t,e,n,r){let i;const s=n,o=qe(t);if(o||Ut(t)){const a=o&&Dr(t);let l=!1,c=!1;a&&(l=!Dn(t),c=Br(t),t=sc(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(l?c?Rs(ir(t[u])):ir(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(vt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}const zu=t=>t?yb(t)?fc(t):zu(t.parent):null,Co=an(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zu(t.parent),$root:t=>zu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>eb(t),$forceUpdate:t=>t.f||(t.f=()=>{Dd(t.update)}),$nextTick:t=>t.n||(t.n=lc.bind(t.proxy)),$watch:t=>kS.bind(t)}),bu=(t,e)=>t!==bt&&!t.__isScriptSetup&&ut(t,e),zS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(bu(r,e))return o[e]=1,r[e];if(i!==bt&&ut(i,e))return o[e]=2,i[e];if(ut(s,e))return o[e]=3,s[e];if(n!==bt&&ut(n,e))return o[e]=4,n[e];Ku&&(o[e]=0)}}const c=Co[e];let u,h;if(c)return e==="$attrs"&&sn(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==bt&&ut(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,ut(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return bu(i,e)?(i[e]=n,!0):r!==bt&&ut(r,e)?(r[e]=n,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:s,type:o}},a){let l;return!!(n[a]||t!==bt&&a[0]!=="$"&&ut(t,a)||bu(e,a)||ut(s,a)||ut(r,a)||ut(Co,a)||ut(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function vm(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ku=!0;function KS(t){const e=eb(t),n=t.proxy,r=t.ctx;Ku=!1,e.beforeCreate&&wm(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:p,activated:_,deactivated:b,beforeDestroy:E,beforeUnmount:y,destroyed:v,unmounted:A,render:w,renderTracked:x,renderTriggered:I,errorCaptured:R,serverPrefetch:W,expose:H,inheritAttrs:Q,components:M,directives:Z,filters:ee}=e;if(c&&YS(c,r,null),o)for(const ie in o){const ne=o[ie];Qe(ne)&&(r[ie]=ne.bind(n))}if(i){const ie=i.call(n,n);vt(ie)&&(t.data=ra(ie))}if(Ku=!0,s)for(const ie in s){const ne=s[ie],ye=Qe(ne)?ne.bind(n,n):Qe(ne.get)?ne.get.bind(n,n):_r,te=!Qe(ne)&&Qe(ne.set)?ne.set.bind(n):_r,q=qn({get:ye,set:te});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>q.value,set:G=>q.value=G})}if(a)for(const ie in a)Zy(a[ie],r,n,ie);if(l){const ie=Qe(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(ne=>{$a(ne,ie[ne])})}u&&wm(u,t,"c");function be(ie,ne){qe(ne)?ne.forEach(ye=>ie(ye.bind(n))):ne&&ie(ne.bind(n))}if(be(LS,h),be(sa,f),be(FS,g),be(jS,p),be(NS,_),be(MS,b),be(HS,R),be($S,x),be(WS,I),be(BS,y),be(Xy,A),be(US,W),qe(H))if(H.length){const ie=t.exposed||(t.exposed={});H.forEach(ne=>{Object.defineProperty(ie,ne,{get:()=>n[ne],set:ye=>n[ne]=ye,enumerable:!0})})}else t.exposed||(t.exposed={});w&&t.render===_r&&(t.render=w),Q!=null&&(t.inheritAttrs=Q),M&&(t.components=M),Z&&(t.directives=Z),W&&Yy(t)}function YS(t,e,n=_r){qe(t)&&(t=Yu(t));for(const r in t){const i=t[r];let s;vt(i)?"default"in i?s=nr(i.from||r,i.default,!0):s=nr(i.from||r):s=nr(i),Ft(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function wm(t,e,n){br(qe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Zy(t,e,n,r){let i=r.includes(".")?zy(n,r):()=>n[r];if(Ut(t)){const s=e[t];Qe(s)&&wo(i,s)}else if(Qe(t))wo(i,t.bind(n));else if(vt(t))if(qe(t))t.forEach(s=>Zy(s,e,n,r));else{const s=Qe(t.handler)?t.handler.bind(n):e[t.handler];Qe(s)&&wo(i,s,t)}}function eb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Al(l,c,o,!0)),Al(l,e,o)),vt(e)&&s.set(e,l),l}function Al(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Al(t,s,n,!0),i&&i.forEach(o=>Al(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=QS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const QS={data:Em,props:Sm,emits:Sm,methods:fo,computed:fo,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:fo,directives:fo,watch:XS,provide:Em,inject:JS};function Em(t,e){return e?t?function(){return an(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function JS(t,e){return fo(Yu(t),Yu(e))}function Yu(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hn(t,e){return t?[...new Set([].concat(t,e))]:e}function fo(t,e){return t?an(Object.create(null),t,e):e}function Sm(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:an(Object.create(null),vm(t),vm(e??{})):e}function XS(t,e){if(!t)return e;if(!e)return t;const n=an(Object.create(null),t);for(const r in e)n[r]=hn(t[r],e[r]);return n}function tb(){return{app:null,config:{isNativeTag:dy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZS=0;function eC(t,e){return function(r,i=null){Qe(r)||(r=an({},r)),i!=null&&!vt(i)&&(i=null);const s=tb(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:ZS++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:NC,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&Qe(u.install)?(o.add(u),u.install(c,...h)):Qe(u)&&(o.add(u),u(c,...h))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,h){return h?(s.components[u]=h,c):s.components[u]},directive(u,h){return h?(s.directives[u]=h,c):s.directives[u]},mount(u,h,f){if(!l){const g=c._ceVNode||Pt(r,i);return g.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),t(g,u,f),l=!0,c._container=u,u.__vue_app__=c,fc(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(br(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return s.provides[u]=h,c},runWithContext(u){const h=qi;qi=c;try{return u()}finally{qi=h}}};return c}}let qi=null;const tC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${zn(e)}Modifiers`]||t[`${Xi(e)}Modifiers`];function nC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||bt;let i=n;const s=e.startsWith("update:"),o=s&&tC(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ut(u)?u.trim():u)),o.number&&(i=n.map(nc)));let a,l=r[a=pu(e)]||r[a=pu(zn(e))];!l&&s&&(l=r[a=pu(Xi(e))]),l&&br(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,br(c,t,6,i)}}const rC=new WeakMap;function nb(t,e,n=!1){const r=n?rC:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Qe(t)){const l=c=>{const u=nb(c,e,!0);u&&(a=!0,an(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(vt(t)&&r.set(t,null),null):(qe(s)?s.forEach(l=>o[l]=null):an(o,s),vt(t)&&r.set(t,o),o)}function uc(t,e){return!t||!Jl(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,Xi(e))||ut(t,e))}function Cm(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:g,ctx:p,inheritAttrs:_}=t,b=Sl(t);let E,y;try{if(n.shapeFlag&4){const A=i||r,w=A;E=pr(c.call(w,A,u,h,g,f,p)),y=a}else{const A=e;E=pr(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),y=e.props?a:iC(a)}}catch(A){Ao.length=0,ac(A,t,1),E=Pt(Ns)}let v=E;if(y&&_!==!1){const A=Object.keys(y),{shapeFlag:w}=v;A.length&&w&7&&(s&&A.some(Ad)&&(y=sC(y,s)),v=Ms(v,y,!1,!0))}return n.dirs&&(v=Ms(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Ld(v,n.transition),E=v,Sl(b),E}const iC=t=>{let e;for(const n in t)(n==="class"||n==="style"||Jl(n))&&((e||(e={}))[n]=t[n]);return e},sC=(t,e)=>{const n={};for(const r in t)(!Ad(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function oC(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Am(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!uc(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Am(r,o,c):!0:!!o;return!1}function Am(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!uc(n,s))return!0}return!1}function aC({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const rb={},ib=()=>Object.create(rb),sb=t=>Object.getPrototypeOf(t)===rb;function lC(t,e,n,r=!1){const i={},s=ib();t.propsDefaults=Object.create(null),ob(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:jy(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function cC(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=ot(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(uc(t.emitsOptions,f))continue;const g=e[f];if(l)if(ut(s,f))g!==s[f]&&(s[f]=g,c=!0);else{const p=zn(f);i[p]=Qu(l,a,p,g,t,!1)}else g!==s[f]&&(s[f]=g,c=!0)}}}else{ob(t,e,i,s)&&(c=!0);let u;for(const h in a)(!e||!ut(e,h)&&((u=Xi(h))===h||!ut(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Qu(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!ut(e,h))&&(delete s[h],c=!0)}c&&Rr(t.attrs,"set","")}function ob(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yo(l))continue;const c=e[l];let u;i&&ut(i,u=zn(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:uc(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=ot(n),c=a||bt;for(let u=0;u<s.length;u++){const h=s[u];n[h]=Qu(i,l,h,c[h],t,!ut(c,h))}}return o}function Qu(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ut(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Qe(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=oa(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Xi(n))&&(r=!0))}return r}const uC=new WeakMap;function ab(t,e,n=!1){const r=n?uC:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Qe(t)){const u=h=>{l=!0;const[f,g]=ab(h,e,!0);an(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return vt(t)&&r.set(t,As),As;if(qe(s))for(let u=0;u<s.length;u++){const h=zn(s[u]);Im(h)&&(o[h]=bt)}else if(s)for(const u in s){const h=zn(u);if(Im(h)){const f=s[u],g=o[h]=qe(f)||Qe(f)?{type:f}:an({},f),p=g.type;let _=!1,b=!0;if(qe(p))for(let E=0;E<p.length;++E){const y=p[E],v=Qe(y)&&y.name;if(v==="Boolean"){_=!0;break}else v==="String"&&(b=!1)}else _=Qe(p)&&p.name==="Boolean";g[0]=_,g[1]=b,(_||ut(g,"default"))&&a.push(h)}}const c=[o,a];return vt(t)&&r.set(t,c),c}function Im(t){return t[0]!=="$"&&!yo(t)}const Fd=t=>t==="_"||t==="_ctx"||t==="$stable",jd=t=>qe(t)?t.map(pr):[pr(t)],hC=(t,e,n)=>{if(e._n)return e;const r=ci((...i)=>jd(e(...i)),n);return r._c=!1,r},lb=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Fd(i))continue;const s=t[i];if(Qe(s))e[i]=hC(i,s,r);else if(s!=null){const o=jd(s);e[i]=()=>o}}},cb=(t,e)=>{const n=jd(e);t.slots.default=()=>n},ub=(t,e,n)=>{for(const r in e)(n||!Fd(r))&&(t[r]=e[r])},fC=(t,e,n)=>{const r=t.slots=ib();if(t.vnode.shapeFlag&32){const i=e._;i?(ub(r,e,n),n&&_y(r,"_",i,!0)):lb(e,r)}else e&&cb(t,e)},dC=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=bt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ub(i,e,n):(s=!e.$stable,lb(e,i)),o=e}else e&&(cb(t,e),o={default:1});if(s)for(const a in i)!Fd(a)&&o[a]==null&&delete i[a]},On=yC;function pC(t){return gC(t)}function gC(t,e){const n=rc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=_r,insertStaticContent:p}=t,_=(T,N,B,P=null,D=null,V=null,oe=void 0,se=null,le=!!N.dynamicChildren)=>{if(T===N)return;T&&!so(T,N)&&(P=F(T),G(T,D,V,!0),T=null),N.patchFlag===-2&&(le=!1,N.dynamicChildren=null);const{type:U,ref:me,shapeFlag:_e}=N;switch(U){case hc:b(T,N,B,P);break;case Ns:E(T,N,B,P);break;case Ha:T==null&&y(N,B,P,oe);break;case gn:M(T,N,B,P,D,V,oe,se,le);break;default:_e&1?w(T,N,B,P,D,V,oe,se,le):_e&6?Z(T,N,B,P,D,V,oe,se,le):(_e&64||_e&128)&&U.process(T,N,B,P,D,V,oe,se,le,K)}me!=null&&D?Eo(me,T&&T.ref,V,N||T,!N):me==null&&T&&T.ref!=null&&Eo(T.ref,null,V,T,!0)},b=(T,N,B,P)=>{if(T==null)r(N.el=a(N.children),B,P);else{const D=N.el=T.el;N.children!==T.children&&c(D,N.children)}},E=(T,N,B,P)=>{T==null?r(N.el=l(N.children||""),B,P):N.el=T.el},y=(T,N,B,P)=>{[T.el,T.anchor]=p(T.children,N,B,P,T.el,T.anchor)},v=({el:T,anchor:N},B,P)=>{let D;for(;T&&T!==N;)D=f(T),r(T,B,P),T=D;r(N,B,P)},A=({el:T,anchor:N})=>{let B;for(;T&&T!==N;)B=f(T),i(T),T=B;i(N)},w=(T,N,B,P,D,V,oe,se,le)=>{if(N.type==="svg"?oe="svg":N.type==="math"&&(oe="mathml"),T==null)x(N,B,P,D,V,oe,se,le);else{const U=T.el&&T.el._isVueCE?T.el:null;try{U&&U._beginPatch(),W(T,N,D,V,oe,se,le)}finally{U&&U._endPatch()}}},x=(T,N,B,P,D,V,oe,se)=>{let le,U;const{props:me,shapeFlag:_e,transition:he,dirs:Re}=T;if(le=T.el=o(T.type,V,me&&me.is,me),_e&8?u(le,T.children):_e&16&&R(T.children,le,null,P,D,vu(T,V),oe,se),Re&&Mi(T,null,P,"created"),I(le,T,T.scopeId,oe,P),me){for(const S in me)S!=="value"&&!yo(S)&&s(le,S,null,me[S],V,P);"value"in me&&s(le,"value",null,me.value,V),(U=me.onVnodeBeforeMount)&&fr(U,P,T)}Re&&Mi(T,null,P,"beforeMount");const m=mC(D,he);m&&he.beforeEnter(le),r(le,N,B),((U=me&&me.onVnodeMounted)||m||Re)&&On(()=>{U&&fr(U,P,T),m&&he.enter(le),Re&&Mi(T,null,P,"mounted")},D)},I=(T,N,B,P,D)=>{if(B&&g(T,B),P)for(let V=0;V<P.length;V++)g(T,P[V]);if(D){let V=D.subTree;if(N===V||pb(V.type)&&(V.ssContent===N||V.ssFallback===N)){const oe=D.vnode;I(T,oe,oe.scopeId,oe.slotScopeIds,D.parent)}}},R=(T,N,B,P,D,V,oe,se,le=0)=>{for(let U=le;U<T.length;U++){const me=T[U]=se?ai(T[U]):pr(T[U]);_(null,me,N,B,P,D,V,oe,se)}},W=(T,N,B,P,D,V,oe)=>{const se=N.el=T.el;let{patchFlag:le,dynamicChildren:U,dirs:me}=N;le|=T.patchFlag&16;const _e=T.props||bt,he=N.props||bt;let Re;if(B&&Di(B,!1),(Re=he.onVnodeBeforeUpdate)&&fr(Re,B,N,T),me&&Mi(N,T,B,"beforeUpdate"),B&&Di(B,!0),(_e.innerHTML&&he.innerHTML==null||_e.textContent&&he.textContent==null)&&u(se,""),U?H(T.dynamicChildren,U,se,B,P,vu(N,D),V):oe||ne(T,N,se,null,B,P,vu(N,D),V,!1),le>0){if(le&16)Q(se,_e,he,B,D);else if(le&2&&_e.class!==he.class&&s(se,"class",null,he.class,D),le&4&&s(se,"style",_e.style,he.style,D),le&8){const m=N.dynamicProps;for(let S=0;S<m.length;S++){const k=m[S],J=_e[k],ce=he[k];(ce!==J||k==="value")&&s(se,k,J,ce,D,B)}}le&1&&T.children!==N.children&&u(se,N.children)}else!oe&&U==null&&Q(se,_e,he,B,D);((Re=he.onVnodeUpdated)||me)&&On(()=>{Re&&fr(Re,B,N,T),me&&Mi(N,T,B,"updated")},P)},H=(T,N,B,P,D,V,oe)=>{for(let se=0;se<N.length;se++){const le=T[se],U=N[se],me=le.el&&(le.type===gn||!so(le,U)||le.shapeFlag&198)?h(le.el):B;_(le,U,me,null,P,D,V,oe,!0)}},Q=(T,N,B,P,D)=>{if(N!==B){if(N!==bt)for(const V in N)!yo(V)&&!(V in B)&&s(T,V,N[V],null,D,P);for(const V in B){if(yo(V))continue;const oe=B[V],se=N[V];oe!==se&&V!=="value"&&s(T,V,se,oe,D,P)}"value"in B&&s(T,"value",N.value,B.value,D)}},M=(T,N,B,P,D,V,oe,se,le)=>{const U=N.el=T?T.el:a(""),me=N.anchor=T?T.anchor:a("");let{patchFlag:_e,dynamicChildren:he,slotScopeIds:Re}=N;Re&&(se=se?se.concat(Re):Re),T==null?(r(U,B,P),r(me,B,P),R(N.children||[],B,me,D,V,oe,se,le)):_e>0&&_e&64&&he&&T.dynamicChildren&&T.dynamicChildren.length===he.length?(H(T.dynamicChildren,he,B,D,V,oe,se),(N.key!=null||D&&N===D.subTree)&&hb(T,N,!0)):ne(T,N,B,me,D,V,oe,se,le)},Z=(T,N,B,P,D,V,oe,se,le)=>{N.slotScopeIds=se,T==null?N.shapeFlag&512?D.ctx.activate(N,B,P,oe,le):ee(N,B,P,D,V,oe,le):X(T,N,le)},ee=(T,N,B,P,D,V,oe)=>{const se=T.component=IC(T,P,D);if(Qy(T)&&(se.ctx.renderer=K),xC(se,!1,oe),se.asyncDep){if(D&&D.registerDep(se,be,oe),!T.el){const le=se.subTree=Pt(Ns);E(null,le,N,B),T.placeholder=le.el}}else be(se,T,N,B,D,V,oe)},X=(T,N,B)=>{const P=N.component=T.component;if(oC(T,N,B))if(P.asyncDep&&!P.asyncResolved){ie(P,N,B);return}else P.next=N,P.update();else N.el=T.el,P.vnode=N},be=(T,N,B,P,D,V,oe)=>{const se=()=>{if(T.isMounted){let{next:_e,bu:he,u:Re,parent:m,vnode:S}=T;{const ke=fb(T);if(ke){_e&&(_e.el=S.el,ie(T,_e,oe)),ke.asyncDep.then(()=>{T.isUnmounted||se()});return}}let k=_e,J;Di(T,!1),_e?(_e.el=S.el,ie(T,_e,oe)):_e=S,he&&Wa(he),(J=_e.props&&_e.props.onVnodeBeforeUpdate)&&fr(J,m,_e,S),Di(T,!0);const ce=Cm(T),we=T.subTree;T.subTree=ce,_(we,ce,h(we.el),F(we),T,D,V),_e.el=ce.el,k===null&&aC(T,ce.el),Re&&On(Re,D),(J=_e.props&&_e.props.onVnodeUpdated)&&On(()=>fr(J,m,_e,S),D)}else{let _e;const{el:he,props:Re}=N,{bm:m,m:S,parent:k,root:J,type:ce}=T,we=So(N);Di(T,!1),m&&Wa(m),!we&&(_e=Re&&Re.onVnodeBeforeMount)&&fr(_e,k,N),Di(T,!0);{J.ce&&J.ce._def.shadowRoot!==!1&&J.ce._injectChildStyle(ce);const ke=T.subTree=Cm(T);_(null,ke,B,P,T,D,V),N.el=ke.el}if(S&&On(S,D),!we&&(_e=Re&&Re.onVnodeMounted)){const ke=N;On(()=>fr(_e,k,ke),D)}(N.shapeFlag&256||k&&So(k.vnode)&&k.vnode.shapeFlag&256)&&T.a&&On(T.a,D),T.isMounted=!0,N=B=P=null}};T.scope.on();const le=T.effect=new Cy(se);T.scope.off();const U=T.update=le.run.bind(le),me=T.job=le.runIfDirty.bind(le);me.i=T,me.id=T.uid,le.scheduler=()=>Dd(me),Di(T,!0),U()},ie=(T,N,B)=>{N.component=T;const P=T.vnode.props;T.vnode=N,T.next=null,cC(T,N.props,P,B),dC(T,N.children,B),Fr(),_m(T),jr()},ne=(T,N,B,P,D,V,oe,se,le=!1)=>{const U=T&&T.children,me=T?T.shapeFlag:0,_e=N.children,{patchFlag:he,shapeFlag:Re}=N;if(he>0){if(he&128){te(U,_e,B,P,D,V,oe,se,le);return}else if(he&256){ye(U,_e,B,P,D,V,oe,se,le);return}}Re&8?(me&16&&Te(U,D,V),_e!==U&&u(B,_e)):me&16?Re&16?te(U,_e,B,P,D,V,oe,se,le):Te(U,D,V,!0):(me&8&&u(B,""),Re&16&&R(_e,B,P,D,V,oe,se,le))},ye=(T,N,B,P,D,V,oe,se,le)=>{T=T||As,N=N||As;const U=T.length,me=N.length,_e=Math.min(U,me);let he;for(he=0;he<_e;he++){const Re=N[he]=le?ai(N[he]):pr(N[he]);_(T[he],Re,B,null,D,V,oe,se,le)}U>me?Te(T,D,V,!0,!1,_e):R(N,B,P,D,V,oe,se,le,_e)},te=(T,N,B,P,D,V,oe,se,le)=>{let U=0;const me=N.length;let _e=T.length-1,he=me-1;for(;U<=_e&&U<=he;){const Re=T[U],m=N[U]=le?ai(N[U]):pr(N[U]);if(so(Re,m))_(Re,m,B,null,D,V,oe,se,le);else break;U++}for(;U<=_e&&U<=he;){const Re=T[_e],m=N[he]=le?ai(N[he]):pr(N[he]);if(so(Re,m))_(Re,m,B,null,D,V,oe,se,le);else break;_e--,he--}if(U>_e){if(U<=he){const Re=he+1,m=Re<me?N[Re].el:P;for(;U<=he;)_(null,N[U]=le?ai(N[U]):pr(N[U]),B,m,D,V,oe,se,le),U++}}else if(U>he)for(;U<=_e;)G(T[U],D,V,!0),U++;else{const Re=U,m=U,S=new Map;for(U=m;U<=he;U++){const Le=N[U]=le?ai(N[U]):pr(N[U]);Le.key!=null&&S.set(Le.key,U)}let k,J=0;const ce=he-m+1;let we=!1,ke=0;const ae=new Array(ce);for(U=0;U<ce;U++)ae[U]=0;for(U=Re;U<=_e;U++){const Le=T[U];if(J>=ce){G(Le,D,V,!0);continue}let je;if(Le.key!=null)je=S.get(Le.key);else for(k=m;k<=he;k++)if(ae[k-m]===0&&so(Le,N[k])){je=k;break}je===void 0?G(Le,D,V,!0):(ae[je-m]=U+1,je>=ke?ke=je:we=!0,_(Le,N[je],B,null,D,V,oe,se,le),J++)}const ve=we?_C(ae):As;for(k=ve.length-1,U=ce-1;U>=0;U--){const Le=m+U,je=N[Le],$e=N[Le+1],ze=Le+1<me?$e.el||db($e):P;ae[U]===0?_(null,je,B,ze,D,V,oe,se,le):we&&(k<0||U!==ve[k]?q(je,B,ze,2):k--)}}},q=(T,N,B,P,D=null)=>{const{el:V,type:oe,transition:se,children:le,shapeFlag:U}=T;if(U&6){q(T.component.subTree,N,B,P);return}if(U&128){T.suspense.move(N,B,P);return}if(U&64){oe.move(T,N,B,K);return}if(oe===gn){r(V,N,B);for(let _e=0;_e<le.length;_e++)q(le[_e],N,B,P);r(T.anchor,N,B);return}if(oe===Ha){v(T,N,B);return}if(P!==2&&U&1&&se)if(P===0)se.beforeEnter(V),r(V,N,B),On(()=>se.enter(V),D);else{const{leave:_e,delayLeave:he,afterLeave:Re}=se,m=()=>{T.ctx.isUnmounted?i(V):r(V,N,B)},S=()=>{V._isLeaving&&V[RS](!0),_e(V,()=>{m(),Re&&Re()})};he?he(V,m,S):S()}else r(V,N,B)},G=(T,N,B,P=!1,D=!1)=>{const{type:V,props:oe,ref:se,children:le,dynamicChildren:U,shapeFlag:me,patchFlag:_e,dirs:he,cacheIndex:Re}=T;if(_e===-2&&(D=!1),se!=null&&(Fr(),Eo(se,null,B,T,!0),jr()),Re!=null&&(N.renderCache[Re]=void 0),me&256){N.ctx.deactivate(T);return}const m=me&1&&he,S=!So(T);let k;if(S&&(k=oe&&oe.onVnodeBeforeUnmount)&&fr(k,N,T),me&6)ge(T.component,B,P);else{if(me&128){T.suspense.unmount(B,P);return}m&&Mi(T,null,N,"beforeUnmount"),me&64?T.type.remove(T,N,B,K,P):U&&!U.hasOnce&&(V!==gn||_e>0&&_e&64)?Te(U,N,B,!1,!0):(V===gn&&_e&384||!D&&me&16)&&Te(le,N,B),P&&fe(T)}(S&&(k=oe&&oe.onVnodeUnmounted)||m)&&On(()=>{k&&fr(k,N,T),m&&Mi(T,null,N,"unmounted")},B)},fe=T=>{const{type:N,el:B,anchor:P,transition:D}=T;if(N===gn){Ie(B,P);return}if(N===Ha){A(T);return}const V=()=>{i(B),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(T.shapeFlag&1&&D&&!D.persisted){const{leave:oe,delayLeave:se}=D,le=()=>oe(B,V);se?se(T.el,V,le):le()}else V()},Ie=(T,N)=>{let B;for(;T!==N;)B=f(T),i(T),T=B;i(N)},ge=(T,N,B)=>{const{bum:P,scope:D,job:V,subTree:oe,um:se,m:le,a:U}=T;xm(le),xm(U),P&&Wa(P),D.stop(),V&&(V.flags|=8,G(oe,T,N,B)),se&&On(se,N),On(()=>{T.isUnmounted=!0},N)},Te=(T,N,B,P=!1,D=!1,V=0)=>{for(let oe=V;oe<T.length;oe++)G(T[oe],N,B,P,D)},F=T=>{if(T.shapeFlag&6)return F(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const N=f(T.anchor||T.el),B=N&&N[OS];return B?f(B):N};let j=!1;const z=(T,N,B)=>{let P;T==null?N._vnode&&(G(N._vnode,null,null,!0),P=N._vnode.component):_(N._vnode||null,T,N,null,null,null,B),N._vnode=T,j||(j=!0,_m(P),Hy(),j=!1)},K={p:_,um:G,m:q,r:fe,mt:ee,mc:R,pc:ne,pbc:H,n:F,o:t};return{render:z,hydrate:void 0,createApp:eC(z)}}function vu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Di({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function mC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function hb(t,e,n=!1){const r=t.children,i=e.children;if(qe(r)&&qe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ai(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&hb(o,a)),a.type===hc&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=s+(t.type===gn?1:0)),a.type===Ns&&!a.el&&(a.el=o.el)}}function _C(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function fb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fb(e)}function xm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function db(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?db(e.subTree):null}const pb=t=>t.__isSuspense;function yC(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):AS(t)}const gn=Symbol.for("v-fgt"),hc=Symbol.for("v-txt"),Ns=Symbol.for("v-cmt"),Ha=Symbol.for("v-stc"),Ao=[];let Nn=null;function vn(t=!1){Ao.push(Nn=t?null:[])}function bC(){Ao.pop(),Nn=Ao[Ao.length-1]||null}let Wo=1;function Il(t,e=!1){Wo+=t,t<0&&Nn&&e&&(Nn.hasOnce=!0)}function gb(t){return t.dynamicChildren=Wo>0?Nn||As:null,bC(),Wo>0&&Nn&&Nn.push(t),t}function Pn(t,e,n,r,i,s){return gb(ue(t,e,n,r,i,s,!0))}function vC(t,e,n,r,i){return gb(Pt(t,e,n,r,i,!0))}function xl(t){return t?t.__v_isVNode===!0:!1}function so(t,e){return t.type===e.type&&t.key===e.key}const mb=({key:t})=>t??null,Va=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ut(t)||Ft(t)||Qe(t)?{i:Rn,r:t,k:e,f:!!n}:t:null);function ue(t,e=null,n=null,r=0,i=null,s=t===gn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mb(e),ref:e&&Va(e),scopeId:qy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Rn};return a?(Ud(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Ut(n)?8:16),Wo>0&&!o&&Nn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Nn.push(l),l}const Pt=wC;function wC(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===qS)&&(t=Ns),xl(t)){const a=Ms(t,e,!0);return n&&Ud(a,n),Wo>0&&!s&&Nn&&(a.shapeFlag&6?Nn[Nn.indexOf(t)]=a:Nn.push(a)),a.patchFlag=-2,a}if(RC(t)&&(t=t.__vccOpts),e){e=EC(e);let{class:a,style:l}=e;a&&!Ut(a)&&(e.class=xd(a)),vt(l)&&(oc(l)&&!qe(l)&&(l=an({},l)),e.style=Lo(l))}const o=Ut(t)?1:pb(t)?128:PS(t)?64:vt(t)?4:Qe(t)?2:0;return ue(t,e,n,r,i,o,s,!0)}function EC(t){return t?oc(t)||sb(t)?an({},t):t:null}function Ms(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?SC(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&mb(c),ref:e&&e.ref?n&&s?qe(s)?s.concat(Va(e)):[s,Va(e)]:Va(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==gn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ms(t.ssContent),ssFallback:t.ssFallback&&Ms(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ld(u,l.clone(u)),u}function Ot(t=" ",e=0){return Pt(hc,null,t,e)}function Bd(t,e){const n=Pt(Ha,null,t);return n.staticCount=e,n}function pr(t){return t==null||typeof t=="boolean"?Pt(Ns):qe(t)?Pt(gn,null,t.slice()):xl(t)?ai(t):Pt(hc,null,String(t))}function ai(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ms(t)}function Ud(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ud(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!sb(e)?e._ctx=Rn:i===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Rn},n=32):(e=String(e),r&64?(n=16,e=[Ot(e)]):n=8);t.children=e,t.shapeFlag|=n}function SC(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=xd([e.class,r.class]));else if(i==="style")e.style=Lo([e.style,r.style]);else if(Jl(i)){const s=e[i],o=r[i];o&&s!==o&&!(qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function fr(t,e,n,r=null){br(t,e,7,[n,r])}const CC=tb();let AC=0;function IC(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||CC,s={uid:AC++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ab(r,i),emitsOptions:nb(r,i),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:r.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=nC.bind(null,s),t.ce&&t.ce(s),s}let on=null;const _b=()=>on||Rn;let Tl,Ju;{const t=rc(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Tl=e("__VUE_INSTANCE_SETTERS__",n=>on=n),Ju=e("__VUE_SSR_SETTERS__",n=>$o=n)}const oa=t=>{const e=on;return Tl(t),t.scope.on(),()=>{t.scope.off(),Tl(e)}},Tm=()=>{on&&on.scope.off(),Tl(null)};function yb(t){return t.vnode.shapeFlag&4}let $o=!1;function xC(t,e=!1,n=!1){e&&Ju(e);const{props:r,children:i}=t.vnode,s=yb(t);lC(t,r,s,e),fC(t,i,n||e);const o=s?TC(t,e):void 0;return e&&Ju(!1),o}function TC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zS);const{setup:r}=n;if(r){Fr();const i=t.setupContext=r.length>1?OC(t):null,s=oa(t),o=ia(r,t,0,[t.props,i]),a=py(o);if(jr(),s(),(a||t.sp)&&!So(t)&&Yy(t),a){if(o.then(Tm,Tm),e)return o.then(l=>{km(t,l)}).catch(l=>{ac(l,t,0)});t.asyncDep=o}else km(t,o)}else bb(t)}function km(t,e,n){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vt(e)&&(t.setupState=Uy(e)),bb(t)}function bb(t,e,n){const r=t.type;t.render||(t.render=r.render||_r);{const i=oa(t);Fr();try{KS(t)}finally{jr(),i()}}}const kC={get(t,e){return sn(t,"get",""),t[e]}};function OC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,kC),slots:t.slots,emit:t.emit,expose:e}}function fc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Uy(Md(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Co)return Co[n](t)},has(e,n){return n in e||n in Co}})):t.proxy}function PC(t,e=!0){return Qe(t)?t.displayName||t.name:t.name||e&&t.__name}function RC(t){return Qe(t)&&"__vccOpts"in t}const qn=(t,e)=>vS(t,e,$o);function vb(t,e,n){try{Il(-1);const r=arguments.length;return r===2?vt(e)&&!qe(e)?xl(e)?Pt(t,null,[e]):Pt(t,e):Pt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xl(n)&&(n=[n]),Pt(t,e,n))}finally{Il(1)}}const NC="3.5.26";let Xu;const Om=typeof window<"u"&&window.trustedTypes;if(Om)try{Xu=Om.createPolicy("vue",{createHTML:t=>t})}catch{}const wb=Xu?t=>Xu.createHTML(t):t=>t,MC="http://www.w3.org/2000/svg",DC="http://www.w3.org/1998/Math/MathML",kr=typeof document<"u"?document:null,Pm=kr&&kr.createElement("template"),LC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?kr.createElementNS(MC,t):e==="mathml"?kr.createElementNS(DC,t):n?kr.createElement(t,{is:n}):kr.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>kr.createTextNode(t),createComment:t=>kr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Pm.innerHTML=wb(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Pm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},FC=Symbol("_vtc");function jC(t,e,n){const r=t[FC];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Rm=Symbol("_vod"),BC=Symbol("_vsh"),UC=Symbol(""),WC=/(?:^|;)\s*display\s*:/;function $C(t,e,n){const r=t.style,i=Ut(n);let s=!1;if(n&&!i){if(e)if(Ut(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&qa(r,a,"")}else for(const o in e)n[o]==null&&qa(r,o,"");for(const o in n)o==="display"&&(s=!0),qa(r,o,n[o])}else if(i){if(e!==n){const o=r[UC];o&&(n+=";"+o),r.cssText=n,s=WC.test(n)}}else e&&t.removeAttribute("style");Rm in t&&(t[Rm]=s?r.display:"",t[BC]&&(r.display="none"))}const Nm=/\s*!important$/;function qa(t,e,n){if(qe(n))n.forEach(r=>qa(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=HC(t,e);Nm.test(n)?t.setProperty(Xi(r),n.replace(Nm,""),"important"):t[r]=n}}const Mm=["Webkit","Moz","ms"],wu={};function HC(t,e){const n=wu[e];if(n)return n;let r=zn(e);if(r!=="filter"&&r in t)return wu[e]=r;r=tc(r);for(let i=0;i<Mm.length;i++){const s=Mm[i]+r;if(s in t)return wu[e]=s}return e}const Dm="http://www.w3.org/1999/xlink";function Lm(t,e,n,r,i,s=VE(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Dm,e.slice(6,e.length)):t.setAttributeNS(Dm,e,n):n==null||s&&!yy(n)?t.removeAttribute(e):t.setAttribute(e,s?"":yr(n)?String(n):n)}function Fm(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?wb(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=yy(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Bi(t,e,n,r){t.addEventListener(e,n,r)}function VC(t,e,n,r){t.removeEventListener(e,n,r)}const jm=Symbol("_vei");function qC(t,e,n,r,i=null){const s=t[jm]||(t[jm]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=GC(e);if(r){const c=s[e]=YC(r,i);Bi(t,a,c,l)}else o&&(VC(t,a,o,l),s[e]=void 0)}}const Bm=/(?:Once|Passive|Capture)$/;function GC(t){let e;if(Bm.test(t)){e={};let r;for(;r=t.match(Bm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xi(t.slice(2)),e]}let Eu=0;const zC=Promise.resolve(),KC=()=>Eu||(zC.then(()=>Eu=0),Eu=Date.now());function YC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;br(QC(r,n.value),e,5,[r])};return n.value=t,n.attached=KC(),n}function QC(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Um=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,JC=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?jC(t,r,o):e==="style"?$C(t,n,r):Jl(e)?Ad(e)||qC(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):XC(t,e,r,o))?(Fm(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Lm(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ut(r))?Fm(t,zn(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Lm(t,e,r,o))};function XC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Um(e)&&Qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Um(e)&&Ut(n)?!1:e in t}const kl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>Wa(e,n):e};function ZC(t){t.target.composing=!0}function Wm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ts=Symbol("_assign");function $m(t,e,n){return e&&(t=t.trim()),n&&(t=nc(t)),t}const Mn={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ts]=kl(i);const s=r||i.props&&i.props.type==="number";Bi(t,e?"change":"input",o=>{o.target.composing||t[Ts]($m(t.value,n,s))}),(n||s)&&Bi(t,"change",()=>{t.value=$m(t.value,n,s)}),e||(Bi(t,"compositionstart",ZC),Bi(t,"compositionend",Wm),Bi(t,"change",Wm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Ts]=kl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?nc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Hm={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Xl(e);Bi(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?nc(Ol(o)):Ol(o));t[Ts](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,lc(()=>{t._assigning=!1})}),t[Ts]=kl(r)},mounted(t,{value:e}){Vm(t,e)},beforeUpdate(t,e,n){t[Ts]=kl(n)},updated(t,{value:e}){t._assigning||Vm(t,e)}};function Vm(t,e){const n=t.multiple,r=qe(e);if(!(n&&!r&&!Xl(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Ol(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=GE(e,a)>-1}else o.selected=e.has(a);else if(ic(Ol(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ol(t){return"_value"in t?t._value:t.value}const eA=["ctrl","shift","alt","meta"],tA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>eA.some(n=>t[`${n}Key`]&&!e.includes(n))},dc=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=tA[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},nA=an({patchProp:JC},LC);let qm;function rA(){return qm||(qm=pC(nA))}const iA=((...t)=>{const e=rA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=oA(r);if(!i)return;const s=e._component;!Qe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,sA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function sA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function oA(t){return Ut(t)?document.querySelector(t):t}let Eb;const pc=t=>Eb=t,Sb=Symbol();function Zu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Io;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Io||(Io={}));function aA(){const t=Ey(!0),e=t.run(()=>nt({}));let n=[],r=[];const i=Md({install(s){pc(i),i._a=s,s.provide(Sb,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Cb=()=>{};function Gm(t,e,n,r=Cb){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&Sy()&&zE(i),i}function _s(t,...e){t.forEach(n=>{n(...e)})}const lA=t=>t(),zm=Symbol(),Su=Symbol();function eh(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Zu(i)&&Zu(r)&&t.hasOwnProperty(n)&&!Ft(r)&&!Dr(r)?t[n]=eh(i,r):t[n]=r}return t}const cA=Symbol();function uA(t){return!Zu(t)||!Object.prototype.hasOwnProperty.call(t,cA)}const{assign:ti}=Object;function hA(t){return!!(Ft(t)&&t.effect)}function fA(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=mS(n.state.value[t]);return ti(u,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=Md(qn(()=>{pc(n);const g=n._s.get(t);return o[f].call(g,g)})),h),{}))}return l=Ab(t,c,e,n,r,!0),l}function Ab(t,e,n={},r,i,s){let o;const a=ti({actions:{}},n),l={deep:!0};let c,u,h=new Set,f=new Set,g;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),nt({});let _;function b(R){let W;c=u=!1,typeof R=="function"?(R(r.state.value[t]),W={type:Io.patchFunction,storeId:t,events:g}):(eh(r.state.value[t],R),W={type:Io.patchObject,payload:R,storeId:t,events:g});const H=_=Symbol();lc().then(()=>{_===H&&(c=!0)}),u=!0,_s(h,W,r.state.value[t])}const E=s?function(){const{state:W}=n,H=W?W():{};this.$patch(Q=>{ti(Q,H)})}:Cb;function y(){o.stop(),h.clear(),f.clear(),r._s.delete(t)}const v=(R,W="")=>{if(zm in R)return R[Su]=W,R;const H=function(){pc(r);const Q=Array.from(arguments),M=new Set,Z=new Set;function ee(ie){M.add(ie)}function X(ie){Z.add(ie)}_s(f,{args:Q,name:H[Su],store:w,after:ee,onError:X});let be;try{be=R.apply(this&&this.$id===t?this:w,Q)}catch(ie){throw _s(Z,ie),ie}return be instanceof Promise?be.then(ie=>(_s(M,ie),ie)).catch(ie=>(_s(Z,ie),Promise.reject(ie))):(_s(M,be),be)};return H[zm]=!0,H[Su]=W,H},A={_p:r,$id:t,$onAction:Gm.bind(null,f),$patch:b,$reset:E,$subscribe(R,W={}){const H=Gm(h,R,W.detached,()=>Q()),Q=o.run(()=>wo(()=>r.state.value[t],M=>{(W.flush==="sync"?u:c)&&R({storeId:t,type:Io.direct,events:g},M)},ti({},l,W)));return H},$dispose:y},w=ra(A);r._s.set(t,w);const I=(r._a&&r._a.runWithContext||lA)(()=>r._e.run(()=>(o=Ey()).run(()=>e({action:v}))));for(const R in I){const W=I[R];if(Ft(W)&&!hA(W)||Dr(W))s||(p&&uA(W)&&(Ft(W)?W.value=p[R]:eh(W,p[R])),r.state.value[t][R]=W);else if(typeof W=="function"){const H=v(W,R);I[R]=H,a.actions[R]=W}}return ti(w,I),ti(ot(w),I),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:R=>{b(W=>{ti(W,R)})}}),r._p.forEach(R=>{ti(w,o.run(()=>R({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),c=!0,u=!0,w}function aa(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=IS();return o=o||(l?nr(Sb,null):null),o&&pc(o),o=Eb,o._s.has(t)||(i?Ab(t,e,r,o):fA(t,r,o)),o._s.get(t)}return s.$id=t,s}const vs=typeof document<"u";function Ib(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ib(t.default)}const ct=Object.assign;function Cu(t,e){const n={};for(const r in e){const i=e[r];n[r]=sr(i)?i.map(t):t(i)}return n}const xo=()=>{},sr=Array.isArray;function Km(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const xb=/#/g,pA=/&/g,gA=/\//g,mA=/=/g,_A=/\?/g,Tb=/\+/g,yA=/%5B/g,bA=/%5D/g,kb=/%5E/g,vA=/%60/g,Ob=/%7B/g,wA=/%7C/g,Pb=/%7D/g,EA=/%20/g;function Wd(t){return t==null?"":encodeURI(""+t).replace(wA,"|").replace(yA,"[").replace(bA,"]")}function SA(t){return Wd(t).replace(Ob,"{").replace(Pb,"}").replace(kb,"^")}function th(t){return Wd(t).replace(Tb,"%2B").replace(EA,"+").replace(xb,"%23").replace(pA,"%26").replace(vA,"`").replace(Ob,"{").replace(Pb,"}").replace(kb,"^")}function CA(t){return th(t).replace(mA,"%3D")}function AA(t){return Wd(t).replace(xb,"%23").replace(_A,"%3F")}function IA(t){return AA(t).replace(gA,"%2F")}function Ho(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const xA=/\/$/,TA=t=>t.replace(xA,"");function Au(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=RA(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:Ho(o)}}function kA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ym(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function OA(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ds(e.matched[r],n.matched[i])&&Rb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ds(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Rb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!PA(t[n],e[n]))return!1;return!0}function PA(t,e){return sr(t)?Qm(t,e):sr(e)?Qm(e,t):t?.valueOf()===e?.valueOf()}function Qm(t,e){return sr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function RA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Zr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let nh=(function(t){return t.pop="pop",t.push="push",t})({}),Iu=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function NA(t){if(!t)if(vs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),TA(t)}const MA=/^[^#]+#/;function DA(t,e){return t.replace(MA,"#")+e}function LA(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const gc=()=>({left:window.scrollX,top:window.scrollY});function FA(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=LA(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Jm(t,e){return(history.state?history.state.position-e:-1)+t}const rh=new Map;function jA(t,e){rh.set(t,e)}function BA(t){const e=rh.get(t);return rh.delete(t),e}function UA(t){return typeof t=="string"||t&&typeof t=="object"}function Nb(t){return typeof t=="string"||typeof t=="symbol"}let Mt=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Mb=Symbol("");Mt.MATCHER_NOT_FOUND+"",Mt.NAVIGATION_GUARD_REDIRECT+"",Mt.NAVIGATION_ABORTED+"",Mt.NAVIGATION_CANCELLED+"",Mt.NAVIGATION_DUPLICATED+"";function Ls(t,e){return ct(new Error,{type:t,[Mb]:!0},e)}function Ir(t,e){return t instanceof Error&&Mb in t&&(e==null||!!(t.type&e))}const WA=["params","query","hash"];function $A(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of WA)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function HA(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Tb," "),s=i.indexOf("="),o=Ho(s<0?i:i.slice(0,s)),a=s<0?null:Ho(i.slice(s+1));if(o in e){let l=e[o];sr(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Xm(t){let e="";for(let n in t){const r=t[n];if(n=CA(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(sr(r)?r.map(i=>i&&th(i)):[r&&th(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function VA(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=sr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const qA=Symbol(""),Zm=Symbol(""),mc=Symbol(""),Db=Symbol(""),ih=Symbol("");function oo(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function li(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ls(Mt.NAVIGATION_ABORTED,{from:n,to:e})):f instanceof Error?l(f):UA(f)?l(Ls(Mt.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function xu(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ib(l)){const c=(l.__vccOpts||l)[e];c&&s.push(li(c,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=dA(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&li(f,n,r,o,a,i)()}))}}return s}function GA(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ds(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ds(c,l))||i.push(l))}return[n,r,i]}let zA=()=>location.protocol+"//"+location.host;function Lb(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Ym(a,"")}return Ym(n,t)+r+i}function KA(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const g=Lb(t,location),p=n.value,_=e.value;let b=0;if(f){if(n.value=g,e.value=f,o&&o===p){o=null;return}b=_?f.position-_.position:0}else r(g);i.forEach(E=>{E(n.value,p,{delta:b,type:nh.pop,direction:b?b>0?Iu.forward:Iu.back:Iu.unknown})})};function l(){o=n.value}function c(f){i.push(f);const g=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(g),g}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ct({},f.state,{scroll:gc()}),"")}}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function e0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?gc():null}}function YA(t){const{history:e,location:n}=window,r={value:Lb(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:zA()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){s(l,ct({},e.state,e0(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function a(l,c){const u=ct({},i.value,e.state,{forward:l,scroll:gc()});s(u.current,u,!0),s(l,ct({},e0(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function QA(t){t=NA(t);const e=YA(t),n=KA(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ct({location:"",base:t,go:r,createHref:DA.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function JA(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),QA(t)}let Ui=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Wt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Wt||{});const XA={type:Ui.Static,value:""},ZA=/[a-zA-Z0-9_]/;function e3(t){if(!t)return[[]];if(t==="/")return[[XA]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=Wt.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function h(){c&&(n===Wt.Static?s.push({type:Ui.Static,value:c}):n===Wt.Param||n===Wt.ParamRegExp||n===Wt.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:Ui.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==Wt.ParamRegExp){r=n,n=Wt.EscapeNext;continue}switch(n){case Wt.Static:l==="/"?(c&&h(),o()):l===":"?(h(),n=Wt.Param):f();break;case Wt.EscapeNext:f(),n=r;break;case Wt.Param:l==="("?n=Wt.ParamRegExp:ZA.test(l)?f():(h(),n=Wt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Wt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=Wt.ParamRegExpEnd:u+=l;break;case Wt.ParamRegExpEnd:h(),n=Wt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===Wt.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const t0="[^/]+?",t3={sensitive:!1,strict:!1,start:!0,end:!0};var fn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(fn||{});const n3=/[.+*?^${}()[\]/\\]/g;function r3(t,e){const n=ct({},t3,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[fn.Root];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=fn.Segment+(n.sensitive?fn.BonusCaseSensitive:0);if(f.type===Ui.Static)h||(i+="/"),i+=f.value.replace(n3,"\\$&"),g+=fn.Static;else if(f.type===Ui.Param){const{value:p,repeatable:_,optional:b,regexp:E}=f;s.push({name:p,repeatable:_,optional:b});const y=E||t0;if(y!==t0){g+=fn.BonusCustomRegExp;try{`${y}`}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+A.message)}}let v=_?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(v=b&&c.length<2?`(?:/${v})`:"/"+v),b&&(v+="?"),i+=v,g+=fn.Dynamic,b&&(g+=fn.BonusOptional),_&&(g+=fn.BonusRepeatable),y===".*"&&(g+=fn.BonusWildcard)}u.push(g)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=fn.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",p=s[f-1];h[p.name]=g&&p.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===Ui.Static)u+=g.value;else if(g.type===Ui.Param){const{value:p,repeatable:_,optional:b}=g,E=p in c?c[p]:"";if(sr(E)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=sr(E)?E.join("/"):E;if(!y)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function i3(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===fn.Static+fn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===fn.Static+fn.Segment?1:-1:0}function Fb(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=i3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(n0(r))return 1;if(n0(i))return-1}return i.length-r.length}function n0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const s3={strict:!1,end:!0,sensitive:!1};function o3(t,e,n){const r=r3(e3(t.path),n),i=ct(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function a3(t,e){const n=[],r=new Map;e=Km(s3,e);function i(h){return r.get(h)}function s(h,f,g){const p=!g,_=i0(h);_.aliasOf=g&&g.record;const b=Km(e,h),E=[_];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const w of A)E.push(i0(ct({},_,{components:g?g.record.components:_.components,path:w,aliasOf:g?g.record:_})))}let y,v;for(const A of E){const{path:w}=A;if(f&&w[0]!=="/"){const x=f.record.path,I=x[x.length-1]==="/"?"":"/";A.path=f.record.path+(w&&I+w)}if(y=o3(A,f,b),g?g.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),p&&h.name&&!s0(y)&&o(h.name)),jb(y)&&l(y),_.children){const x=_.children;for(let I=0;I<x.length;I++)s(x[I],y,g&&g.children[I])}g=g||y}return v?()=>{o(v)}:xo}function o(h){if(Nb(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=u3(h,n);n.splice(f,0,h),h.record.name&&!s0(h)&&r.set(h.record.name,h)}function c(h,f){let g,p={},_,b;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Ls(Mt.MATCHER_NOT_FOUND,{location:h});b=g.record.name,p=ct(r0(f.params,g.keys.filter(v=>!v.optional).concat(g.parent?g.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),h.params&&r0(h.params,g.keys.map(v=>v.name))),_=g.stringify(p)}else if(h.path!=null)_=h.path,g=n.find(v=>v.re.test(_)),g&&(p=g.parse(_),b=g.record.name);else{if(g=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!g)throw Ls(Mt.MATCHER_NOT_FOUND,{location:h,currentLocation:f});b=g.record.name,p=ct({},f.params,h.params),_=g.stringify(p)}const E=[];let y=g;for(;y;)E.unshift(y.record),y=y.parent;return{name:b,path:_,params:p,matched:E,meta:c3(E)}}t.forEach(h=>s(h));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function r0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function i0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:l3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function l3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function s0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function c3(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function u3(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;Fb(t,e[s])<0?r=s:n=s+1}const i=h3(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function h3(t){let e=t;for(;e=e.parent;)if(jb(e)&&Fb(t,e)===0)return e}function jb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function o0(t){const e=nr(mc),n=nr(Db),r=qn(()=>{const l=st(t.to);return e.resolve(l)}),i=qn(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ds.bind(null,u));if(f>-1)return f;const g=a0(l[c-2]);return c>1&&a0(u)===g&&h[h.length-1].path!==g?h.findIndex(Ds.bind(null,l[c-2])):f}),s=qn(()=>i.value>-1&&m3(n.params,r.value.params)),o=qn(()=>i.value>-1&&i.value===n.matched.length-1&&Rb(n.params,r.value.params));function a(l={}){if(g3(l)){const c=e[st(t.replace)?"replace":"push"](st(t.to)).catch(xo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:qn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function f3(t){return t.length===1?t[0]:t}const d3=Ky({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:o0,setup(t,{slots:e}){const n=ra(o0(t)),{options:r}=nr(mc),i=qn(()=>({[l0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[l0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&f3(e.default(n));return t.custom?s:vb("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),p3=d3;function g3(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function m3(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!sr(i)||i.length!==r.length||r.some((s,o)=>s.valueOf()!==i[o].valueOf()))return!1}return!0}function a0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const l0=(t,e,n)=>t??e??n,_3=Ky({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=nr(ih),i=qn(()=>t.route||r.value),s=nr(Zm,0),o=qn(()=>{let c=st(s);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=qn(()=>i.value.matched[o.value]);$a(Zm,qn(()=>o.value+1)),$a(qA,a),$a(ih,i);const l=nt();return wo(()=>[l.value,a.value,t.name],([c,u,h],[f,g,p])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Ds(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return c0(n.default,{Component:f,route:c});const g=h.props[u],p=g?g===!0?c.params:typeof g=="function"?g(c):g:null,b=vb(f,ct({},p,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return c0(n.default,{Component:b,route:c})||b}}});function c0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Bb=_3;function y3(t){const e=a3(t.routes,t),n=t.parseQuery||HA,r=t.stringifyQuery||Xm,i=t.history,s=oo(),o=oo(),a=oo(),l=dS(Zr);let c=Zr;vs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Cu.bind(null,F=>""+F),h=Cu.bind(null,IA),f=Cu.bind(null,Ho);function g(F,j){let z,K;return Nb(F)?(z=e.getRecordMatcher(F),K=j):K=F,e.addRoute(K,z)}function p(F){const j=e.getRecordMatcher(F);j&&e.removeRoute(j)}function _(){return e.getRoutes().map(F=>F.record)}function b(F){return!!e.getRecordMatcher(F)}function E(F,j){if(j=ct({},j||l.value),typeof F=="string"){const B=Au(n,F,j.path),P=e.resolve({path:B.path},j),D=i.createHref(B.fullPath);return ct(B,P,{params:f(P.params),hash:Ho(B.hash),redirectedFrom:void 0,href:D})}let z;if(F.path!=null)z=ct({},F,{path:Au(n,F.path,j.path).path});else{const B=ct({},F.params);for(const P in B)B[P]==null&&delete B[P];z=ct({},F,{params:h(B)}),j.params=h(j.params)}const K=e.resolve(z,j),re=F.hash||"";K.params=u(f(K.params));const T=kA(r,ct({},F,{hash:SA(re),path:K.path})),N=i.createHref(T);return ct({fullPath:T,hash:re,query:r===Xm?VA(F.query):F.query||{}},K,{redirectedFrom:void 0,href:N})}function y(F){return typeof F=="string"?Au(n,F,l.value.path):ct({},F)}function v(F,j){if(c!==F)return Ls(Mt.NAVIGATION_CANCELLED,{from:j,to:F})}function A(F){return I(F)}function w(F){return A(ct(y(F),{replace:!0}))}function x(F,j){const z=F.matched[F.matched.length-1];if(z&&z.redirect){const{redirect:K}=z;let re=typeof K=="function"?K(F,j):K;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=y(re):{path:re},re.params={}),ct({query:F.query,hash:F.hash,params:re.path!=null?{}:F.params},re)}}function I(F,j){const z=c=E(F),K=l.value,re=F.state,T=F.force,N=F.replace===!0,B=x(z,K);if(B)return I(ct(y(B),{state:typeof B=="object"?ct({},re,B.state):re,force:T,replace:N}),j||z);const P=z;P.redirectedFrom=j;let D;return!T&&OA(r,K,z)&&(D=Ls(Mt.NAVIGATION_DUPLICATED,{to:P,from:K}),q(K,K,!0,!1)),(D?Promise.resolve(D):H(P,K)).catch(V=>Ir(V)?Ir(V,Mt.NAVIGATION_GUARD_REDIRECT)?V:te(V):ne(V,P,K)).then(V=>{if(V){if(Ir(V,Mt.NAVIGATION_GUARD_REDIRECT))return I(ct({replace:N},y(V.to),{state:typeof V.to=="object"?ct({},re,V.to.state):re,force:T}),j||P)}else V=M(P,K,!0,N,re);return Q(P,K,V),V})}function R(F,j){const z=v(F,j);return z?Promise.reject(z):Promise.resolve()}function W(F){const j=Ie.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(F):F()}function H(F,j){let z;const[K,re,T]=GA(F,j);z=xu(K.reverse(),"beforeRouteLeave",F,j);for(const B of K)B.leaveGuards.forEach(P=>{z.push(li(P,F,j))});const N=R.bind(null,F,j);return z.push(N),Te(z).then(()=>{z=[];for(const B of s.list())z.push(li(B,F,j));return z.push(N),Te(z)}).then(()=>{z=xu(re,"beforeRouteUpdate",F,j);for(const B of re)B.updateGuards.forEach(P=>{z.push(li(P,F,j))});return z.push(N),Te(z)}).then(()=>{z=[];for(const B of T)if(B.beforeEnter)if(sr(B.beforeEnter))for(const P of B.beforeEnter)z.push(li(P,F,j));else z.push(li(B.beforeEnter,F,j));return z.push(N),Te(z)}).then(()=>(F.matched.forEach(B=>B.enterCallbacks={}),z=xu(T,"beforeRouteEnter",F,j,W),z.push(N),Te(z))).then(()=>{z=[];for(const B of o.list())z.push(li(B,F,j));return z.push(N),Te(z)}).catch(B=>Ir(B,Mt.NAVIGATION_CANCELLED)?B:Promise.reject(B))}function Q(F,j,z){a.list().forEach(K=>W(()=>K(F,j,z)))}function M(F,j,z,K,re){const T=v(F,j);if(T)return T;const N=j===Zr,B=vs?history.state:{};z&&(K||N?i.replace(F.fullPath,ct({scroll:N&&B&&B.scroll},re)):i.push(F.fullPath,re)),l.value=F,q(F,j,z,N),te()}let Z;function ee(){Z||(Z=i.listen((F,j,z)=>{if(!ge.listening)return;const K=E(F),re=x(K,ge.currentRoute.value);if(re){I(ct(re,{replace:!0,force:!0}),K).catch(xo);return}c=K;const T=l.value;vs&&jA(Jm(T.fullPath,z.delta),gc()),H(K,T).catch(N=>Ir(N,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_CANCELLED)?N:Ir(N,Mt.NAVIGATION_GUARD_REDIRECT)?(I(ct(y(N.to),{force:!0}),K).then(B=>{Ir(B,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===nh.pop&&i.go(-1,!1)}).catch(xo),Promise.reject()):(z.delta&&i.go(-z.delta,!1),ne(N,K,T))).then(N=>{N=N||M(K,T,!1),N&&(z.delta&&!Ir(N,Mt.NAVIGATION_CANCELLED)?i.go(-z.delta,!1):z.type===nh.pop&&Ir(N,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),Q(K,T,N)}).catch(xo)}))}let X=oo(),be=oo(),ie;function ne(F,j,z){te(F);const K=be.list();return K.length?K.forEach(re=>re(F,j,z)):console.error(F),Promise.reject(F)}function ye(){return ie&&l.value!==Zr?Promise.resolve():new Promise((F,j)=>{X.add([F,j])})}function te(F){return ie||(ie=!F,ee(),X.list().forEach(([j,z])=>F?z(F):j()),X.reset()),F}function q(F,j,z,K){const{scrollBehavior:re}=t;if(!vs||!re)return Promise.resolve();const T=!z&&BA(Jm(F.fullPath,0))||(K||!z)&&history.state&&history.state.scroll||null;return lc().then(()=>re(F,j,T)).then(N=>N&&FA(N)).catch(N=>ne(N,F,j))}const G=F=>i.go(F);let fe;const Ie=new Set,ge={currentRoute:l,listening:!0,addRoute:g,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:_,resolve:E,options:t,push:A,replace:w,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:ye,install(F){F.component("RouterLink",p3),F.component("RouterView",Bb),F.config.globalProperties.$router=ge,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>st(l)}),vs&&!fe&&l.value===Zr&&(fe=!0,A(i.location).catch(K=>{}));const j={};for(const K in Zr)Object.defineProperty(j,K,{get:()=>l.value[K],enumerable:!0});F.provide(mc,ge),F.provide(Db,jy(j)),F.provide(ih,l);const z=F.unmount;Ie.add(F),F.unmount=function(){Ie.delete(F),Ie.size<1&&(c=Zr,Z&&Z(),Z=null,l.value=Zr,fe=!1,ie=!1),z()}}};function Te(F){return F.reduce((j,z)=>j.then(()=>W(z)),Promise.resolve())}return ge}function Ub(){return nr(mc)}const b3={__name:"App",setup(t){return(e,n)=>(vn(),vC(st(Bb)))}};var Ga={exports:{}};var v3=Ga.exports,u0;function w3(){return u0||(u0=1,(function(t,e){(function(n,r){t.exports=r()})(v3,function(){const n=new Map,r={set(O,d,C){n.has(O)||n.set(O,new Map);const L=n.get(O);L.has(d)||L.size===0?L.set(d,C):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(L.keys())[0]}.`)},get:(O,d)=>n.has(O)&&n.get(O).get(d)||null,remove(O,d){if(!n.has(O))return;const C=n.get(O);C.delete(d),C.size===0&&n.delete(O)}},i="transitionend",s=O=>(O&&window.CSS&&window.CSS.escape&&(O=O.replace(/#([^\s"#']+)/g,(d,C)=>`#${CSS.escape(C)}`)),O),o=O=>O==null?`${O}`:Object.prototype.toString.call(O).match(/\s([a-z]+)/i)[1].toLowerCase(),a=O=>{O.dispatchEvent(new Event(i))},l=O=>!(!O||typeof O!="object")&&(O.jquery!==void 0&&(O=O[0]),O.nodeType!==void 0),c=O=>l(O)?O.jquery?O[0]:O:typeof O=="string"&&O.length>0?document.querySelector(s(O)):null,u=O=>{if(!l(O)||O.getClientRects().length===0)return!1;const d=getComputedStyle(O).getPropertyValue("visibility")==="visible",C=O.closest("details:not([open])");if(!C)return d;if(C!==O){const L=O.closest("summary");if(L&&L.parentNode!==C||L===null)return!1}return d},h=O=>!O||O.nodeType!==Node.ELEMENT_NODE||!!O.classList.contains("disabled")||(O.disabled!==void 0?O.disabled:O.hasAttribute("disabled")&&O.getAttribute("disabled")!=="false"),f=O=>{if(!document.documentElement.attachShadow)return null;if(typeof O.getRootNode=="function"){const d=O.getRootNode();return d instanceof ShadowRoot?d:null}return O instanceof ShadowRoot?O:O.parentNode?f(O.parentNode):null},g=()=>{},p=O=>{O.offsetHeight},_=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,b=[],E=()=>document.documentElement.dir==="rtl",y=O=>{var d;d=()=>{const C=_();if(C){const L=O.NAME,de=C.fn[L];C.fn[L]=O.jQueryInterface,C.fn[L].Constructor=O,C.fn[L].noConflict=()=>(C.fn[L]=de,O.jQueryInterface)}},document.readyState==="loading"?(b.length||document.addEventListener("DOMContentLoaded",()=>{for(const C of b)C()}),b.push(d)):d()},v=(O,d=[],C=O)=>typeof O=="function"?O.call(...d):C,A=(O,d,C=!0)=>{if(!C)return void v(O);const L=(Ee=>{if(!Ee)return 0;let{transitionDuration:Oe,transitionDelay:Me}=window.getComputedStyle(Ee);const Ue=Number.parseFloat(Oe),We=Number.parseFloat(Me);return Ue||We?(Oe=Oe.split(",")[0],Me=Me.split(",")[0],1e3*(Number.parseFloat(Oe)+Number.parseFloat(Me))):0})(d)+5;let de=!1;const pe=({target:Ee})=>{Ee===d&&(de=!0,d.removeEventListener(i,pe),v(O))};d.addEventListener(i,pe),setTimeout(()=>{de||a(d)},L)},w=(O,d,C,L)=>{const de=O.length;let pe=O.indexOf(d);return pe===-1?!C&&L?O[de-1]:O[0]:(pe+=C?1:-1,L&&(pe=(pe+de)%de),O[Math.max(0,Math.min(pe,de-1))])},x=/[^.]*(?=\..*)\.|.*/,I=/\..*/,R=/::\d+$/,W={};let H=1;const Q={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Z(O,d){return d&&`${d}::${H++}`||O.uidEvent||H++}function ee(O){const d=Z(O);return O.uidEvent=d,W[d]=W[d]||{},W[d]}function X(O,d,C=null){return Object.values(O).find(L=>L.callable===d&&L.delegationSelector===C)}function be(O,d,C){const L=typeof d=="string",de=L?C:d||C;let pe=te(O);return M.has(pe)||(pe=O),[L,de,pe]}function ie(O,d,C,L,de){if(typeof d!="string"||!O)return;let[pe,Ee,Oe]=be(d,C,L);d in Q&&(Ee=(Ke=>function(Ge){if(!Ge.relatedTarget||Ge.relatedTarget!==Ge.delegateTarget&&!Ge.delegateTarget.contains(Ge.relatedTarget))return Ke.call(this,Ge)})(Ee));const Me=ee(O),Ue=Me[Oe]||(Me[Oe]={}),We=X(Ue,Ee,pe?C:null);if(We)return void(We.oneOff=We.oneOff&&de);const Fe=Z(Ee,d.replace(x,"")),Je=pe?(function(He,Ke,Ge){return function Ye(dt){const Et=He.querySelectorAll(Ke);for(let{target:Ze}=dt;Ze&&Ze!==this;Ze=Ze.parentNode)for(const lt of Et)if(lt===Ze)return G(dt,{delegateTarget:Ze}),Ye.oneOff&&q.off(He,dt.type,Ke,Ge),Ge.apply(Ze,[dt])}})(O,C,Ee):(function(He,Ke){return function Ge(Ye){return G(Ye,{delegateTarget:He}),Ge.oneOff&&q.off(He,Ye.type,Ke),Ke.apply(He,[Ye])}})(O,Ee);Je.delegationSelector=pe?C:null,Je.callable=Ee,Je.oneOff=de,Je.uidEvent=Fe,Ue[Fe]=Je,O.addEventListener(Oe,Je,pe)}function ne(O,d,C,L,de){const pe=X(d[C],L,de);pe&&(O.removeEventListener(C,pe,!!de),delete d[C][pe.uidEvent])}function ye(O,d,C,L){const de=d[C]||{};for(const[pe,Ee]of Object.entries(de))pe.includes(L)&&ne(O,d,C,Ee.callable,Ee.delegationSelector)}function te(O){return O=O.replace(I,""),Q[O]||O}const q={on(O,d,C,L){ie(O,d,C,L,!1)},one(O,d,C,L){ie(O,d,C,L,!0)},off(O,d,C,L){if(typeof d!="string"||!O)return;const[de,pe,Ee]=be(d,C,L),Oe=Ee!==d,Me=ee(O),Ue=Me[Ee]||{},We=d.startsWith(".");if(pe===void 0){if(We)for(const Fe of Object.keys(Me))ye(O,Me,Fe,d.slice(1));for(const[Fe,Je]of Object.entries(Ue)){const He=Fe.replace(R,"");Oe&&!d.includes(He)||ne(O,Me,Ee,Je.callable,Je.delegationSelector)}}else{if(!Object.keys(Ue).length)return;ne(O,Me,Ee,pe,de?C:null)}},trigger(O,d,C){if(typeof d!="string"||!O)return null;const L=_();let de=null,pe=!0,Ee=!0,Oe=!1;d!==te(d)&&L&&(de=L.Event(d,C),L(O).trigger(de),pe=!de.isPropagationStopped(),Ee=!de.isImmediatePropagationStopped(),Oe=de.isDefaultPrevented());const Me=G(new Event(d,{bubbles:pe,cancelable:!0}),C);return Oe&&Me.preventDefault(),Ee&&O.dispatchEvent(Me),Me.defaultPrevented&&de&&de.preventDefault(),Me}};function G(O,d={}){for(const[C,L]of Object.entries(d))try{O[C]=L}catch{Object.defineProperty(O,C,{configurable:!0,get:()=>L})}return O}function fe(O){if(O==="true")return!0;if(O==="false")return!1;if(O===Number(O).toString())return Number(O);if(O===""||O==="null")return null;if(typeof O!="string")return O;try{return JSON.parse(decodeURIComponent(O))}catch{return O}}function Ie(O){return O.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const ge={setDataAttribute(O,d,C){O.setAttribute(`data-bs-${Ie(d)}`,C)},removeDataAttribute(O,d){O.removeAttribute(`data-bs-${Ie(d)}`)},getDataAttributes(O){if(!O)return{};const d={},C=Object.keys(O.dataset).filter(L=>L.startsWith("bs")&&!L.startsWith("bsConfig"));for(const L of C){let de=L.replace(/^bs/,"");de=de.charAt(0).toLowerCase()+de.slice(1),d[de]=fe(O.dataset[L])}return d},getDataAttribute:(O,d)=>fe(O.getAttribute(`data-bs-${Ie(d)}`))};class Te{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,C){const L=l(C)?ge.getDataAttribute(C,"config"):{};return{...this.constructor.Default,...typeof L=="object"?L:{},...l(C)?ge.getDataAttributes(C):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,C=this.constructor.DefaultType){for(const[L,de]of Object.entries(C)){const pe=d[L],Ee=l(pe)?"element":o(pe);if(!new RegExp(de).test(Ee))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${Ee}" but expected type "${de}".`)}}}class F extends Te{constructor(d,C){super(),(d=c(d))&&(this._element=d,this._config=this._getConfig(C),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,C,L=!0){A(d,C,L)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return r.get(c(d),this.DATA_KEY)}static getOrCreateInstance(d,C={}){return this.getInstance(d)||new this(d,typeof C=="object"?C:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const j=O=>{let d=O.getAttribute("data-bs-target");if(!d||d==="#"){let C=O.getAttribute("href");if(!C||!C.includes("#")&&!C.startsWith("."))return null;C.includes("#")&&!C.startsWith("#")&&(C=`#${C.split("#")[1]}`),d=C&&C!=="#"?C.trim():null}return d?d.split(",").map(C=>s(C)).join(","):null},z={find:(O,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,O)),findOne:(O,d=document.documentElement)=>Element.prototype.querySelector.call(d,O),children:(O,d)=>[].concat(...O.children).filter(C=>C.matches(d)),parents(O,d){const C=[];let L=O.parentNode.closest(d);for(;L;)C.push(L),L=L.parentNode.closest(d);return C},prev(O,d){let C=O.previousElementSibling;for(;C;){if(C.matches(d))return[C];C=C.previousElementSibling}return[]},next(O,d){let C=O.nextElementSibling;for(;C;){if(C.matches(d))return[C];C=C.nextElementSibling}return[]},focusableChildren(O){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(C=>`${C}:not([tabindex^="-"])`).join(",");return this.find(d,O).filter(C=>!h(C)&&u(C))},getSelectorFromElement(O){const d=j(O);return d&&z.findOne(d)?d:null},getElementFromSelector(O){const d=j(O);return d?z.findOne(d):null},getMultipleElementsFromSelector(O){const d=j(O);return d?z.find(d):[]}},K=(O,d="hide")=>{const C=`click.dismiss${O.EVENT_KEY}`,L=O.NAME;q.on(document,C,`[data-bs-dismiss="${L}"]`,function(de){if(["A","AREA"].includes(this.tagName)&&de.preventDefault(),h(this))return;const pe=z.getElementFromSelector(this)||this.closest(`.${L}`);O.getOrCreateInstance(pe)[d]()})},re=".bs.alert",T=`close${re}`,N=`closed${re}`;class B extends F{static get NAME(){return"alert"}close(){if(q.trigger(this._element,T).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),q.trigger(this._element,N),this.dispose()}static jQueryInterface(d){return this.each(function(){const C=B.getOrCreateInstance(this);if(typeof d=="string"){if(C[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);C[d](this)}})}}K(B,"close"),y(B);const P='[data-bs-toggle="button"]';class D extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const C=D.getOrCreateInstance(this);d==="toggle"&&C[d]()})}}q.on(document,"click.bs.button.data-api",P,O=>{O.preventDefault();const d=O.target.closest(P);D.getOrCreateInstance(d).toggle()}),y(D);const V=".bs.swipe",oe=`touchstart${V}`,se=`touchmove${V}`,le=`touchend${V}`,U=`pointerdown${V}`,me=`pointerup${V}`,_e={endCallback:null,leftCallback:null,rightCallback:null},he={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Re extends Te{constructor(d,C){super(),this._element=d,d&&Re.isSupported()&&(this._config=this._getConfig(C),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return _e}static get DefaultType(){return he}static get NAME(){return"swipe"}dispose(){q.off(this._element,V)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),v(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const C=d/this._deltaX;this._deltaX=0,C&&v(C>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,U,d=>this._start(d)),q.on(this._element,me,d=>this._end(d)),this._element.classList.add("pointer-event")):(q.on(this._element,oe,d=>this._start(d)),q.on(this._element,se,d=>this._move(d)),q.on(this._element,le,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const m=".bs.carousel",S=".data-api",k="ArrowLeft",J="ArrowRight",ce="next",we="prev",ke="left",ae="right",ve=`slide${m}`,Le=`slid${m}`,je=`keydown${m}`,$e=`mouseenter${m}`,ze=`mouseleave${m}`,Ln=`dragstart${m}`,Fn=`load${m}${S}`,Vt=`click${m}${S}`,Cn="carousel",Yn="active",An=".active",Zt=".carousel-item",is=An+Zt,Yr={[k]:ae,[J]:ke},Ei={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Y extends F{constructor(d,C){super(d,C),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Cn&&this.cycle()}static get Default(){return Ei}static get DefaultType(){return $}static get NAME(){return"carousel"}next(){this._slide(ce)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(we)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,Le,()=>this.cycle()):this.cycle())}to(d){const C=this._getItems();if(d>C.length-1||d<0)return;if(this._isSliding)return void q.one(this._element,Le,()=>this.to(d));const L=this._getItemIndex(this._getActive());if(L===d)return;const de=d>L?ce:we;this._slide(de,C[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&q.on(this._element,je,d=>this._keydown(d)),this._config.pause==="hover"&&(q.on(this._element,$e,()=>this.pause()),q.on(this._element,ze,()=>this._maybeEnableCycle())),this._config.touch&&Re.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const C of z.find(".carousel-item img",this._element))q.on(C,Ln,L=>L.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(ke)),rightCallback:()=>this._slide(this._directionToOrder(ae)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Re(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const C=Yr[d.key];C&&(d.preventDefault(),this._slide(this._directionToOrder(C)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const C=z.findOne(An,this._indicatorsElement);C.classList.remove(Yn),C.removeAttribute("aria-current");const L=z.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);L&&(L.classList.add(Yn),L.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const C=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=C||this._config.defaultInterval}_slide(d,C=null){if(this._isSliding)return;const L=this._getActive(),de=d===ce,pe=C||w(this._getItems(),L,de,this._config.wrap);if(pe===L)return;const Ee=this._getItemIndex(pe),Oe=Fe=>q.trigger(this._element,Fe,{relatedTarget:pe,direction:this._orderToDirection(d),from:this._getItemIndex(L),to:Ee});if(Oe(ve).defaultPrevented||!L||!pe)return;const Me=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ee),this._activeElement=pe;const Ue=de?"carousel-item-start":"carousel-item-end",We=de?"carousel-item-next":"carousel-item-prev";pe.classList.add(We),p(pe),L.classList.add(Ue),pe.classList.add(Ue),this._queueCallback(()=>{pe.classList.remove(Ue,We),pe.classList.add(Yn),L.classList.remove(Yn,We,Ue),this._isSliding=!1,Oe(Le)},L,this._isAnimated()),Me&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(is,this._element)}_getItems(){return z.find(Zt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return E()?d===ke?we:ce:d===ke?ce:we}_orderToDirection(d){return E()?d===we?ke:ae:d===we?ae:ke}static jQueryInterface(d){return this.each(function(){const C=Y.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(C[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);C[d]()}}else C.to(d)})}}q.on(document,Vt,"[data-bs-slide], [data-bs-slide-to]",function(O){const d=z.getElementFromSelector(this);if(!d||!d.classList.contains(Cn))return;O.preventDefault();const C=Y.getOrCreateInstance(d),L=this.getAttribute("data-bs-slide-to");return L?(C.to(L),void C._maybeEnableCycle()):ge.getDataAttribute(this,"slide")==="next"?(C.next(),void C._maybeEnableCycle()):(C.prev(),void C._maybeEnableCycle())}),q.on(window,Fn,()=>{const O=z.find('[data-bs-ride="carousel"]');for(const d of O)Y.getOrCreateInstance(d)}),y(Y);const Pe=".bs.collapse",De=`show${Pe}`,Be=`shown${Pe}`,jt=`hide${Pe}`,Qt=`hidden${Pe}`,In=`click${Pe}.data-api`,wr="show",jn="collapse",or="collapsing",ss=`:scope .${jn} .${jn}`,Qn='[data-bs-toggle="collapse"]',Bn={parent:null,toggle:!0},ar={parent:"(null|element)",toggle:"boolean"};class bn extends F{constructor(d,C){super(d,C),this._isTransitioning=!1,this._triggerArray=[];const L=z.find(Qn);for(const de of L){const pe=z.getSelectorFromElement(de),Ee=z.find(pe).filter(Oe=>Oe===this._element);pe!==null&&Ee.length&&this._triggerArray.push(de)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Bn}static get DefaultType(){return ar}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(de=>de!==this._element).map(de=>bn.getOrCreateInstance(de,{toggle:!1}))),d.length&&d[0]._isTransitioning||q.trigger(this._element,De).defaultPrevented)return;for(const de of d)de.hide();const C=this._getDimension();this._element.classList.remove(jn),this._element.classList.add(or),this._element.style[C]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const L=`scroll${C[0].toUpperCase()+C.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(or),this._element.classList.add(jn,wr),this._element.style[C]="",q.trigger(this._element,Be)},this._element,!0),this._element.style[C]=`${this._element[L]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,jt).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,p(this._element),this._element.classList.add(or),this._element.classList.remove(jn,wr);for(const C of this._triggerArray){const L=z.getElementFromSelector(C);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(or),this._element.classList.add(jn),q.trigger(this._element,Qt)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(wr)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=c(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Qn);for(const C of d){const L=z.getElementFromSelector(C);L&&this._addAriaAndCollapsedClass([C],this._isShown(L))}}_getFirstLevelChildren(d){const C=z.find(ss,this._config.parent);return z.find(d,this._config.parent).filter(L=>!C.includes(L))}_addAriaAndCollapsedClass(d,C){if(d.length)for(const L of d)L.classList.toggle("collapsed",!C),L.setAttribute("aria-expanded",C)}static jQueryInterface(d){const C={};return typeof d=="string"&&/show|hide/.test(d)&&(C.toggle=!1),this.each(function(){const L=bn.getOrCreateInstance(this,C);if(typeof d=="string"){if(L[d]===void 0)throw new TypeError(`No method named "${d}"`);L[d]()}})}}q.on(document,In,Qn,function(O){(O.target.tagName==="A"||O.delegateTarget&&O.delegateTarget.tagName==="A")&&O.preventDefault();for(const d of z.getMultipleElementsFromSelector(this))bn.getOrCreateInstance(d,{toggle:!1}).toggle()}),y(bn);var wt="top",kt="bottom",xn="right",ln="left",ya="auto",os=[wt,kt,xn,ln],Si="start",as="end",Wp="clippingParents",Fc="viewport",ls="popper",$p="reference",jc=os.reduce(function(O,d){return O.concat([d+"-"+Si,d+"-"+as])},[]),Bc=[].concat(os,[ya]).reduce(function(O,d){return O.concat([d,d+"-"+Si,d+"-"+as])},[]),Hp="beforeRead",Vp="read",qp="afterRead",Gp="beforeMain",zp="main",Kp="afterMain",Yp="beforeWrite",Qp="write",Jp="afterWrite",Xp=[Hp,Vp,qp,Gp,zp,Kp,Yp,Qp,Jp];function lr(O){return O?(O.nodeName||"").toLowerCase():null}function Tn(O){if(O==null)return window;if(O.toString()!=="[object Window]"){var d=O.ownerDocument;return d&&d.defaultView||window}return O}function Ci(O){return O instanceof Tn(O).Element||O instanceof Element}function Un(O){return O instanceof Tn(O).HTMLElement||O instanceof HTMLElement}function Uc(O){return typeof ShadowRoot<"u"&&(O instanceof Tn(O).ShadowRoot||O instanceof ShadowRoot)}const Wc={name:"applyStyles",enabled:!0,phase:"write",fn:function(O){var d=O.state;Object.keys(d.elements).forEach(function(C){var L=d.styles[C]||{},de=d.attributes[C]||{},pe=d.elements[C];Un(pe)&&lr(pe)&&(Object.assign(pe.style,L),Object.keys(de).forEach(function(Ee){var Oe=de[Ee];Oe===!1?pe.removeAttribute(Ee):pe.setAttribute(Ee,Oe===!0?"":Oe)}))})},effect:function(O){var d=O.state,C={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,C.popper),d.styles=C,d.elements.arrow&&Object.assign(d.elements.arrow.style,C.arrow),function(){Object.keys(d.elements).forEach(function(L){var de=d.elements[L],pe=d.attributes[L]||{},Ee=Object.keys(d.styles.hasOwnProperty(L)?d.styles[L]:C[L]).reduce(function(Oe,Me){return Oe[Me]="",Oe},{});Un(de)&&lr(de)&&(Object.assign(de.style,Ee),Object.keys(pe).forEach(function(Oe){de.removeAttribute(Oe)}))})}},requires:["computeStyles"]};function cr(O){return O.split("-")[0]}var Ai=Math.max,ba=Math.min,cs=Math.round;function $c(){var O=navigator.userAgentData;return O!=null&&O.brands&&Array.isArray(O.brands)?O.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Zp(){return!/^((?!chrome|android).)*safari/i.test($c())}function us(O,d,C){d===void 0&&(d=!1),C===void 0&&(C=!1);var L=O.getBoundingClientRect(),de=1,pe=1;d&&Un(O)&&(de=O.offsetWidth>0&&cs(L.width)/O.offsetWidth||1,pe=O.offsetHeight>0&&cs(L.height)/O.offsetHeight||1);var Ee=(Ci(O)?Tn(O):window).visualViewport,Oe=!Zp()&&C,Me=(L.left+(Oe&&Ee?Ee.offsetLeft:0))/de,Ue=(L.top+(Oe&&Ee?Ee.offsetTop:0))/pe,We=L.width/de,Fe=L.height/pe;return{width:We,height:Fe,top:Ue,right:Me+We,bottom:Ue+Fe,left:Me,x:Me,y:Ue}}function Hc(O){var d=us(O),C=O.offsetWidth,L=O.offsetHeight;return Math.abs(d.width-C)<=1&&(C=d.width),Math.abs(d.height-L)<=1&&(L=d.height),{x:O.offsetLeft,y:O.offsetTop,width:C,height:L}}function eg(O,d){var C=d.getRootNode&&d.getRootNode();if(O.contains(d))return!0;if(C&&Uc(C)){var L=d;do{if(L&&O.isSameNode(L))return!0;L=L.parentNode||L.host}while(L)}return!1}function Er(O){return Tn(O).getComputedStyle(O)}function qw(O){return["table","td","th"].indexOf(lr(O))>=0}function Qr(O){return((Ci(O)?O.ownerDocument:O.document)||window.document).documentElement}function va(O){return lr(O)==="html"?O:O.assignedSlot||O.parentNode||(Uc(O)?O.host:null)||Qr(O)}function tg(O){return Un(O)&&Er(O).position!=="fixed"?O.offsetParent:null}function Xs(O){for(var d=Tn(O),C=tg(O);C&&qw(C)&&Er(C).position==="static";)C=tg(C);return C&&(lr(C)==="html"||lr(C)==="body"&&Er(C).position==="static")?d:C||(function(L){var de=/firefox/i.test($c());if(/Trident/i.test($c())&&Un(L)&&Er(L).position==="fixed")return null;var pe=va(L);for(Uc(pe)&&(pe=pe.host);Un(pe)&&["html","body"].indexOf(lr(pe))<0;){var Ee=Er(pe);if(Ee.transform!=="none"||Ee.perspective!=="none"||Ee.contain==="paint"||["transform","perspective"].indexOf(Ee.willChange)!==-1||de&&Ee.willChange==="filter"||de&&Ee.filter&&Ee.filter!=="none")return pe;pe=pe.parentNode}return null})(O)||d}function Vc(O){return["top","bottom"].indexOf(O)>=0?"x":"y"}function Zs(O,d,C){return Ai(O,ba(d,C))}function ng(O){return Object.assign({},{top:0,right:0,bottom:0,left:0},O)}function rg(O,d){return d.reduce(function(C,L){return C[L]=O,C},{})}const ig={name:"arrow",enabled:!0,phase:"main",fn:function(O){var d,C=O.state,L=O.name,de=O.options,pe=C.elements.arrow,Ee=C.modifiersData.popperOffsets,Oe=cr(C.placement),Me=Vc(Oe),Ue=[ln,xn].indexOf(Oe)>=0?"height":"width";if(pe&&Ee){var We=(function(pt,ft){return ng(typeof(pt=typeof pt=="function"?pt(Object.assign({},ft.rects,{placement:ft.placement})):pt)!="number"?pt:rg(pt,os))})(de.padding,C),Fe=Hc(pe),Je=Me==="y"?wt:ln,He=Me==="y"?kt:xn,Ke=C.rects.reference[Ue]+C.rects.reference[Me]-Ee[Me]-C.rects.popper[Ue],Ge=Ee[Me]-C.rects.reference[Me],Ye=Xs(pe),dt=Ye?Me==="y"?Ye.clientHeight||0:Ye.clientWidth||0:0,Et=Ke/2-Ge/2,Ze=We[Je],lt=dt-Fe[Ue]-We[He],Xe=dt/2-Fe[Ue]/2+Et,it=Zs(Ze,Xe,lt),ht=Me;C.modifiersData[L]=((d={})[ht]=it,d.centerOffset=it-Xe,d)}},effect:function(O){var d=O.state,C=O.options.element,L=C===void 0?"[data-popper-arrow]":C;L!=null&&(typeof L!="string"||(L=d.elements.popper.querySelector(L)))&&eg(d.elements.popper,L)&&(d.elements.arrow=L)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hs(O){return O.split("-")[1]}var Gw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sg(O){var d,C=O.popper,L=O.popperRect,de=O.placement,pe=O.variation,Ee=O.offsets,Oe=O.position,Me=O.gpuAcceleration,Ue=O.adaptive,We=O.roundOffsets,Fe=O.isFixed,Je=Ee.x,He=Je===void 0?0:Je,Ke=Ee.y,Ge=Ke===void 0?0:Ke,Ye=typeof We=="function"?We({x:He,y:Ge}):{x:He,y:Ge};He=Ye.x,Ge=Ye.y;var dt=Ee.hasOwnProperty("x"),Et=Ee.hasOwnProperty("y"),Ze=ln,lt=wt,Xe=window;if(Ue){var it=Xs(C),ht="clientHeight",pt="clientWidth";it===Tn(C)&&Er(it=Qr(C)).position!=="static"&&Oe==="absolute"&&(ht="scrollHeight",pt="scrollWidth"),(de===wt||(de===ln||de===xn)&&pe===as)&&(lt=kt,Ge-=(Fe&&it===Xe&&Xe.visualViewport?Xe.visualViewport.height:it[ht])-L.height,Ge*=Me?1:-1),de!==ln&&(de!==wt&&de!==kt||pe!==as)||(Ze=xn,He-=(Fe&&it===Xe&&Xe.visualViewport?Xe.visualViewport.width:it[pt])-L.width,He*=Me?1:-1)}var ft,Bt=Object.assign({position:Oe},Ue&&Gw),kn=We===!0?(function(Xn,cn){var $n=Xn.x,Hn=Xn.y,Nt=cn.devicePixelRatio||1;return{x:cs($n*Nt)/Nt||0,y:cs(Hn*Nt)/Nt||0}})({x:He,y:Ge},Tn(C)):{x:He,y:Ge};return He=kn.x,Ge=kn.y,Me?Object.assign({},Bt,((ft={})[lt]=Et?"0":"",ft[Ze]=dt?"0":"",ft.transform=(Xe.devicePixelRatio||1)<=1?"translate("+He+"px, "+Ge+"px)":"translate3d("+He+"px, "+Ge+"px, 0)",ft)):Object.assign({},Bt,((d={})[lt]=Et?Ge+"px":"",d[Ze]=dt?He+"px":"",d.transform="",d))}const qc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(O){var d=O.state,C=O.options,L=C.gpuAcceleration,de=L===void 0||L,pe=C.adaptive,Ee=pe===void 0||pe,Oe=C.roundOffsets,Me=Oe===void 0||Oe,Ue={placement:cr(d.placement),variation:hs(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:de,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,sg(Object.assign({},Ue,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:Ee,roundOffsets:Me})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,sg(Object.assign({},Ue,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Me})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var wa={passive:!0};const Gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(O){var d=O.state,C=O.instance,L=O.options,de=L.scroll,pe=de===void 0||de,Ee=L.resize,Oe=Ee===void 0||Ee,Me=Tn(d.elements.popper),Ue=[].concat(d.scrollParents.reference,d.scrollParents.popper);return pe&&Ue.forEach(function(We){We.addEventListener("scroll",C.update,wa)}),Oe&&Me.addEventListener("resize",C.update,wa),function(){pe&&Ue.forEach(function(We){We.removeEventListener("scroll",C.update,wa)}),Oe&&Me.removeEventListener("resize",C.update,wa)}},data:{}};var zw={left:"right",right:"left",bottom:"top",top:"bottom"};function Ea(O){return O.replace(/left|right|bottom|top/g,function(d){return zw[d]})}var Kw={start:"end",end:"start"};function og(O){return O.replace(/start|end/g,function(d){return Kw[d]})}function zc(O){var d=Tn(O);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Kc(O){return us(Qr(O)).left+zc(O).scrollLeft}function Yc(O){var d=Er(O),C=d.overflow,L=d.overflowX,de=d.overflowY;return/auto|scroll|overlay|hidden/.test(C+de+L)}function ag(O){return["html","body","#document"].indexOf(lr(O))>=0?O.ownerDocument.body:Un(O)&&Yc(O)?O:ag(va(O))}function eo(O,d){var C;d===void 0&&(d=[]);var L=ag(O),de=L===((C=O.ownerDocument)==null?void 0:C.body),pe=Tn(L),Ee=de?[pe].concat(pe.visualViewport||[],Yc(L)?L:[]):L,Oe=d.concat(Ee);return de?Oe:Oe.concat(eo(va(Ee)))}function Qc(O){return Object.assign({},O,{left:O.x,top:O.y,right:O.x+O.width,bottom:O.y+O.height})}function lg(O,d,C){return d===Fc?Qc((function(L,de){var pe=Tn(L),Ee=Qr(L),Oe=pe.visualViewport,Me=Ee.clientWidth,Ue=Ee.clientHeight,We=0,Fe=0;if(Oe){Me=Oe.width,Ue=Oe.height;var Je=Zp();(Je||!Je&&de==="fixed")&&(We=Oe.offsetLeft,Fe=Oe.offsetTop)}return{width:Me,height:Ue,x:We+Kc(L),y:Fe}})(O,C)):Ci(d)?(function(L,de){var pe=us(L,!1,de==="fixed");return pe.top=pe.top+L.clientTop,pe.left=pe.left+L.clientLeft,pe.bottom=pe.top+L.clientHeight,pe.right=pe.left+L.clientWidth,pe.width=L.clientWidth,pe.height=L.clientHeight,pe.x=pe.left,pe.y=pe.top,pe})(d,C):Qc((function(L){var de,pe=Qr(L),Ee=zc(L),Oe=(de=L.ownerDocument)==null?void 0:de.body,Me=Ai(pe.scrollWidth,pe.clientWidth,Oe?Oe.scrollWidth:0,Oe?Oe.clientWidth:0),Ue=Ai(pe.scrollHeight,pe.clientHeight,Oe?Oe.scrollHeight:0,Oe?Oe.clientHeight:0),We=-Ee.scrollLeft+Kc(L),Fe=-Ee.scrollTop;return Er(Oe||pe).direction==="rtl"&&(We+=Ai(pe.clientWidth,Oe?Oe.clientWidth:0)-Me),{width:Me,height:Ue,x:We,y:Fe}})(Qr(O)))}function cg(O){var d,C=O.reference,L=O.element,de=O.placement,pe=de?cr(de):null,Ee=de?hs(de):null,Oe=C.x+C.width/2-L.width/2,Me=C.y+C.height/2-L.height/2;switch(pe){case wt:d={x:Oe,y:C.y-L.height};break;case kt:d={x:Oe,y:C.y+C.height};break;case xn:d={x:C.x+C.width,y:Me};break;case ln:d={x:C.x-L.width,y:Me};break;default:d={x:C.x,y:C.y}}var Ue=pe?Vc(pe):null;if(Ue!=null){var We=Ue==="y"?"height":"width";switch(Ee){case Si:d[Ue]=d[Ue]-(C[We]/2-L[We]/2);break;case as:d[Ue]=d[Ue]+(C[We]/2-L[We]/2)}}return d}function fs(O,d){d===void 0&&(d={});var C=d,L=C.placement,de=L===void 0?O.placement:L,pe=C.strategy,Ee=pe===void 0?O.strategy:pe,Oe=C.boundary,Me=Oe===void 0?Wp:Oe,Ue=C.rootBoundary,We=Ue===void 0?Fc:Ue,Fe=C.elementContext,Je=Fe===void 0?ls:Fe,He=C.altBoundary,Ke=He!==void 0&&He,Ge=C.padding,Ye=Ge===void 0?0:Ge,dt=ng(typeof Ye!="number"?Ye:rg(Ye,os)),Et=Je===ls?$p:ls,Ze=O.rects.popper,lt=O.elements[Ke?Et:Je],Xe=(function(cn,$n,Hn,Nt){var ur=$n==="clippingParents"?(function(_t){var un=eo(va(_t)),Vn=["absolute","fixed"].indexOf(Er(_t).position)>=0&&Un(_t)?Xs(_t):_t;return Ci(Vn)?un.filter(function(Xr){return Ci(Xr)&&eg(Xr,Vn)&&lr(Xr)!=="body"}):[]})(cn):[].concat($n),hr=[].concat(ur,[Hn]),gs=hr[0],qt=hr.reduce(function(_t,un){var Vn=lg(cn,un,Nt);return _t.top=Ai(Vn.top,_t.top),_t.right=ba(Vn.right,_t.right),_t.bottom=ba(Vn.bottom,_t.bottom),_t.left=Ai(Vn.left,_t.left),_t},lg(cn,gs,Nt));return qt.width=qt.right-qt.left,qt.height=qt.bottom-qt.top,qt.x=qt.left,qt.y=qt.top,qt})(Ci(lt)?lt:lt.contextElement||Qr(O.elements.popper),Me,We,Ee),it=us(O.elements.reference),ht=cg({reference:it,element:Ze,placement:de}),pt=Qc(Object.assign({},Ze,ht)),ft=Je===ls?pt:it,Bt={top:Xe.top-ft.top+dt.top,bottom:ft.bottom-Xe.bottom+dt.bottom,left:Xe.left-ft.left+dt.left,right:ft.right-Xe.right+dt.right},kn=O.modifiersData.offset;if(Je===ls&&kn){var Xn=kn[de];Object.keys(Bt).forEach(function(cn){var $n=[xn,kt].indexOf(cn)>=0?1:-1,Hn=[wt,kt].indexOf(cn)>=0?"y":"x";Bt[cn]+=Xn[Hn]*$n})}return Bt}function Yw(O,d){d===void 0&&(d={});var C=d,L=C.placement,de=C.boundary,pe=C.rootBoundary,Ee=C.padding,Oe=C.flipVariations,Me=C.allowedAutoPlacements,Ue=Me===void 0?Bc:Me,We=hs(L),Fe=We?Oe?jc:jc.filter(function(Ke){return hs(Ke)===We}):os,Je=Fe.filter(function(Ke){return Ue.indexOf(Ke)>=0});Je.length===0&&(Je=Fe);var He=Je.reduce(function(Ke,Ge){return Ke[Ge]=fs(O,{placement:Ge,boundary:de,rootBoundary:pe,padding:Ee})[cr(Ge)],Ke},{});return Object.keys(He).sort(function(Ke,Ge){return He[Ke]-He[Ge]})}const ug={name:"flip",enabled:!0,phase:"main",fn:function(O){var d=O.state,C=O.options,L=O.name;if(!d.modifiersData[L]._skip){for(var de=C.mainAxis,pe=de===void 0||de,Ee=C.altAxis,Oe=Ee===void 0||Ee,Me=C.fallbackPlacements,Ue=C.padding,We=C.boundary,Fe=C.rootBoundary,Je=C.altBoundary,He=C.flipVariations,Ke=He===void 0||He,Ge=C.allowedAutoPlacements,Ye=d.options.placement,dt=cr(Ye),Et=Me||(dt!==Ye&&Ke?(function(_t){if(cr(_t)===ya)return[];var un=Ea(_t);return[og(_t),un,og(un)]})(Ye):[Ea(Ye)]),Ze=[Ye].concat(Et).reduce(function(_t,un){return _t.concat(cr(un)===ya?Yw(d,{placement:un,boundary:We,rootBoundary:Fe,padding:Ue,flipVariations:Ke,allowedAutoPlacements:Ge}):un)},[]),lt=d.rects.reference,Xe=d.rects.popper,it=new Map,ht=!0,pt=Ze[0],ft=0;ft<Ze.length;ft++){var Bt=Ze[ft],kn=cr(Bt),Xn=hs(Bt)===Si,cn=[wt,kt].indexOf(kn)>=0,$n=cn?"width":"height",Hn=fs(d,{placement:Bt,boundary:We,rootBoundary:Fe,altBoundary:Je,padding:Ue}),Nt=cn?Xn?xn:ln:Xn?kt:wt;lt[$n]>Xe[$n]&&(Nt=Ea(Nt));var ur=Ea(Nt),hr=[];if(pe&&hr.push(Hn[kn]<=0),Oe&&hr.push(Hn[Nt]<=0,Hn[ur]<=0),hr.every(function(_t){return _t})){pt=Bt,ht=!1;break}it.set(Bt,hr)}if(ht)for(var gs=function(_t){var un=Ze.find(function(Vn){var Xr=it.get(Vn);if(Xr)return Xr.slice(0,_t).every(function(Pa){return Pa})});if(un)return pt=un,"break"},qt=Ke?3:1;qt>0&&gs(qt)!=="break";qt--);d.placement!==pt&&(d.modifiersData[L]._skip=!0,d.placement=pt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hg(O,d,C){return C===void 0&&(C={x:0,y:0}),{top:O.top-d.height-C.y,right:O.right-d.width+C.x,bottom:O.bottom-d.height+C.y,left:O.left-d.width-C.x}}function fg(O){return[wt,xn,kt,ln].some(function(d){return O[d]>=0})}const dg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(O){var d=O.state,C=O.name,L=d.rects.reference,de=d.rects.popper,pe=d.modifiersData.preventOverflow,Ee=fs(d,{elementContext:"reference"}),Oe=fs(d,{altBoundary:!0}),Me=hg(Ee,L),Ue=hg(Oe,de,pe),We=fg(Me),Fe=fg(Ue);d.modifiersData[C]={referenceClippingOffsets:Me,popperEscapeOffsets:Ue,isReferenceHidden:We,hasPopperEscaped:Fe},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":We,"data-popper-escaped":Fe})}},pg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(O){var d=O.state,C=O.options,L=O.name,de=C.offset,pe=de===void 0?[0,0]:de,Ee=Bc.reduce(function(We,Fe){return We[Fe]=(function(Je,He,Ke){var Ge=cr(Je),Ye=[ln,wt].indexOf(Ge)>=0?-1:1,dt=typeof Ke=="function"?Ke(Object.assign({},He,{placement:Je})):Ke,Et=dt[0],Ze=dt[1];return Et=Et||0,Ze=(Ze||0)*Ye,[ln,xn].indexOf(Ge)>=0?{x:Ze,y:Et}:{x:Et,y:Ze}})(Fe,d.rects,pe),We},{}),Oe=Ee[d.placement],Me=Oe.x,Ue=Oe.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=Me,d.modifiersData.popperOffsets.y+=Ue),d.modifiersData[L]=Ee}},Jc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(O){var d=O.state,C=O.name;d.modifiersData[C]=cg({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},gg={name:"preventOverflow",enabled:!0,phase:"main",fn:function(O){var d=O.state,C=O.options,L=O.name,de=C.mainAxis,pe=de===void 0||de,Ee=C.altAxis,Oe=Ee!==void 0&&Ee,Me=C.boundary,Ue=C.rootBoundary,We=C.altBoundary,Fe=C.padding,Je=C.tether,He=Je===void 0||Je,Ke=C.tetherOffset,Ge=Ke===void 0?0:Ke,Ye=fs(d,{boundary:Me,rootBoundary:Ue,padding:Fe,altBoundary:We}),dt=cr(d.placement),Et=hs(d.placement),Ze=!Et,lt=Vc(dt),Xe=lt==="x"?"y":"x",it=d.modifiersData.popperOffsets,ht=d.rects.reference,pt=d.rects.popper,ft=typeof Ge=="function"?Ge(Object.assign({},d.rects,{placement:d.placement})):Ge,Bt=typeof ft=="number"?{mainAxis:ft,altAxis:ft}:Object.assign({mainAxis:0,altAxis:0},ft),kn=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Xn={x:0,y:0};if(it){if(pe){var cn,$n=lt==="y"?wt:ln,Hn=lt==="y"?kt:xn,Nt=lt==="y"?"height":"width",ur=it[lt],hr=ur+Ye[$n],gs=ur-Ye[Hn],qt=He?-pt[Nt]/2:0,_t=Et===Si?ht[Nt]:pt[Nt],un=Et===Si?-pt[Nt]:-ht[Nt],Vn=d.elements.arrow,Xr=He&&Vn?Hc(Vn):{width:0,height:0},Pa=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tm=Pa[$n],nm=Pa[Hn],Ra=Zs(0,ht[Nt],Xr[Nt]),xE=Ze?ht[Nt]/2-qt-Ra-tm-Bt.mainAxis:_t-Ra-tm-Bt.mainAxis,TE=Ze?-ht[Nt]/2+qt+Ra+nm+Bt.mainAxis:un+Ra+nm+Bt.mainAxis,hu=d.elements.arrow&&Xs(d.elements.arrow),kE=hu?lt==="y"?hu.clientTop||0:hu.clientLeft||0:0,rm=(cn=kn?.[lt])!=null?cn:0,OE=ur+TE-rm,im=Zs(He?ba(hr,ur+xE-rm-kE):hr,ur,He?Ai(gs,OE):gs);it[lt]=im,Xn[lt]=im-ur}if(Oe){var sm,PE=lt==="x"?wt:ln,RE=lt==="x"?kt:xn,Ni=it[Xe],Na=Xe==="y"?"height":"width",om=Ni+Ye[PE],am=Ni-Ye[RE],fu=[wt,ln].indexOf(dt)!==-1,lm=(sm=kn?.[Xe])!=null?sm:0,cm=fu?om:Ni-ht[Na]-pt[Na]-lm+Bt.altAxis,um=fu?Ni+ht[Na]+pt[Na]-lm-Bt.altAxis:am,hm=He&&fu?(function(NE,ME,du){var fm=Zs(NE,ME,du);return fm>du?du:fm})(cm,Ni,um):Zs(He?cm:om,Ni,He?um:am);it[Xe]=hm,Xn[Xe]=hm-Ni}d.modifiersData[L]=Xn}},requiresIfExists:["offset"]};function Qw(O,d,C){C===void 0&&(C=!1);var L,de,pe=Un(d),Ee=Un(d)&&(function(Fe){var Je=Fe.getBoundingClientRect(),He=cs(Je.width)/Fe.offsetWidth||1,Ke=cs(Je.height)/Fe.offsetHeight||1;return He!==1||Ke!==1})(d),Oe=Qr(d),Me=us(O,Ee,C),Ue={scrollLeft:0,scrollTop:0},We={x:0,y:0};return(pe||!pe&&!C)&&((lr(d)!=="body"||Yc(Oe))&&(Ue=(L=d)!==Tn(L)&&Un(L)?{scrollLeft:(de=L).scrollLeft,scrollTop:de.scrollTop}:zc(L)),Un(d)?((We=us(d,!0)).x+=d.clientLeft,We.y+=d.clientTop):Oe&&(We.x=Kc(Oe))),{x:Me.left+Ue.scrollLeft-We.x,y:Me.top+Ue.scrollTop-We.y,width:Me.width,height:Me.height}}function Jw(O){var d=new Map,C=new Set,L=[];function de(pe){C.add(pe.name),[].concat(pe.requires||[],pe.requiresIfExists||[]).forEach(function(Ee){if(!C.has(Ee)){var Oe=d.get(Ee);Oe&&de(Oe)}}),L.push(pe)}return O.forEach(function(pe){d.set(pe.name,pe)}),O.forEach(function(pe){C.has(pe.name)||de(pe)}),L}var mg={placement:"bottom",modifiers:[],strategy:"absolute"};function _g(){for(var O=arguments.length,d=new Array(O),C=0;C<O;C++)d[C]=arguments[C];return!d.some(function(L){return!(L&&typeof L.getBoundingClientRect=="function")})}function Sa(O){O===void 0&&(O={});var d=O,C=d.defaultModifiers,L=C===void 0?[]:C,de=d.defaultOptions,pe=de===void 0?mg:de;return function(Ee,Oe,Me){Me===void 0&&(Me=pe);var Ue,We,Fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},mg,pe),modifiersData:{},elements:{reference:Ee,popper:Oe},attributes:{},styles:{}},Je=[],He=!1,Ke={state:Fe,setOptions:function(Ye){var dt=typeof Ye=="function"?Ye(Fe.options):Ye;Ge(),Fe.options=Object.assign({},pe,Fe.options,dt),Fe.scrollParents={reference:Ci(Ee)?eo(Ee):Ee.contextElement?eo(Ee.contextElement):[],popper:eo(Oe)};var Et,Ze,lt=(function(Xe){var it=Jw(Xe);return Xp.reduce(function(ht,pt){return ht.concat(it.filter(function(ft){return ft.phase===pt}))},[])})((Et=[].concat(L,Fe.options.modifiers),Ze=Et.reduce(function(Xe,it){var ht=Xe[it.name];return Xe[it.name]=ht?Object.assign({},ht,it,{options:Object.assign({},ht.options,it.options),data:Object.assign({},ht.data,it.data)}):it,Xe},{}),Object.keys(Ze).map(function(Xe){return Ze[Xe]})));return Fe.orderedModifiers=lt.filter(function(Xe){return Xe.enabled}),Fe.orderedModifiers.forEach(function(Xe){var it=Xe.name,ht=Xe.options,pt=ht===void 0?{}:ht,ft=Xe.effect;if(typeof ft=="function"){var Bt=ft({state:Fe,name:it,instance:Ke,options:pt});Je.push(Bt||function(){})}}),Ke.update()},forceUpdate:function(){if(!He){var Ye=Fe.elements,dt=Ye.reference,Et=Ye.popper;if(_g(dt,Et)){Fe.rects={reference:Qw(dt,Xs(Et),Fe.options.strategy==="fixed"),popper:Hc(Et)},Fe.reset=!1,Fe.placement=Fe.options.placement,Fe.orderedModifiers.forEach(function(ft){return Fe.modifiersData[ft.name]=Object.assign({},ft.data)});for(var Ze=0;Ze<Fe.orderedModifiers.length;Ze++)if(Fe.reset!==!0){var lt=Fe.orderedModifiers[Ze],Xe=lt.fn,it=lt.options,ht=it===void 0?{}:it,pt=lt.name;typeof Xe=="function"&&(Fe=Xe({state:Fe,options:ht,name:pt,instance:Ke})||Fe)}else Fe.reset=!1,Ze=-1}}},update:(Ue=function(){return new Promise(function(Ye){Ke.forceUpdate(),Ye(Fe)})},function(){return We||(We=new Promise(function(Ye){Promise.resolve().then(function(){We=void 0,Ye(Ue())})})),We}),destroy:function(){Ge(),He=!0}};if(!_g(Ee,Oe))return Ke;function Ge(){Je.forEach(function(Ye){return Ye()}),Je=[]}return Ke.setOptions(Me).then(function(Ye){!He&&Me.onFirstUpdate&&Me.onFirstUpdate(Ye)}),Ke}}var Xw=Sa(),Zw=Sa({defaultModifiers:[Gc,Jc,qc,Wc]}),Xc=Sa({defaultModifiers:[Gc,Jc,qc,Wc,pg,ug,gg,ig,dg]});const yg=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Kp,afterRead:qp,afterWrite:Jp,applyStyles:Wc,arrow:ig,auto:ya,basePlacements:os,beforeMain:Gp,beforeRead:Hp,beforeWrite:Yp,bottom:kt,clippingParents:Wp,computeStyles:qc,createPopper:Xc,createPopperBase:Xw,createPopperLite:Zw,detectOverflow:fs,end:as,eventListeners:Gc,flip:ug,hide:dg,left:ln,main:zp,modifierPhases:Xp,offset:pg,placements:Bc,popper:ls,popperGenerator:Sa,popperOffsets:Jc,preventOverflow:gg,read:Vp,reference:$p,right:xn,start:Si,top:wt,variationPlacements:jc,viewport:Fc,write:Qp},Symbol.toStringTag,{value:"Module"})),bg="dropdown",Ii=".bs.dropdown",Zc=".data-api",e1="ArrowUp",vg="ArrowDown",t1=`hide${Ii}`,n1=`hidden${Ii}`,r1=`show${Ii}`,i1=`shown${Ii}`,wg=`click${Ii}${Zc}`,Eg=`keydown${Ii}${Zc}`,s1=`keyup${Ii}${Zc}`,ds="show",xi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',o1=`${xi}.${ds}`,Ca=".dropdown-menu",a1=E()?"top-end":"top-start",l1=E()?"top-start":"top-end",c1=E()?"bottom-end":"bottom-start",u1=E()?"bottom-start":"bottom-end",h1=E()?"left-start":"right-start",f1=E()?"right-start":"left-start",d1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},p1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Jn extends F{constructor(d,C){super(d,C),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,Ca)[0]||z.prev(this._element,Ca)[0]||z.findOne(Ca,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return d1}static get DefaultType(){return p1}static get NAME(){return bg}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!q.trigger(this._element,r1,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const C of[].concat(...document.body.children))q.on(C,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ds),this._element.classList.add(ds),q.trigger(this._element,i1,d)}}hide(){if(h(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!q.trigger(this._element,t1,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))q.off(C,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(ds),this._element.classList.remove(ds),this._element.setAttribute("aria-expanded","false"),ge.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,n1,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!l(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${bg.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(yg===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:l(this._config.reference)?d=c(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const C=this._getPopperConfig();this._popper=Xc(d,this._menu,C)}_isShown(){return this._menu.classList.contains(ds)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return h1;if(d.classList.contains("dropstart"))return f1;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const C=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?C?l1:a1:C?u1:c1}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(C=>Number.parseInt(C,10)):typeof d=="function"?C=>d(C,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ge.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...v(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:C}){const L=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(de=>u(de));L.length&&w(L,C,d===vg,!L.includes(C)).focus()}static jQueryInterface(d){return this.each(function(){const C=Jn.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const C=z.find(o1);for(const L of C){const de=Jn.getInstance(L);if(!de||de._config.autoClose===!1)continue;const pe=d.composedPath(),Ee=pe.includes(de._menu);if(pe.includes(de._element)||de._config.autoClose==="inside"&&!Ee||de._config.autoClose==="outside"&&Ee||de._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const Oe={relatedTarget:de._element};d.type==="click"&&(Oe.clickEvent=d),de._completeHide(Oe)}}static dataApiKeydownHandler(d){const C=/input|textarea/i.test(d.target.tagName),L=d.key==="Escape",de=[e1,vg].includes(d.key);if(!de&&!L||C&&!L)return;d.preventDefault();const pe=this.matches(xi)?this:z.prev(this,xi)[0]||z.next(this,xi)[0]||z.findOne(xi,d.delegateTarget.parentNode),Ee=Jn.getOrCreateInstance(pe);if(de)return d.stopPropagation(),Ee.show(),void Ee._selectMenuItem(d);Ee._isShown()&&(d.stopPropagation(),Ee.hide(),pe.focus())}}q.on(document,Eg,xi,Jn.dataApiKeydownHandler),q.on(document,Eg,Ca,Jn.dataApiKeydownHandler),q.on(document,wg,Jn.clearMenus),q.on(document,s1,Jn.clearMenus),q.on(document,wg,xi,function(O){O.preventDefault(),Jn.getOrCreateInstance(this).toggle()}),y(Jn);const Sg="backdrop",Cg="show",Ag=`mousedown.bs.${Sg}`,g1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},m1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ig extends Te{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return g1}static get DefaultType(){return m1}static get NAME(){return Sg}show(d){if(!this._config.isVisible)return void v(d);this._append();const C=this._getElement();this._config.isAnimated&&p(C),C.classList.add(Cg),this._emulateAnimation(()=>{v(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(Cg),this._emulateAnimation(()=>{this.dispose(),v(d)})):v(d)}dispose(){this._isAppended&&(q.off(this._element,Ag),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=c(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),q.on(d,Ag,()=>{v(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){A(d,this._getElement(),this._config.isAnimated)}}const Aa=".bs.focustrap",_1=`focusin${Aa}`,y1=`keydown.tab${Aa}`,xg="backward",b1={autofocus:!0,trapElement:null},v1={autofocus:"boolean",trapElement:"element"};class Tg extends Te{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return b1}static get DefaultType(){return v1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,Aa),q.on(document,_1,d=>this._handleFocusin(d)),q.on(document,y1,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Aa))}_handleFocusin(d){const{trapElement:C}=this._config;if(d.target===document||d.target===C||C.contains(d.target))return;const L=z.focusableChildren(C);L.length===0?C.focus():this._lastTabNavDirection===xg?L[L.length-1].focus():L[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?xg:"forward")}}const kg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Og=".sticky-top",Ia="padding-right",Pg="margin-right";class eu{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ia,C=>C+d),this._setElementAttributes(kg,Ia,C=>C+d),this._setElementAttributes(Og,Pg,C=>C-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ia),this._resetElementAttributes(kg,Ia),this._resetElementAttributes(Og,Pg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,C,L){const de=this.getWidth();this._applyManipulationCallback(d,pe=>{if(pe!==this._element&&window.innerWidth>pe.clientWidth+de)return;this._saveInitialAttribute(pe,C);const Ee=window.getComputedStyle(pe).getPropertyValue(C);pe.style.setProperty(C,`${L(Number.parseFloat(Ee))}px`)})}_saveInitialAttribute(d,C){const L=d.style.getPropertyValue(C);L&&ge.setDataAttribute(d,C,L)}_resetElementAttributes(d,C){this._applyManipulationCallback(d,L=>{const de=ge.getDataAttribute(L,C);de!==null?(ge.removeDataAttribute(L,C),L.style.setProperty(C,de)):L.style.removeProperty(C)})}_applyManipulationCallback(d,C){if(l(d))C(d);else for(const L of z.find(d,this._element))C(L)}}const Wn=".bs.modal",w1=`hide${Wn}`,E1=`hidePrevented${Wn}`,Rg=`hidden${Wn}`,Ng=`show${Wn}`,S1=`shown${Wn}`,C1=`resize${Wn}`,A1=`click.dismiss${Wn}`,I1=`mousedown.dismiss${Wn}`,x1=`keydown.dismiss${Wn}`,T1=`click${Wn}.data-api`,Mg="modal-open",Dg="show",tu="modal-static",k1={backdrop:!0,focus:!0,keyboard:!0},O1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ti extends F{constructor(d,C){super(d,C),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new eu,this._addEventListeners()}static get Default(){return k1}static get DefaultType(){return O1}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||q.trigger(this._element,Ng,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Mg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(q.trigger(this._element,w1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Dg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){q.off(window,Wn),q.off(this._dialog,Wn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ig({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Tg({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const C=z.findOne(".modal-body",this._dialog);C&&(C.scrollTop=0),p(this._element),this._element.classList.add(Dg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,S1,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,x1,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),q.on(window,C1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,I1,d=>{q.one(this._element,A1,C=>{this._element===d.target&&this._element===C.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Mg),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Rg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,E1).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,C=this._element.style.overflowY;C==="hidden"||this._element.classList.contains(tu)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(tu),this._queueCallback(()=>{this._element.classList.remove(tu),this._queueCallback(()=>{this._element.style.overflowY=C},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,C=this._scrollBar.getWidth(),L=C>0;if(L&&!d){const de=E()?"paddingLeft":"paddingRight";this._element.style[de]=`${C}px`}if(!L&&d){const de=E()?"paddingRight":"paddingLeft";this._element.style[de]=`${C}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,C){return this.each(function(){const L=Ti.getOrCreateInstance(this,d);if(typeof d=="string"){if(L[d]===void 0)throw new TypeError(`No method named "${d}"`);L[d](C)}})}}q.on(document,T1,'[data-bs-toggle="modal"]',function(O){const d=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&O.preventDefault(),q.one(d,Ng,L=>{L.defaultPrevented||q.one(d,Rg,()=>{u(this)&&this.focus()})});const C=z.findOne(".modal.show");C&&Ti.getInstance(C).hide(),Ti.getOrCreateInstance(d).toggle(this)}),K(Ti),y(Ti);const Sr=".bs.offcanvas",Lg=".data-api",P1=`load${Sr}${Lg}`,Fg="show",jg="showing",Bg="hiding",Ug=".offcanvas.show",R1=`show${Sr}`,N1=`shown${Sr}`,M1=`hide${Sr}`,Wg=`hidePrevented${Sr}`,$g=`hidden${Sr}`,D1=`resize${Sr}`,L1=`click${Sr}${Lg}`,F1=`keydown.dismiss${Sr}`,j1={backdrop:!0,keyboard:!0,scroll:!1},B1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Cr extends F{constructor(d,C){super(d,C),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return j1}static get DefaultType(){return B1}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||q.trigger(this._element,R1,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new eu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Fg),this._element.classList.remove(jg),q.trigger(this._element,N1,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,M1).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Fg,Bg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new eu().reset(),q.trigger(this._element,$g)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Ig({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():q.trigger(this._element,Wg)}:null})}_initializeFocusTrap(){return new Tg({trapElement:this._element})}_addEventListeners(){q.on(this._element,F1,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():q.trigger(this._element,Wg))})}static jQueryInterface(d){return this.each(function(){const C=Cr.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);C[d](this)}})}}q.on(document,L1,'[data-bs-toggle="offcanvas"]',function(O){const d=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&O.preventDefault(),h(this))return;q.one(d,$g,()=>{u(this)&&this.focus()});const C=z.findOne(Ug);C&&C!==d&&Cr.getInstance(C).hide(),Cr.getOrCreateInstance(d).toggle(this)}),q.on(window,P1,()=>{for(const O of z.find(Ug))Cr.getOrCreateInstance(O).show()}),q.on(window,D1,()=>{for(const O of z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(O).position!=="fixed"&&Cr.getOrCreateInstance(O).hide()}),K(Cr),y(Cr);const Hg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},U1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),W1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,$1=(O,d)=>{const C=O.nodeName.toLowerCase();return d.includes(C)?!U1.has(C)||!!W1.test(O.nodeValue):d.filter(L=>L instanceof RegExp).some(L=>L.test(C))},H1={allowList:Hg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},V1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},q1={entry:"(string|element|function|null)",selector:"(string|element)"};class G1 extends Te{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return H1}static get DefaultType(){return V1}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[de,pe]of Object.entries(this._config.content))this._setContent(d,pe,de);const C=d.children[0],L=this._resolvePossibleFunction(this._config.extraClass);return L&&C.classList.add(...L.split(" ")),C}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[C,L]of Object.entries(d))super._typeCheckConfig({selector:C,entry:L},q1)}_setContent(d,C,L){const de=z.findOne(L,d);de&&((C=this._resolvePossibleFunction(C))?l(C)?this._putElementInTemplate(c(C),de):this._config.html?de.innerHTML=this._maybeSanitize(C):de.textContent=C:de.remove())}_maybeSanitize(d){return this._config.sanitize?(function(C,L,de){if(!C.length)return C;if(de&&typeof de=="function")return de(C);const pe=new window.DOMParser().parseFromString(C,"text/html"),Ee=[].concat(...pe.body.querySelectorAll("*"));for(const Oe of Ee){const Me=Oe.nodeName.toLowerCase();if(!Object.keys(L).includes(Me)){Oe.remove();continue}const Ue=[].concat(...Oe.attributes),We=[].concat(L["*"]||[],L[Me]||[]);for(const Fe of Ue)$1(Fe,We)||Oe.removeAttribute(Fe.nodeName)}return pe.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return v(d,[void 0,this])}_putElementInTemplate(d,C){if(this._config.html)return C.innerHTML="",void C.append(d);C.textContent=d.textContent}}const z1=new Set(["sanitize","allowList","sanitizeFn"]),nu="fade",xa="show",K1=".tooltip-inner",Vg=".modal",qg="hide.bs.modal",to="hover",ru="focus",iu="click",Y1={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},Q1={allowList:Hg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},J1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ki extends F{constructor(d,C){if(yg===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,C),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Q1}static get DefaultType(){return J1}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(Vg),qg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=q.trigger(this._element,this.constructor.eventName("show")),C=(f(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!C)return;this._disposePopper();const L=this._getTipElement();this._element.setAttribute("aria-describedby",L.getAttribute("id"));const{container:de}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(de.append(L),q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(L),L.classList.add(xa),"ontouchstart"in document.documentElement)for(const pe of[].concat(...document.body.children))q.on(pe,"mouseover",g);this._queueCallback(()=>{q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(xa),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))q.off(d,"mouseover",g);this._activeTrigger[iu]=!1,this._activeTrigger[ru]=!1,this._activeTrigger[to]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const C=this._getTemplateFactory(d).toHtml();if(!C)return null;C.classList.remove(nu,xa),C.classList.add(`bs-${this.constructor.NAME}-auto`);const L=(de=>{do de+=Math.floor(1e6*Math.random());while(document.getElementById(de));return de})(this.constructor.NAME).toString();return C.setAttribute("id",L),this._isAnimated()&&C.classList.add(nu),C}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new G1({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[K1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nu)}_isShown(){return this.tip&&this.tip.classList.contains(xa)}_createPopper(d){const C=v(this._config.placement,[this,d,this._element]),L=Y1[C.toUpperCase()];return Xc(this._element,d,this._getPopperConfig(L))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(C=>Number.parseInt(C,10)):typeof d=="function"?C=>d(C,this._element):d}_resolvePossibleFunction(d){return v(d,[this._element,this._element])}_getPopperConfig(d){const C={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:L=>{this._getTipElement().setAttribute("data-popper-placement",L.state.placement)}}]};return{...C,...v(this._config.popperConfig,[void 0,C])}}_setListeners(){const d=this._config.trigger.split(" ");for(const C of d)if(C==="click")q.on(this._element,this.constructor.eventName("click"),this._config.selector,L=>{const de=this._initializeOnDelegatedTarget(L);de._activeTrigger[iu]=!(de._isShown()&&de._activeTrigger[iu]),de.toggle()});else if(C!=="manual"){const L=C===to?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),de=C===to?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");q.on(this._element,L,this._config.selector,pe=>{const Ee=this._initializeOnDelegatedTarget(pe);Ee._activeTrigger[pe.type==="focusin"?ru:to]=!0,Ee._enter()}),q.on(this._element,de,this._config.selector,pe=>{const Ee=this._initializeOnDelegatedTarget(pe);Ee._activeTrigger[pe.type==="focusout"?ru:to]=Ee._element.contains(pe.relatedTarget),Ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(Vg),qg,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,C){clearTimeout(this._timeout),this._timeout=setTimeout(d,C)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const C=ge.getDataAttributes(this._element);for(const L of Object.keys(C))z1.has(L)&&delete C[L];return d={...C,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:c(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[C,L]of Object.entries(this._config))this.constructor.Default[C]!==L&&(d[C]=L);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const C=ki.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d]()}})}}y(ki);const X1=".popover-header",Z1=".popover-body",eE={...ki.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},tE={...ki.DefaultType,content:"(null|string|element|function)"};class Ta extends ki{static get Default(){return eE}static get DefaultType(){return tE}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[X1]:this._getTitle(),[Z1]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const C=Ta.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d]()}})}}y(Ta);const su=".bs.scrollspy",nE=`activate${su}`,Gg=`click${su}`,rE=`load${su}.data-api`,ps="active",ou="[href]",zg=".nav-link",iE=`${zg}, .nav-item > ${zg}, .list-group-item`,sE={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},oE={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class no extends F{constructor(d,C){super(d,C),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sE}static get DefaultType(){return oE}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=c(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(C=>Number.parseFloat(C))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,Gg),q.on(this._config.target,Gg,ou,d=>{const C=this._observableSections.get(d.target.hash);if(C){d.preventDefault();const L=this._rootElement||window,de=C.offsetTop-this._element.offsetTop;if(L.scrollTo)return void L.scrollTo({top:de,behavior:"smooth"});L.scrollTop=de}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(C=>this._observerCallback(C),d)}_observerCallback(d){const C=Ee=>this._targetLinks.get(`#${Ee.target.id}`),L=Ee=>{this._previousScrollData.visibleEntryTop=Ee.target.offsetTop,this._process(C(Ee))},de=(this._rootElement||document.documentElement).scrollTop,pe=de>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=de;for(const Ee of d){if(!Ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(C(Ee));continue}const Oe=Ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(pe&&Oe){if(L(Ee),!de)return}else pe||Oe||L(Ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=z.find(ou,this._config.target);for(const C of d){if(!C.hash||h(C))continue;const L=z.findOne(decodeURI(C.hash),this._element);u(L)&&(this._targetLinks.set(decodeURI(C.hash),C),this._observableSections.set(C.hash,L))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(ps),this._activateParents(d),q.trigger(this._element,nE,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))z.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(ps);else for(const C of z.parents(d,".nav, .list-group"))for(const L of z.prev(C,iE))L.classList.add(ps)}_clearActiveClass(d){d.classList.remove(ps);const C=z.find(`${ou}.${ps}`,d);for(const L of C)L.classList.remove(ps)}static jQueryInterface(d){return this.each(function(){const C=no.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);C[d]()}})}}q.on(window,rE,()=>{for(const O of z.find('[data-bs-spy="scroll"]'))no.getOrCreateInstance(O)}),y(no);const Oi=".bs.tab",aE=`hide${Oi}`,lE=`hidden${Oi}`,cE=`show${Oi}`,uE=`shown${Oi}`,hE=`click${Oi}`,fE=`keydown${Oi}`,dE=`load${Oi}`,pE="ArrowLeft",Kg="ArrowRight",gE="ArrowUp",Yg="ArrowDown",au="Home",Qg="End",Pi="active",Jg="fade",lu="show",Xg=".dropdown-toggle",cu=`:not(${Xg})`,Zg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',uu=`.nav-link${cu}, .list-group-item${cu}, [role="tab"]${cu}, ${Zg}`,mE=`.${Pi}[data-bs-toggle="tab"], .${Pi}[data-bs-toggle="pill"], .${Pi}[data-bs-toggle="list"]`;class Ri extends F{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,fE,C=>this._keydown(C)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const C=this._getActiveElem(),L=C?q.trigger(C,aE,{relatedTarget:d}):null;q.trigger(d,cE,{relatedTarget:C}).defaultPrevented||L&&L.defaultPrevented||(this._deactivate(C,d),this._activate(d,C))}_activate(d,C){d&&(d.classList.add(Pi),this._activate(z.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),q.trigger(d,uE,{relatedTarget:C})):d.classList.add(lu)},d,d.classList.contains(Jg)))}_deactivate(d,C){d&&(d.classList.remove(Pi),d.blur(),this._deactivate(z.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),q.trigger(d,lE,{relatedTarget:C})):d.classList.remove(lu)},d,d.classList.contains(Jg)))}_keydown(d){if(![pE,Kg,gE,Yg,au,Qg].includes(d.key))return;d.stopPropagation(),d.preventDefault();const C=this._getChildren().filter(de=>!h(de));let L;if([au,Qg].includes(d.key))L=C[d.key===au?0:C.length-1];else{const de=[Kg,Yg].includes(d.key);L=w(C,d.target,de,!0)}L&&(L.focus({preventScroll:!0}),Ri.getOrCreateInstance(L).show())}_getChildren(){return z.find(uu,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,C){this._setAttributeIfNotExists(d,"role","tablist");for(const L of C)this._setInitialAttributesOnChild(L)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const C=this._elemIsActive(d),L=this._getOuterElement(d);d.setAttribute("aria-selected",C),L!==d&&this._setAttributeIfNotExists(L,"role","presentation"),C||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const C=z.getElementFromSelector(d);C&&(this._setAttributeIfNotExists(C,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(C,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,C){const L=this._getOuterElement(d);if(!L.classList.contains("dropdown"))return;const de=(pe,Ee)=>{const Oe=z.findOne(pe,L);Oe&&Oe.classList.toggle(Ee,C)};de(Xg,Pi),de(".dropdown-menu",lu),L.setAttribute("aria-expanded",C)}_setAttributeIfNotExists(d,C,L){d.hasAttribute(C)||d.setAttribute(C,L)}_elemIsActive(d){return d.classList.contains(Pi)}_getInnerElement(d){return d.matches(uu)?d:z.findOne(uu,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const C=Ri.getOrCreateInstance(this);if(typeof d=="string"){if(C[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);C[d]()}})}}q.on(document,hE,Zg,function(O){["A","AREA"].includes(this.tagName)&&O.preventDefault(),h(this)||Ri.getOrCreateInstance(this).show()}),q.on(window,dE,()=>{for(const O of z.find(mE))Ri.getOrCreateInstance(O)}),y(Ri);const Jr=".bs.toast",_E=`mouseover${Jr}`,yE=`mouseout${Jr}`,bE=`focusin${Jr}`,vE=`focusout${Jr}`,wE=`hide${Jr}`,EE=`hidden${Jr}`,SE=`show${Jr}`,CE=`shown${Jr}`,em="hide",ka="show",Oa="showing",AE={animation:"boolean",autohide:"boolean",delay:"number"},IE={animation:!0,autohide:!0,delay:5e3};class ro extends F{constructor(d,C){super(d,C),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return IE}static get DefaultType(){return AE}static get NAME(){return"toast"}show(){q.trigger(this._element,SE).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(em),p(this._element),this._element.classList.add(ka,Oa),this._queueCallback(()=>{this._element.classList.remove(Oa),q.trigger(this._element,CE),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(q.trigger(this._element,wE).defaultPrevented||(this._element.classList.add(Oa),this._queueCallback(()=>{this._element.classList.add(em),this._element.classList.remove(Oa,ka),q.trigger(this._element,EE)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ka),super.dispose()}isShown(){return this._element.classList.contains(ka)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,C){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=C;break;case"focusin":case"focusout":this._hasKeyboardInteraction=C}if(C)return void this._clearTimeout();const L=d.relatedTarget;this._element===L||this._element.contains(L)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,_E,d=>this._onInteraction(d,!0)),q.on(this._element,yE,d=>this._onInteraction(d,!1)),q.on(this._element,bE,d=>this._onInteraction(d,!0)),q.on(this._element,vE,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const C=ro.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d](this)}})}}return K(ro),y(ro),{Alert:B,Button:D,Carousel:Y,Collapse:bn,Dropdown:Jn,Modal:Ti,Offcanvas:Cr,Popover:Ta,ScrollSpy:no,Tab:Ri,Toast:ro,Tooltip:ki}})})(Ga)),Ga.exports}w3();const $d="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2014C20.49%2012.54%2022%2010.79%2022%208.5C22%207.04131%2021.4205%205.64236%2020.3891%204.61091C19.3576%203.57946%2017.9587%203%2016.5%203C14.74%203%2013.5%203.5%2012%205C10.5%203.5%209.26%203%207.5%203C6.04131%203%204.64236%203.57946%203.61091%204.61091C2.57946%205.64236%202%207.04131%202%208.5C2%2010.8%203.5%2012.55%205%2014L12%2021L19%2014Z'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.0001%205L9.0401%207.96C8.83692%208.16171%208.67567%208.40162%208.56562%208.66593C8.45558%208.93023%208.39893%209.2137%208.39893%209.5C8.39893%209.7863%208.45558%2010.0698%208.56562%2010.3341C8.67567%2010.5984%208.83692%2010.8383%209.0401%2011.04C9.8601%2011.86%2011.1701%2011.89%2012.0401%2011.11L14.1101%209.21C14.629%208.73919%2015.3045%208.47839%2016.0051%208.47839C16.7057%208.47839%2017.3813%208.73919%2017.9001%209.21L20.8601%2011.87'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18%2015L16%2013'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2018L13%2016'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",E3=()=>{};var h0={};const Wb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Ne=function(t,e){if(!t)throw Hs(e)},Hs=function(t){return new Error("Firebase Database ("+Wb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const $b=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new C3;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hb=function(t){const e=$b(t);return Hd.encodeByteArray(e,!0)},Pl=function(t){return Hb(t).replace(/\./g,"")},sh=function(t){try{return Hd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A3(t){return Vb(void 0,t)}function Vb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!I3(n)||(t[n]=Vb(t[n],e[n]));return t}function I3(t){return t!=="__proto__"}function x3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const T3=()=>x3().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process>"u"||typeof h0>"u")return;const t=h0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sh(t[1]);return e&&JSON.parse(e)},qb=()=>{try{return E3()||T3()||k3()||O3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P3=t=>qb()?.emulatorHosts?.[t],R3=t=>{const e=P3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gb=()=>qb()?.config;class la{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Vd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N3(t){return(await fetch(t,{credentials:"include"})).ok}function M3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pl(JSON.stringify(n)),Pl(JSON.stringify(o)),""].join(".")}const To={};function D3(){const t={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?t.emulator.push(e):t.prod.push(e);return t}function L3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f0=!1;function F3(t,e){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||To[t]===e||To[t]||f0)return;To[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=D3().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{f0=!0,o()},f}function u(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=L3(r),g=n("text"),p=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),b=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const v=f.element;a(v),u(b,_);const A=c();l(y,E),v.append(y,p,b,A),document.body.appendChild(v)}s?(p.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function j3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j3())}function B3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U3(){return Wb.NODE_ADMIN===!0}function W3(){try{return typeof indexedDB=="object"}catch{return!1}}function $3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const H3="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H3,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kb.prototype.create)}}class Kb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ca(i,a,r)}}function V3(t,e){return t.replace(q3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q3=/\{\$([^}]+)}/g;function Vo(t){return JSON.parse(t)}function Ht(t){return JSON.stringify(t)}const Yb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Vo(sh(s[0])||""),n=Vo(sh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},G3=function(t){const e=Yb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z3=function(t){const e=Yb(t).claims;return typeof e=="object"&&e.admin===!0};function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function d0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p0(s)&&p0(o)){if(!Nl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p0(t){return t!==null&&typeof t=="object"}function K3(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Y3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function _c(t,e){return`${t} failed: ${e} argument `}const Q3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Vs(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fi="[DEFAULT]";class J3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new la;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z3(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X3(t){return t===Fi?void 0:t}function Z3(t){return t.instantiationMode==="EAGER"}class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const tI={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},nI=At.INFO,rI={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},iI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qb{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const sI=(t,e)=>e.some(n=>t instanceof n);let g0,m0;function oI(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aI(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,oh=new WeakMap,Xb=new WeakMap,Tu=new WeakMap,qd=new WeakMap;function lI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jb.set(n,t)}).catch(()=>{}),qd.set(e,t),e}function cI(t){if(oh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});oh.set(t,e)}let ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uI(t){ah=t(ah)}function hI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ku(this),e,...n);return Xb.set(r,e.sort?e.sort():[e]),fi(r)}:aI().includes(t)?function(...e){return t.apply(ku(this),e),fi(Jb.get(this))}:function(...e){return fi(t.apply(ku(this),e))}}function fI(t){return typeof t=="function"?hI(t):(t instanceof IDBTransaction&&cI(t),sI(t,oI())?new Proxy(t,ah):t)}function fi(t){if(t instanceof IDBRequest)return lI(t);if(Tu.has(t))return Tu.get(t);const e=fI(t);return e!==t&&(Tu.set(t,e),qd.set(e,t)),e}const ku=t=>qd.get(t);function dI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fi(o.result),l.oldVersion,l.newVersion,fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pI=["get","getKey","getAll","getAllKeys","count"],gI=["put","add","delete","clear"],Ou=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ou.get(e))return Ou.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ou.set(e,s),s}uI(t=>({...t,get:(e,n,r)=>_0(e,n)||t.get(e,n,r),has:(e,n)=>!!_0(e,n)||t.has(e,n)}));class mI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_I(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _I(t){return t.getComponent()?.type==="VERSION"}const lh="@firebase/app",y0="0.14.6";const Ur=new Qb("@firebase/app"),yI="@firebase/app-compat",bI="@firebase/analytics-compat",vI="@firebase/analytics",wI="@firebase/app-check-compat",EI="@firebase/app-check",SI="@firebase/auth",CI="@firebase/auth-compat",AI="@firebase/database",II="@firebase/data-connect",xI="@firebase/database-compat",TI="@firebase/functions",kI="@firebase/functions-compat",OI="@firebase/installations",PI="@firebase/installations-compat",RI="@firebase/messaging",NI="@firebase/messaging-compat",MI="@firebase/performance",DI="@firebase/performance-compat",LI="@firebase/remote-config",FI="@firebase/remote-config-compat",jI="@firebase/storage",BI="@firebase/storage-compat",UI="@firebase/firestore",WI="@firebase/ai",$I="@firebase/firestore-compat",HI="firebase",VI="12.6.0";const ch="[DEFAULT]",qI={[lh]:"fire-core",[yI]:"fire-core-compat",[vI]:"fire-analytics",[bI]:"fire-analytics-compat",[EI]:"fire-app-check",[wI]:"fire-app-check-compat",[SI]:"fire-auth",[CI]:"fire-auth-compat",[AI]:"fire-rtdb",[II]:"fire-data-connect",[xI]:"fire-rtdb-compat",[TI]:"fire-fn",[kI]:"fire-fn-compat",[OI]:"fire-iid",[PI]:"fire-iid-compat",[RI]:"fire-fcm",[NI]:"fire-fcm-compat",[MI]:"fire-perf",[DI]:"fire-perf-compat",[LI]:"fire-rc",[FI]:"fire-rc-compat",[jI]:"fire-gcs",[BI]:"fire-gcs-compat",[UI]:"fire-fst",[$I]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[HI]:"fire-js-all"};const Ml=new Map,GI=new Map,uh=new Map;function b0(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(uh.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;uh.set(e,t);for(const n of Ml.values())b0(n,t);for(const n of GI.values())b0(n,t);return!0}function zI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KI(t){return t==null?!1:t.settings!==void 0}const YI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Kb("app","Firebase",YI);class QI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const JI=VI;function Zb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ch,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=Gb()),!n)throw di.create("no-options");const s=Ml.get(i);if(s){if(Nl(n,s.options)&&Nl(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new eI(i);for(const l of uh.values())o.addComponent(l);const a=new QI(n,r,o);return Ml.set(i,a),a}function XI(t=ch){const e=Ml.get(t);if(!e&&t===ch&&Gb())return Zb();if(!e)throw di.create("no-app",{appName:t});return e}function ks(t,e,n){let r=qI[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(o.join(" "));return}Dl(new qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ZI="firebase-heartbeat-database",ex=1,Go="firebase-heartbeat-store";let Pu=null;function ev(){return Pu||(Pu=dI(ZI,ex,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Pu}async function tx(t){try{const n=(await ev()).transaction(Go),r=await n.objectStore(Go).get(tv(t));return await n.done,r}catch(e){if(e instanceof ca)Ur.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(n.message)}}}async function v0(t,e){try{const r=(await ev()).transaction(Go,"readwrite");await r.objectStore(Go).put(e,tv(t)),await r.done}catch(n){if(n instanceof ca)Ur.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});Ur.warn(r.message)}}}function tv(t){return`${t.name}!${t.options.appId}`}const nx=1024,rx=30;class ix{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ox(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rx){const i=ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:n,unsentEntries:r}=sx(this._heartbeatsCache.heartbeats),i=Pl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ur.warn(e),""}}}function w0(){return new Date().toISOString().substring(0,10)}function sx(t,e=nx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W3()?$3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E0(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}function ax(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function lx(t){Dl(new qo("platform-logger",e=>new mI(e),"PRIVATE")),Dl(new qo("heartbeat",e=>new ix(e),"PRIVATE")),ks(lh,y0,t),ks(lh,y0,"esm2020"),ks("fire-js","")}lx("");var S0={};const C0="@firebase/database",A0="1.1.0";let nv="";function cx(t){nv=t}class ux{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const rv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ux(e)}}catch{}return new hx},Wi=rv("localStorage"),fx=rv("sessionStorage");const Os=new Qb("@firebase/database"),dx=(function(){let t=1;return function(){return t++}})(),iv=function(t){const e=Q3(t),n=new Y3;n.update(e);const r=n.digest();return Hd.encodeByteArray(r)},ua=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ua.apply(null,r):typeof r=="object"?e+=Ht(r):e+=r,e+=" "}return e};let ko=null,I0=!0;const px=function(t,e){Ne(!0,"Can't turn on custom loggers persistently."),Os.logLevel=At.VERBOSE,ko=Os.log.bind(Os)},Jt=function(...t){if(I0===!0&&(I0=!1,ko===null&&fx.get("logging_enabled")===!0&&px()),ko){const e=ua.apply(null,t);ko(e)}},ha=function(t){return function(...e){Jt(t,...e)}},hh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ua(...t);Os.error(e)},Wr=function(...t){const e=`FIREBASE FATAL ERROR: ${ua(...t)}`;throw Os.error(e),new Error(e)},_n=function(...t){const e="FIREBASE WARNING: "+ua(...t);Os.warn(e)},gx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},js="[MIN_NAME]",Yi="[MAX_NAME]",Zi=function(t,e){if(t===e)return 0;if(t===js||e===Yi)return-1;if(e===js||t===Yi)return 1;{const n=x0(t),r=x0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_x=function(t,e){return t===e?0:t<e?-1:1},ao=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ht(e))},zd=function(t){if(typeof t!="object"||t===null)return Ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ht(e[r]),n+=":",n+=zd(t[e[r]]);return n+="}",n},sv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ov=function(t){Ne(!Gd(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},yx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ex=new RegExp("^-?(0*)\\d{1,10}$"),Sx=-2147483648,Cx=2147483647,x0=function(t){if(Ex.test(t)){const e=Number(t);if(e>=Sx&&e<=Cx)return e}return null},qs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _n("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ax=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class Ix{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,KI(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){_n(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_n(e)}}class za{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}za.OWNER="owner";const Kd="5",av="v",lv="s",cv="r",uv="f",hv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fv="ls",dv="p",fh="ac",pv="websocket",gv="long_polling";class mv{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Tx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _v(t,e,n){Ne(typeof e=="string","typeof type must == string"),Ne(typeof n=="object","typeof params must == object");let r;if(e===pv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Tx(t)&&(n.ns=t.namespace);const i=[];return Xt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class kx{constructor(){this.counters_={}}incrementCounter(e,n=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return A3(this.counters_)}}const Ru={},Nu={};function Yd(t){const e=t.toString();return Ru[e]||(Ru[e]=new kx),Ru[e]}function Ox(t,e){const n=t.toString();return Nu[n]||(Nu[n]=e()),Nu[n]}class Px{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const T0="start",Rx="close",Nx="pLPCommand",Mx="pRTLPCB",yv="id",bv="pw",vv="ser",Dx="cb",Lx="seg",Fx="ts",jx="d",Bx="dframe",wv=1870,Ev=30,Ux=wv-Ev,Wx=25e3,$x=3e4;class Cs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(e),this.stats_=Yd(n),this.urlFn=l=>(this.appCheckToken&&(l[fh]=this.appCheckToken),_v(n,gv,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Px(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($x)),mx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qd((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===T0)this.id=a,this.password=l;else if(o===Rx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[T0]="t",r[vv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Dx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[av]=Kd,this.transportSessionId&&(r[lv]=this.transportSessionId),this.lastSessionId&&(r[fv]=this.lastSessionId),this.applicationId&&(r[dv]=this.applicationId),this.appCheckToken&&(r[fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&hv.test(location.hostname)&&(r[cv]=uv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cs.forceAllow_=!0}static forceDisallow(){Cs.forceDisallow_=!0}static isAvailable(){return Cs.forceAllow_?!0:!Cs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yx()&&!bx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hb(n),i=sv(r,Ux);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Bx]="t",r[yv]=e,r[bv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dx(),window[Nx+this.uniqueCallbackIdentifier]=e,window[Mx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Jt("frame writing exception"),a.stack&&Jt(a.stack),Jt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Jt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yv]=this.myID,e[bv]=this.myPW,e[vv]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ev+r.length<=wv;){const o=this.pendingSegs.shift();r=r+"&"+Lx+i+"="+o.seg+"&"+Fx+i+"="+o.ts+"&"+jx+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Wx)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Jt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const Hx=16384,Vx=45e3;let Ll=null;typeof MozWebSocket<"u"?Ll=MozWebSocket:typeof WebSocket<"u"&&(Ll=WebSocket);class Zn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=Yd(n),this.connURL=Zn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[av]=Kd,typeof location<"u"&&location.hostname&&hv.test(location.hostname)&&(o[cv]=uv),n&&(o[lv]=n),r&&(o[fv]=r),i&&(o[fh]=i),s&&(o[dv]=s),_v(e,pv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wi.set("previous_websocket_failure",!0);try{let r;U3(),this.mySock=new Ll(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ll!==null&&!Zn.forceDisallow_}static previouslyFailed(){return Wi.isInMemoryStorage||Wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sv(n,Hx);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Vx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zn.responsesRequiredToBeHealthy=2;Zn.healthyTimeout=3e4;class zo{static get ALL_TRANSPORTS(){return[Cs,Zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Zn&&Zn.isAvailable();let r=n&&!Zn.previouslyFailed();if(e.webSocketOnly&&(n||_n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zn];else{const i=this.transports_=[];for(const s of zo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);zo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zo.globalTransportInitialized_=!1;const qx=6e4,Gx=5e3,zx=10*1024,Kx=100*1024,Mu="t",k0="d",Yx="s",O0="r",Qx="e",P0="o",R0="a",N0="n",M0="p",Jx="h";class Xx{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new zo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mu in e){const n=e[Mu];n===R0?this.upgradeIfSecondaryHealthy_():n===O0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===P0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ao("t",e),r=ao("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:M0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ao("t",e),r=ao("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ao(Mu,e);if(k0 in e){const r=e[k0];if(n===Jx){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===N0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Yx?this.onConnectionShutdown_(r):n===O0?this.onReset_(r):n===Qx?hh("Server Error: "+r):n===P0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kd!==r&&_n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Gx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:M0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Sv{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class Cv{constructor(e){this.allowedEvents_=e,this.listeners_={},Ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Fl extends Cv{static getInstance(){return new Fl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const D0=32,L0=768;class gt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function at(){return new gt("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function mi(t){return t.pieces_.length-t.pieceNum_}function xt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new gt(t.pieces_,e)}function Jd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ko(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Av(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new gt(e,0)}function Dt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof gt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new gt(n,0)}function rt(t){return t.pieceNum_>=t.pieces_.length}function mn(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return mn(xt(t),xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eT(t,e){const n=Ko(t,0),r=Ko(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Zi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Xd(t,e){if(mi(t)!==mi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(mi(t)>mi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tT{constructor(e,n){this.errorPrefix_=n,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yc(this.parts_[r]);Iv(this)}}function nT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yc(e),Iv(t)}function rT(t){const e=t.parts_.pop();t.byteLength_-=yc(e),t.parts_.length>0&&(t.byteLength_-=1)}function Iv(t){if(t.byteLength_>L0)throw new Error(t.errorPrefix_+"has a key path longer than "+L0+" bytes ("+t.byteLength_+").");if(t.parts_.length>D0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D0+") or object contains a cycle "+ji(t))}function ji(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class Zd extends Cv{static getInstance(){return new Zd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Ne(e==="visible","Unknown event type: "+e),[this.visible_]}}const lo=1e3,iT=300*1e3,F0=30*1e3,sT=1.3,oT=3e4,aT="server_kill",j0=3;class Lr extends Sv{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Lr.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lo,this.maxReconnectDelay_=iT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ht(s)),Ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new la,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Lr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vr(e,"w")){const r=Fs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();_n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||z3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=G3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ht(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hh("Unrecognized action received from server: "+Ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oT&&(this.reconnectDelay_=lo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Lr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){Ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new Xx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{_n(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(aT)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&_n(h),l())}}}interrupt(e){Jt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],d0(this.interruptReasons_)&&(this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>zd(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new gt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Jt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=j0&&(this.reconnectDelay_=F0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Jt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=j0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nv.replace(/\./g,"-")]=1,zb()?e["framework.cordova"]=1:B3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fl.getInstance().currentlyOnline();return d0(this.interruptReasons_)&&e}}Lr.nextPersistentConnectionId_=0;Lr.nextConnectionId_=0;class tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new tt(e,n)}}class bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new tt(js,e),i=new tt(js,n);return this.compare(r,i)!==0}minPost(){return tt.MIN}}let Fa;class xv extends bc{static get __EMPTY_NODE(){return Fa}static set __EMPTY_NODE(e){Fa=e}compare(e,n){return Zi(e.name,n.name)}isDefinedOn(e){throw Hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(Yi,Fa)}makePost(e,n){return Ne(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,Fa)}toString(){return".key"}}const Ps=new xv;class ja{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??wn.EMPTY_NODE,this.right=s??wn.EMPTY_NODE}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return wn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return wn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zt.RED=!0;zt.BLACK=!1;class lT{copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wn{constructor(e,n=wn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new wn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new wn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ja(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ja(this.root_,null,this.comparator_,!0,e)}}wn.EMPTY_NODE=new lT;function cT(t,e){return Zi(t.name,e.name)}function ep(t,e){return Zi(t,e)}let dh;function uT(t){dh=t}const Tv=function(t){return typeof t=="number"?"number:"+ov(t):"string:"+t},kv=function(t){if(t.isLeafNode()){const e=t.val();Ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vr(e,".sv"),"Priority must be a string or number.")}else Ne(t===dh||t.isEmpty(),"priority of unexpected type.");Ne(t===dh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let B0;class Gt{static set __childrenNodeConstructor(e){B0=e}static get __childrenNodeConstructor(){return B0}constructor(e,n=Gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rt(e)?this:et(e)===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ne(r!==".priority"||mi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ov(this.value_):e+=this.value_,this.lazyHash_=iv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gt.__childrenNodeConstructor?-1:(Ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Gt.VALUE_TYPE_ORDER.indexOf(n),s=Gt.VALUE_TYPE_ORDER.indexOf(r);return Ne(i>=0,"Unknown leaf type: "+n),Ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Ov,Pv;function hT(t){Ov=t}function fT(t){Pv=t}class dT extends bc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Zi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(Yi,new Gt("[PRIORITY-POST]",Pv))}makePost(e,n){const r=Ov(e);return new tt(n,new Gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Lt=new dT;const pT=Math.log(2);class gT{constructor(e){const n=s=>parseInt(Math.log(s)/pT,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jl=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new zt(f,h.node,zt.BLACK,null,null);{const g=parseInt(u/2,10)+l,p=i(l,g),_=i(g+1,c);return h=t[g],f=n?n(h):h,new zt(f,h.node,zt.BLACK,p,_)}},s=function(l){let c=null,u=null,h=t.length;const f=function(p,_){const b=h-p,E=h;h-=p;const y=i(b+1,E),v=t[b],A=n?n(v):v;g(new zt(A,v.node,_,null,y))},g=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const _=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));_?f(b,zt.BLACK):(f(b,zt.BLACK),f(b,zt.RED))}return u},o=new gT(t.length),a=s(o);return new wn(r||e,a)};let Du;const ys={};class Mr{static get Default(){return Ne(ys&&Lt,"ChildrenNode.ts has not been loaded"),Du=Du||new Mr({".priority":ys},{".priority":Lt}),Du}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Fs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wn?n:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,n){Ne(e!==Ps,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=jl(r,e.getCompare()):a=ys;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new Mr(u,c)}addToIndexes(e,n){const r=Rl(this.indexes_,(i,s)=>{const o=Fs(this.indexSet_,s);if(Ne(o,"Missing index implementation for "+s),i===ys)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(tt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),jl(a,o.getCompare())}else return ys;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new tt(e.name,a))),l.insert(e,e.node)}});return new Mr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rl(this.indexes_,i=>{if(i===ys)return i;{const s=n.get(e.name);return s?i.remove(new tt(e.name,s)):i}});return new Mr(r,this.indexSet_)}}let co;class Ve{static get EMPTY_NODE(){return co||(co=new Ve(new wn(ep),null,Mr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kv(this.priorityNode_),this.children_.isEmpty()&&Ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||co}updatePriority(e){return this.children_.isEmpty()?this:new Ve(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?co:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(xt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?co:this.priorityNode_;return new Ve(i,o,s)}}updateChild(e,n){const r=et(e);if(r===null)return n;{Ne(et(e)!==".priority"||mi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(xt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Lt,(o,a)=>{n[o]=a.val(e),r++,s&&Ve.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tv(this.getPriority().val())+":"),this.forEachChild(Lt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":iv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fa?-1:0}withIndex(e){if(e===Ps||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ve(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ps||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Lt),i=n.getIterator(Lt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ps?null:this.indexMap_.get(e.toString())}}Ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mT extends Ve{constructor(){super(new wn(ep),Ve.EMPTY_NODE,Mr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ve.EMPTY_NODE}isEmpty(){return!1}}const fa=new mT;Object.defineProperties(tt,{MIN:{value:new tt(js,Ve.EMPTY_NODE)},MAX:{value:new tt(Yi,fa)}});xv.__EMPTY_NODE=Ve.EMPTY_NODE;Gt.__childrenNodeConstructor=Ve;uT(fa);fT(fa);const _T=!0;function $t(t,e=null){if(t===null)return Ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Gt(n,$t(e))}if(!(t instanceof Array)&&_T){const n=[];let r=!1;if(Xt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=$t(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new tt(o,l)))}}),n.length===0)return Ve.EMPTY_NODE;const s=jl(n,cT,o=>o.name,ep);if(r){const o=jl(n,Lt.getCompare());return new Ve(s,$t(e),new Mr({".priority":o},{".priority":Lt}))}else return new Ve(s,$t(e),Mr.Default)}else{let n=Ve.EMPTY_NODE;return Xt(t,(r,i)=>{if(vr(t,r)&&r.substring(0,1)!=="."){const s=$t(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority($t(e))}}hT($t);class yT extends bc{constructor(e){super(),this.indexPath_=e,Ne(!rt(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Zi(e.name,n.name):s}makePost(e,n){const r=$t(e),i=Ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new tt(n,i)}maxPost(){const e=Ve.EMPTY_NODE.updateChild(this.indexPath_,fa);return new tt(Yi,e)}toString(){return Ko(this.indexPath_,0).join("/")}}class bT extends bc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Zi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,n){const r=$t(e);return new tt(n,r)}toString(){return".value"}}const vT=new bT;function Rv(t){return{type:"value",snapshotNode:t}}function Bs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class tp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yo(n,a)):Ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Bs(n,r)):o.trackChildChange(Qo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Lt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Yo(i,s))}),n.isLeafNode()||n.forEachChild(Lt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Qo(i,s,o))}else r.trackChildChange(Bs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ve.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jo{constructor(e){this.indexedFilter_=new tp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Jo.getStartPost_(e),this.endPost_=Jo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new tt(n,r))||(r=Ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ve.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ve.EMPTY_NODE);const s=this;return n.forEachChild(Lt,(o,a)=>{s.matches(new tt(o,a))||(i=i.updateImmediateChild(o,Ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class ET{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Jo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new tt(n,r))||(r=Ve.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ve.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ve.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,g)=>h(g,f)}else o=this.index_.getCompare();const a=e;Ne(a.numChildren()===this.limit_,"");const l=new tt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,l);if(u&&!r.isEmpty()&&g>=0)return s?.trackChildChange(Qo(n,r,h)),a.updateImmediateChild(n,r);{s?.trackChildChange(Yo(n,h));const _=a.updateImmediateChild(n,Ve.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(Bs(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Yo(c.name,c.node)),s.trackChildChange(Bs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ve.EMPTY_NODE)):e}}class np{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:js}hasEnd(){return this.endSet_}getIndexEndValue(){return Ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lt}copy(){const e=new np;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ST(t){return t.loadsAllData()?new tp(t.getIndex()):t.hasLimit()?new ET(t):new Jo(t)}function U0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Lt?n="$priority":t.index_===vT?n="$value":t.index_===Ps?n="$key":(Ne(t.index_ instanceof yT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function W0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Lt&&(e.i=t.index_.toString()),e}class Bl extends Sv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ha("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Bl.getListenId_(e,r),a={};this.listens_[o]=a;const l=U0(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Fs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Bl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=U0(e._queryParams),r=e._path.toString(),i=new la;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+K3(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vo(a.responseText)}catch{_n("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&_n("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class CT{constructor(){this.rootNode_=Ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ul(){return{value:null,children:new Map}}function Nv(t,e,n){if(rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,Ul());const i=t.children.get(r);e=xt(e),Nv(i,e,n)}}function ph(t,e,n){t.value!==null?n(e,t.value):AT(t,(r,i)=>{const s=new gt(e.toString()+"/"+r);ph(i,s,n)})}function AT(t,e){t.children.forEach((n,r)=>{e(r,n)})}class IT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Xt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}const $0=10*1e3,xT=30*1e3,TT=300*1e3;class kT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IT(e);const r=$0+(xT-$0)*Math.random();Oo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xt(e,(i,s)=>{s>0&&vr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*TT))}}var er;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(er||(er={}));function rp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ip(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Wl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=er.ACK_USER_WRITE,this.source=rp()}operationForChild(e){if(rt(this.path)){if(this.affectedTree.value!=null)return Ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new gt(e));return new Wl(at(),n,this.revert)}}else return Ne(et(this.path)===e,"operationForChild called for unrelated child."),new Wl(xt(this.path),this.affectedTree,this.revert)}}class Xo{constructor(e,n){this.source=e,this.path=n,this.type=er.LISTEN_COMPLETE}operationForChild(e){return rt(this.path)?new Xo(this.source,at()):new Xo(this.source,xt(this.path))}}class Qi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=er.OVERWRITE}operationForChild(e){return rt(this.path)?new Qi(this.source,at(),this.snap.getImmediateChild(e)):new Qi(this.source,xt(this.path),this.snap)}}class Us{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=er.MERGE}operationForChild(e){if(rt(this.path)){const n=this.children.subtree(new gt(e));return n.isEmpty()?null:n.value?new Qi(this.source,at(),n.value):new Us(this.source,at(),n)}else return Ne(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Us(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _i{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class OT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function PT(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(wT(o.childName,o.snapshotNode))}),uo(t,i,"child_removed",e,r,n),uo(t,i,"child_added",e,r,n),uo(t,i,"child_moved",s,r,n),uo(t,i,"child_changed",e,r,n),uo(t,i,"value",e,r,n),i}function uo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>NT(t,a,l)),o.forEach(a=>{const l=RT(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function RT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NT(t,e,n){if(e.childName==null||n.childName==null)throw Hs("Should only compare child_ events.");const r=new tt(e.childName,e.snapshotNode),i=new tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function vc(t,e){return{eventCache:t,serverCache:e}}function Po(t,e,n,r){return vc(new _i(e,n,r),t.serverCache)}function Mv(t,e,n,r){return vc(t.eventCache,new _i(e,n,r))}function $l(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ji(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Lu;const MT=()=>(Lu||(Lu=new wn(_x)),Lu);class Ct{static fromObject(e){let n=new Ct(null);return Xt(e,(r,i)=>{n=n.set(new gt(r),i)}),n}constructor(e,n=MT()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:at(),value:this.value};if(rt(e))return null;{const r=et(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(xt(e),n);return s!=null?{path:Dt(new gt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rt(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(xt(e)):new Ct(null)}}set(e,n){if(rt(e))return new Ct(n,this.children);{const r=et(e),s=(this.children.get(r)||new Ct(null)).set(xt(e),n),o=this.children.insert(r,s);return new Ct(this.value,o)}}remove(e){if(rt(e))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const i=r.remove(xt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ct(null):new Ct(this.value,s)}else return this}}get(e){if(rt(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(xt(e)):null}}setTree(e,n){if(rt(e))return n;{const r=et(e),s=(this.children.get(r)||new Ct(null)).setTree(xt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ct(this.value,o)}}fold(e){return this.fold_(at(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Dt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,at(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(rt(e))return null;{const s=et(e),o=this.children.get(s);return o?o.findOnPath_(xt(e),Dt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,at(),n)}foreachOnPath_(e,n,r){if(rt(e))return this;{this.value&&r(n,this.value);const i=et(e),s=this.children.get(i);return s?s.foreachOnPath_(xt(e),Dt(n,i),r):new Ct(null)}}foreach(e){this.foreach_(at(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Dt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class rr{constructor(e){this.writeTree_=e}static empty(){return new rr(new Ct(null))}}function Ro(t,e,n){if(rt(e))return new rr(new Ct(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=mn(i,e);return s=s.updateChild(o,n),new rr(t.writeTree_.set(i,s))}else{const i=new Ct(n),s=t.writeTree_.setTree(e,i);return new rr(s)}}}function gh(t,e,n){let r=t;return Xt(n,(i,s)=>{r=Ro(r,Dt(e,i),s)}),r}function H0(t,e){if(rt(e))return rr.empty();{const n=t.writeTree_.setTree(e,new Ct(null));return new rr(n)}}function mh(t,e){return es(t,e)!=null}function es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mn(n.path,e)):null}function V0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Lt,(r,i)=>{e.push(new tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new tt(r,i.value))}),e}function pi(t,e){if(rt(e))return t;{const n=es(t,e);return n!=null?new rr(new Ct(n)):new rr(t.writeTree_.subtree(e))}}function _h(t){return t.writeTree_.isEmpty()}function Ws(t,e){return Dv(at(),t.writeTree_,e)}function Dv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Dv(Dt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Dt(t,".priority"),r)),n}}function wc(t,e){return Bv(e,t)}function DT(t,e,n,r,i){Ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ro(t.visibleWrites,e,n)),t.lastWriteId=r}function LT(t,e,n,r){Ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=gh(t.visibleWrites,e,n),t.lastWriteId=r}function FT(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jT(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&BT(a,r.path)?i=!1:Gn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return UT(t),!0;if(r.snap)t.visibleWrites=H0(t.visibleWrites,r.path);else{const a=r.children;Xt(a,l=>{t.visibleWrites=H0(t.visibleWrites,Dt(r.path,l))})}return!0}else return!1}function BT(t,e){if(t.snap)return Gn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Gn(Dt(t.path,n),e))return!0;return!1}function UT(t){t.visibleWrites=Lv(t.allWrites,WT,at()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function WT(t){return t.visible}function Lv(t,e,n){let r=rr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Gn(n,o)?(a=mn(n,o),r=Ro(r,a,s.snap)):Gn(o,n)&&(a=mn(o,n),r=Ro(r,at(),s.snap.getChild(a)));else if(s.children){if(Gn(n,o))a=mn(n,o),r=gh(r,a,s.children);else if(Gn(o,n))if(a=mn(o,n),rt(a))r=gh(r,at(),s.children);else{const l=Fs(s.children,et(a));if(l){const c=l.getChild(xt(a));r=Ro(r,at(),c)}}}else throw Hs("WriteRecord should have .snap or .children")}}return r}function Fv(t,e,n,r,i){if(!r&&!i){const s=es(t.visibleWrites,e);if(s!=null)return s;{const o=pi(t.visibleWrites,e);if(_h(o))return n;if(n==null&&!mh(o,at()))return null;{const a=n||Ve.EMPTY_NODE;return Ws(o,a)}}}else{const s=pi(t.visibleWrites,e);if(!i&&_h(s))return n;if(!i&&n==null&&!mh(s,at()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Gn(c.path,e)||Gn(e,c.path))},a=Lv(t.allWrites,o,e),l=n||Ve.EMPTY_NODE;return Ws(a,l)}}}function $T(t,e,n){let r=Ve.EMPTY_NODE;const i=es(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Lt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=pi(t.visibleWrites,e);return n.forEachChild(Lt,(o,a)=>{const l=Ws(pi(s,new gt(o)),a);r=r.updateImmediateChild(o,l)}),V0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=pi(t.visibleWrites,e);return V0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function HT(t,e,n,r,i){Ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Dt(e,n);if(mh(t.visibleWrites,s))return null;{const o=pi(t.visibleWrites,s);return _h(o)?i.getChild(n):Ws(o,i.getChild(n))}}function VT(t,e,n,r){const i=Dt(e,n),s=es(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=pi(t.visibleWrites,i);return Ws(o,r.getNode().getImmediateChild(n))}else return null}function qT(t,e){return es(t.visibleWrites,e)}function GT(t,e,n,r,i,s,o){let a;const l=pi(t.visibleWrites,e),c=es(l,at());if(c!=null)a=c;else if(n!=null)a=Ws(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&u.length<i;)h(g,r)!==0&&u.push(g),g=f.getNext();return u}else return[]}function zT(){return{visibleWrites:rr.empty(),allWrites:[],lastWriteId:-1}}function Hl(t,e,n,r){return Fv(t.writeTree,t.treePath,e,n,r)}function op(t,e){return $T(t.writeTree,t.treePath,e)}function q0(t,e,n,r){return HT(t.writeTree,t.treePath,e,n,r)}function Vl(t,e){return qT(t.writeTree,Dt(t.treePath,e))}function KT(t,e,n,r,i,s){return GT(t.writeTree,t.treePath,e,n,r,i,s)}function ap(t,e,n){return VT(t.writeTree,t.treePath,e,n)}function jv(t,e){return Bv(Dt(t.treePath,e),t.writeTree)}function Bv(t,e){return{treePath:t,writeTree:e}}class YT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Bs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.oldSnap));else throw Hs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class QT{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Uv=new QT;class lp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _i(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ap(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ji(this.viewCache_),s=KT(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function JT(t){return{filter:t}}function XT(t,e){Ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ZT(t,e,n,r,i){const s=new YT;let o,a;if(n.type===er.OVERWRITE){const c=n;c.source.fromUser?o=yh(t,e,c.path,c.snap,r,i,s):(Ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!rt(c.path),o=ql(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===er.MERGE){const c=n;c.source.fromUser?o=tk(t,e,c.path,c.children,r,i,s):(Ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=bh(t,e,c.path,c.children,r,i,a,s))}else if(n.type===er.ACK_USER_WRITE){const c=n;c.revert?o=ik(t,e,c.path,r,i,s):o=nk(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===er.LISTEN_COMPLETE)o=rk(t,e,n.path,r,s);else throw Hs("Unknown operation type: "+n.type);const l=s.getChanges();return ek(e,o,l),{viewCache:o,changes:l}}function ek(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$l(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Rv($l(e)))}}function Wv(t,e,n,r,i,s){const o=e.eventCache;if(Vl(r,n)!=null)return e;{let a,l;if(rt(n))if(Ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ji(e),u=c instanceof Ve?c:Ve.EMPTY_NODE,h=op(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=Hl(r,Ji(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=et(n);if(c===".priority"){Ne(mi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=q0(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=xt(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=q0(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=ap(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return Po(e,a,o.isFullyInitialized()||rt(n),t.filter.filtersNodes())}}function ql(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(rt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),g,null)}else{const g=et(n);if(!l.isCompleteForPath(n)&&mi(n)>1)return e;const p=xt(n),b=l.getNode().getImmediateChild(g).updateChild(p,r);g===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),g,b,p,Uv,null)}const h=Mv(e,c,l.isFullyInitialized()||rt(n),u.filtersNodes()),f=new lp(i,h,s);return Wv(t,h,n,i,f,a)}function yh(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new lp(i,e,s);if(rt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Po(e,c,!0,t.filter.filtersNodes());else{const h=et(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Po(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=xt(n),g=a.getNode().getImmediateChild(h);let p;if(rt(f))p=r;else{const _=u.getCompleteChild(h);_!=null?Jd(f)===".priority"&&_.getChild(Av(f)).isEmpty()?p=_:p=_.updateChild(f,r):p=Ve.EMPTY_NODE}if(g.equals(p))l=e;else{const _=t.filter.updateChild(a.getNode(),h,p,f,u,o);l=Po(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function G0(t,e){return t.eventCache.isCompleteForChild(e)}function tk(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Dt(n,l);G0(e,et(u))&&(a=yh(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Dt(n,l);G0(e,et(u))||(a=yh(t,a,u,c,i,s,o))}),a}function z0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function bh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;rt(n)?c=r:c=new Ct(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const g=e.serverCache.getNode().getImmediateChild(h),p=z0(t,g,f);l=ql(t,l,new gt(h),p,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const g=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!g){const p=e.serverCache.getNode().getImmediateChild(h),_=z0(t,p,f);l=ql(t,l,new gt(h),_,i,s,o,a)}}),l}function nk(t,e,n,r,i,s,o){if(Vl(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(rt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ql(t,e,n,l.getNode().getChild(n),i,s,a,o);if(rt(n)){let c=new Ct(null);return l.getNode().forEachChild(Ps,(u,h)=>{c=c.set(new gt(u),h)}),bh(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ct(null);return r.foreach((u,h)=>{const f=Dt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),bh(t,e,n,c,i,s,a,o)}}function rk(t,e,n,r,i){const s=e.serverCache,o=Mv(e,s.getNode(),s.isFullyInitialized()||rt(n),s.isFiltered());return Wv(t,o,n,r,Uv,i)}function ik(t,e,n,r,i,s){let o;if(Vl(r,n)!=null)return e;{const a=new lp(r,e,i),l=e.eventCache.getNode();let c;if(rt(n)||et(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hl(r,Ji(e));else{const h=e.serverCache.getNode();Ne(h instanceof Ve,"serverChildren would be complete if leaf node"),u=op(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=et(n);let h=ap(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,xt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ve.EMPTY_NODE,xt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hl(r,Ji(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Vl(r,at())!=null,Po(e,c,o,t.filter.filtersNodes())}}class sk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new tp(r.getIndex()),s=ST(r);this.processor_=JT(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ve.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ve.EMPTY_NODE,a.getNode(),null),u=new _i(l,o.isFullyInitialized(),i.filtersNodes()),h=new _i(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=vc(h,u),this.eventGenerator_=new OT(this.query_)}get query(){return this.query_}}function ok(t){return t.viewCache_.serverCache.getNode()}function ak(t){return $l(t.viewCache_)}function lk(t,e){const n=Ji(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!rt(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function K0(t){return t.eventRegistrations_.length===0}function ck(t,e){t.eventRegistrations_.push(e)}function Y0(t,e,n){const r=[];if(n){Ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Q0(t,e,n,r){e.type===er.MERGE&&e.source.queryId!==null&&(Ne(Ji(t.viewCache_),"We should always have a full cache before handling merges"),Ne($l(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ZT(t.processor_,i,e,n,r);return XT(t.processor_,s.viewCache),Ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,$v(t,s.changes,s.viewCache.eventCache.getNode(),null)}function uk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Lt,(s,o)=>{r.push(Bs(s,o))}),n.isFullyInitialized()&&r.push(Rv(n.getNode())),$v(t,r,n.getNode(),e)}function $v(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return PT(t.eventGenerator_,e,n,i)}let Gl;class Hv{constructor(){this.views=new Map}}function hk(t){Ne(!Gl,"__referenceConstructor has already been defined"),Gl=t}function fk(){return Ne(Gl,"Reference.ts has not been loaded"),Gl}function dk(t){return t.views.size===0}function cp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ne(s!=null,"SyncTree gave us an op for an invalid query."),Q0(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Q0(o,e,n,r));return s}}function Vv(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Hl(n,i?r:null),l=!1;a?l=!0:r instanceof Ve?(a=op(n,r),l=!1):(a=Ve.EMPTY_NODE,l=!1);const c=vc(new _i(a,l,!1),new _i(r,i,!1));return new sk(e,c)}return o}function pk(t,e,n,r,i,s){const o=Vv(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ck(o,n),uk(o,n)}function gk(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=yi(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Y0(c,n,r)),K0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Y0(l,n,r)),K0(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!yi(t)&&s.push(new(fk())(e._repo,e._path)),{removed:s,events:o}}function qv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gi(t,e){let n=null;for(const r of t.views.values())n=n||lk(r,e);return n}function Gv(t,e){if(e._queryParams.loadsAllData())return Ec(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zv(t,e){return Gv(t,e)!=null}function yi(t){return Ec(t)!=null}function Ec(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let zl;function mk(t){Ne(!zl,"__referenceConstructor has already been defined"),zl=t}function _k(){return Ne(zl,"Reference.ts has not been loaded"),zl}let yk=1;class J0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=zT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kv(t,e,n,r,i){return DT(t.pendingWriteTree_,e,n,r,i),i?Gs(t,new Qi(rp(),e,n)):[]}function bk(t,e,n,r){LT(t.pendingWriteTree_,e,n,r);const i=Ct.fromObject(n);return Gs(t,new Us(rp(),e,i))}function ui(t,e,n=!1){const r=FT(t.pendingWriteTree_,e);if(jT(t.pendingWriteTree_,e)){let s=new Ct(null);return r.snap!=null?s=s.set(at(),!0):Xt(r.children,o=>{s=s.set(new gt(o),!0)}),Gs(t,new Wl(r.path,s,n))}else return[]}function da(t,e,n){return Gs(t,new Qi(ip(),e,n))}function vk(t,e,n){const r=Ct.fromObject(n);return Gs(t,new Us(ip(),e,r))}function wk(t,e){return Gs(t,new Xo(ip(),e))}function Ek(t,e,n){const r=hp(t,n);if(r){const i=fp(r),s=i.path,o=i.queryId,a=mn(s,e),l=new Xo(sp(o),a);return dp(t,s,l)}else return[]}function Kl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||zv(o,e))){const l=gk(o,e,n,r);dk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,g)=>yi(g));if(u&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=Ak(f);for(let p=0;p<g.length;++p){const _=g[p],b=_.query,E=Xv(t,_);t.listenProvider_.startListening(No(b),Zo(t,b),E.hashFn,E.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(No(e),null):c.forEach(f=>{const g=t.queryToTagMap.get(Sc(f));t.listenProvider_.stopListening(No(f),g)}))}Ik(t,c)}return a}function Yv(t,e,n,r){const i=hp(t,r);if(i!=null){const s=fp(i),o=s.path,a=s.queryId,l=mn(o,e),c=new Qi(sp(a),l,n);return dp(t,o,c)}else return[]}function Sk(t,e,n,r){const i=hp(t,r);if(i){const s=fp(i),o=s.path,a=s.queryId,l=mn(o,e),c=Ct.fromObject(n),u=new Us(sp(a),l,c);return dp(t,o,u)}else return[]}function vh(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{const p=mn(f,i);s=s||gi(g,p),o=o||yi(g)});let a=t.syncPointTree_.get(i);a?(o=o||yi(a),s=s||gi(a,at())):(a=new Hv,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Ve.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,p)=>{const _=gi(p,at());_&&(s=s.updateImmediateChild(g,_))}));const c=zv(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Sc(e);Ne(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=xk();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}const u=wc(t.pendingWriteTree_,i);let h=pk(a,e,n,u,s,l);if(!c&&!o&&!r){const f=Gv(a,e);h=h.concat(Tk(t,e,f))}return h}function up(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mn(o,e),c=gi(a,l);if(c)return c});return Fv(i,e,s,n,!0)}function Ck(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=mn(c,n);r=r||gi(u,h)});let i=t.syncPointTree_.get(n);i?r=r||gi(i,at()):(i=new Hv,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new _i(r,!0,!1):null,a=wc(t.pendingWriteTree_,e._path),l=Vv(i,e,a,s?o.getNode():Ve.EMPTY_NODE,s);return ak(l)}function Gs(t,e){return Qv(e,t.syncPointTree_,null,wc(t.pendingWriteTree_,at()))}function Qv(t,e,n,r){if(rt(t.path))return Jv(t,e,n,r);{const i=e.get(at());n==null&&i!=null&&(n=gi(i,at()));let s=[];const o=et(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=jv(r,o);s=s.concat(Qv(a,l,c,u))}return i&&(s=s.concat(cp(i,t,r,n))),s}}function Jv(t,e,n,r){const i=e.get(at());n==null&&i!=null&&(n=gi(i,at()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=jv(r,o),u=t.operationForChild(o);u&&(s=s.concat(Jv(u,a,l,c)))}),i&&(s=s.concat(cp(i,t,r,n))),s}function Xv(t,e){const n=e.query,r=Zo(t,n);return{hashFn:()=>(ok(e)||Ve.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ek(t,n._path,r):wk(t,n._path);{const s=vx(i,n);return Kl(t,n,null,s)}}}}function Zo(t,e){const n=Sc(e);return t.queryToTagMap.get(n)}function Sc(t){return t._path.toString()+"$"+t._queryIdentifier}function hp(t,e){return t.tagToQueryMap.get(e)}function fp(t){const e=t.indexOf("$");return Ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new gt(t.substr(0,e))}}function dp(t,e,n){const r=t.syncPointTree_.get(e);Ne(r,"Missing sync point for query tag that we're tracking");const i=wc(t.pendingWriteTree_,e);return cp(r,n,i,null)}function Ak(t){return t.fold((e,n,r)=>{if(n&&yi(n))return[Ec(n)];{let i=[];return n&&(i=qv(n)),Xt(r,(s,o)=>{i=i.concat(o)}),i}})}function No(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_k())(t._repo,t._path):t}function Ik(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Sc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function xk(){return yk++}function Tk(t,e,n){const r=e._path,i=Zo(t,e),s=Xv(t,n),o=t.listenProvider_.startListening(No(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Ne(!yi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!rt(c)&&u&&yi(u))return[Ec(u).query];{let f=[];return u&&(f=f.concat(qv(u).map(g=>g.query))),Xt(h,(g,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(No(u),Zo(t,u))}}return o}class pp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pp(n)}node(){return this.node_}}class gp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Dt(this.path_,e);return new gp(this.syncTree_,n)}node(){return up(this.syncTree_,this.path_)}}const kk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},X0=function(t,e,n){if(!t||typeof t!="object")return t;if(Ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ok(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Pk(t[".sv"],e);Ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ok=function(t,e,n){if(t==="timestamp")return n.timestamp;Ne(!1,"Unexpected server value: "+t)},Pk=function(t,e,n){t.hasOwnProperty("increment")||Ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ne(!1,"Unexpected increment value: "+r);const i=e.node();if(Ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Zv=function(t,e,n,r){return mp(e,new gp(n,t),r)},e2=function(t,e,n){return mp(t,new pp(e),n)};function mp(t,e,n){const r=t.getPriority().val(),i=X0(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=X0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Gt(a,$t(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gt(i))),o.forEachChild(Lt,(a,l)=>{const c=mp(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class _p{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yp(t,e){let n=e instanceof gt?e:new gt(e),r=t,i=et(n);for(;i!==null;){const s=Fs(r.node.children,i)||{children:{},childCount:0};r=new _p(i,r,s),n=xt(n),i=et(n)}return r}function zs(t){return t.node.value}function t2(t,e){t.node.value=e,wh(t)}function n2(t){return t.node.childCount>0}function Rk(t){return zs(t)===void 0&&!n2(t)}function Cc(t,e){Xt(t.node.children,(n,r)=>{e(new _p(n,t,r))})}function r2(t,e,n,r){n&&e(t),Cc(t,i=>{r2(i,e,!0)})}function Nk(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pa(t){return new gt(t.parent===null?t.name:pa(t.parent)+"/"+t.name)}function wh(t){t.parent!==null&&Mk(t.parent,t.name,t)}function Mk(t,e,n){const r=Rk(n),i=vr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,wh(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,wh(t))}const Dk=/[\[\].#$\/\u0000-\u001F\u007F]/,Lk=/[\[\].#$\u0000-\u001F\u007F]/,Fu=10*1024*1024,bp=function(t){return typeof t=="string"&&t.length!==0&&!Dk.test(t)},i2=function(t){return typeof t=="string"&&t.length!==0&&!Lk.test(t)},Fk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),i2(t)},jk=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gd(t)||t&&typeof t=="object"&&vr(t,".sv")},Bk=function(t,e,n,r){Ac(_c(t,"value"),e,n)},Ac=function(t,e,n){const r=n instanceof gt?new tT(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ji(r));if(typeof e=="function")throw new Error(t+"contains a function "+ji(r)+" with contents = "+e.toString());if(Gd(e))throw new Error(t+"contains "+e.toString()+" "+ji(r));if(typeof e=="string"&&e.length>Fu/3&&yc(e)>Fu)throw new Error(t+"contains a string greater than "+Fu+" utf8 bytes "+ji(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bp(o)))throw new Error(t+" contains an invalid key ("+o+") "+ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nT(r,o),Ac(t,a,r),rT(r)}),i&&s)throw new Error(t+' contains ".value" child '+ji(r)+" in addition to actual children.")}},Uk=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ko(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!bp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(eT);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Gn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Wk=function(t,e,n,r){const i=_c(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xt(e,(o,a)=>{const l=new gt(o);if(Ac(i,a,Dt(n,l)),Jd(l)===".priority"&&!jk(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Uk(i,s)},s2=function(t,e,n,r){if(!i2(n))throw new Error(_c(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$k=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),s2(t,e,n)},Hk=function(t,e){if(et(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Vk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Fk(n))throw new Error(_c(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class qk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ic(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Xd(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function o2(t,e,n){Ic(t,n),a2(t,r=>Xd(r,e))}function Kn(t,e,n){Ic(t,n),a2(t,r=>Gn(r,e)||Gn(e,r))}function a2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Gk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ko&&Jt("event: "+n.toString()),qs(r)}}}const zk="repo_interrupt",Kk=25;class Yk{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ul(),this.transactionQueueTree_=new _p,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qk(t,e,n){if(t.stats_=Yd(t.repoInfo_),t.forceRestClient_||Ax())t.server_=new Bl(t.repoInfo_,(r,i,s,o)=>{Z0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>e_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Lr(t.repoInfo_,e,(r,i,s,o)=>{Z0(t,r,i,s,o)},r=>{e_(t,r)},r=>{Xk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ox(t.repoInfo_,()=>new kT(t.stats_,t.server_)),t.infoData_=new CT,t.infoSyncTree_=new J0({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=da(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),vp(t,"connected",!1),t.serverSyncTree_=new J0({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Kn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Jk(t){const n=t.infoData_.getNode(new gt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xc(t){return kk({timestamp:Jk(t)})}function Z0(t,e,n,r,i){t.dataUpdateCount++;const s=new gt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Rl(n,c=>$t(c));o=Sk(t.serverSyncTree_,s,l,i)}else{const l=$t(n);o=Yv(t.serverSyncTree_,s,l,i)}else if(r){const l=Rl(n,c=>$t(c));o=vk(t.serverSyncTree_,s,l)}else{const l=$t(n);o=da(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=$s(t,s)),Kn(t.eventQueue_,a,o)}function e_(t,e){vp(t,"connected",e),e===!1&&nO(t)}function Xk(t,e){Xt(e,(n,r)=>{vp(t,n,r)})}function vp(t,e,n){const r=new gt("/.info/"+e),i=$t(n);t.infoData_.updateSnapshot(r,i);const s=da(t.infoSyncTree_,r,i);Kn(t.eventQueue_,r,s)}function wp(t){return t.nextWriteId_++}function Zk(t,e,n){const r=Ck(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=$t(i).withIndex(e._queryParams.getIndex());vh(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=da(t.serverSyncTree_,e._path,s);else{const a=Zo(t.serverSyncTree_,e);o=Yv(t.serverSyncTree_,e._path,s,a)}return Kn(t.eventQueue_,e._path,o),Kl(t.serverSyncTree_,e,n,null,!0),s},i=>(ga(t,"get for query "+Ht(e)+" failed: "+i),Promise.reject(new Error(i))))}function eO(t,e,n,r,i){ga(t,"set",{path:e.toString(),value:n,priority:r});const s=xc(t),o=$t(n,r),a=up(t.serverSyncTree_,e),l=e2(o,a,s),c=wp(t),u=Kv(t.serverSyncTree_,e,l,c,!0);Ic(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const p=f==="ok";p||_n("set at "+e+" failed: "+f);const _=ui(t.serverSyncTree_,c,!p);Kn(t.eventQueue_,e,_),Eh(t,i,f,g)});const h=Sp(t,e);$s(t,h),Kn(t.eventQueue_,h,[])}function tO(t,e,n,r){ga(t,"update",{path:e.toString(),value:n});let i=!0;const s=xc(t),o={};if(Xt(n,(a,l)=>{i=!1,o[a]=Zv(Dt(e,a),$t(l),t.serverSyncTree_,s)}),i)Jt("update() called with empty data.  Don't do anything."),Eh(t,r,"ok",void 0);else{const a=wp(t),l=bk(t.serverSyncTree_,e,o,a);Ic(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const h=c==="ok";h||_n("update at "+e+" failed: "+c);const f=ui(t.serverSyncTree_,a,!h),g=f.length>0?$s(t,e):e;Kn(t.eventQueue_,g,f),Eh(t,r,c,u)}),Xt(n,c=>{const u=Sp(t,Dt(e,c));$s(t,u)}),Kn(t.eventQueue_,e,[])}}function nO(t){ga(t,"onDisconnectEvents");const e=xc(t),n=Ul();ph(t.onDisconnect_,at(),(i,s)=>{const o=Zv(i,s,t.serverSyncTree_,e);Nv(n,i,o)});let r=[];ph(n,at(),(i,s)=>{r=r.concat(da(t.serverSyncTree_,i,s));const o=Sp(t,i);$s(t,o)}),t.onDisconnect_=Ul(),Kn(t.eventQueue_,at(),r)}function rO(t,e,n){let r;et(e._path)===".info"?r=vh(t.infoSyncTree_,e,n):r=vh(t.serverSyncTree_,e,n),o2(t.eventQueue_,e._path,r)}function iO(t,e,n){let r;et(e._path)===".info"?r=Kl(t.infoSyncTree_,e,n):r=Kl(t.serverSyncTree_,e,n),o2(t.eventQueue_,e._path,r)}function sO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zk)}function ga(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Jt(n,...e)}function Eh(t,e,n,r){e&&qs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function l2(t,e,n){return up(t.serverSyncTree_,e,n)||Ve.EMPTY_NODE}function Ep(t,e=t.transactionQueueTree_){if(e||Tc(t,e),zs(e)){const n=u2(t,e);Ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&oO(t,pa(e),n)}else n2(e)&&Cc(e,n=>{Ep(t,n)})}function oO(t,e,n){const r=n.map(c=>c.currentWriteId),i=l2(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Ne(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=mn(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ga(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ui(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Tc(t,yp(t.transactionQueueTree_,e)),Ep(t,t.transactionQueueTree_),Kn(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)qs(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{_n("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}$s(t,e)}},o)}function $s(t,e){const n=c2(t,e),r=pa(n),i=u2(t,n);return aO(t,i,r),r}function aO(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mn(n,l.path);let u=!1,h;if(Ne(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Kk)u=!0,h="maxretry",i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0));else{const f=l2(t,l.path,o);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){Ac("transaction failed: Data returned ",g,l.path);let p=$t(g);typeof g=="object"&&g!=null&&vr(g,".priority")||(p=p.updatePriority(f.getPriority()));const b=l.currentWriteId,E=xc(t),y=e2(p,f,E);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=wp(t),o.splice(o.indexOf(b),1),i=i.concat(Kv(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(ui(t.serverSyncTree_,b,!0))}else u=!0,h="nodata",i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0))}Kn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Tc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)qs(r[a]);Ep(t,t.transactionQueueTree_)}function c2(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&zs(r)===void 0;)r=yp(r,n),e=xt(e),n=et(e);return r}function u2(t,e){const n=[];return h2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function h2(t,e,n){const r=zs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cc(e,i=>{h2(t,i,n)})}function Tc(t,e){const n=zs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,t2(e,n.length>0?n:void 0)}Cc(e,r=>{Tc(t,r)})}function Sp(t,e){const n=pa(c2(t,e)),r=yp(t.transactionQueueTree_,e);return Nk(r,i=>{ju(t,i)}),ju(t,r),r2(r,i=>{ju(t,i)}),n}function ju(t,e){const n=zs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ui(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?t2(e,void 0):n.length=s+1,Kn(t.eventQueue_,pa(e),i);for(let o=0;o<r.length;o++)qs(r[o])}}function lO(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function cO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_n(`Invalid query segment '${n}' in query '${t}'`)}return e}const t_=function(t,e){const n=uO(t),r=n.namespace;n.domain==="firebase.com"&&Wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gx();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mv(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new gt(n.pathString)}},uO=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=lO(t.substring(u,h)));const f=cO(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class hO{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ht(this.snapshot.exportVal())}}class fO{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class f2{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Cp{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return rt(this._path)?null:Jd(this._path)}get ref(){return new qr(this._repo,this._path)}get _queryIdentifier(){const e=W0(this._queryParams),n=zd(e);return n==="{}"?"default":n}get _queryObject(){return W0(this._queryParams)}isEqual(e){if(e=Vs(e),!(e instanceof Cp))return!1;const n=this._repo===e._repo,r=Xd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zx(this._path)}}class qr extends Cp{constructor(e,n){super(e,n,new np,!1)}get parent(){const e=Av(this._path);return e===null?null:new qr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ea{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new gt(e),r=Sh(this.ref,e);return new ea(this._node.getChild(n),r,Lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ea(i,Sh(this.ref,r),Lt)))}hasChild(e){const n=new gt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gi(t,e){return t=Vs(t),t._checkNotDeleted("ref"),e!==void 0?Sh(t._root,e):t._root}function Sh(t,e){return t=Vs(t),et(t._path)===null?$k("child","path",e):s2("child","path",e),new qr(t._repo,Dt(t._path,e))}function Ch(t,e){t=Vs(t),Hk("set",t._path),Bk("set",e,t._path);const n=new la;return eO(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dO(t,e){Wk("update",e,t._path);const n=new la;return tO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ap(t){t=Vs(t);const e=new f2(()=>{}),n=new kc(e);return Zk(t._repo,t,n).then(r=>new ea(r,new qr(t._repo,t._path),t._queryParams.getIndex()))}class kc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new hO("value",this,new ea(e.snapshotNode,new qr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fO(this,e,n):null}matches(e){return e instanceof kc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pO(t,e,n,r,i){const s=new f2(n,void 0),o=new kc(s);return rO(t._repo,t,o),()=>iO(t._repo,t,o)}function gO(t,e,n,r){return pO(t,"value",e)}hk(qr);mk(qr);const mO="FIREBASE_DATABASE_EMULATOR_HOST",Ah={};let _O=!1;function yO(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Vd(s);t.repoInfo_=new mv(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function bO(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=t_(s,i),a=o.repoInfo,l;typeof process<"u"&&S0&&(l=S0[mO]),l?(s=`http://${l}?ns=${a.namespace}`,o=t_(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new xx(t.name,t.options,e);Vk("Invalid Firebase Database URL",o),rt(o.path)||Wr("Database URL must point to the root of a Firebase Database (not including a child path).");const u=wO(a,t,c,new Ix(t,n));return new EO(u,t)}function vO(t,e){const n=Ah[e];(!n||n[t.key]!==t)&&Wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sO(t),delete n[t.key]}function wO(t,e,n,r){let i=Ah[e.name];i||(i={},Ah[e.name]=i);let s=i[t.toURLString()];return s&&Wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yk(t,_O,n,r),i[t.toURLString()]=s,s}class EO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Qk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qr(this._repo,at())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wr("Cannot call "+e+" on a deleted database.")}}function Oc(t=XI(),e){const n=zI(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=R3("database");r&&SO(n,...r)}return n}function SO(t,e,n,r={}){t=Vs(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Nl(r,s.repoInfo_.emulatorOptions))return;Wr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new za(za.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:M3(r.mockUserToken,t.app.options.projectId);o=new za(a)}Vd(e)&&(N3(e),F3("Database",!0)),yO(s,i,r,o)}function CO(t){cx(JI),Dl(new qo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bO(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ks(C0,A0,t),ks(C0,A0,"esm2020")}Lr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Lr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CO();const d2=aa("login",{state:()=>({email:"",password:"",name:"",lastLog:null,safeEmail:""}),actions:{async loginCredentials(t,e){this.email=t,this.password=e,console.log("Login credentials saved:",this.email,this.password);const n=Oc();this.safeEmail=this.email.replace(/\./g,",").replace(/@/g,"_");const r=Gi(n,`users/${this.safeEmail}`);try{const i=await Ap(r);if(i.exists()){if(i.val().password!==this.password)return console.error("Incorrect password for email:",this.email),!1;{console.log("User logged in successfully:",this.email),console.log("User data:",this.safeEmail);const s=new Date().toISOString();return await dO(r,{lastLog:s}),this.lastLog=s,this.name=i.val().name||"",console.log("Updated lastLog:",s),console.log("User name:",this.name),!0}}else return console.error("No user found with email:",this.email),!1}catch(i){return console.error("Firebase error:",i),!1}}}}),AO="/PharmAssist/assets/bg-Du4u4sVZ.jpg",bi=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},IO={class:"form-page"},xO={class:"card auth-card"},TO={class:"switch"},kO=["src"],OO={__name:"login",setup(t){const e=Ub(),n=nt(""),r=nt("");let i=!1,s=d2();async function o(){i=await s.loginCredentials(n.value,r.value),i&&e.push("/dashboard/home")}return(a,l)=>{const c=Uo("router-link");return vn(),Pn("div",IO,[ue("div",xO,[l[5]||(l[5]=Bd('<span class="logo-section" data-v-1c0b76a7><div class="logo-container" data-v-1c0b76a7><img src="'+$d+'" alt="Logo" data-v-1c0b76a7></div><span class="logo-name" data-v-1c0b76a7>PharmAssist</span></span><span class="login-title" data-v-1c0b76a7>Welcome Back</span><span class="titleDesc" data-v-1c0b76a7>Login to access the dashboard</span>',3)),ue("form",{onSubmit:dc(o,["prevent"])},[pn(ue("input",{type:"email","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),placeholder:"Email",required:""},null,512),[[Mn,n.value]]),pn(ue("input",{type:"password","onUpdate:modelValue":l[1]||(l[1]=u=>r.value=u),placeholder:"Password",required:""},null,512),[[Mn,r.value]]),l[2]||(l[2]=ue("button",{type:"submit"},"Login",-1))],32),ue("p",TO,[l[4]||(l[4]=Ot(" Don't have an account? ",-1)),Pt(c,{to:"/register",class:"signup"},{default:ci(()=>[...l[3]||(l[3]=[Ot("Sign Up",-1)])]),_:1})])]),ue("img",{src:st(AO),alt:"Background",class:"background-image"},null,8,kO)])}}},PO=bi(OO,[["__scopeId","data-v-1c0b76a7"]]),p2=aa("profile",{state:()=>({user:{name:"",email:"",password:""}}),actions:{saveProfile(t){this.user={...t}},async saveToFirebase(){const t=Oc(),e=this.user.email.replace(/\./g,",").replace(/@/g,"_");return await Ch(Gi(t,`users/${e}`),{name:this.user.name,email:this.user.email,password:this.user.password}),console.log("User saved:",this.user.email),!0}}}),RO={class:"form-container"},NO={class:"card scrollable"},MO={class:"switch-mode"},DO={__name:"register",setup(t){const e=p2(),n=nt(""),r=nt(""),i=nt(""),s=nt("");nt(""),nt(""),nt(""),nt(""),nt(""),nt(""),nt(""),nt(""),nt("");const o=async()=>{if(i.value!==s.value){alert("Passwords do not match!");return}const a={name:n.value,email:r.value,password:i.value};e.saveProfile(a),await e.saveToFirebase()&&alert("Registration successful!"),n.value="",r.value="",i.value="",s.value=""};return(a,l)=>{const c=Uo("router-link");return vn(),Pn("div",RO,[ue("div",NO,[l[7]||(l[7]=ue("span",{class:"logo-section"},[ue("div",{class:"logo-container"},[ue("img",{src:$d,alt:"Logo"})]),ue("span",{class:"logo-name"},"PharmAssist")],-1)),l[8]||(l[8]=ue("h3",null,"Create New Account",-1)),ue("form",{onSubmit:dc(o,["prevent"])},[pn(ue("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),placeholder:"Full Name",required:""},null,512),[[Mn,n.value]]),pn(ue("input",{type:"email","onUpdate:modelValue":l[1]||(l[1]=u=>r.value=u),placeholder:"Email",required:""},null,512),[[Mn,r.value]]),pn(ue("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),placeholder:"Password",required:""},null,512),[[Mn,i.value]]),pn(ue("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=u=>s.value=u),placeholder:"Confirm Password",required:""},null,512),[[Mn,s.value]]),l[4]||(l[4]=ue("button",{type:"submit"},"Sign Up",-1))],32),ue("p",MO,[l[6]||(l[6]=Ot(" Already have an account? ",-1)),Pt(c,{to:"/login",class:"login"},{default:ci(()=>[...l[5]||(l[5]=[Ot("Login",-1)])]),_:1})])])])}}},LO=bi(DO,[["__scopeId","data-v-9ae65625"]]),FO={},jO={class:"dashboard-wrapper"},BO={class:"header"},UO={class:"navlink-wrapper"},WO={class:"navlink-container"},$O={class:"navlink"},HO={class:"logoutbtn"},VO={class:"content-area"};function qO(t,e){const n=Uo("router-link"),r=Uo("router-view");return vn(),Pn("div",jO,[ue("span",BO,[e[5]||(e[5]=ue("div",{class:"left-header"},[ue("div",{class:"logo-container"},[ue("img",{src:$d,alt:"Logo"})]),ue("span",{class:"logo-name"},"PharmAssist")],-1)),ue("nav",UO,[ue("ul",WO,[ue("span",$O,[ue("li",null,[Pt(n,{to:"/dashboard/home"},{default:ci(()=>[...e[0]||(e[0]=[Ot("Dashboard",-1)])]),_:1})]),ue("li",null,[Pt(n,{to:"/dashboard/editmedication"},{default:ci(()=>[...e[1]||(e[1]=[Ot("Schedule Medicine",-1)])]),_:1})]),ue("li",null,[Pt(n,{to:"/dashboard/medhistory"},{default:ci(()=>[...e[2]||(e[2]=[Ot("Medication History",-1)])]),_:1})]),ue("li",null,[Pt(n,{to:"/dashboard/editprofile"},{default:ci(()=>[...e[3]||(e[3]=[Ot("Account",-1)])]),_:1})])]),ue("span",HO,[ue("li",null,[Pt(n,{to:"/login"},{default:ci(()=>[...e[4]||(e[4]=[Ot("Logout",-1)])]),_:1})])])])])]),ue("main",VO,[Pt(r)])])}const GO=bi(FO,[["render",qO],["__scopeId","data-v-a63baa29"]]),zO="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%202.66663V5.33329'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.57324%206.57336L8.45324%208.45336'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.6667%2016H29.3334'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.4266%206.57336L23.5466%208.45336'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21.2625%2016.8667C21.4266%2015.8727%2021.3058%2014.8526%2020.9141%2013.9244C20.5224%2012.9962%2019.8758%2012.1979%2019.0492%2011.622C18.2226%2011.0461%2017.2498%2010.7161%2016.2434%2010.6702C15.237%2010.6243%2014.2381%2010.8644%2013.3625%2011.3627'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.3333%2029.3333H9.33328C8.07191%2029.3331%206.83649%2028.975%205.77051%2028.3006C4.70453%2027.6263%203.85174%2026.6633%203.31118%2025.5237C2.77062%2024.384%202.56448%2023.1143%202.71669%2021.8622C2.8689%2020.61%203.37323%2019.4267%204.17109%2018.4498C4.96895%2017.4728%206.02761%2016.7422%207.22411%2016.3429C8.4206%2015.9436%209.70584%2015.8919%2010.9305%2016.1938C12.1552%2016.4958%2013.2691%2017.139%2014.1429%2018.0487C15.0166%2018.9585%2015.6143%2020.0974%2015.8666%2021.3333H17.3333C18.3941%2021.3333%2019.4116%2021.7548%2020.1617%2022.5049C20.9119%2023.2551%2021.3333%2024.2725%2021.3333%2025.3333C21.3333%2026.3942%2020.9119%2027.4116%2020.1617%2028.1618C19.4116%2028.9119%2018.3941%2029.3333%2017.3333%2029.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var KO="firebase",YO="12.7.0";ks(KO,YO,"app");const QO={apiKey:"AIzaSyC7PsuW8k7vx2Y9IpBzRG2ZK_OSVe9VcOk",authDomain:"fir-postman-19d34.firebaseapp.com",databaseURL:"https://fir-postman-19d34-default-rtdb.firebaseio.com",projectId:"fir-postman-19d34",storageBucket:"fir-postman-19d34.firebasestorage.app",messagingSenderId:"807089944328",appId:"1:807089944328:web:a41f9e0d4acda44ec45ebd",measurementId:"G-PC9LN0P852"},JO=Zb(QO),Ka=Oc(JO),XO=aa("medicine",{state:()=>({medicines:{daily:{},weekly:{}}}),actions:{listenMedicines(){const t=Gi(Ka,"medicine");gO(t,e=>{e.exists()&&(this.medicines=e.val())})},async saveMedicine(t,e,n,r,i,s){const a=Gi(Ka,`medicine/${t==="daily"?"weekly":"daily"}/${e}`);await Ch(a,null),await Ch(Gi(Ka,`medicine/${t}/${e}`),{medicine:n,time:r,dose:i,lastTaken:s})}}});function ZO(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function eP(t){if(!t)return!1;const e=new Date,[n,r]=t.split(":").map(Number),i=new Date;return i.setHours(n,r,0,0),e>i}const tP=aa("handleSchedule",{state:()=>({box1medicine:null,box1dose:0,box1shed:null,box1schedtype:null,box1status:"empty",box2medicine:null,box2dose:0,box2shed:null,box2schedtype:null,box2status:"empty",box3medicine:null,box3dose:0,box3shed:null,box3schedtype:null,box3status:"empty",box4medicine:null,box4dose:0,box4shed:null,box4schedtype:null,box4status:"empty",medremain:0}),actions:{async fetchBoxes(){const t=["box1","box2","box3","box4"],e=["daily","weekly"];for(const n of t){let r=null,i=0,s=null,o="empty",a=null,l=!1;for(const c of e){const u=await Ap(Gi(Ka,`medicine/${c}/${n}`));if(!u.exists())continue;l=!0,a=c;const h=u.val(),f=new Date,g=h.lastTaken?new Date(h.lastTaken):null;c==="daily"&&(g&&ZO(g,f)?o="taken":eP(h.time)?o="missed":o="pending"),c==="weekly"&&(g?o=(f-g)/864e5<7?"taken":"missed":o="pending"),r||(r=h.medicine||null),!i&&h.dose&&(i=h.dose),!s&&h.time&&(s=h.time)}(!l||!r)&&(o="empty",a=null),this[`${n}medicine`]=r,this[`${n}dose`]=i,this[`${n}shed`]=s,this[`${n}schedtype`]=a,this[`${n}status`]=o,(o==="pending"||o==="missed")&&this.medremain++,console.log(`Debug ${n}:`,{medicine:r,dose:i,scheduled:s,schedType:a,status:o})}}}}),nP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206V12L16%2014'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rP="data:image/svg+xml,%3csvg%20width='18'%20height='13'%20viewBox='0%200%2018%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%201L6%2012L1%207'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",n_="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%201L1%2013M12.5%2013L1%201'%20stroke='%23BE3939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",iP="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23D6D3D1'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23D6D3D1'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",r_="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23A84545'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23A84545'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",sP="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",oP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21%200H3C2.20435%200%201.44129%200.316071%200.87868%200.87868C0.316071%201.44129%200%202.20435%200%203V21C0%2021.7956%200.316071%2022.5587%200.87868%2023.1213C1.44129%2023.6839%202.20435%2024%203%2024H21C21.7956%2024%2022.5587%2023.6839%2023.1213%2023.1213C23.6839%2022.5587%2024%2021.7956%2024%2021V3C24%202.20435%2023.6839%201.44129%2023.1213%200.87868C22.5587%200.316071%2021.7956%200%2021%200ZM1.5%205.7855C1.5%205.076%202.172%204.5%203%204.5H21C21.828%204.5%2022.5%205.076%2022.5%205.7855V21.2145C22.5%2021.924%2021.828%2022.5%2021%2022.5H3C2.172%2022.5%201.5%2021.924%201.5%2021.2145V5.7855Z'%20fill='%23F59E0B'/%3e%3cpath%20d='M18%2010.5C18.3978%2010.5%2018.7794%2010.342%2019.0607%2010.0607C19.342%209.77936%2019.5%209.39782%2019.5%209C19.5%208.60218%2019.342%208.22064%2019.0607%207.93934C18.7794%207.65804%2018.3978%207.5%2018%207.5C17.6022%207.5%2017.2206%207.65804%2016.9393%207.93934C16.658%208.22064%2016.5%208.60218%2016.5%209C16.5%209.39782%2016.658%209.77936%2016.9393%2010.0607C17.2206%2010.342%2017.6022%2010.5%2018%2010.5Z'%20fill='%23F59E0B'/%3e%3c/svg%3e",aP="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_19_94)'%3e%3cpath%20d='M10.0001%2018.3333C14.6025%2018.3333%2018.3334%2014.6023%2018.3334%209.99996C18.3334%205.39759%2014.6025%201.66663%2010.0001%201.66663C5.39771%201.66663%201.66675%205.39759%201.66675%209.99996C1.66675%2014.6023%205.39771%2018.3333%2010.0001%2018.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205V10L13.3333%2011.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19_94'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",lP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206V12L16%2014'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cP="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23ECFDF5'/%3e%3cpath%20d='M26%2016V26.54C26.7626%2026.9803%2027.3586%2027.6599%2027.6955%2028.4734C28.0325%2029.2869%2028.0916%2030.1888%2027.8637%2031.0394C27.6358%2031.8899%2027.1336%2032.6415%2026.435%2033.1775C25.7365%2033.7136%2024.8805%2034.0041%2024%2034.0041C23.1195%2034.0041%2022.2635%2033.7136%2021.565%2033.1775C20.8664%2032.6415%2020.3642%2031.8899%2020.1363%2031.0394C19.9084%2030.1888%2019.9675%2029.2869%2020.3045%2028.4734C20.6415%2027.6599%2021.2374%2026.9803%2022%2026.54V16C22%2015.4696%2022.2107%2014.9609%2022.5858%2014.5858C22.9609%2014.2107%2023.4696%2014%2024%2014C24.5304%2014%2025.0391%2014.2107%2025.4142%2014.5858C25.7893%2014.9609%2026%2015.4696%2026%2016Z'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",uP="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23EFF6FF'/%3e%3cpath%20d='M18.3465%2017.274C19.8458%2015.942%2021.7579%2015.2063%2023.7375%2015.2C27.7725%2015.2%2031.122%2018.2909%2031.4865%2022.2766C33.8745%2022.6243%2035.7375%2024.6844%2035.7375%2027.2128C35.7375%2029.9884%2033.4906%2032.2%2030.768%2032.2H17.409C14.2995%2032.2%2011.7375%2029.6747%2011.7375%2026.5096C11.7375%2023.785%2013.6365%2021.5286%2016.1505%2020.9568C16.365%2019.623%2017.1975%2018.294%2018.3465%2017.274ZM19.326%2018.4439C18.1905%2019.453%2017.5965%2020.6693%2017.5965%2021.6213V22.3137L16.929%2022.3894C14.8335%2022.6259%2013.2375%2024.3985%2013.2375%2026.5096C13.2375%2028.7768%2015.0825%2030.6545%2017.409%2030.6545H30.768C32.7076%2030.6545%2034.2375%2029.0905%2034.2375%2027.2128C34.2375%2025.3335%2032.7076%2023.7695%2030.768%2023.7695H30.018V22.9968C30.0196%2019.5659%2027.2295%2016.7454%2023.7375%2016.7454C22.1174%2016.7521%2020.5528%2017.355%2019.326%2018.4454V18.4439Z'%20fill='%233B82F6'/%3e%3c/svg%3e",hP="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23FFFBEB'/%3e%3cpath%20d='M33.2749%2012.2H15.2749C14.4793%2012.2%2013.7162%2012.516%2013.1536%2013.0786C12.591%2013.6412%2012.2749%2014.4043%2012.2749%2015.2V33.2C12.2749%2033.9956%2012.591%2034.7587%2013.1536%2035.3213C13.7162%2035.8839%2014.4793%2036.2%2015.2749%2036.2H33.2749C34.0706%2036.2%2034.8336%2035.8839%2035.3962%2035.3213C35.9588%2034.7587%2036.2749%2033.9956%2036.2749%2033.2V15.2C36.2749%2014.4043%2035.9588%2013.6412%2035.3962%2013.0786C34.8336%2012.516%2034.0706%2012.2%2033.2749%2012.2ZM13.7749%2017.9855C13.7749%2017.276%2014.4469%2016.7%2015.2749%2016.7H33.2749C34.1029%2016.7%2034.7749%2017.276%2034.7749%2017.9855V33.4145C34.7749%2034.124%2034.1029%2034.7%2033.2749%2034.7H15.2749C14.4469%2034.7%2013.7749%2034.124%2013.7749%2033.4145V17.9855Z'%20fill='%23F59E0B'/%3e%3cpath%20d='M30.2749%2022.7C30.6727%2022.7%2031.0543%2022.5419%2031.3356%2022.2606C31.6169%2021.9793%2031.7749%2021.5978%2031.7749%2021.2C31.7749%2020.8021%2031.6169%2020.4206%2031.3356%2020.1393C31.0543%2019.858%2030.6727%2019.7%2030.2749%2019.7C29.8771%2019.7%2029.4955%2019.858%2029.2142%2020.1393C28.9329%2020.4206%2028.7749%2020.8021%2028.7749%2021.2C28.7749%2021.5978%2028.9329%2021.9793%2029.2142%2022.2606C29.4955%2022.5419%2029.8771%2022.7%2030.2749%2022.7Z'%20fill='%23F59E0B'/%3e%3c/svg%3e",fP="data:image/svg+xml,%3csvg%20width='18'%20height='13'%20viewBox='0%200%2018%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%201L6%2012L1%207'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dP="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_19_115)'%3e%3cpath%20d='M10.0001%2018.3333C14.6025%2018.3333%2018.3334%2014.6023%2018.3334%209.99996C18.3334%205.39759%2014.6025%201.66663%2010.0001%201.66663C5.39771%201.66663%201.66675%205.39759%201.66675%209.99996C1.66675%2014.6023%205.39771%2018.3333%2010.0001%2018.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205V10L13.3333%2011.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19_115'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pP="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%200.5C12.1421%200.5%2015.5%203.85786%2015.5%208C15.5%2012.1421%2012.1421%2015.5%208%2015.5C3.85786%2015.5%200.5%2012.1421%200.5%208C0.5%203.85786%203.85786%200.5%208%200.5Z'%20fill='%23F5F5F4'/%3e%3cpath%20d='M8%200.5C12.1421%200.5%2015.5%203.85786%2015.5%208C15.5%2012.1421%2012.1421%2015.5%208%2015.5C3.85786%2015.5%200.5%2012.1421%200.5%208C0.5%203.85786%203.85786%200.5%208%200.5Z'%20stroke='%23D6D3D1'/%3e%3c/svg%3e",gP="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5%201V8C11.5%2010.2091%209.70914%2012%207.5%2012H1'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",mP="data:image/svg+xml,%3csvg%20width='20'%20height='18'%20viewBox='0%200%2020%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%209.32H17.3462M10.8077%201L18%209.32L10.8077%2017'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e";var Ip=Object.defineProperty,_P=Object.getOwnPropertyDescriptor,yP=Object.getOwnPropertyNames,bP=Object.prototype.hasOwnProperty,Sn=(t,e)=>()=>(t&&(e=t(t=0)),e),xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ks=(t,e)=>{for(var n in e)Ip(t,n,{get:e[n],enumerable:!0})},vP=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yP(e))!bP.call(t,i)&&i!==n&&Ip(t,i,{get:()=>e[i],enumerable:!(r=_P(e,i))||r.enumerable});return t},mt=t=>vP(Ip({},"__esModule",{value:!0}),t),Se=Sn(()=>{}),It={};Ks(It,{_debugEnd:()=>of,_debugProcess:()=>sf,_events:()=>wf,_eventsCount:()=>Ef,_exiting:()=>Vh,_fatalExceptions:()=>tf,_getActiveHandles:()=>w2,_getActiveRequests:()=>v2,_kill:()=>zh,_linkedBinding:()=>y2,_maxListeners:()=>vf,_preload_modules:()=>yf,_rawDebug:()=>Wh,_startProfilerIdleNotifier:()=>af,_stopProfilerIdleNotifier:()=>lf,_tickCallback:()=>rf,abort:()=>ff,addListener:()=>Sf,allowedNodeEnvironmentFlags:()=>Zh,arch:()=>xh,argv:()=>Oh,argv0:()=>_f,assert:()=>E2,binding:()=>Dh,browser:()=>Uh,chdir:()=>jh,config:()=>qh,cpuUsage:()=>po,cwd:()=>Fh,debugPort:()=>mf,default:()=>Tp,dlopen:()=>b2,domain:()=>Hh,emit:()=>Tf,emitWarning:()=>Mh,env:()=>kh,execArgv:()=>Ph,execPath:()=>gf,exit:()=>Jh,features:()=>ef,hasUncaughtExceptionCaptureCallback:()=>S2,hrtime:()=>Ya,kill:()=>Qh,listeners:()=>A2,memoryUsage:()=>Yh,moduleLoadList:()=>$h,nextTick:()=>m2,off:()=>Af,on:()=>xr,once:()=>Cf,openStdin:()=>Xh,pid:()=>df,platform:()=>Th,ppid:()=>pf,prependListener:()=>kf,prependOnceListener:()=>Of,reallyExit:()=>Gh,release:()=>Bh,removeAllListeners:()=>xf,removeListener:()=>If,resourceUsage:()=>Kh,setSourceMapsEnabled:()=>bf,setUncaughtExceptionCaptureCallback:()=>nf,stderr:()=>uf,stdin:()=>hf,stdout:()=>cf,title:()=>Ih,umask:()=>Lh,uptime:()=>C2,version:()=>Rh,versions:()=>Nh});function xp(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function wP(){!zi||!$i||(zi=!1,$i.length?gr=$i.concat(gr):Mo=-1,gr.length&&g2())}function g2(){if(!zi){var t=setTimeout(wP,0);zi=!0;for(var e=gr.length;e;){for($i=gr,gr=[];++Mo<e;)$i&&$i[Mo].run();Mo=-1,e=gr.length}$i=null,zi=!1,clearTimeout(t)}}function m2(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];gr.push(new _2(t,e)),gr.length===1&&!zi&&setTimeout(g2,0)}function _2(t,e){this.fun=t,this.array=e}function en(){}function y2(t){xp("_linkedBinding")}function b2(t){xp("dlopen")}function v2(){return[]}function w2(){return[]}function E2(t,e){if(!t)throw new Error(e||"assertion error")}function S2(){return!1}function C2(){return Or.now()/1e3}function Ya(t){var e=Math.floor((Date.now()-Or.now())*.001),n=Or.now()*.001,r=Math.floor(n)+e,i=Math.floor(n%1*1e9);return t&&(r=r-t[0],i=i-t[1],i<0&&(r--,i+=Qa)),[r,i]}function xr(){return Tp}function A2(t){return[]}var gr,zi,$i,Mo,Ih,xh,Th,kh,Oh,Ph,Rh,Nh,Mh,Dh,Lh,Fh,jh,Bh,Uh,Wh,$h,Hh,Vh,qh,Gh,zh,po,Kh,Yh,Qh,Jh,Xh,Zh,ef,tf,nf,rf,sf,of,af,lf,cf,uf,hf,ff,df,pf,gf,mf,_f,yf,bf,Or,Bu,Qa,vf,wf,Ef,Sf,Cf,Af,If,xf,Tf,kf,Of,Tp,EP=Sn(()=>{Se(),Ae(),Ce(),gr=[],zi=!1,Mo=-1,_2.prototype.run=function(){this.fun.apply(null,this.array)},Ih="browser",xh="x64",Th="browser",kh={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Oh=["/usr/bin/node"],Ph=[],Rh="v16.8.0",Nh={},Mh=function(t,e){console.warn((e?e+": ":"")+t)},Dh=function(t){xp("binding")},Lh=function(t){return 0},Fh=function(){return"/"},jh=function(t){},Bh={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Uh=!0,Wh=en,$h=[],Hh={},Vh=!1,qh={},Gh=en,zh=en,po=function(){return{}},Kh=po,Yh=po,Qh=en,Jh=en,Xh=en,Zh={},ef={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},tf=en,nf=en,rf=en,sf=en,of=en,af=en,lf=en,cf=void 0,uf=void 0,hf=void 0,ff=en,df=2,pf=1,gf="/bin/usr/node",mf=9229,_f="node",yf=[],bf=en,Or={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Or.now===void 0&&(Bu=Date.now(),Or.timing&&Or.timing.navigationStart&&(Bu=Or.timing.navigationStart),Or.now=()=>Date.now()-Bu),Qa=1e9,Ya.bigint=function(t){var e=Ya(t);return typeof BigInt>"u"?e[0]*Qa+e[1]:BigInt(e[0]*Qa)+BigInt(e[1])},vf=10,wf={},Ef=0,Sf=xr,Cf=xr,Af=xr,If=xr,xf=xr,Tf=en,kf=xr,Of=xr,Tp={version:Rh,versions:Nh,arch:xh,platform:Th,browser:Uh,release:Bh,_rawDebug:Wh,moduleLoadList:$h,binding:Dh,_linkedBinding:y2,_events:wf,_eventsCount:Ef,_maxListeners:vf,on:xr,addListener:Sf,once:Cf,off:Af,removeListener:If,removeAllListeners:xf,emit:Tf,prependListener:kf,prependOnceListener:Of,listeners:A2,domain:Hh,_exiting:Vh,config:qh,dlopen:b2,uptime:C2,_getActiveRequests:v2,_getActiveHandles:w2,reallyExit:Gh,_kill:zh,cpuUsage:po,resourceUsage:Kh,memoryUsage:Yh,kill:Qh,exit:Jh,openStdin:Xh,allowedNodeEnvironmentFlags:Zh,assert:E2,features:ef,_fatalExceptions:tf,setUncaughtExceptionCaptureCallback:nf,hasUncaughtExceptionCaptureCallback:S2,emitWarning:Mh,nextTick:m2,_tickCallback:rf,_debugProcess:sf,_debugEnd:of,_startProfilerIdleNotifier:af,_stopProfilerIdleNotifier:lf,stdout:cf,stdin:hf,stderr:uf,abort:ff,umask:Lh,chdir:jh,cwd:Fh,env:kh,title:Ih,argv:Oh,execArgv:Ph,pid:df,ppid:pf,execPath:gf,debugPort:mf,hrtime:Ya,argv0:_f,_preload_modules:yf,setSourceMapsEnabled:bf}}),Ce=Sn(()=>{EP()});function SP(){if(Pf)return ws;Pf=!0,ws.byteLength=a,ws.toByteArray=c,ws.fromByteArray=f;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(g){var p=g.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=p);var b=_===p?0:4-_%4;return[_,b]}function a(g){var p=o(g),_=p[0],b=p[1];return(_+b)*3/4-b}function l(g,p,_){return(p+_)*3/4-_}function c(g){var p,_=o(g),b=_[0],E=_[1],y=new n(l(g,b,E)),v=0,A=E>0?b-4:b,w;for(w=0;w<A;w+=4)p=e[g.charCodeAt(w)]<<18|e[g.charCodeAt(w+1)]<<12|e[g.charCodeAt(w+2)]<<6|e[g.charCodeAt(w+3)],y[v++]=p>>16&255,y[v++]=p>>8&255,y[v++]=p&255;return E===2&&(p=e[g.charCodeAt(w)]<<2|e[g.charCodeAt(w+1)]>>4,y[v++]=p&255),E===1&&(p=e[g.charCodeAt(w)]<<10|e[g.charCodeAt(w+1)]<<4|e[g.charCodeAt(w+2)]>>2,y[v++]=p>>8&255,y[v++]=p&255),y}function u(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function h(g,p,_){for(var b,E=[],y=p;y<_;y+=3)b=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),E.push(u(b));return E.join("")}function f(g){for(var p,_=g.length,b=_%3,E=[],y=16383,v=0,A=_-b;v<A;v+=y)E.push(h(g,v,v+y>A?A:v+y));return b===1?(p=g[_-1],E.push(t[p>>2]+t[p<<4&63]+"==")):b===2&&(p=(g[_-2]<<8)+g[_-1],E.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),E.join("")}return ws}function CP(){return Rf?go:(Rf=!0,go.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,g=t[e+h];for(h+=f,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)},go.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,p=r?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=p,o/=256,c-=8);t[n+g-p]|=_*128},go)}function AP(){if(Nf)return ni;Nf=!0;let t=SP(),e=CP(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ni.Buffer=o,ni.SlowBuffer=E,ni.INSPECT_MAX_BYTES=50;let r=2147483647;ni.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let m=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(m,S),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(m){if(m>r)throw new RangeError('The value "'+m+'" is invalid for option "size"');let S=new Uint8Array(m);return Object.setPrototypeOf(S,o.prototype),S}function o(m,S,k){if(typeof m=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(m)}return a(m,S,k)}o.poolSize=8192;function a(m,S,k){if(typeof m=="string")return h(m,S);if(ArrayBuffer.isView(m))return g(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(U(m,ArrayBuffer)||m&&U(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(m,SharedArrayBuffer)||m&&U(m.buffer,SharedArrayBuffer)))return p(m,S,k);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let J=m.valueOf&&m.valueOf();if(J!=null&&J!==m)return o.from(J,S,k);let ce=_(m);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),S,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,S,k){return a(m,S,k)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function c(m,S,k){return l(m),m<=0?s(m):S!==void 0?typeof k=="string"?s(m).fill(S,k):s(m).fill(S):s(m)}o.alloc=function(m,S,k){return c(m,S,k)};function u(m){return l(m),s(m<0?0:b(m)|0)}o.allocUnsafe=function(m){return u(m)},o.allocUnsafeSlow=function(m){return u(m)};function h(m,S){if((typeof S!="string"||S==="")&&(S="utf8"),!o.isEncoding(S))throw new TypeError("Unknown encoding: "+S);let k=y(m,S)|0,J=s(k),ce=J.write(m,S);return ce!==k&&(J=J.slice(0,ce)),J}function f(m){let S=m.length<0?0:b(m.length)|0,k=s(S);for(let J=0;J<S;J+=1)k[J]=m[J]&255;return k}function g(m){if(U(m,Uint8Array)){let S=new Uint8Array(m);return p(S.buffer,S.byteOffset,S.byteLength)}return f(m)}function p(m,S,k){if(S<0||m.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<S+(k||0))throw new RangeError('"length" is outside of buffer bounds');let J;return S===void 0&&k===void 0?J=new Uint8Array(m):k===void 0?J=new Uint8Array(m,S):J=new Uint8Array(m,S,k),Object.setPrototypeOf(J,o.prototype),J}function _(m){if(o.isBuffer(m)){let S=b(m.length)|0,k=s(S);return k.length===0||m.copy(k,0,0,S),k}if(m.length!==void 0)return typeof m.length!="number"||me(m.length)?s(0):f(m);if(m.type==="Buffer"&&Array.isArray(m.data))return f(m.data)}function b(m){if(m>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return m|0}function E(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==o.prototype},o.compare=function(m,S){if(U(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),U(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),!o.isBuffer(m)||!o.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===S)return 0;let k=m.length,J=S.length;for(let ce=0,we=Math.min(k,J);ce<we;++ce)if(m[ce]!==S[ce]){k=m[ce],J=S[ce];break}return k<J?-1:J<k?1:0},o.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(m,S){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return o.alloc(0);let k;if(S===void 0)for(S=0,k=0;k<m.length;++k)S+=m[k].length;let J=o.allocUnsafe(S),ce=0;for(k=0;k<m.length;++k){let we=m[k];if(U(we,Uint8Array))ce+we.length>J.length?(o.isBuffer(we)||(we=o.from(we)),we.copy(J,ce)):Uint8Array.prototype.set.call(J,we,ce);else if(o.isBuffer(we))we.copy(J,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=we.length}return J};function y(m,S){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||U(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);let k=m.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&k===0)return 0;let ce=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return D(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return se(m).length;default:if(ce)return J?-1:D(m).length;S=(""+S).toLowerCase(),ce=!0}}o.byteLength=y;function v(m,S,k){let J=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,S>>>=0,k<=S))return"";for(m||(m="utf8");;)switch(m){case"hex":return ne(this,S,k);case"utf8":case"utf-8":return Z(this,S,k);case"ascii":return be(this,S,k);case"latin1":case"binary":return ie(this,S,k);case"base64":return M(this,S,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,S,k);default:if(J)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),J=!0}}o.prototype._isBuffer=!0;function A(m,S,k){let J=m[S];m[S]=m[k],m[k]=J}o.prototype.swap16=function(){let m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<m;S+=2)A(this,S,S+1);return this},o.prototype.swap32=function(){let m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<m;S+=4)A(this,S,S+3),A(this,S+1,S+2);return this},o.prototype.swap64=function(){let m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<m;S+=8)A(this,S,S+7),A(this,S+1,S+6),A(this,S+2,S+5),A(this,S+3,S+4);return this},o.prototype.toString=function(){let m=this.length;return m===0?"":arguments.length===0?Z(this,0,m):v.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(m){if(!o.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:o.compare(this,m)===0},o.prototype.inspect=function(){let m="",S=ni.INSPECT_MAX_BYTES;return m=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(m+=" ... "),"<Buffer "+m+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(m,S,k,J,ce){if(U(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),!o.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(S===void 0&&(S=0),k===void 0&&(k=m?m.length:0),J===void 0&&(J=0),ce===void 0&&(ce=this.length),S<0||k>m.length||J<0||ce>this.length)throw new RangeError("out of range index");if(J>=ce&&S>=k)return 0;if(J>=ce)return-1;if(S>=k)return 1;if(S>>>=0,k>>>=0,J>>>=0,ce>>>=0,this===m)return 0;let we=ce-J,ke=k-S,ae=Math.min(we,ke),ve=this.slice(J,ce),Le=m.slice(S,k);for(let je=0;je<ae;++je)if(ve[je]!==Le[je]){we=ve[je],ke=Le[je];break}return we<ke?-1:ke<we?1:0};function w(m,S,k,J,ce){if(m.length===0)return-1;if(typeof k=="string"?(J=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,me(k)&&(k=ce?0:m.length-1),k<0&&(k=m.length+k),k>=m.length){if(ce)return-1;k=m.length-1}else if(k<0)if(ce)k=0;else return-1;if(typeof S=="string"&&(S=o.from(S,J)),o.isBuffer(S))return S.length===0?-1:x(m,S,k,J,ce);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(m,S,k):Uint8Array.prototype.lastIndexOf.call(m,S,k):x(m,[S],k,J,ce);throw new TypeError("val must be string, number or Buffer")}function x(m,S,k,J,ce){let we=1,ke=m.length,ae=S.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(m.length<2||S.length<2)return-1;we=2,ke/=2,ae/=2,k/=2}function ve(je,$e){return we===1?je[$e]:je.readUInt16BE($e*we)}let Le;if(ce){let je=-1;for(Le=k;Le<ke;Le++)if(ve(m,Le)===ve(S,je===-1?0:Le-je)){if(je===-1&&(je=Le),Le-je+1===ae)return je*we}else je!==-1&&(Le-=Le-je),je=-1}else for(k+ae>ke&&(k=ke-ae),Le=k;Le>=0;Le--){let je=!0;for(let $e=0;$e<ae;$e++)if(ve(m,Le+$e)!==ve(S,$e)){je=!1;break}if(je)return Le}return-1}o.prototype.includes=function(m,S,k){return this.indexOf(m,S,k)!==-1},o.prototype.indexOf=function(m,S,k){return w(this,m,S,k,!0)},o.prototype.lastIndexOf=function(m,S,k){return w(this,m,S,k,!1)};function I(m,S,k,J){k=Number(k)||0;let ce=m.length-k;J?(J=Number(J),J>ce&&(J=ce)):J=ce;let we=S.length;J>we/2&&(J=we/2);let ke;for(ke=0;ke<J;++ke){let ae=parseInt(S.substr(ke*2,2),16);if(me(ae))return ke;m[k+ke]=ae}return ke}function R(m,S,k,J){return le(D(S,m.length-k),m,k,J)}function W(m,S,k,J){return le(V(S),m,k,J)}function H(m,S,k,J){return le(se(S),m,k,J)}function Q(m,S,k,J){return le(oe(S,m.length-k),m,k,J)}o.prototype.write=function(m,S,k,J){if(S===void 0)J="utf8",k=this.length,S=0;else if(k===void 0&&typeof S=="string")J=S,k=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(k)?(k=k>>>0,J===void 0&&(J="utf8")):(J=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ce=this.length-S;if((k===void 0||k>ce)&&(k=ce),m.length>0&&(k<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let we=!1;for(;;)switch(J){case"hex":return I(this,m,S,k);case"utf8":case"utf-8":return R(this,m,S,k);case"ascii":case"latin1":case"binary":return W(this,m,S,k);case"base64":return H(this,m,S,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,m,S,k);default:if(we)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),we=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(m,S,k){return S===0&&k===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(S,k))}function Z(m,S,k){k=Math.min(m.length,k);let J=[],ce=S;for(;ce<k;){let we=m[ce],ke=null,ae=we>239?4:we>223?3:we>191?2:1;if(ce+ae<=k){let ve,Le,je,$e;switch(ae){case 1:we<128&&(ke=we);break;case 2:ve=m[ce+1],(ve&192)===128&&($e=(we&31)<<6|ve&63,$e>127&&(ke=$e));break;case 3:ve=m[ce+1],Le=m[ce+2],(ve&192)===128&&(Le&192)===128&&($e=(we&15)<<12|(ve&63)<<6|Le&63,$e>2047&&($e<55296||$e>57343)&&(ke=$e));break;case 4:ve=m[ce+1],Le=m[ce+2],je=m[ce+3],(ve&192)===128&&(Le&192)===128&&(je&192)===128&&($e=(we&15)<<18|(ve&63)<<12|(Le&63)<<6|je&63,$e>65535&&$e<1114112&&(ke=$e))}}ke===null?(ke=65533,ae=1):ke>65535&&(ke-=65536,J.push(ke>>>10&1023|55296),ke=56320|ke&1023),J.push(ke),ce+=ae}return X(J)}let ee=4096;function X(m){let S=m.length;if(S<=ee)return String.fromCharCode.apply(String,m);let k="",J=0;for(;J<S;)k+=String.fromCharCode.apply(String,m.slice(J,J+=ee));return k}function be(m,S,k){let J="";k=Math.min(m.length,k);for(let ce=S;ce<k;++ce)J+=String.fromCharCode(m[ce]&127);return J}function ie(m,S,k){let J="";k=Math.min(m.length,k);for(let ce=S;ce<k;++ce)J+=String.fromCharCode(m[ce]);return J}function ne(m,S,k){let J=m.length;(!S||S<0)&&(S=0),(!k||k<0||k>J)&&(k=J);let ce="";for(let we=S;we<k;++we)ce+=_e[m[we]];return ce}function ye(m,S,k){let J=m.slice(S,k),ce="";for(let we=0;we<J.length-1;we+=2)ce+=String.fromCharCode(J[we]+J[we+1]*256);return ce}o.prototype.slice=function(m,S){let k=this.length;m=~~m,S=S===void 0?k:~~S,m<0?(m+=k,m<0&&(m=0)):m>k&&(m=k),S<0?(S+=k,S<0&&(S=0)):S>k&&(S=k),S<m&&(S=m);let J=this.subarray(m,S);return Object.setPrototypeOf(J,o.prototype),J};function te(m,S,k){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+S>k)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(m,S,k){m=m>>>0,S=S>>>0,k||te(m,S,this.length);let J=this[m],ce=1,we=0;for(;++we<S&&(ce*=256);)J+=this[m+we]*ce;return J},o.prototype.readUintBE=o.prototype.readUIntBE=function(m,S,k){m=m>>>0,S=S>>>0,k||te(m,S,this.length);let J=this[m+--S],ce=1;for(;S>0&&(ce*=256);)J+=this[m+--S]*ce;return J},o.prototype.readUint8=o.prototype.readUInt8=function(m,S){return m=m>>>0,S||te(m,1,this.length),this[m]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(m,S){return m=m>>>0,S||te(m,2,this.length),this[m]|this[m+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(m,S){return m=m>>>0,S||te(m,2,this.length),this[m]<<8|this[m+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(m,S){return m=m>>>0,S||te(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(m,S){return m=m>>>0,S||te(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},o.prototype.readBigUInt64LE=he(function(m){m=m>>>0,T(m,"offset");let S=this[m],k=this[m+7];(S===void 0||k===void 0)&&N(m,this.length-8);let J=S+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,ce=this[++m]+this[++m]*2**8+this[++m]*2**16+k*2**24;return BigInt(J)+(BigInt(ce)<<BigInt(32))}),o.prototype.readBigUInt64BE=he(function(m){m=m>>>0,T(m,"offset");let S=this[m],k=this[m+7];(S===void 0||k===void 0)&&N(m,this.length-8);let J=S*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],ce=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+k;return(BigInt(J)<<BigInt(32))+BigInt(ce)}),o.prototype.readIntLE=function(m,S,k){m=m>>>0,S=S>>>0,k||te(m,S,this.length);let J=this[m],ce=1,we=0;for(;++we<S&&(ce*=256);)J+=this[m+we]*ce;return ce*=128,J>=ce&&(J-=Math.pow(2,8*S)),J},o.prototype.readIntBE=function(m,S,k){m=m>>>0,S=S>>>0,k||te(m,S,this.length);let J=S,ce=1,we=this[m+--J];for(;J>0&&(ce*=256);)we+=this[m+--J]*ce;return ce*=128,we>=ce&&(we-=Math.pow(2,8*S)),we},o.prototype.readInt8=function(m,S){return m=m>>>0,S||te(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},o.prototype.readInt16LE=function(m,S){m=m>>>0,S||te(m,2,this.length);let k=this[m]|this[m+1]<<8;return k&32768?k|4294901760:k},o.prototype.readInt16BE=function(m,S){m=m>>>0,S||te(m,2,this.length);let k=this[m+1]|this[m]<<8;return k&32768?k|4294901760:k},o.prototype.readInt32LE=function(m,S){return m=m>>>0,S||te(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},o.prototype.readInt32BE=function(m,S){return m=m>>>0,S||te(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},o.prototype.readBigInt64LE=he(function(m){m=m>>>0,T(m,"offset");let S=this[m],k=this[m+7];(S===void 0||k===void 0)&&N(m,this.length-8);let J=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(k<<24);return(BigInt(J)<<BigInt(32))+BigInt(S+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),o.prototype.readBigInt64BE=he(function(m){m=m>>>0,T(m,"offset");let S=this[m],k=this[m+7];(S===void 0||k===void 0)&&N(m,this.length-8);let J=(S<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(J)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+k)}),o.prototype.readFloatLE=function(m,S){return m=m>>>0,S||te(m,4,this.length),e.read(this,m,!0,23,4)},o.prototype.readFloatBE=function(m,S){return m=m>>>0,S||te(m,4,this.length),e.read(this,m,!1,23,4)},o.prototype.readDoubleLE=function(m,S){return m=m>>>0,S||te(m,8,this.length),e.read(this,m,!0,52,8)},o.prototype.readDoubleBE=function(m,S){return m=m>>>0,S||te(m,8,this.length),e.read(this,m,!1,52,8)};function q(m,S,k,J,ce,we){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>ce||S<we)throw new RangeError('"value" argument is out of bounds');if(k+J>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(m,S,k,J){if(m=+m,S=S>>>0,k=k>>>0,!J){let ke=Math.pow(2,8*k)-1;q(this,m,S,k,ke,0)}let ce=1,we=0;for(this[S]=m&255;++we<k&&(ce*=256);)this[S+we]=m/ce&255;return S+k},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(m,S,k,J){if(m=+m,S=S>>>0,k=k>>>0,!J){let ke=Math.pow(2,8*k)-1;q(this,m,S,k,ke,0)}let ce=k-1,we=1;for(this[S+ce]=m&255;--ce>=0&&(we*=256);)this[S+ce]=m/we&255;return S+k},o.prototype.writeUint8=o.prototype.writeUInt8=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,1,255,0),this[S]=m&255,S+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,2,65535,0),this[S]=m&255,this[S+1]=m>>>8,S+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,2,65535,0),this[S]=m>>>8,this[S+1]=m&255,S+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,4,4294967295,0),this[S+3]=m>>>24,this[S+2]=m>>>16,this[S+1]=m>>>8,this[S]=m&255,S+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,4,4294967295,0),this[S]=m>>>24,this[S+1]=m>>>16,this[S+2]=m>>>8,this[S+3]=m&255,S+4};function G(m,S,k,J,ce){re(S,J,ce,m,k,7);let we=Number(S&BigInt(4294967295));m[k++]=we,we=we>>8,m[k++]=we,we=we>>8,m[k++]=we,we=we>>8,m[k++]=we;let ke=Number(S>>BigInt(32)&BigInt(4294967295));return m[k++]=ke,ke=ke>>8,m[k++]=ke,ke=ke>>8,m[k++]=ke,ke=ke>>8,m[k++]=ke,k}function fe(m,S,k,J,ce){re(S,J,ce,m,k,7);let we=Number(S&BigInt(4294967295));m[k+7]=we,we=we>>8,m[k+6]=we,we=we>>8,m[k+5]=we,we=we>>8,m[k+4]=we;let ke=Number(S>>BigInt(32)&BigInt(4294967295));return m[k+3]=ke,ke=ke>>8,m[k+2]=ke,ke=ke>>8,m[k+1]=ke,ke=ke>>8,m[k]=ke,k+8}o.prototype.writeBigUInt64LE=he(function(m,S=0){return G(this,m,S,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=he(function(m,S=0){return fe(this,m,S,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(m,S,k,J){if(m=+m,S=S>>>0,!J){let ae=Math.pow(2,8*k-1);q(this,m,S,k,ae-1,-ae)}let ce=0,we=1,ke=0;for(this[S]=m&255;++ce<k&&(we*=256);)m<0&&ke===0&&this[S+ce-1]!==0&&(ke=1),this[S+ce]=(m/we>>0)-ke&255;return S+k},o.prototype.writeIntBE=function(m,S,k,J){if(m=+m,S=S>>>0,!J){let ae=Math.pow(2,8*k-1);q(this,m,S,k,ae-1,-ae)}let ce=k-1,we=1,ke=0;for(this[S+ce]=m&255;--ce>=0&&(we*=256);)m<0&&ke===0&&this[S+ce+1]!==0&&(ke=1),this[S+ce]=(m/we>>0)-ke&255;return S+k},o.prototype.writeInt8=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,1,127,-128),m<0&&(m=255+m+1),this[S]=m&255,S+1},o.prototype.writeInt16LE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,2,32767,-32768),this[S]=m&255,this[S+1]=m>>>8,S+2},o.prototype.writeInt16BE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,2,32767,-32768),this[S]=m>>>8,this[S+1]=m&255,S+2},o.prototype.writeInt32LE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,4,2147483647,-2147483648),this[S]=m&255,this[S+1]=m>>>8,this[S+2]=m>>>16,this[S+3]=m>>>24,S+4},o.prototype.writeInt32BE=function(m,S,k){return m=+m,S=S>>>0,k||q(this,m,S,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[S]=m>>>24,this[S+1]=m>>>16,this[S+2]=m>>>8,this[S+3]=m&255,S+4},o.prototype.writeBigInt64LE=he(function(m,S=0){return G(this,m,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=he(function(m,S=0){return fe(this,m,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(m,S,k,J,ce,we){if(k+J>m.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ge(m,S,k,J,ce){return S=+S,k=k>>>0,ce||Ie(m,S,k,4),e.write(m,S,k,J,23,4),k+4}o.prototype.writeFloatLE=function(m,S,k){return ge(this,m,S,!0,k)},o.prototype.writeFloatBE=function(m,S,k){return ge(this,m,S,!1,k)};function Te(m,S,k,J,ce){return S=+S,k=k>>>0,ce||Ie(m,S,k,8),e.write(m,S,k,J,52,8),k+8}o.prototype.writeDoubleLE=function(m,S,k){return Te(this,m,S,!0,k)},o.prototype.writeDoubleBE=function(m,S,k){return Te(this,m,S,!1,k)},o.prototype.copy=function(m,S,k,J){if(!o.isBuffer(m))throw new TypeError("argument should be a Buffer");if(k||(k=0),!J&&J!==0&&(J=this.length),S>=m.length&&(S=m.length),S||(S=0),J>0&&J<k&&(J=k),J===k||m.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),m.length-S<J-k&&(J=m.length-S+k);let ce=J-k;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,k,J):Uint8Array.prototype.set.call(m,this.subarray(k,J),S),ce},o.prototype.fill=function(m,S,k,J){if(typeof m=="string"){if(typeof S=="string"?(J=S,S=0,k=this.length):typeof k=="string"&&(J=k,k=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!o.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(m.length===1){let we=m.charCodeAt(0);(J==="utf8"&&we<128||J==="latin1")&&(m=we)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(S<0||this.length<S||this.length<k)throw new RangeError("Out of range index");if(k<=S)return this;S=S>>>0,k=k===void 0?this.length:k>>>0,m||(m=0);let ce;if(typeof m=="number")for(ce=S;ce<k;++ce)this[ce]=m;else{let we=o.isBuffer(m)?m:o.from(m,J),ke=we.length;if(ke===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ce=0;ce<k-S;++ce)this[ce+S]=we[ce%ke]}return this};let F={};function j(m,S,k){F[m]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}j("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(m,S){return`The "${m}" argument must be of type number. Received type ${typeof S}`},TypeError),j("ERR_OUT_OF_RANGE",function(m,S,k){let J=`The value of "${m}" is out of range.`,ce=k;return Number.isInteger(k)&&Math.abs(k)>2**32?ce=z(String(k)):typeof k=="bigint"&&(ce=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(ce=z(ce)),ce+="n"),J+=` It must be ${S}. Received ${ce}`,J},RangeError);function z(m){let S="",k=m.length,J=m[0]==="-"?1:0;for(;k>=J+4;k-=3)S=`_${m.slice(k-3,k)}${S}`;return`${m.slice(0,k)}${S}`}function K(m,S,k){T(S,"offset"),(m[S]===void 0||m[S+k]===void 0)&&N(S,m.length-(k+1))}function re(m,S,k,J,ce,we){if(m>k||m<S){let ke=typeof S=="bigint"?"n":"",ae;throw S===0||S===BigInt(0)?ae=`>= 0${ke} and < 2${ke} ** ${(we+1)*8}${ke}`:ae=`>= -(2${ke} ** ${(we+1)*8-1}${ke}) and < 2 ** ${(we+1)*8-1}${ke}`,new F.ERR_OUT_OF_RANGE("value",ae,m)}K(J,ce,we)}function T(m,S){if(typeof m!="number")throw new F.ERR_INVALID_ARG_TYPE(S,"number",m)}function N(m,S,k){throw Math.floor(m)!==m?(T(m,k),new F.ERR_OUT_OF_RANGE("offset","an integer",m)):S<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,m)}let B=/[^+/0-9A-Za-z-_]/g;function P(m){if(m=m.split("=")[0],m=m.trim().replace(B,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function D(m,S){S=S||1/0;let k,J=m.length,ce=null,we=[];for(let ke=0;ke<J;++ke){if(k=m.charCodeAt(ke),k>55295&&k<57344){if(!ce){if(k>56319){(S-=3)>-1&&we.push(239,191,189);continue}else if(ke+1===J){(S-=3)>-1&&we.push(239,191,189);continue}ce=k;continue}if(k<56320){(S-=3)>-1&&we.push(239,191,189),ce=k;continue}k=(ce-55296<<10|k-56320)+65536}else ce&&(S-=3)>-1&&we.push(239,191,189);if(ce=null,k<128){if((S-=1)<0)break;we.push(k)}else if(k<2048){if((S-=2)<0)break;we.push(k>>6|192,k&63|128)}else if(k<65536){if((S-=3)<0)break;we.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((S-=4)<0)break;we.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return we}function V(m){let S=[];for(let k=0;k<m.length;++k)S.push(m.charCodeAt(k)&255);return S}function oe(m,S){let k,J,ce,we=[];for(let ke=0;ke<m.length&&!((S-=2)<0);++ke)k=m.charCodeAt(ke),J=k>>8,ce=k%256,we.push(ce),we.push(J);return we}function se(m){return t.toByteArray(P(m))}function le(m,S,k,J){let ce;for(ce=0;ce<J&&!(ce+k>=S.length||ce>=m.length);++ce)S[ce+k]=m[ce];return ce}function U(m,S){return m instanceof S||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===S.name}function me(m){return m!==m}let _e=(function(){let m="0123456789abcdef",S=new Array(256);for(let k=0;k<16;++k){let J=k*16;for(let ce=0;ce<16;++ce)S[J+ce]=m[k]+m[ce]}return S})();function he(m){return typeof BigInt>"u"?Re:m}function Re(){throw new Error("BigInt not supported")}return ni}var ws,Pf,go,Rf,ni,Nf,IP=Sn(()=>{Se(),Ae(),Ce(),ws={},Pf=!1,go={},Rf=!1,ni={},Nf=!1}),Kt={};Ks(Kt,{Buffer:()=>Yl,INSPECT_MAX_BYTES:()=>I2,default:()=>Tr,kMaxLength:()=>x2});var Tr,Yl,I2,x2,Yt=Sn(()=>{Se(),Ae(),Ce(),IP(),Tr=AP(),Tr.Buffer,Tr.SlowBuffer,Tr.INSPECT_MAX_BYTES,Tr.kMaxLength,Yl=Tr.Buffer,I2=Tr.INSPECT_MAX_BYTES,x2=Tr.kMaxLength}),Ae=Sn(()=>{Yt()}),Rt=xe((t,e)=>{Se(),Ae(),Ce();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let s=0;s<r.length;s++)i+=`    ${r[s].stack}
`;super(i),this.name="AggregateError",this.errors=r}};e.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,i){return r.includes(i)},ArrayPrototypeIndexOf(r,i){return r.indexOf(i)},ArrayPrototypeJoin(r,i){return r.join(i)},ArrayPrototypeMap(r,i){return r.map(i)},ArrayPrototypePop(r,i){return r.pop(i)},ArrayPrototypePush(r,i){return r.push(i)},ArrayPrototypeSlice(r,i,s){return r.slice(i,s)},Error,FunctionPrototypeCall(r,i,...s){return r.call(i,...s)},FunctionPrototypeSymbolHasInstance(r,i){return Function.prototype[Symbol.hasInstance].call(r,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,i){return Object.defineProperties(r,i)},ObjectDefineProperty(r,i,s){return Object.defineProperty(r,i,s)},ObjectGetOwnPropertyDescriptor(r,i){return Object.getOwnPropertyDescriptor(r,i)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,i){return Object.setPrototypeOf(r,i)},Promise,PromisePrototypeCatch(r,i){return r.catch(i)},PromisePrototypeThen(r,i,s){return r.then(i,s)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,i){return r.test(i)},SafeSet:Set,String,StringPrototypeSlice(r,i,s){return r.slice(i,s)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,i,s){return r.set(i,s)},Boolean,Uint8Array}}),T2=xe((t,e)=>{Se(),Ae(),Ce(),e.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[i,s]){let o=r.shift();return s==="f"?o.toFixed(6):s==="j"?JSON.stringify(o):s==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),yn=xe((t,e)=>{Se(),Ae(),Ce();var{format:n,inspect:r}=T2(),{AggregateError:i}=Rt(),s=globalThis.AggregateError||i,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function h(y,v){if(!y)throw new u.ERR_INTERNAL_ASSERTION(v)}function f(y){let v="",A=y.length,w=y[0]==="-"?1:0;for(;A>=w+4;A-=3)v=`_${y.slice(A-3,A)}${v}`;return`${y.slice(0,A)}${v}`}function g(y,v,A){if(typeof v=="function")return h(v.length<=A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${v.length}).`),v(...A);let w=(v.match(/%[dfijoOs]/g)||[]).length;return h(w===A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${w}).`),A.length===0?v:n(v,...A)}function p(y,v,A){A||(A=Error);class w extends A{constructor(...I){super(g(y,v,I))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(w.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),w.prototype.code=y,w.prototype[o]=!0,u[y]=w}function _(y){let v=c+y.name;return Object.defineProperty(y,"name",{value:v}),y}function b(y,v){if(y&&v&&y!==v){if(Array.isArray(v.errors))return v.errors.push(y),v;let A=new s([v,y],v.message);return A.code=v.code,A}return y||v}var E=class extends Error{constructor(y="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",v);super(y,v),this.code="ABORT_ERR",this.name="AbortError"}};p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(y,v,A)=>{h(typeof y=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let w="The ";y.endsWith(" argument")?w+=`${y} `:w+=`"${y}" ${y.includes(".")?"property":"argument"} `,w+="must be ";let x=[],I=[],R=[];for(let H of v)h(typeof H=="string","All expected entries have to be of type string"),a.includes(H)?x.push(H.toLowerCase()):l.test(H)?I.push(H):(h(H!=="object",'The value "object" should be written as "Object"'),R.push(H));if(I.length>0){let H=x.indexOf("object");H!==-1&&(x.splice(x,H,1),I.push("Object"))}if(x.length>0){switch(x.length){case 1:w+=`of type ${x[0]}`;break;case 2:w+=`one of type ${x[0]} or ${x[1]}`;break;default:{let H=x.pop();w+=`one of type ${x.join(", ")}, or ${H}`}}(I.length>0||R.length>0)&&(w+=" or ")}if(I.length>0){switch(I.length){case 1:w+=`an instance of ${I[0]}`;break;case 2:w+=`an instance of ${I[0]} or ${I[1]}`;break;default:{let H=I.pop();w+=`an instance of ${I.join(", ")}, or ${H}`}}R.length>0&&(w+=" or ")}switch(R.length){case 0:break;case 1:R[0].toLowerCase()!==R[0]&&(w+="an "),w+=`${R[0]}`;break;case 2:w+=`one of ${R[0]} or ${R[1]}`;break;default:{let H=R.pop();w+=`one of ${R.join(", ")}, or ${H}`}}if(A==null)w+=`. Received ${A}`;else if(typeof A=="function"&&A.name)w+=`. Received function ${A.name}`;else if(typeof A=="object"){var W;if((W=A.constructor)!==null&&W!==void 0&&W.name)w+=`. Received an instance of ${A.constructor.name}`;else{let H=r(A,{depth:-1});w+=`. Received ${H}`}}else{let H=r(A,{colors:!1});H.length>25&&(H=`${H.slice(0,25)}...`),w+=`. Received type ${typeof A} (${H})`}return w},TypeError),p("ERR_INVALID_ARG_VALUE",(y,v,A="is invalid")=>{let w=r(v);return w.length>128&&(w=w.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${A}. Received ${w}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(y,v,A)=>{var w;let x=A!=null&&(w=A.constructor)!==null&&w!==void 0&&w.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${y} to be returned from the "${v}" function but got ${x}.`},TypeError),p("ERR_MISSING_ARGS",(...y)=>{h(y.length>0,"At least one arg needs to be specified");let v,A=y.length;switch(y=(Array.isArray(y)?y:[y]).map(w=>`"${w}"`).join(" or "),A){case 1:v+=`The ${y[0]} argument`;break;case 2:v+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let w=y.pop();v+=`The ${y.join(", ")}, and ${w} arguments`}break}return`${v} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(y,v,A)=>{h(v,'Missing "range" argument');let w;if(Number.isInteger(A)&&Math.abs(A)>2**32)w=f(String(A));else if(typeof A=="bigint"){w=String(A);let x=BigInt(2)**BigInt(32);(A>x||A<-x)&&(w=f(w)),w+="n"}else w=r(A);return`The value of "${y}" is out of range. It must be ${v}. Received ${w}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:E,aggregateTwoErrors:_(b),hideStackFrames:_,codes:u}}),ta=xe((t,e)=>{Se(),Ae(),Ce();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=n,e.exports.AbortSignal=r,e.exports.default=n}),vi={};Ks(vi,{EventEmitter:()=>k2,default:()=>Es,defaultMaxListeners:()=>O2,init:()=>P2,listenerCount:()=>R2,on:()=>N2,once:()=>M2});function xP(){if(Mf)return mo;Mf=!0;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(A,w,x){return Function.prototype.apply.call(A,w,x)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:n=function(A){return Object.getOwnPropertyNames(A)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}mo=s,mo.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function l(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(A){for(var w=[],x=1;x<arguments.length;x++)w.push(arguments[x]);var I=A==="error",R=this._events;if(R!==void 0)I=I&&R.error===void 0;else if(!I)return!1;if(I){var W;if(w.length>0&&(W=w[0]),W instanceof Error)throw W;var H=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw H.context=W,H}var Q=R[A];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,w);else for(var M=Q.length,Z=p(Q,M),x=0;x<M;++x)e(Z[x],this,w);return!0};function c(A,w,x,I){var R,W,H;if(a(x),W=A._events,W===void 0?(W=A._events=Object.create(null),A._eventsCount=0):(W.newListener!==void 0&&(A.emit("newListener",w,x.listener?x.listener:x),W=A._events),H=W[w]),H===void 0)H=W[w]=x,++A._eventsCount;else if(typeof H=="function"?H=W[w]=I?[x,H]:[H,x]:I?H.unshift(x):H.push(x),R=l(A),R>0&&H.length>R&&!H.warned){H.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=A,Q.type=w,Q.count=H.length,r(Q)}return A}s.prototype.addListener=function(A,w){return c(this,A,w,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,w){return c(this,A,w,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(A,w,x){var I={fired:!1,wrapFn:void 0,target:A,type:w,listener:x},R=u.bind(I);return R.listener=x,I.wrapFn=R,R}s.prototype.once=function(A,w){return a(w),this.on(A,h(this,A,w)),this},s.prototype.prependOnceListener=function(A,w){return a(w),this.prependListener(A,h(this,A,w)),this},s.prototype.removeListener=function(A,w){var x,I,R,W,H;if(a(w),I=this._events,I===void 0)return this;if(x=I[A],x===void 0)return this;if(x===w||x.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete I[A],I.removeListener&&this.emit("removeListener",A,x.listener||w));else if(typeof x!="function"){for(R=-1,W=x.length-1;W>=0;W--)if(x[W]===w||x[W].listener===w){H=x[W].listener,R=W;break}if(R<0)return this;R===0?x.shift():_(x,R),x.length===1&&(I[A]=x[0]),I.removeListener!==void 0&&this.emit("removeListener",A,H||w)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var w,x,I;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[A]),this;if(arguments.length===0){var R=Object.keys(x),W;for(I=0;I<R.length;++I)W=R[I],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=x[A],typeof w=="function")this.removeListener(A,w);else if(w!==void 0)for(I=w.length-1;I>=0;I--)this.removeListener(A,w[I]);return this};function f(A,w,x){var I=A._events;if(I===void 0)return[];var R=I[w];return R===void 0?[]:typeof R=="function"?x?[R.listener||R]:[R]:x?b(R):p(R,R.length)}s.prototype.listeners=function(A){return f(this,A,!0)},s.prototype.rawListeners=function(A){return f(this,A,!1)},s.listenerCount=function(A,w){return typeof A.listenerCount=="function"?A.listenerCount(w):g.call(A,w)},s.prototype.listenerCount=g;function g(A){var w=this._events;if(w!==void 0){var x=w[A];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(A,w){for(var x=new Array(w),I=0;I<w;++I)x[I]=A[I];return x}function _(A,w){for(;w+1<A.length;w++)A[w]=A[w+1];A.pop()}function b(A){for(var w=new Array(A.length),x=0;x<w.length;++x)w[x]=A[x].listener||A[x];return w}function E(A,w){return new Promise(function(x,I){function R(H){A.removeListener(w,W),I(H)}function W(){typeof A.removeListener=="function"&&A.removeListener("error",R),x([].slice.call(arguments))}v(A,w,W,{once:!0}),w!=="error"&&y(A,R,{once:!0})})}function y(A,w,x){typeof A.on=="function"&&v(A,"error",w,x)}function v(A,w,x,I){if(typeof A.on=="function")I.once?A.once(w,x):A.on(w,x);else if(typeof A.addEventListener=="function")A.addEventListener(w,function R(W){I.once&&A.removeEventListener(w,R),x(W)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return mo}var mo,Mf,Es,k2,O2,P2,R2,N2,M2,ts=Sn(()=>{Se(),Ae(),Ce(),mo={},Mf=!1,Es=xP(),Es.once,Es.once=function(t,e){return new Promise((n,r)=>{function i(...o){s!==void 0&&t.removeListener("error",s),n(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,i),r(o)},t.once("error",s)),t.once(e,i)})},Es.on=function(t,e){let n=[],r=[],i=null,s=!1,o={async next(){let c=n.shift();if(c)return createIterResult(c,!1);if(i){let u=Promise.reject(i);return i=null,u}return s?createIterResult(void 0,!0):new Promise((u,h)=>r.push({resolve:u,reject:h}))},async return(){t.removeListener(e,a),t.removeListener("error",l),s=!0;for(let c of r)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,t.removeListener(e,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),o;function a(...c){let u=r.shift();u?u.resolve(createIterResult(c,!1)):n.push(c)}function l(c){s=!0;let u=r.shift();u?u.reject(c):i=c,o.return()}},{EventEmitter:k2,defaultMaxListeners:O2,init:P2,listenerCount:R2,on:N2,once:M2}=Es}),En=xe((t,e)=>{Se(),Ae(),Ce();var n=(Yt(),mt(Kt)),{format:r,inspect:i}=T2(),{codes:{ERR_INVALID_ARG_TYPE:s}}=yn(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:l}=Rt(),c=globalThis.AbortSignal||ta().AbortSignal,u=globalThis.AbortController||ta().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||n.Blob,g=typeof f<"u"?function(b){return b instanceof f}:function(b){return!1},p=(b,E)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new s(E,"AbortSignal",b)},_=(b,E)=>{if(typeof b!="function")throw new s(E,"Function",b)};e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(b){let E=!1;return function(...y){E||(E=!0,b.apply(this,y))}},createDeferredPromise:function(){let b,E;return{promise:new Promise((y,v)=>{b=y,E=v}),resolve:b,reject:E}},promisify(b){return new Promise((E,y)=>{b((v,...A)=>v?y(v):E(...A))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(b){return b instanceof h},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:g,deprecate(b,E){return b},addAbortListener:(ts(),mt(vi)).addAbortListener||function(b,E){if(b===void 0)throw new s("signal","AbortSignal",b);p(b,"signal"),_(E,"listener");let y;return b.aborted?queueMicrotask(()=>E()):(b.addEventListener("abort",E,{__proto__:null,once:!0,[o]:!0}),y=()=>{b.removeEventListener("abort",E)}),{__proto__:null,[l](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:c.any||function(b){if(b.length===1)return b[0];let E=new u,y=()=>E.abort();return b.forEach(v=>{p(v,"signals"),v.addEventListener("abort",y,{once:!0})}),E.signal.addEventListener("abort",()=>{b.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),E.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ma=xe((t,e)=>{Se(),Ae(),Ce();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:g,StringPrototypeToUpperCase:p,StringPrototypeTrim:_}=Rt(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:E,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:w}}=yn(),{normalizeEncoding:x}=En(),{isAsyncFunction:I,isArrayBufferView:R}=En().types,W={};function H(U){return U===(U|0)}function Q(U){return U===U>>>0}var M=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function ee(U,me,_e){if(typeof U>"u"&&(U=_e),typeof U=="string"){if(f(M,U)===null)throw new v(me,U,Z);U=u(U,8)}return ie(U,me),U}var X=b((U,me,_e=c,he=l)=>{if(typeof U!="number")throw new y(me,"number",U);if(!o(U))throw new A(me,"an integer",U);if(U<_e||U>he)throw new A(me,`>= ${_e} && <= ${he}`,U)}),be=b((U,me,_e=-2147483648,he=2147483647)=>{if(typeof U!="number")throw new y(me,"number",U);if(!o(U))throw new A(me,"an integer",U);if(U<_e||U>he)throw new A(me,`>= ${_e} && <= ${he}`,U)}),ie=b((U,me,_e=!1)=>{if(typeof U!="number")throw new y(me,"number",U);if(!o(U))throw new A(me,"an integer",U);let he=_e?1:0,Re=4294967295;if(U<he||U>Re)throw new A(me,`>= ${he} && <= ${Re}`,U)});function ne(U,me){if(typeof U!="string")throw new y(me,"string",U)}function ye(U,me,_e=void 0,he){if(typeof U!="number")throw new y(me,"number",U);if(_e!=null&&U<_e||he!=null&&U>he||(_e!=null||he!=null)&&a(U))throw new A(me,`${_e!=null?`>= ${_e}`:""}${_e!=null&&he!=null?" && ":""}${he!=null?`<= ${he}`:""}`,U)}var te=b((U,me,_e)=>{if(!r(_e,U)){let he="must be one of: "+i(s(_e,Re=>typeof Re=="string"?`'${Re}'`:g(Re)),", ");throw new v(me,U,he)}});function q(U,me){if(typeof U!="boolean")throw new y(me,"boolean",U)}function G(U,me,_e){return U==null||!h(U,me)?_e:U[me]}var fe=b((U,me,_e=null)=>{let he=G(_e,"allowArray",!1),Re=G(_e,"allowFunction",!1);if(!G(_e,"nullable",!1)&&U===null||!he&&n(U)||typeof U!="object"&&(!Re||typeof U!="function"))throw new y(me,"Object",U)}),Ie=b((U,me)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new y(me,"a dictionary",U)}),ge=b((U,me,_e=0)=>{if(!n(U))throw new y(me,"Array",U);if(U.length<_e){let he=`must be longer than ${_e}`;throw new v(me,U,he)}});function Te(U,me){ge(U,me);for(let _e=0;_e<U.length;_e++)ne(U[_e],`${me}[${_e}]`)}function F(U,me){ge(U,me);for(let _e=0;_e<U.length;_e++)q(U[_e],`${me}[${_e}]`)}function j(U,me){ge(U,me);for(let _e=0;_e<U.length;_e++){let he=U[_e],Re=`${me}[${_e}]`;if(he==null)throw new y(Re,"AbortSignal",he);N(he,Re)}}function z(U,me="signal"){if(ne(U,me),W[U]===void 0)throw W[p(U)]!==void 0?new w(U+" (signals must use all capital letters)"):new w(U)}var K=b((U,me="buffer")=>{if(!R(U))throw new y(me,["Buffer","TypedArray","DataView"],U)});function re(U,me){let _e=x(me),he=U.length;if(_e==="hex"&&he%2!==0)throw new v("encoding",me,`is invalid for data of length ${he}`)}function T(U,me="Port",_e=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&_(U).length===0||+U!==+U>>>0||U>65535||U===0&&!_e)throw new E(me,U,_e);return U|0}var N=b((U,me)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new y(me,"AbortSignal",U)}),B=b((U,me)=>{if(typeof U!="function")throw new y(me,"Function",U)}),P=b((U,me)=>{if(typeof U!="function"||I(U))throw new y(me,"Function",U)}),D=b((U,me)=>{if(U!==void 0)throw new y(me,"undefined",U)});function V(U,me,_e){if(!r(_e,U))throw new y(me,`('${i(_e,"|")}')`,U)}var oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function se(U,me){if(typeof U>"u"||!f(oe,U))throw new v(me,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function le(U){if(typeof U=="string")return se(U,"hints"),U;if(n(U)){let me=U.length,_e="";if(me===0)return _e;for(let he=0;he<me;he++){let Re=U[he];se(Re,"hints"),_e+=Re,he!==me-1&&(_e+=", ")}return _e}throw new v("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:H,isUint32:Q,parseFileMode:ee,validateArray:ge,validateStringArray:Te,validateBooleanArray:F,validateAbortSignalArray:j,validateBoolean:q,validateBuffer:K,validateDictionary:Ie,validateEncoding:re,validateFunction:B,validateInt32:be,validateInteger:X,validateNumber:ye,validateObject:fe,validateOneOf:te,validatePlainFunction:P,validatePort:T,validateSignalName:z,validateString:ne,validateUint32:ie,validateUndefined:D,validateUnion:V,validateAbortSignal:N,validateLinkHeaderValue:le}}),ns=xe((t,e)=>{Se(),Ae(),Ce();var n=e.exports={},r,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=s}catch{r=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(E){if(r===setTimeout)return setTimeout(E,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(E,0);try{return r(E,0)}catch{try{return r.call(null,E,0)}catch{return r.call(this,E,0)}}}function l(E){if(i===clearTimeout)return clearTimeout(E);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(E);try{return i(E)}catch{try{return i.call(null,E)}catch{return i.call(this,E)}}}var c=[],u=!1,h,f=-1;function g(){!u||!h||(u=!1,h.length?c=h.concat(c):f=-1,c.length&&p())}function p(){if(!u){var E=a(g);u=!0;for(var y=c.length;y;){for(h=c,c=[];++f<y;)h&&h[f].run();f=-1,y=c.length}h=null,u=!1,l(E)}}n.nextTick=function(E){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];c.push(new _(E,y)),c.length===1&&!u&&a(p)};function _(E,y){this.fun=E,this.array=y}_.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function b(){}n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(E){return[]},n.binding=function(E){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(E){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),Gr=xe((t,e)=>{Se(),Ae(),Ce();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:i}=Rt(),s=i("nodejs.stream.destroyed"),o=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),c=i("nodejs.stream.disturbed"),u=i("nodejs.webstream.isClosedPromise"),h=i("nodejs.webstream.controllerErrorFunction");function f(G,fe=!1){var Ie;return!!(G&&typeof G.pipe=="function"&&typeof G.on=="function"&&(!fe||typeof G.pause=="function"&&typeof G.resume=="function")&&(!G._writableState||((Ie=G._readableState)===null||Ie===void 0?void 0:Ie.readable)!==!1)&&(!G._writableState||G._readableState))}function g(G){var fe;return!!(G&&typeof G.write=="function"&&typeof G.on=="function"&&(!G._readableState||((fe=G._writableState)===null||fe===void 0?void 0:fe.writable)!==!1))}function p(G){return!!(G&&typeof G.pipe=="function"&&G._readableState&&typeof G.on=="function"&&typeof G.write=="function")}function _(G){return G&&(G._readableState||G._writableState||typeof G.write=="function"&&typeof G.on=="function"||typeof G.pipe=="function"&&typeof G.on=="function")}function b(G){return!!(G&&!_(G)&&typeof G.pipeThrough=="function"&&typeof G.getReader=="function"&&typeof G.cancel=="function")}function E(G){return!!(G&&!_(G)&&typeof G.getWriter=="function"&&typeof G.abort=="function")}function y(G){return!!(G&&!_(G)&&typeof G.readable=="object"&&typeof G.writable=="object")}function v(G){return b(G)||E(G)||y(G)}function A(G,fe){return G==null?!1:fe===!0?typeof G[n]=="function":fe===!1?typeof G[r]=="function":typeof G[n]=="function"||typeof G[r]=="function"}function w(G){if(!_(G))return null;let fe=G._writableState,Ie=G._readableState,ge=fe||Ie;return!!(G.destroyed||G[s]||ge!=null&&ge.destroyed)}function x(G){if(!g(G))return null;if(G.writableEnded===!0)return!0;let fe=G._writableState;return fe!=null&&fe.errored?!1:typeof fe?.ended!="boolean"?null:fe.ended}function I(G,fe){if(!g(G))return null;if(G.writableFinished===!0)return!0;let Ie=G._writableState;return Ie!=null&&Ie.errored?!1:typeof Ie?.finished!="boolean"?null:!!(Ie.finished||fe===!1&&Ie.ended===!0&&Ie.length===0)}function R(G){if(!f(G))return null;if(G.readableEnded===!0)return!0;let fe=G._readableState;return!fe||fe.errored?!1:typeof fe?.ended!="boolean"?null:fe.ended}function W(G,fe){if(!f(G))return null;let Ie=G._readableState;return Ie!=null&&Ie.errored?!1:typeof Ie?.endEmitted!="boolean"?null:!!(Ie.endEmitted||fe===!1&&Ie.ended===!0&&Ie.length===0)}function H(G){return G&&G[a]!=null?G[a]:typeof G?.readable!="boolean"?null:w(G)?!1:f(G)&&G.readable&&!W(G)}function Q(G){return G&&G[l]!=null?G[l]:typeof G?.writable!="boolean"?null:w(G)?!1:g(G)&&G.writable&&!x(G)}function M(G,fe){return _(G)?w(G)?!0:!(fe?.readable!==!1&&H(G)||fe?.writable!==!1&&Q(G)):null}function Z(G){var fe,Ie;return _(G)?G.writableErrored?G.writableErrored:(fe=(Ie=G._writableState)===null||Ie===void 0?void 0:Ie.errored)!==null&&fe!==void 0?fe:null:null}function ee(G){var fe,Ie;return _(G)?G.readableErrored?G.readableErrored:(fe=(Ie=G._readableState)===null||Ie===void 0?void 0:Ie.errored)!==null&&fe!==void 0?fe:null:null}function X(G){if(!_(G))return null;if(typeof G.closed=="boolean")return G.closed;let fe=G._writableState,Ie=G._readableState;return typeof fe?.closed=="boolean"||typeof Ie?.closed=="boolean"?fe?.closed||Ie?.closed:typeof G._closed=="boolean"&&be(G)?G._closed:null}function be(G){return typeof G._closed=="boolean"&&typeof G._defaultKeepAlive=="boolean"&&typeof G._removedConnection=="boolean"&&typeof G._removedContLen=="boolean"}function ie(G){return typeof G._sent100=="boolean"&&be(G)}function ne(G){var fe;return typeof G._consuming=="boolean"&&typeof G._dumped=="boolean"&&((fe=G.req)===null||fe===void 0?void 0:fe.upgradeOrConnect)===void 0}function ye(G){if(!_(G))return null;let fe=G._writableState,Ie=G._readableState,ge=fe||Ie;return!ge&&ie(G)||!!(ge&&ge.autoDestroy&&ge.emitClose&&ge.closed===!1)}function te(G){var fe;return!!(G&&((fe=G[c])!==null&&fe!==void 0?fe:G.readableDidRead||G.readableAborted))}function q(G){var fe,Ie,ge,Te,F,j,z,K,re,T;return!!(G&&((fe=(Ie=(ge=(Te=(F=(j=G[o])!==null&&j!==void 0?j:G.readableErrored)!==null&&F!==void 0?F:G.writableErrored)!==null&&Te!==void 0?Te:(z=G._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&ge!==void 0?ge:(K=G._writableState)===null||K===void 0?void 0:K.errorEmitted)!==null&&Ie!==void 0?Ie:(re=G._readableState)===null||re===void 0?void 0:re.errored)!==null&&fe!==void 0?fe:!((T=G._writableState)===null||T===void 0)&&T.errored))}e.exports={isDestroyed:w,kIsDestroyed:s,isDisturbed:te,kIsDisturbed:c,isErrored:q,kIsErrored:o,isReadable:H,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:h,kIsWritable:l,isClosed:X,isDuplexNodeStream:p,isFinished:M,isIterable:A,isReadableNodeStream:f,isReadableStream:b,isReadableEnded:R,isReadableFinished:W,isReadableErrored:ee,isNodeStream:_,isWebStream:v,isWritable:Q,isWritableNodeStream:g,isWritableStream:E,isWritableEnded:x,isWritableFinished:I,isWritableErrored:Z,isServerRequest:ne,isServerResponse:ie,willEmitClose:ye,isTransformStream:y}}),wi=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{AbortError:r,codes:i}=yn(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=i,{kEmptyObject:a,once:l}=En(),{validateAbortSignal:c,validateFunction:u,validateObject:h,validateBoolean:f}=ma(),{Promise:g,PromisePrototypeThen:p,SymbolDispose:_}=Rt(),{isClosed:b,isReadable:E,isReadableNodeStream:y,isReadableStream:v,isReadableFinished:A,isReadableErrored:w,isWritable:x,isWritableNodeStream:I,isWritableStream:R,isWritableFinished:W,isWritableErrored:H,isNodeStream:Q,willEmitClose:M,kIsClosedPromise:Z}=Gr(),ee;function X(te){return te.setHeader&&typeof te.abort=="function"}var be=()=>{};function ie(te,q,G){var fe,Ie;if(arguments.length===2?(G=q,q=a):q==null?q=a:h(q,"options"),u(G,"callback"),c(q.signal,"options.signal"),G=l(G),v(te)||R(te))return ne(te,q,G);if(!Q(te))throw new s("stream",["ReadableStream","WritableStream","Stream"],te);let ge=(fe=q.readable)!==null&&fe!==void 0?fe:y(te),Te=(Ie=q.writable)!==null&&Ie!==void 0?Ie:I(te),F=te._writableState,j=te._readableState,z=()=>{te.writable||T()},K=M(te)&&y(te)===ge&&I(te)===Te,re=W(te,!1),T=()=>{re=!0,te.destroyed&&(K=!1),!(K&&(!te.readable||ge))&&(!ge||N)&&G.call(te)},N=A(te,!1),B=()=>{N=!0,te.destroyed&&(K=!1),!(K&&(!te.writable||Te))&&(!Te||re)&&G.call(te)},P=U=>{G.call(te,U)},D=b(te),V=()=>{D=!0;let U=H(te)||w(te);if(U&&typeof U!="boolean")return G.call(te,U);if(ge&&!N&&y(te,!0)&&!A(te,!1))return G.call(te,new o);if(Te&&!re&&!W(te,!1))return G.call(te,new o);G.call(te)},oe=()=>{D=!0;let U=H(te)||w(te);if(U&&typeof U!="boolean")return G.call(te,U);G.call(te)},se=()=>{te.req.on("finish",T)};X(te)?(te.on("complete",T),K||te.on("abort",V),te.req?se():te.on("request",se)):Te&&!F&&(te.on("end",z),te.on("close",z)),!K&&typeof te.aborted=="boolean"&&te.on("aborted",V),te.on("end",B),te.on("finish",T),q.error!==!1&&te.on("error",P),te.on("close",V),D?n.nextTick(V):F!=null&&F.errorEmitted||j!=null&&j.errorEmitted?K||n.nextTick(oe):(!ge&&(!K||E(te))&&(re||x(te)===!1)||!Te&&(!K||x(te))&&(N||E(te)===!1)||j&&te.req&&te.aborted)&&n.nextTick(oe);let le=()=>{G=be,te.removeListener("aborted",V),te.removeListener("complete",T),te.removeListener("abort",V),te.removeListener("request",se),te.req&&te.req.removeListener("finish",T),te.removeListener("end",z),te.removeListener("close",z),te.removeListener("finish",T),te.removeListener("end",B),te.removeListener("error",P),te.removeListener("close",V)};if(q.signal&&!D){let U=()=>{let me=G;le(),me.call(te,new r(void 0,{cause:q.signal.reason}))};if(q.signal.aborted)n.nextTick(U);else{ee=ee||En().addAbortListener;let me=ee(q.signal,U),_e=G;G=l((...he)=>{me[_](),_e.apply(te,he)})}}return le}function ne(te,q,G){let fe=!1,Ie=be;if(q.signal)if(Ie=()=>{fe=!0,G.call(te,new r(void 0,{cause:q.signal.reason}))},q.signal.aborted)n.nextTick(Ie);else{ee=ee||En().addAbortListener;let Te=ee(q.signal,Ie),F=G;G=l((...j)=>{Te[_](),F.apply(te,j)})}let ge=(...Te)=>{fe||n.nextTick(()=>G.apply(te,Te))};return p(te[Z].promise,ge,ge),be}function ye(te,q){var G;let fe=!1;return q===null&&(q=a),(G=q)!==null&&G!==void 0&&G.cleanup&&(f(q.cleanup,"cleanup"),fe=q.cleanup),new g((Ie,ge)=>{let Te=ie(te,q,F=>{fe&&Te(),F?ge(F):Ie()})})}e.exports=ie,e.exports.finished=ye}),Ys=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=yn(),{Symbol:o}=Rt(),{kIsDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=Gr(),h=o("kDestroy"),f=o("kConstruct");function g(M,Z,ee){M&&(M.stack,Z&&!Z.errored&&(Z.errored=M),ee&&!ee.errored&&(ee.errored=M))}function p(M,Z){let ee=this._readableState,X=this._writableState,be=X||ee;return X!=null&&X.destroyed||ee!=null&&ee.destroyed?(typeof Z=="function"&&Z(),this):(g(M,X,ee),X&&(X.destroyed=!0),ee&&(ee.destroyed=!0),be.constructed?_(this,M,Z):this.once(h,function(ie){_(this,r(ie,M),Z)}),this)}function _(M,Z,ee){let X=!1;function be(ie){if(X)return;X=!0;let ne=M._readableState,ye=M._writableState;g(ie,ye,ne),ye&&(ye.closed=!0),ne&&(ne.closed=!0),typeof ee=="function"&&ee(ie),ie?n.nextTick(b,M,ie):n.nextTick(E,M)}try{M._destroy(Z||null,be)}catch(ie){be(ie)}}function b(M,Z){y(M,Z),E(M)}function E(M){let Z=M._readableState,ee=M._writableState;ee&&(ee.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(ee!=null&&ee.emitClose||Z!=null&&Z.emitClose)&&M.emit("close")}function y(M,Z){let ee=M._readableState,X=M._writableState;X!=null&&X.errorEmitted||ee!=null&&ee.errorEmitted||(X&&(X.errorEmitted=!0),ee&&(ee.errorEmitted=!0),M.emit("error",Z))}function v(){let M=this._readableState,Z=this._writableState;M&&(M.constructed=!0,M.closed=!1,M.closeEmitted=!1,M.destroyed=!1,M.errored=null,M.errorEmitted=!1,M.reading=!1,M.ended=M.readable===!1,M.endEmitted=M.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function A(M,Z,ee){let X=M._readableState,be=M._writableState;if(be!=null&&be.destroyed||X!=null&&X.destroyed)return this;X!=null&&X.autoDestroy||be!=null&&be.autoDestroy?M.destroy(Z):Z&&(Z.stack,be&&!be.errored&&(be.errored=Z),X&&!X.errored&&(X.errored=Z),ee?n.nextTick(y,M,Z):y(M,Z))}function w(M,Z){if(typeof M._construct!="function")return;let ee=M._readableState,X=M._writableState;ee&&(ee.constructed=!1),X&&(X.constructed=!1),M.once(f,Z),!(M.listenerCount(f)>1)&&n.nextTick(x,M)}function x(M){let Z=!1;function ee(X){if(Z){A(M,X??new i);return}Z=!0;let be=M._readableState,ie=M._writableState,ne=ie||be;be&&(be.constructed=!0),ie&&(ie.constructed=!0),ne.destroyed?M.emit(h,X):X?A(M,X,!0):n.nextTick(I,M)}try{M._construct(X=>{n.nextTick(ee,X)})}catch(X){n.nextTick(ee,X)}}function I(M){M.emit(f)}function R(M){return M?.setHeader&&typeof M.abort=="function"}function W(M){M.emit("close")}function H(M,Z){M.emit("error",Z),n.nextTick(W,M)}function Q(M,Z){!M||l(M)||(!Z&&!c(M)&&(Z=new s),u(M)?(M.socket=null,M.destroy(Z)):R(M)?M.abort():R(M.req)?M.req.abort():typeof M.destroy=="function"?M.destroy(Z):typeof M.close=="function"?M.close():Z?n.nextTick(H,M,Z):n.nextTick(W,M),M.destroyed||(M[a]=!0))}e.exports={construct:w,destroyer:Q,destroy:p,undestroy:v,errorOrDestroy:A}}),kp=xe((t,e)=>{Se(),Ae(),Ce();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=Rt(),{EventEmitter:i}=(ts(),mt(vi));function s(a){i.call(this,a)}r(s.prototype,i.prototype),r(s,i),s.prototype.pipe=function(a,l){let c=this;function u(E){a.writable&&a.write(E)===!1&&c.pause&&c.pause()}c.on("data",u);function h(){c.readable&&c.resume&&c.resume()}a.on("drain",h),!a._isStdio&&(!l||l.end!==!1)&&(c.on("end",g),c.on("close",p));let f=!1;function g(){f||(f=!0,a.end())}function p(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function _(E){b(),i.listenerCount(this,"error")===0&&this.emit("error",E)}o(c,"error",_),o(a,"error",_);function b(){c.removeListener("data",u),a.removeListener("drain",h),c.removeListener("end",g),c.removeListener("close",p),c.removeListener("error",_),a.removeListener("error",_),c.removeListener("end",b),c.removeListener("close",b),a.removeListener("close",b)}return c.on("end",b),c.on("close",b),a.on("close",b),a.emit("pipe",c),a};function o(a,l,c){if(typeof a.prependListener=="function")return a.prependListener(l,c);!a._events||!a._events[l]?a.on(l,c):n(a._events[l])?a._events[l].unshift(c):a._events[l]=[c,a._events[l]]}e.exports={Stream:s,prependListener:o}}),Pc=xe((t,e)=>{Se(),Ae(),Ce();var{SymbolDispose:n}=Rt(),{AbortError:r,codes:i}=yn(),{isNodeStream:s,isWebStream:o,kControllerErrorFunction:a}=Gr(),l=wi(),{ERR_INVALID_ARG_TYPE:c}=i,u,h=(f,g)=>{if(typeof f!="object"||!("aborted"in f))throw new c(g,"AbortSignal",f)};e.exports.addAbortSignal=function(f,g){if(h(f,"signal"),!s(g)&&!o(g))throw new c("stream",["ReadableStream","WritableStream","Stream"],g);return e.exports.addAbortSignalNoValidate(f,g)},e.exports.addAbortSignalNoValidate=function(f,g){if(typeof f!="object"||!("aborted"in f))return g;let p=s(g)?()=>{g.destroy(new r(void 0,{cause:f.reason}))}:()=>{g[a](new r(void 0,{cause:f.reason}))};if(f.aborted)p();else{u=u||En().addAbortListener;let _=u(f,p);l(g,_[n])}return g}}),TP=xe((t,e)=>{Se(),Ae(),Ce();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:i,Uint8Array:s}=Rt(),{Buffer:o}=(Yt(),mt(Kt)),{inspect:a}=En();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=l+c.data;return u}concat(l){if(this.length===0)return o.alloc(0);let c=o.allocUnsafe(l>>>0),u=this.head,h=0;for(;u;)i(c,u.data,h),h+=u.data.length,u=u.next;return c}consume(l,c){let u=this.head.data;if(l<u.length){let h=u.slice(0,l);return this.head.data=u.slice(l),h}return l===u.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[r](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",u=this.head,h=0;do{let f=u.data;if(l>f.length)c+=f,l-=f.length;else{l===f.length?(c+=f,++h,u.next?this.head=u.next:this.head=this.tail=null):(c+=n(f,0,l),this.head=u,u.data=n(f,l));break}++h}while((u=u.next)!==null);return this.length-=h,c}_getBuffer(l){let c=o.allocUnsafe(l),u=l,h=this.head,f=0;do{let g=h.data;if(l>g.length)i(c,g,u-l),l-=g.length;else{l===g.length?(i(c,g,u-l),++f,h.next?this.head=h.next:this.head=this.tail=null):(i(c,new s(g.buffer,g.byteOffset,l),u-l),this.head=h,h.data=g.slice(l));break}++f}while((h=h.next)!==null);return this.length-=f,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return a(this,{...c,depth:0,customInspect:!1})}}}),Rc=xe((t,e)=>{Se(),Ae(),Ce();var{MathFloor:n,NumberIsInteger:r}=Rt(),{validateInteger:i}=ma(),{ERR_INVALID_ARG_VALUE:s}=yn().codes,o=16*1024,a=16;function l(f,g,p){return f.highWaterMark!=null?f.highWaterMark:g?f[p]:null}function c(f){return f?a:o}function u(f,g){i(g,"value",0),f?a=g:o=g}function h(f,g,p,_){let b=l(g,_,p);if(b!=null){if(!r(b)||b<0){let E=_?`options.${p}`:"options.highWaterMark";throw new s(E,b)}return n(b)}return c(f.objectMode)}e.exports={getHighWaterMark:h,getDefaultHighWaterMark:c,setDefaultHighWaterMark:u}}),kP=xe((t,e)=>{Se(),Ae(),Ce();var n=(Yt(),mt(Kt)),r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}),OP=xe(t=>{Se(),Ae(),Ce();var e=kP().Buffer,n=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function i(y){var v=r(y);if(typeof v!="string"&&(e.isEncoding===n||!n(y)))throw new Error("Unknown encoding: "+y);return v||y}t.StringDecoder=s;function s(y){this.encoding=i(y);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=g,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=p,this.end=_,v=3;break;default:this.write=b,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}s.prototype.write=function(y){if(y.length===0)return"";var v,A;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<y.length?v?v+this.text(y,A):this.text(y,A):v||""},s.prototype.end=h,s.prototype.text=u,s.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,v,A){var w=v.length-1;if(w<A)return 0;var x=o(v[w]);return x>=0?(x>0&&(y.lastNeed=x-1),x):--w<A||x===-2?0:(x=o(v[w]),x>=0?(x>0&&(y.lastNeed=x-2),x):--w<A||x===-2?0:(x=o(v[w]),x>=0?(x>0&&(x===2?x=0:y.lastNeed=x-3),x):0))}function l(y,v,A){if((v[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,""}}function c(y){var v=this.lastTotal-this.lastNeed,A=l(this,y);if(A!==void 0)return A;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function u(y,v){var A=a(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=A;var w=y.length-(A-this.lastNeed);return y.copy(this.lastChar,0,w),y.toString("utf8",v,w)}function h(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"":v}function f(y,v){if((y.length-v)%2===0){var A=y.toString("utf16le",v);if(A){var w=A.charCodeAt(A.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function g(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,A)}return v}function p(y,v){var A=(y.length-v)%3;return A===0?y.toString("base64",v):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-A))}function _(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function b(y){return y.toString(this.encoding)}function E(y){return y&&y.length?this.write(y):""}}),D2=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{PromisePrototypeThen:r,SymbolAsyncIterator:i,SymbolIterator:s}=Rt(),{Buffer:o}=(Yt(),mt(Kt)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=yn().codes;function c(u,h,f){let g;if(typeof h=="string"||h instanceof o)return new u({objectMode:!0,...f,read(){this.push(h),this.push(null)}});let p;if(h&&h[i])p=!0,g=h[i]();else if(h&&h[s])p=!1,g=h[s]();else throw new a("iterable",["Iterable"],h);let _=new u({objectMode:!0,highWaterMark:1,...f}),b=!1;_._read=function(){b||(b=!0,y())},_._destroy=function(v,A){r(E(v),()=>n.nextTick(A,v),w=>n.nextTick(A,w||v))};async function E(v){let A=v!=null,w=typeof g.throw=="function";if(A&&w){let{value:x,done:I}=await g.throw(v);if(await x,I)return}if(typeof g.return=="function"){let{value:x}=await g.return();await x}}async function y(){for(;;){try{let{value:v,done:A}=p?await g.next():g.next();if(A)_.push(null);else{let w=v&&typeof v.then=="function"?await v:v;if(w===null)throw b=!1,new l;if(_.push(w))continue;b=!1}}catch(v){_.destroy(v)}break}}return _}e.exports=c}),Nc=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{ArrayPrototypeIndexOf:r,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:h,SymbolAsyncDispose:f,SymbolAsyncIterator:g,Symbol:p}=Rt();e.exports=he,he.ReadableState=_e;var{EventEmitter:_}=(ts(),mt(vi)),{Stream:b,prependListener:E}=kp(),{Buffer:y}=(Yt(),mt(Kt)),{addAbortSignal:v}=Pc(),A=wi(),w=En().debuglog("stream",$=>{w=$}),x=TP(),I=Ys(),{getHighWaterMark:R,getDefaultHighWaterMark:W}=Rc(),{aggregateTwoErrors:H,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:ee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:X},AbortError:be}=yn(),{validateObject:ie}=ma(),ne=p("kPaused"),{StringDecoder:ye}=OP(),te=D2();c(he.prototype,b.prototype),c(he,b);var q=()=>{},{errorOrDestroy:G}=I,fe=1,Ie=2,ge=4,Te=8,F=16,j=32,z=64,K=128,re=256,T=512,N=1024,B=2048,P=4096,D=8192,V=16384,oe=32768,se=65536,le=1<<17,U=1<<18;function me($){return{enumerable:!1,get(){return(this.state&$)!==0},set(Y){Y?this.state|=$:this.state&=~$}}}a(_e.prototype,{objectMode:me(fe),ended:me(Ie),endEmitted:me(ge),reading:me(Te),constructed:me(F),sync:me(j),needReadable:me(z),emittedReadable:me(K),readableListening:me(re),resumeScheduled:me(T),errorEmitted:me(N),emitClose:me(B),autoDestroy:me(P),destroyed:me(D),closed:me(V),closeEmitted:me(oe),multiAwaitDrain:me(se),readingMore:me(le),dataEmitted:me(U)});function _e($,Y,Pe){typeof Pe!="boolean"&&(Pe=Y instanceof $r()),this.state=B|P|F|j,$&&$.objectMode&&(this.state|=fe),Pe&&$&&$.readableObjectMode&&(this.state|=fe),this.highWaterMark=$?R(this,$,"readableHighWaterMark",Pe):W(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[ne]=null,$&&$.emitClose===!1&&(this.state&=~B),$&&$.autoDestroy===!1&&(this.state&=~P),this.errored=null,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,$&&$.encoding&&(this.decoder=new ye($.encoding),this.encoding=$.encoding)}function he($){if(!(this instanceof he))return new he($);let Y=this instanceof $r();this._readableState=new _e($,this,Y),$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&!Y&&v($.signal,this)),b.call(this,$),I.construct(this,()=>{this._readableState.needReadable&&ae(this,this._readableState)})}he.prototype.destroy=I.destroy,he.prototype._undestroy=I.undestroy,he.prototype._destroy=function($,Y){Y($)},he.prototype[_.captureRejectionSymbol]=function($){this.destroy($)},he.prototype[f]=function(){let $;return this.destroyed||($=this.readableEnded?null:new be,this.destroy($)),new u((Y,Pe)=>A(this,De=>De&&De!==$?Pe(De):Y(null)))},he.prototype.push=function($,Y){return Re(this,$,Y,!1)},he.prototype.unshift=function($,Y){return Re(this,$,Y,!0)};function Re($,Y,Pe,De){w("readableAddChunk",Y);let Be=$._readableState,jt;if((Be.state&fe)===0&&(typeof Y=="string"?(Pe=Pe||Be.defaultEncoding,Be.encoding!==Pe&&(De&&Be.encoding?Y=y.from(Y,Pe).toString(Be.encoding):(Y=y.from(Y,Pe),Pe=""))):Y instanceof y?Pe="":b._isUint8Array(Y)?(Y=b._uint8ArrayToBuffer(Y),Pe=""):Y!=null&&(jt=new Q("chunk",["string","Buffer","Uint8Array"],Y))),jt)G($,jt);else if(Y===null)Be.state&=~Te,ce($,Be);else if((Be.state&fe)!==0||Y&&Y.length>0)if(De)if((Be.state&ge)!==0)G($,new X);else{if(Be.destroyed||Be.errored)return!1;m($,Be,Y,!0)}else if(Be.ended)G($,new ee);else{if(Be.destroyed||Be.errored)return!1;Be.state&=~Te,Be.decoder&&!Pe?(Y=Be.decoder.write(Y),Be.objectMode||Y.length!==0?m($,Be,Y,!1):ae($,Be)):m($,Be,Y,!1)}else De||(Be.state&=~Te,ae($,Be));return!Be.ended&&(Be.length<Be.highWaterMark||Be.length===0)}function m($,Y,Pe,De){Y.flowing&&Y.length===0&&!Y.sync&&$.listenerCount("data")>0?((Y.state&se)!==0?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null,Y.dataEmitted=!0,$.emit("data",Pe)):(Y.length+=Y.objectMode?1:Pe.length,De?Y.buffer.unshift(Pe):Y.buffer.push(Pe),(Y.state&z)!==0&&we($)),ae($,Y)}he.prototype.isPaused=function(){let $=this._readableState;return $[ne]===!0||$.flowing===!1},he.prototype.setEncoding=function($){let Y=new ye($);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;let Pe=this._readableState.buffer,De="";for(let Be of Pe)De+=Y.write(Be);return Pe.clear(),De!==""&&Pe.push(De),this._readableState.length=De.length,this};var S=1073741824;function k($){if($>S)throw new Z("size","<= 1GiB",$);return $--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++,$}function J($,Y){return $<=0||Y.length===0&&Y.ended?0:(Y.state&fe)!==0?1:s($)?Y.flowing&&Y.length?Y.buffer.first().length:Y.length:$<=Y.length?$:Y.ended?Y.length:0}he.prototype.read=function($){w("read",$),$===void 0?$=NaN:i($)||($=o($,10));let Y=this._readableState,Pe=$;if($>Y.highWaterMark&&(Y.highWaterMark=k($)),$!==0&&(Y.state&=~K),$===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return w("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?An(this):we(this),null;if($=J($,Y),$===0&&Y.ended)return Y.length===0&&An(this),null;let De=(Y.state&z)!==0;if(w("need readable",De),(Y.length===0||Y.length-$<Y.highWaterMark)&&(De=!0,w("length less than watermark",De)),Y.ended||Y.reading||Y.destroyed||Y.errored||!Y.constructed)De=!1,w("reading, ended or constructing",De);else if(De){w("do read"),Y.state|=Te|j,Y.length===0&&(Y.state|=z);try{this._read(Y.highWaterMark)}catch(jt){G(this,jt)}Y.state&=~j,Y.reading||($=J(Pe,Y))}let Be;return $>0?Be=Yn($,Y):Be=null,Be===null?(Y.needReadable=Y.length<=Y.highWaterMark,$=0):(Y.length-=$,Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null),Y.length===0&&(Y.ended||(Y.needReadable=!0),Pe!==$&&Y.ended&&An(this)),Be!==null&&!Y.errorEmitted&&!Y.closeEmitted&&(Y.dataEmitted=!0,this.emit("data",Be)),Be};function ce($,Y){if(w("onEofChunk"),!Y.ended){if(Y.decoder){let Pe=Y.decoder.end();Pe&&Pe.length&&(Y.buffer.push(Pe),Y.length+=Y.objectMode?1:Pe.length)}Y.ended=!0,Y.sync?we($):(Y.needReadable=!1,Y.emittedReadable=!0,ke($))}}function we($){let Y=$._readableState;w("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(w("emitReadable",Y.flowing),Y.emittedReadable=!0,n.nextTick(ke,$))}function ke($){let Y=$._readableState;w("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&!Y.errored&&(Y.length||Y.ended)&&($.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,Fn($)}function ae($,Y){!Y.readingMore&&Y.constructed&&(Y.readingMore=!0,n.nextTick(ve,$,Y))}function ve($,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){let Pe=Y.length;if(w("maybeReadMore read 0"),$.read(0),Pe===Y.length)break}Y.readingMore=!1}he.prototype._read=function($){throw new M("_read()")},he.prototype.pipe=function($,Y){let Pe=this,De=this._readableState;De.pipes.length===1&&(De.multiAwaitDrain||(De.multiAwaitDrain=!0,De.awaitDrainWriters=new h(De.awaitDrainWriters?[De.awaitDrainWriters]:[]))),De.pipes.push($),w("pipe count=%d opts=%j",De.pipes.length,Y);let Be=(!Y||Y.end!==!1)&&$!==n.stdout&&$!==n.stderr?Qt:bn;De.endEmitted?n.nextTick(Be):Pe.once("end",Be),$.on("unpipe",jt);function jt(wt,kt){w("onunpipe"),wt===Pe&&kt&&kt.hasUnpiped===!1&&(kt.hasUnpiped=!0,jn())}function Qt(){w("onend"),$.end()}let In,wr=!1;function jn(){w("cleanup"),$.removeListener("close",Bn),$.removeListener("finish",ar),In&&$.removeListener("drain",In),$.removeListener("error",Qn),$.removeListener("unpipe",jt),Pe.removeListener("end",Qt),Pe.removeListener("end",bn),Pe.removeListener("data",ss),wr=!0,In&&De.awaitDrainWriters&&(!$._writableState||$._writableState.needDrain)&&In()}function or(){wr||(De.pipes.length===1&&De.pipes[0]===$?(w("false write response, pause",0),De.awaitDrainWriters=$,De.multiAwaitDrain=!1):De.pipes.length>1&&De.pipes.includes($)&&(w("false write response, pause",De.awaitDrainWriters.size),De.awaitDrainWriters.add($)),Pe.pause()),In||(In=Le(Pe,$),$.on("drain",In))}Pe.on("data",ss);function ss(wt){w("ondata");let kt=$.write(wt);w("dest.write",kt),kt===!1&&or()}function Qn(wt){if(w("onerror",wt),bn(),$.removeListener("error",Qn),$.listenerCount("error")===0){let kt=$._writableState||$._readableState;kt&&!kt.errorEmitted?G($,wt):$.emit("error",wt)}}E($,"error",Qn);function Bn(){$.removeListener("finish",ar),bn()}$.once("close",Bn);function ar(){w("onfinish"),$.removeListener("close",Bn),bn()}$.once("finish",ar);function bn(){w("unpipe"),Pe.unpipe($)}return $.emit("pipe",Pe),$.writableNeedDrain===!0?or():De.flowing||(w("pipe resume"),Pe.resume()),$};function Le($,Y){return function(){let Pe=$._readableState;Pe.awaitDrainWriters===Y?(w("pipeOnDrain",1),Pe.awaitDrainWriters=null):Pe.multiAwaitDrain&&(w("pipeOnDrain",Pe.awaitDrainWriters.size),Pe.awaitDrainWriters.delete(Y)),(!Pe.awaitDrainWriters||Pe.awaitDrainWriters.size===0)&&$.listenerCount("data")&&$.resume()}}he.prototype.unpipe=function($){let Y=this._readableState,Pe={hasUnpiped:!1};if(Y.pipes.length===0)return this;if(!$){let Be=Y.pipes;Y.pipes=[],this.pause();for(let jt=0;jt<Be.length;jt++)Be[jt].emit("unpipe",this,{hasUnpiped:!1});return this}let De=r(Y.pipes,$);return De===-1?this:(Y.pipes.splice(De,1),Y.pipes.length===0&&this.pause(),$.emit("unpipe",this,Pe),this)},he.prototype.on=function($,Y){let Pe=b.prototype.on.call(this,$,Y),De=this._readableState;return $==="data"?(De.readableListening=this.listenerCount("readable")>0,De.flowing!==!1&&this.resume()):$==="readable"&&!De.endEmitted&&!De.readableListening&&(De.readableListening=De.needReadable=!0,De.flowing=!1,De.emittedReadable=!1,w("on readable",De.length,De.reading),De.length?we(this):De.reading||n.nextTick($e,this)),Pe},he.prototype.addListener=he.prototype.on,he.prototype.removeListener=function($,Y){let Pe=b.prototype.removeListener.call(this,$,Y);return $==="readable"&&n.nextTick(je,this),Pe},he.prototype.off=he.prototype.removeListener,he.prototype.removeAllListeners=function($){let Y=b.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&n.nextTick(je,this),Y};function je($){let Y=$._readableState;Y.readableListening=$.listenerCount("readable")>0,Y.resumeScheduled&&Y[ne]===!1?Y.flowing=!0:$.listenerCount("data")>0?$.resume():Y.readableListening||(Y.flowing=null)}function $e($){w("readable nexttick read 0"),$.read(0)}he.prototype.resume=function(){let $=this._readableState;return $.flowing||(w("resume"),$.flowing=!$.readableListening,ze(this,$)),$[ne]=!1,this};function ze($,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,n.nextTick(Ln,$,Y))}function Ln($,Y){w("resume",Y.reading),Y.reading||$.read(0),Y.resumeScheduled=!1,$.emit("resume"),Fn($),Y.flowing&&!Y.reading&&$.read(0)}he.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ne]=!0,this};function Fn($){let Y=$._readableState;for(w("flow",Y.flowing);Y.flowing&&$.read()!==null;);}he.prototype.wrap=function($){let Y=!1;$.on("data",De=>{!this.push(De)&&$.pause&&(Y=!0,$.pause())}),$.on("end",()=>{this.push(null)}),$.on("error",De=>{G(this,De)}),$.on("close",()=>{this.destroy()}),$.on("destroy",()=>{this.destroy()}),this._read=()=>{Y&&$.resume&&(Y=!1,$.resume())};let Pe=l($);for(let De=1;De<Pe.length;De++){let Be=Pe[De];this[Be]===void 0&&typeof $[Be]=="function"&&(this[Be]=$[Be].bind($))}return this},he.prototype[g]=function(){return Vt(this)},he.prototype.iterator=function($){return $!==void 0&&ie($,"options"),Vt(this,$)};function Vt($,Y){typeof $.read!="function"&&($=he.wrap($,{objectMode:!0}));let Pe=Cn($,Y);return Pe.stream=$,Pe}async function*Cn($,Y){let Pe=q;function De(Qt){this===$?(Pe(),Pe=q):Pe=Qt}$.on("readable",De);let Be,jt=A($,{writable:!1},Qt=>{Be=Qt?H(Be,Qt):null,Pe(),Pe=q});try{for(;;){let Qt=$.destroyed?null:$.read();if(Qt!==null)yield Qt;else{if(Be)throw Be;if(Be===null)return;await new u(De)}}}catch(Qt){throw Be=H(Be,Qt),Be}finally{(Be||Y?.destroyOnReturn!==!1)&&(Be===void 0||$._readableState.autoDestroy)?I.destroyer($,null):($.off("readable",De),jt())}}a(he.prototype,{readable:{__proto__:null,get(){let $=this._readableState;return!!$&&$.readable!==!1&&!$.destroyed&&!$.errorEmitted&&!$.endEmitted},set($){this._readableState&&(this._readableState.readable=!!$)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set($){this._readableState&&(this._readableState.destroyed=$)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(_e.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ne]!==!1},set($){this[ne]=!!$}}}),he._fromList=Yn;function Yn($,Y){if(Y.length===0)return null;let Pe;return Y.objectMode?Pe=Y.buffer.shift():!$||$>=Y.length?(Y.decoder?Pe=Y.buffer.join(""):Y.buffer.length===1?Pe=Y.buffer.first():Pe=Y.buffer.concat(Y.length),Y.buffer.clear()):Pe=Y.buffer.consume($,Y.decoder),Pe}function An($){let Y=$._readableState;w("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,n.nextTick(Zt,Y,$))}function Zt($,Y){if(w("endReadableNT",$.endEmitted,$.length),!$.errored&&!$.closeEmitted&&!$.endEmitted&&$.length===0){if($.endEmitted=!0,Y.emit("end"),Y.writable&&Y.allowHalfOpen===!1)n.nextTick(is,Y);else if($.autoDestroy){let Pe=Y._writableState;(!Pe||Pe.autoDestroy&&(Pe.finished||Pe.writable===!1))&&Y.destroy()}}}function is($){$.writable&&!$.writableEnded&&!$.destroyed&&$.end()}he.from=function($,Y){return te(he,$,Y)};var Yr;function Ei(){return Yr===void 0&&(Yr={}),Yr}he.fromWeb=function($,Y){return Ei().newStreamReadableFromReadableStream($,Y)},he.toWeb=function($,Y){return Ei().newReadableStreamFromStreamReadable($,Y)},he.wrap=function($,Y){var Pe,De;return new he({objectMode:(Pe=(De=$.readableObjectMode)!==null&&De!==void 0?De:$.objectMode)!==null&&Pe!==void 0?Pe:!0,...Y,destroy(Be,jt){I.destroyer($,Be),jt(Be)}}).wrap($)}}),Op=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{ArrayPrototypeSlice:r,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:h}=Rt();e.exports=ie,ie.WritableState=X;var{EventEmitter:f}=(ts(),mt(vi)),g=kp().Stream,{Buffer:p}=(Yt(),mt(Kt)),_=Ys(),{addAbortSignal:b}=Pc(),{getHighWaterMark:E,getDefaultHighWaterMark:y}=Rc(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:R,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:Q}=yn().codes,{errorOrDestroy:M}=_;l(ie.prototype,g.prototype),l(ie,g);function Z(){}var ee=u("kOnFinished");function X(P,D,V){typeof V!="boolean"&&(V=D instanceof $r()),this.objectMode=!!(P&&P.objectMode),V&&(this.objectMode=this.objectMode||!!(P&&P.writableObjectMode)),this.highWaterMark=P?E(this,P,"writableHighWaterMark",V):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let oe=!!(P&&P.decodeStrings===!1);this.decodeStrings=!oe,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=G.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,be(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!P||P.emitClose!==!1,this.autoDestroy=!P||P.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ee]=[]}function be(P){P.buffered=[],P.bufferedIndex=0,P.allBuffers=!0,P.allNoop=!0}X.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},o(X.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(P){let D=this instanceof $r();if(!D&&!s(ie,this))return new ie(P);this._writableState=new X(P,this,D),P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final),typeof P.construct=="function"&&(this._construct=P.construct),P.signal&&b(P.signal,this)),g.call(this,P),_.construct(this,()=>{let V=this._writableState;V.writing||Te(this,V),K(this,V)})}o(ie,h,{__proto__:null,value:function(P){return s(this,P)?!0:this!==ie?!1:P&&P._writableState instanceof X}}),ie.prototype.pipe=function(){M(this,new x)};function ne(P,D,V,oe){let se=P._writableState;if(typeof V=="function")oe=V,V=se.defaultEncoding;else{if(!V)V=se.defaultEncoding;else if(V!=="buffer"&&!p.isEncoding(V))throw new Q(V);typeof oe!="function"&&(oe=Z)}if(D===null)throw new W;if(!se.objectMode)if(typeof D=="string")se.decodeStrings!==!1&&(D=p.from(D,V),V="buffer");else if(D instanceof p)V="buffer";else if(g._isUint8Array(D))D=g._uint8ArrayToBuffer(D),V="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],D);let le;return se.ending?le=new H:se.destroyed&&(le=new I("write")),le?(n.nextTick(oe,le),M(P,le,!0),le):(se.pendingcb++,ye(P,se,D,V,oe))}ie.prototype.write=function(P,D,V){return ne(this,P,D,V)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let P=this._writableState;P.corked&&(P.corked--,P.writing||Te(this,P))},ie.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=c(P)),!p.isEncoding(P))throw new Q(P);return this._writableState.defaultEncoding=P,this};function ye(P,D,V,oe,se){let le=D.objectMode?1:V.length;D.length+=le;let U=D.length<D.highWaterMark;return U||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:V,encoding:oe,callback:se}),D.allBuffers&&oe!=="buffer"&&(D.allBuffers=!1),D.allNoop&&se!==Z&&(D.allNoop=!1)):(D.writelen=le,D.writecb=se,D.writing=!0,D.sync=!0,P._write(V,oe,D.onwrite),D.sync=!1),U&&!D.errored&&!D.destroyed}function te(P,D,V,oe,se,le,U){D.writelen=oe,D.writecb=U,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new I("write")):V?P._writev(se,D.onwrite):P._write(se,le,D.onwrite),D.sync=!1}function q(P,D,V,oe){--D.pendingcb,oe(V),ge(D),M(P,V)}function G(P,D){let V=P._writableState,oe=V.sync,se=V.writecb;if(typeof se!="function"){M(P,new w);return}V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0,D?(D.stack,V.errored||(V.errored=D),P._readableState&&!P._readableState.errored&&(P._readableState.errored=D),oe?n.nextTick(q,P,V,D,se):q(P,V,D,se)):(V.buffered.length>V.bufferedIndex&&Te(P,V),oe?V.afterWriteTickInfo!==null&&V.afterWriteTickInfo.cb===se?V.afterWriteTickInfo.count++:(V.afterWriteTickInfo={count:1,cb:se,stream:P,state:V},n.nextTick(fe,V.afterWriteTickInfo)):Ie(P,V,1,se))}function fe({stream:P,state:D,count:V,cb:oe}){return D.afterWriteTickInfo=null,Ie(P,D,V,oe)}function Ie(P,D,V,oe){for(!D.ending&&!P.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,P.emit("drain"));V-- >0;)D.pendingcb--,oe();D.destroyed&&ge(D),K(P,D)}function ge(P){if(P.writing)return;for(let se=P.bufferedIndex;se<P.buffered.length;++se){var D;let{chunk:le,callback:U}=P.buffered[se],me=P.objectMode?1:le.length;P.length-=me,U((D=P.errored)!==null&&D!==void 0?D:new I("write"))}let V=P[ee].splice(0);for(let se=0;se<V.length;se++){var oe;V[se]((oe=P.errored)!==null&&oe!==void 0?oe:new I("end"))}be(P)}function Te(P,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:V,bufferedIndex:oe,objectMode:se}=D,le=V.length-oe;if(!le)return;let U=oe;if(D.bufferProcessing=!0,le>1&&P._writev){D.pendingcb-=le-1;let me=D.allNoop?Z:he=>{for(let Re=U;Re<V.length;++Re)V[Re].callback(he)},_e=D.allNoop&&U===0?V:r(V,U);_e.allBuffers=D.allBuffers,te(P,D,!0,D.length,_e,"",me),be(D)}else{do{let{chunk:me,encoding:_e,callback:he}=V[U];V[U++]=null;let Re=se?1:me.length;te(P,D,!1,Re,me,_e,he)}while(U<V.length&&!D.writing);U===V.length?be(D):U>256?(V.splice(0,U),D.bufferedIndex=0):D.bufferedIndex=U}D.bufferProcessing=!1}ie.prototype._write=function(P,D,V){if(this._writev)this._writev([{chunk:P,encoding:D}],V);else throw new A("_write()")},ie.prototype._writev=null,ie.prototype.end=function(P,D,V){let oe=this._writableState;typeof P=="function"?(V=P,P=null,D=null):typeof D=="function"&&(V=D,D=null);let se;if(P!=null){let le=ne(this,P,D);le instanceof i&&(se=le)}return oe.corked&&(oe.corked=1,this.uncork()),se||(!oe.errored&&!oe.ending?(oe.ending=!0,K(this,oe,!0),oe.ended=!0):oe.finished?se=new R("end"):oe.destroyed&&(se=new I("end"))),typeof V=="function"&&(se||oe.finished?n.nextTick(V,se):oe[ee].push(V)),this};function F(P){return P.ending&&!P.destroyed&&P.constructed&&P.length===0&&!P.errored&&P.buffered.length===0&&!P.finished&&!P.writing&&!P.errorEmitted&&!P.closeEmitted}function j(P,D){let V=!1;function oe(se){if(V){M(P,se??w());return}if(V=!0,D.pendingcb--,se){let le=D[ee].splice(0);for(let U=0;U<le.length;U++)le[U](se);M(P,se,D.sync)}else F(D)&&(D.prefinished=!0,P.emit("prefinish"),D.pendingcb++,n.nextTick(re,P,D))}D.sync=!0,D.pendingcb++;try{P._final(oe)}catch(se){oe(se)}D.sync=!1}function z(P,D){!D.prefinished&&!D.finalCalled&&(typeof P._final=="function"&&!D.destroyed?(D.finalCalled=!0,j(P,D)):(D.prefinished=!0,P.emit("prefinish")))}function K(P,D,V){F(D)&&(z(P,D),D.pendingcb===0&&(V?(D.pendingcb++,n.nextTick((oe,se)=>{F(se)?re(oe,se):se.pendingcb--},P,D)):F(D)&&(D.pendingcb++,re(P,D))))}function re(P,D){D.pendingcb--,D.finished=!0;let V=D[ee].splice(0);for(let oe=0;oe<V.length;oe++)V[oe]();if(P.emit("finish"),D.autoDestroy){let oe=P._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||oe.readable===!1))&&P.destroy()}}a(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(P){this._writableState&&(this._writableState.destroyed=P)}},writable:{__proto__:null,get(){let P=this._writableState;return!!P&&P.writable!==!1&&!P.destroyed&&!P.errored&&!P.ending&&!P.ended},set(P){this._writableState&&(this._writableState.writable=!!P)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let P=this._writableState;return P?!P.destroyed&&!P.ending&&P.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var T=_.destroy;ie.prototype.destroy=function(P,D){let V=this._writableState;return!V.destroyed&&(V.bufferedIndex<V.buffered.length||V[ee].length)&&n.nextTick(ge,V),T.call(this,P,D),this},ie.prototype._undestroy=_.undestroy,ie.prototype._destroy=function(P,D){D(P)},ie.prototype[f.captureRejectionSymbol]=function(P){this.destroy(P)};var N;function B(){return N===void 0&&(N={}),N}ie.fromWeb=function(P,D){return B().newStreamWritableFromWritableStream(P,D)},ie.toWeb=function(P){return B().newWritableStreamFromStreamWritable(P)}}),PP=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),r=(Yt(),mt(Kt)),{isReadable:i,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u,isReadableStream:h,isWritableStream:f}=Gr(),g=wi(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b}}=yn(),{destroyer:E}=Ys(),y=$r(),v=Nc(),A=Op(),{createDeferredPromise:w}=En(),x=D2(),I=globalThis.Blob||r.Blob,R=typeof I<"u"?function(ee){return ee instanceof I}:function(ee){return!1},W=globalThis.AbortController||ta().AbortController,{FunctionPrototypeCall:H}=Rt(),Q=class extends y{constructor(ee){super(ee),ee?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ee?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function ee(X,be){if(u(X))return X;if(l(X))return Z({readable:X});if(c(X))return Z({writable:X});if(a(X))return Z({writable:!1,readable:!1});if(h(X))return Z({readable:v.fromWeb(X)});if(f(X))return Z({writable:A.fromWeb(X)});if(typeof X=="function"){let{value:ne,write:ye,final:te,destroy:q}=M(X);if(o(ne))return x(Q,ne,{objectMode:!0,write:ye,final:te,destroy:q});let G=ne?.then;if(typeof G=="function"){let fe,Ie=H(G,ne,ge=>{if(ge!=null)throw new b("nully","body",ge)},ge=>{E(fe,ge)});return fe=new Q({objectMode:!0,readable:!1,write:ye,final(ge){te(async()=>{try{await Ie,n.nextTick(ge,null)}catch(Te){n.nextTick(ge,Te)}})},destroy:q})}throw new b("Iterable, AsyncIterable or AsyncFunction",be,ne)}if(R(X))return ee(X.arrayBuffer());if(o(X))return x(Q,X,{objectMode:!0,writable:!1});if(h(X?.readable)&&f(X?.writable))return Q.fromWeb(X);if(typeof X?.writable=="object"||typeof X?.readable=="object"){let ne=X!=null&&X.readable?l(X?.readable)?X?.readable:ee(X.readable):void 0,ye=X!=null&&X.writable?c(X?.writable)?X?.writable:ee(X.writable):void 0;return Z({readable:ne,writable:ye})}let ie=X?.then;if(typeof ie=="function"){let ne;return H(ie,X,ye=>{ye!=null&&ne.push(ye),ne.push(null)},ye=>{E(ne,ye)}),ne=new Q({objectMode:!0,writable:!1,read(){}})}throw new _(be,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],X)};function M(ee){let{promise:X,resolve:be}=w(),ie=new W,ne=ie.signal;return{value:ee((async function*(){for(;;){let ye=X;X=null;let{chunk:te,done:q,cb:G}=await ye;if(n.nextTick(G),q)return;if(ne.aborted)throw new p(void 0,{cause:ne.reason});({promise:X,resolve:be}=w()),yield te}})(),{signal:ne}),write(ye,te,q){let G=be;be=null,G({chunk:ye,done:!1,cb:q})},final(ye){let te=be;be=null,te({done:!0,cb:ye})},destroy(ye,te){ie.abort(),te(ye)}}}function Z(ee){let X=ee.readable&&typeof ee.readable.read!="function"?v.wrap(ee.readable):ee.readable,be=ee.writable,ie=!!i(X),ne=!!s(be),ye,te,q,G,fe;function Ie(ge){let Te=G;G=null,Te?Te(ge):ge&&fe.destroy(ge)}return fe=new Q({readableObjectMode:!!(X!=null&&X.readableObjectMode),writableObjectMode:!!(be!=null&&be.writableObjectMode),readable:ie,writable:ne}),ne&&(g(be,ge=>{ne=!1,ge&&E(X,ge),Ie(ge)}),fe._write=function(ge,Te,F){be.write(ge,Te)?F():ye=F},fe._final=function(ge){be.end(),te=ge},be.on("drain",function(){if(ye){let ge=ye;ye=null,ge()}}),be.on("finish",function(){if(te){let ge=te;te=null,ge()}})),ie&&(g(X,ge=>{ie=!1,ge&&E(X,ge),Ie(ge)}),X.on("readable",function(){if(q){let ge=q;q=null,ge()}}),X.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){let ge=X.read();if(ge===null){q=fe._read;return}if(!fe.push(ge))return}}),fe._destroy=function(ge,Te){!ge&&G!==null&&(ge=new p),q=null,ye=null,te=null,G===null?Te(ge):(G=Te,E(be,ge),E(X,ge))},fe}}),$r=xe((t,e)=>{Se(),Ae(),Ce();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:i,ObjectSetPrototypeOf:s}=Rt();e.exports=l;var o=Nc(),a=Op();s(l.prototype,o.prototype),s(l,o);{let f=i(a.prototype);for(let g=0;g<f.length;g++){let p=f[g];l.prototype[p]||(l.prototype[p]=a.prototype[p])}}function l(f){if(!(this instanceof l))return new l(f);o.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(l.prototype,{writable:{__proto__:null,...r(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(a.prototype,"writableLength")},writableFinished:{__proto__:null,...r(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var c;function u(){return c===void 0&&(c={}),c}l.fromWeb=function(f,g){return u().newStreamDuplexFromReadableWritablePair(f,g)},l.toWeb=function(f){return u().newReadableWritablePairFromDuplex(f)};var h;l.from=function(f){return h||(h=PP()),h(f,"body")}}),L2=xe((t,e)=>{Se(),Ae(),Ce();var{ObjectSetPrototypeOf:n,Symbol:r}=Rt();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=yn().codes,s=$r(),{getHighWaterMark:o}=Rc();n(l.prototype,s.prototype),n(l,s);var a=r("kCallback");function l(h){if(!(this instanceof l))return new l(h);let f=h?o(this,h,"readableHighWaterMark",!0):null;f===0&&(h={...h,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:h.writableHighWaterMark||0}),s.call(this,h),this._readableState.sync=!1,this[a]=null,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",u)}function c(h){typeof this._flush=="function"&&!this.destroyed?this._flush((f,g)=>{if(f){h?h(f):this.destroy(f);return}g!=null&&this.push(g),this.push(null),h&&h()}):(this.push(null),h&&h())}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(h,f,g){throw new i("_transform()")},l.prototype._write=function(h,f,g){let p=this._readableState,_=this._writableState,b=p.length;this._transform(h,f,(E,y)=>{if(E){g(E);return}y!=null&&this.push(y),_.ended||b===p.length||p.length<p.highWaterMark?g():this[a]=g})},l.prototype._read=function(){if(this[a]){let h=this[a];this[a]=null,h()}}}),F2=xe((t,e)=>{Se(),Ae(),Ce();var{ObjectSetPrototypeOf:n}=Rt();e.exports=i;var r=L2();n(i.prototype,r.prototype),n(i,r);function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}i.prototype._transform=function(s,o,a){a(null,s)}}),Pp=xe((t,e)=>{Se(),Ae(),Ce();var n=ns(),{ArrayIsArray:r,Promise:i,SymbolAsyncIterator:s,SymbolDispose:o}=Rt(),a=wi(),{once:l}=En(),c=Ys(),u=$r(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:E}=yn(),{validateFunction:y,validateAbortSignal:v}=ma(),{isIterable:A,isReadable:w,isReadableNodeStream:x,isNodeStream:I,isTransformStream:R,isWebStream:W,isReadableStream:H,isReadableFinished:Q}=Gr(),M=globalThis.AbortController||ta().AbortController,Z,ee,X;function be(ge,Te,F){let j=!1;ge.on("close",()=>{j=!0});let z=a(ge,{readable:Te,writable:F},K=>{j=!K});return{destroy:K=>{j||(j=!0,c.destroyer(ge,K||new _("pipe")))},cleanup:z}}function ie(ge){return y(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}function ne(ge){if(A(ge))return ge;if(x(ge))return ye(ge);throw new f("val",["Readable","Iterable","AsyncIterable"],ge)}async function*ye(ge){ee||(ee=Nc()),yield*ee.prototype[s].call(ge)}async function te(ge,Te,F,{end:j}){let z,K=null,re=B=>{if(B&&(z=B),K){let P=K;K=null,P()}},T=()=>new i((B,P)=>{z?P(z):K=()=>{z?P(z):B()}});Te.on("drain",re);let N=a(Te,{readable:!1},re);try{Te.writableNeedDrain&&await T();for await(let B of ge)Te.write(B)||await T();j&&(Te.end(),await T()),F()}catch(B){F(z!==B?h(z,B):B)}finally{N(),Te.off("drain",re)}}async function q(ge,Te,F,{end:j}){R(Te)&&(Te=Te.writable);let z=Te.getWriter();try{for await(let K of ge)await z.ready,z.write(K).catch(()=>{});await z.ready,j&&await z.close(),F()}catch(K){try{await z.abort(K),F(K)}catch(re){F(re)}}}function G(...ge){return fe(ge,l(ie(ge)))}function fe(ge,Te,F){if(ge.length===1&&r(ge[0])&&(ge=ge[0]),ge.length<2)throw new p("streams");let j=new M,z=j.signal,K=F?.signal,re=[];v(K,"options.signal");function T(){se(new E)}X=X||En().addAbortListener;let N;K&&(N=X(K,T));let B,P,D=[],V=0;function oe(_e){se(_e,--V===0)}function se(_e,he){var Re;if(_e&&(!B||B.code==="ERR_STREAM_PREMATURE_CLOSE")&&(B=_e),!(!B&&!he)){for(;D.length;)D.shift()(B);(Re=N)===null||Re===void 0||Re[o](),j.abort(),he&&(B||re.forEach(m=>m()),n.nextTick(Te,B,P))}}let le;for(let _e=0;_e<ge.length;_e++){let he=ge[_e],Re=_e<ge.length-1,m=_e>0,S=Re||F?.end!==!1,k=_e===ge.length-1;if(I(he)){let J=function(ce){ce&&ce.name!=="AbortError"&&ce.code!=="ERR_STREAM_PREMATURE_CLOSE"&&oe(ce)};if(S){let{destroy:ce,cleanup:we}=be(he,Re,m);D.push(ce),w(he)&&k&&re.push(we)}he.on("error",J),w(he)&&k&&re.push(()=>{he.removeListener("error",J)})}if(_e===0)if(typeof he=="function"){if(le=he({signal:z}),!A(le))throw new g("Iterable, AsyncIterable or Stream","source",le)}else A(he)||x(he)||R(he)?le=he:le=u.from(he);else if(typeof he=="function"){if(R(le)){var U;le=ne((U=le)===null||U===void 0?void 0:U.readable)}else le=ne(le);if(le=he(le,{signal:z}),Re){if(!A(le,!0))throw new g("AsyncIterable",`transform[${_e-1}]`,le)}else{var me;Z||(Z=F2());let J=new Z({objectMode:!0}),ce=(me=le)===null||me===void 0?void 0:me.then;if(typeof ce=="function")V++,ce.call(le,ae=>{P=ae,ae!=null&&J.write(ae),S&&J.end(),n.nextTick(oe)},ae=>{J.destroy(ae),n.nextTick(oe,ae)});else if(A(le,!0))V++,te(le,J,oe,{end:S});else if(H(le)||R(le)){let ae=le.readable||le;V++,te(ae,J,oe,{end:S})}else throw new g("AsyncIterable or Promise","destination",le);le=J;let{destroy:we,cleanup:ke}=be(le,!1,!0);D.push(we),k&&re.push(ke)}}else if(I(he)){if(x(le)){V+=2;let J=Ie(le,he,oe,{end:S});w(he)&&k&&re.push(J)}else if(R(le)||H(le)){let J=le.readable||le;V++,te(J,he,oe,{end:S})}else if(A(le))V++,te(le,he,oe,{end:S});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=he}else if(W(he)){if(x(le))V++,q(ne(le),he,oe,{end:S});else if(H(le)||A(le))V++,q(le,he,oe,{end:S});else if(R(le))V++,q(le.readable,he,oe,{end:S});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=he}else le=u.from(he)}return(z!=null&&z.aborted||K!=null&&K.aborted)&&n.nextTick(T),le}function Ie(ge,Te,F,{end:j}){let z=!1;if(Te.on("close",()=>{z||F(new b)}),ge.pipe(Te,{end:!1}),j){let K=function(){z=!0,Te.end()};Q(ge)?n.nextTick(K):ge.once("end",K)}else F();return a(ge,{readable:!0,writable:!1},K=>{let re=ge._readableState;K&&K.code==="ERR_STREAM_PREMATURE_CLOSE"&&re&&re.ended&&!re.errored&&!re.errorEmitted?ge.once("end",F).once("error",F):F(K)}),a(Te,{readable:!1,writable:!0},F)}e.exports={pipelineImpl:fe,pipeline:G}}),j2=xe((t,e)=>{Se(),Ae(),Ce();var{pipeline:n}=Pp(),r=$r(),{destroyer:i}=Ys(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:h}=Gr(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:p}}=yn(),_=wi();e.exports=function(...b){if(b.length===0)throw new p("streams");if(b.length===1)return r.from(b[0]);let E=[...b];if(typeof b[0]=="function"&&(b[0]=r.from(b[0])),typeof b[b.length-1]=="function"){let M=b.length-1;b[M]=r.from(b[M])}for(let M=0;M<b.length;++M)if(!(!s(b[M])&&!l(b[M]))){if(M<b.length-1&&!(o(b[M])||h(b[M])||c(b[M])))throw new g(`streams[${M}]`,E[M],"must be readable");if(M>0&&!(a(b[M])||u(b[M])||c(b[M])))throw new g(`streams[${M}]`,E[M],"must be writable")}let y,v,A,w,x;function I(M){let Z=w;w=null,Z?Z(M):M?x.destroy(M):!Q&&!H&&x.destroy()}let R=b[0],W=n(b,I),H=!!(a(R)||u(R)||c(R)),Q=!!(o(W)||h(W)||c(W));if(x=new r({writableObjectMode:!!(R!=null&&R.writableObjectMode),readableObjectMode:!!(W!=null&&W.readableObjectMode),writable:H,readable:Q}),H){if(s(R))x._write=function(Z,ee,X){R.write(Z,ee)?X():y=X},x._final=function(Z){R.end(),v=Z},R.on("drain",function(){if(y){let Z=y;y=null,Z()}});else if(l(R)){let Z=(c(R)?R.writable:R).getWriter();x._write=async function(ee,X,be){try{await Z.ready,Z.write(ee).catch(()=>{}),be()}catch(ie){be(ie)}},x._final=async function(ee){try{await Z.ready,Z.close().catch(()=>{}),v=ee}catch(X){ee(X)}}}let M=c(W)?W.readable:W;_(M,()=>{if(v){let Z=v;v=null,Z()}})}if(Q){if(s(W))W.on("readable",function(){if(A){let M=A;A=null,M()}}),W.on("end",function(){x.push(null)}),x._read=function(){for(;;){let M=W.read();if(M===null){A=x._read;return}if(!x.push(M))return}};else if(l(W)){let M=(c(W)?W.readable:W).getReader();x._read=async function(){for(;;)try{let{value:Z,done:ee}=await M.read();if(!x.push(Z))return;if(ee){x.push(null);return}}catch{return}}}}return x._destroy=function(M,Z){!M&&w!==null&&(M=new f),A=null,y=null,v=null,w===null?Z(M):(w=Z,s(W)&&i(W,M))},x}}),RP=xe((t,e)=>{Se(),Ae(),Ce();var n=globalThis.AbortController||ta().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=yn(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=ma(),h=Rt().Symbol("kWeak"),f=Rt().Symbol("kResistStopPropagation"),{finished:g}=wi(),p=j2(),{addAbortSignalNoValidate:_}=Pc(),{isWritable:b,isNodeStream:E}=Gr(),{deprecate:y}=En(),{ArrayPrototypePush:v,Boolean:A,MathFloor:w,Number:x,NumberIsNaN:I,Promise:R,PromiseReject:W,PromiseResolve:H,PromisePrototypeThen:Q,Symbol:M}=Rt(),Z=M("kEmpty"),ee=M("kEof");function X(K,re){if(re!=null&&u(re,"options"),re?.signal!=null&&l(re.signal,"options.signal"),E(K)&&!b(K))throw new r("stream",K,"must be writable");let T=p(this,K);return re!=null&&re.signal&&_(re.signal,T),T}function be(K,re){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);re!=null&&u(re,"options"),re?.signal!=null&&l(re.signal,"options.signal");let T=1;re?.concurrency!=null&&(T=w(re.concurrency));let N=T-1;return re?.highWaterMark!=null&&(N=w(re.highWaterMark)),c(T,"options.concurrency",1),c(N,"options.highWaterMark",0),N+=T,(async function*(){let B=En().AbortSignalAny([re?.signal].filter(A)),P=this,D=[],V={signal:B},oe,se,le=!1,U=0;function me(){le=!0,_e()}function _e(){U-=1,he()}function he(){se&&!le&&U<T&&D.length<N&&(se(),se=null)}async function Re(){try{for await(let m of P){if(le)return;if(B.aborted)throw new a;try{if(m=K(m,V),m===Z)continue;m=H(m)}catch(S){m=W(S)}U+=1,Q(m,_e,me),D.push(m),oe&&(oe(),oe=null),!le&&(D.length>=N||U>=T)&&await new R(S=>{se=S})}D.push(ee)}catch(m){let S=W(m);Q(S,_e,me),D.push(S)}finally{le=!0,oe&&(oe(),oe=null)}}Re();try{for(;;){for(;D.length>0;){let m=await D[0];if(m===ee)return;if(B.aborted)throw new a;m!==Z&&(yield m),D.shift(),he()}await new R(m=>{oe=m})}}finally{le=!0,se&&(se(),se=null)}}).call(this)}function ie(K=void 0){return K!=null&&u(K,"options"),K?.signal!=null&&l(K.signal,"options.signal"),(async function*(){let re=0;for await(let N of this){var T;if(K!=null&&(T=K.signal)!==null&&T!==void 0&&T.aborted)throw new a({cause:K.signal.reason});yield[re++,N]}}).call(this)}async function ne(K,re=void 0){for await(let T of G.call(this,K,re))return!0;return!1}async function ye(K,re=void 0){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);return!await ne.call(this,async(...T)=>!await K(...T),re)}async function te(K,re){for await(let T of G.call(this,K,re))return T}async function q(K,re){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);async function T(N,B){return await K(N,B),Z}for await(let N of be.call(this,T,re));}function G(K,re){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);async function T(N,B){return await K(N,B)?N:Z}return be.call(this,T,re)}var fe=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Ie(K,re,T){var N;if(typeof K!="function")throw new i("reducer",["Function","AsyncFunction"],K);T!=null&&u(T,"options"),T?.signal!=null&&l(T.signal,"options.signal");let B=arguments.length>1;if(T!=null&&(N=T.signal)!==null&&N!==void 0&&N.aborted){let se=new a(void 0,{cause:T.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(se)),se}let P=new n,D=P.signal;if(T!=null&&T.signal){let se={once:!0,[h]:this,[f]:!0};T.signal.addEventListener("abort",()=>P.abort(),se)}let V=!1;try{for await(let se of this){var oe;if(V=!0,T!=null&&(oe=T.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;B?re=await K(re,se,{signal:D}):(re=se,B=!0)}if(!V&&!B)throw new fe}finally{P.abort()}return re}async function ge(K){K!=null&&u(K,"options"),K?.signal!=null&&l(K.signal,"options.signal");let re=[];for await(let N of this){var T;if(K!=null&&(T=K.signal)!==null&&T!==void 0&&T.aborted)throw new a(void 0,{cause:K.signal.reason});v(re,N)}return re}function Te(K,re){let T=be.call(this,K,re);return(async function*(){for await(let N of T)yield*N}).call(this)}function F(K){if(K=x(K),I(K))return 0;if(K<0)throw new o("number",">= 0",K);return K}function j(K,re=void 0){return re!=null&&u(re,"options"),re?.signal!=null&&l(re.signal,"options.signal"),K=F(K),(async function*(){var T;if(re!=null&&(T=re.signal)!==null&&T!==void 0&&T.aborted)throw new a;for await(let B of this){var N;if(re!=null&&(N=re.signal)!==null&&N!==void 0&&N.aborted)throw new a;K--<=0&&(yield B)}}).call(this)}function z(K,re=void 0){return re!=null&&u(re,"options"),re?.signal!=null&&l(re.signal,"options.signal"),K=F(K),(async function*(){var T;if(re!=null&&(T=re.signal)!==null&&T!==void 0&&T.aborted)throw new a;for await(let B of this){var N;if(re!=null&&(N=re.signal)!==null&&N!==void 0&&N.aborted)throw new a;if(K-- >0&&(yield B),K<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:y(ie,"readable.asIndexedPairs will be removed in a future version."),drop:j,filter:G,flatMap:Te,map:be,take:z,compose:X},e.exports.promiseReturningOperators={every:ye,forEach:q,reduce:Ie,toArray:ge,some:ne,find:te}}),B2=xe((t,e)=>{Se(),Ae(),Ce();var{ArrayPrototypePop:n,Promise:r}=Rt(),{isIterable:i,isNodeStream:s,isWebStream:o}=Gr(),{pipelineImpl:a}=Pp(),{finished:l}=wi();U2();function c(...u){return new r((h,f)=>{let g,p,_=u[u.length-1];if(_&&typeof _=="object"&&!s(_)&&!i(_)&&!o(_)){let b=n(u);g=b.signal,p=b.end}a(u,(b,E)=>{b?f(b):h(E)},{signal:g,end:p})})}e.exports={finished:l,pipeline:c}}),U2=xe((t,e)=>{Se(),Ae(),Ce();var{Buffer:n}=(Yt(),mt(Kt)),{ObjectDefineProperty:r,ObjectKeys:i,ReflectApply:s}=Rt(),{promisify:{custom:o}}=En(),{streamReturningOperators:a,promiseReturningOperators:l}=RP(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=yn(),u=j2(),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:f}=Rc(),{pipeline:g}=Pp(),{destroyer:p}=Ys(),_=wi(),b=B2(),E=Gr(),y=e.exports=kp().Stream;y.isDestroyed=E.isDestroyed,y.isDisturbed=E.isDisturbed,y.isErrored=E.isErrored,y.isReadable=E.isReadable,y.isWritable=E.isWritable,y.Readable=Nc();for(let A of i(a)){let w=function(...I){if(new.target)throw c();return y.Readable.from(s(x,this,I))},x=a[A];r(w,"name",{__proto__:null,value:x.name}),r(w,"length",{__proto__:null,value:x.length}),r(y.Readable.prototype,A,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(let A of i(l)){let w=function(...I){if(new.target)throw c();return s(x,this,I)},x=l[A];r(w,"name",{__proto__:null,value:x.name}),r(w,"length",{__proto__:null,value:x.length}),r(y.Readable.prototype,A,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}y.Writable=Op(),y.Duplex=$r(),y.Transform=L2(),y.PassThrough=F2(),y.pipeline=g;var{addAbortSignal:v}=Pc();y.addAbortSignal=v,y.finished=_,y.destroy=p,y.compose=u,y.setDefaultHighWaterMark=h,y.getDefaultHighWaterMark=f,r(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),r(g,o,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),r(_,o,{__proto__:null,enumerable:!0,get(){return b.finished}}),y.Stream=y,y._isUint8Array=function(A){return A instanceof Uint8Array},y._uint8ArrayToBuffer=function(A){return n.from(A.buffer,A.byteOffset,A.byteLength)}}),rs=xe((t,e)=>{Se(),Ae(),Ce();var n=U2(),r=B2(),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=n.Stream,e.exports.default=e.exports}),NP=xe((t,e)=>{Se(),Ae(),Ce(),typeof Object.create=="function"?e.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),MP=xe((t,e)=>{Se(),Ae(),Ce();var{Buffer:n}=(Yt(),mt(Kt)),r=Symbol.for("BufferList");function i(s){if(!(this instanceof i))return new i(s);i._init.call(this,s)}i._init=function(s){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},i.prototype._new=function(s){return new i(s)},i.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},i.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},i.prototype.getBuffers=function(){return this._bufs},i.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},i.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},i.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||n.alloc(0);let c=!!s,u=this._offset(a),h=l-a,f=h,g=c&&o||0,p=u[1];if(a===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let _=0;_<this._bufs.length;_++)this._bufs[_].copy(s,g),g+=this._bufs[_].length;return s}if(f<=this._bufs[u[0]].length-p)return c?this._bufs[u[0]].copy(s,o,p,p+f):this._bufs[u[0]].slice(p,p+f);c||(s=n.allocUnsafe(h));for(let _=u[0];_<this._bufs.length;_++){let b=this._bufs[_].length-p;if(f>b)this._bufs[_].copy(s,g,p),g+=b;else{this._bufs[_].copy(s,g,p,p+f),g+=b;break}f-=b,p&&(p=0)}return s.length>g?s.slice(0,g):s},i.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),c=this._bufs.slice(a[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),a[1]!==0&&(c[0]=c[0].slice(a[1])),this._new(c)},i.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},i.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},i.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},i.prototype.append=function(s){return this._attach(s,i.prototype._appendBuffer)},i.prototype.prepend=function(s){return this._attach(s,i.prototype._prependBuffer,!0)},i.prototype._attach=function(s,o,a){if(s==null)return this;if(s.buffer)o.call(this,n.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s)){let[l,c]=a?[s.length-1,-1]:[0,1];for(let u=l;u>=0&&u<s.length;u+=c)this._attach(s[u],o,a)}else if(this._isBufferList(s)){let[l,c]=a?[s._bufs.length-1,-1]:[0,1];for(let u=l;u>=0&&u<s._bufs.length;u+=c)this._attach(s._bufs[u],o,a)}else typeof s=="number"&&(s=s.toString()),o.call(this,n.from(s));return this},i.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},i.prototype._prependBuffer=function(s){this._bufs.unshift(s),this.length+=s.length},i.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=n.from([s]):typeof s=="string"?s=n.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=n.from(s.buffer,s.byteOffset,s.byteLength):n.isBuffer(s)||(s=n.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),c=l[0],u=l[1];for(;c<this._bufs.length;c++){let h=this._bufs[c];for(;u<h.length;)if(h.length-u>=s.length){let f=h.indexOf(s,u);if(f!==-1)return this._reverseOffset([c,f]);u=h.length-s.length+1}else{let f=this._reverseOffset([c,u]);if(this._match(f,s))return f;u++}u=0}return-1},i.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},(function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?i.prototype[a]=function(l,c){return this.slice(l,l+c)[a](0,c)}:i.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)})(),i.prototype._isBufferList=function(s){return s instanceof i||i.isBufferList(s)},i.isBufferList=function(s){return s!=null&&s[r]},e.exports=i}),DP=xe((t,e)=>{Se(),Ae(),Ce();var n=rs().Duplex,r=NP(),i=MP();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}i._init.call(this,o),n.call(this)}r(s,n),Object.assign(s.prototype,i.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){n.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof i||s.isBufferList(o)},s.isBufferList=i.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=i}),LP=xe((t,e)=>{Se(),Ae(),Ce();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=n}),W2=xe((t,e)=>{Se(),Ae(),Ce();var n=e.exports,{Buffer:r}=(Yt(),mt(Kt));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let s in n.requiredHeaderFlags){let o=n.requiredHeaderFlags[s];n.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+n.types[s]+" packet"}n.codes={};for(let s in n.types){let o=n.types[s];n.codes[o]=s}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let s in n.properties){let o=n.properties[s];n.propertiesCodes[o]=s}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let c=r.alloc(1);return c.writeUInt8(n.codes[s]<<n.CMD_SHIFT|(a?n.DUP_MASK:0)|o<<n.QOS_SHIFT|l,0,!0),c})))}n.PUBLISH_HEADER=i("publish"),n.SUBSCRIBE_HEADER=i("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=i("unsubscribe"),n.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(s=>r.from([s])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),FP=xe((t,e)=>{Se(),Ae(),Ce();var n=1e3,r=n*60,i=r*60,s=i*24,o=s*7,a=s*365.25;e.exports=function(f,g){g=g||{};var p=typeof f;if(p==="string"&&f.length>0)return l(f);if(p==="number"&&isFinite(f))return g.long?u(f):c(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(g){var p=parseFloat(g[1]),_=(g[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*s;case"hours":case"hour":case"hrs":case"hr":case"h":return p*i;case"minutes":case"minute":case"mins":case"min":case"m":return p*r;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function c(f){var g=Math.abs(f);return g>=s?Math.round(f/s)+"d":g>=i?Math.round(f/i)+"h":g>=r?Math.round(f/r)+"m":g>=n?Math.round(f/n)+"s":f+"ms"}function u(f){var g=Math.abs(f);return g>=s?h(f,g,s,"day"):g>=i?h(f,g,i,"hour"):g>=r?h(f,g,r,"minute"):g>=n?h(f,g,n,"second"):f+" ms"}function h(f,g,p,_){var b=g>=p*1.5;return Math.round(f/p)+" "+_+(b?"s":"")}}),jP=xe((t,e)=>{Se(),Ae(),Ce();function n(r){s.debug=s,s.default=s,s.coerce=h,s.disable=c,s.enable=a,s.enabled=u,s.humanize=FP(),s.destroy=f,Object.keys(r).forEach(g=>{s[g]=r[g]}),s.names=[],s.skips=[],s.formatters={};function i(g){let p=0;for(let _=0;_<g.length;_++)p=(p<<5)-p+g.charCodeAt(_),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=i;function s(g){let p,_=null,b,E;function y(...v){if(!y.enabled)return;let A=y,w=Number(new Date),x=w-(p||w);A.diff=x,A.prev=p,A.curr=w,p=w,v[0]=s.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let I=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(R,W)=>{if(R==="%%")return"%";I++;let H=s.formatters[W];if(typeof H=="function"){let Q=v[I];R=H.call(A,Q),v.splice(I,1),I--}return R}),s.formatArgs.call(A,v),(A.log||s.log).apply(A,v)}return y.namespace=g,y.useColors=s.useColors(),y.color=s.selectColor(g),y.extend=o,y.destroy=s.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(b!==s.namespaces&&(b=s.namespaces,E=s.enabled(g)),E),set:v=>{_=v}}),typeof s.init=="function"&&s.init(y),y}function o(g,p){let _=s(this.namespace+(typeof p>"u"?":":p)+g);return _.log=this.log,_}function a(g){s.save(g),s.namespaces=g,s.names=[],s.skips=[];let p=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let _ of p)_[0]==="-"?s.skips.push(_.slice(1)):s.names.push(_)}function l(g,p){let _=0,b=0,E=-1,y=0;for(;_<g.length;)if(b<p.length&&(p[b]===g[_]||p[b]==="*"))p[b]==="*"?(E=b,y=_,b++):(_++,b++);else if(E!==-1)b=E+1,y++,_=y;else return!1;for(;b<p.length&&p[b]==="*";)b++;return b===p.length}function c(){let g=[...s.names,...s.skips.map(p=>"-"+p)].join(",");return s.enable(""),g}function u(g){for(let p of s.skips)if(l(g,p))return!1;for(let p of s.names)if(l(g,p))return!0;return!1}function h(g){return g instanceof Error?g.stack||g.message:g}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}e.exports=n}),Hr=xe((t,e)=>{Se(),Ae(),Ce(),t.formatArgs=r,t.save=i,t.load=s,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,h=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(h=u))}),l.splice(h,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof It<"u"&&"env"in It&&(l=It.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=jP()(t);var{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),BP=xe((t,e)=>{Se(),Ae(),Ce();var n=DP(),{EventEmitter:r}=(ts(),mt(vi)),i=LP(),s=W2(),o=Hr()("mqtt-packet:parser"),a=class Df extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof Df?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Df().parser(c)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=n(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),u=c>>s.CMD_SHIFT;this.packet.cmd=s.types[u];let h=c&15,f=s.requiredHeaderFlags[u];return f!=null&&h!==f?this._emitError(new Error(s.requiredHeaderFlagsErrors[u])):(this.packet.retain=(c&s.RETAIN_MASK)!==0,this.packet.qos=c>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),o("_parseLength %d",c.value),!!c}_parsePayload(){o("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return o("_parsePayload complete result: %s",c),c}_parseConnect(){o("_parseConnect");let c,u,h,f,g={},p=this.packet,_=this._parseString();if(_===null)return this._emitError(new Error("Cannot parse protocolId"));if(_!=="MQTT"&&_!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(p.protocolId=_,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.protocolVersion=this._list.readUInt8(this._pos),p.protocolVersion>=128&&(p.bridgeMode=!0,p.protocolVersion=p.protocolVersion-128),p.protocolVersion!==3&&p.protocolVersion!==4&&p.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let b=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),E=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(g.will)p.will={},p.will.retain=b,p.will.qos=E;else{if(b)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(E)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(p.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,p.keepalive=this._parseNum(),p.keepalive===-1)return this._emitError(new Error("Packet too short"));if(p.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(p.clientId=y,o("_parseConnect: packet.clientId: %s",p.clientId),g.will){if(p.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.will.properties=v)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(p.will.topic=c,o("_parseConnect: packet.will.topic: %s",p.will.topic),u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse will payload"));p.will.payload=u,o("_parseConnect: packet.will.paylaod: %s",p.will.payload)}if(g.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));p.username=f,o("_parseConnect: packet.username: %s",p.username)}if(g.password){if(h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse password"));p.password=h}return this.settings=p,o("_parseConnect: complete"),p}_parseConnack(){o("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let u=this._list.readUInt8(this._pos++);if(u>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(u&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(c.properties=h)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}c.payload=this._list.slice(this._pos,c.length),o("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){o("_parseSubscribe");let c=this.packet,u,h,f,g,p,_,b;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(c.properties=E)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(h=this._parseByte(),this.settings.protocolVersion===5){if(h&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(h&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=h&s.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(_=(h>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,p=(h>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=h>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));b={topic:u,qos:f},this.settings.protocolVersion===5?(b.nl=_,b.rap=p,b.rh=g):this.settings.bridgeMode&&(b.rh=0,b.rap=!0,b.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",b),c.subscriptions.push(b)}}}_parseSuback(){o("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[u])return this._emitError(new Error("Invalid suback code"))}else if(u>2&&u!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(u)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",u),c.unsubscriptions.push(u)}}}_parseUnsuback(){o("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let u=this._parseProperties();for(Object.getOwnPropertyNames(u).length&&(c.properties=u),c.granted=[];this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[h])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(h)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}}return!0}_parseDisconnect(){let c=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let u=this._parseProperties();return Object.getOwnPropertyNames(u).length&&(c.properties=u),o("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let u=this._parseNum(),h=u+this._pos;if(u===-1||h>this._list.length||h>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,h);return this._pos+=u,o("_parseString: result: %s",f),f}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let h=this._list.slice(this._pos,u);return this._pos+=c,o("_parseBuffer: result: %o",h),h}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){o("_parseVarByteNum");let u=4,h=0,f=1,g=0,p=!1,_,b=this._pos?this._pos:0;for(;h<u&&b+h<this._list.length;){if(_=this._list.readUInt8(b+h++),g+=f*(_&s.VARBYTEINT_MASK),f*=128,(_&s.VARBYTEINT_FIN_MASK)===0){p=!0;break}if(this._list.length<=h)break}return!p&&h===u&&this._list.length>=h&&this._emitError(new Error("Invalid variable byte integer")),b&&(this._pos+=h),p?c?p={bytes:h,value:g}:p=g:p=!1,o("_parseVarByteNum: result: %o",p),p}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",c),c}_parseByType(c){switch(o("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let c=this._parseVarByteNum(),u=this._pos+c,h={};for(;this._pos<u;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let g=s.propertiesCodes[f];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){h[g]||(h[g]=Object.create(null));let p=this._parseByType(s.propertiesTypes[g]);if(h[g][p.name])if(Array.isArray(h[g][p.name]))h[g][p.name].push(p.value);else{let _=h[g][p.name];h[g][p.name]=[_],h[g][p.name].push(p.value)}else h[g][p.name]=p.value;continue}h[g]?Array.isArray(h[g])?h[g].push(this._parseByType(s.propertiesTypes[g])):(h[g]=[h[g]],h[g].push(this._parseByType(s.propertiesTypes[g]))):h[g]=this._parseByType(s.propertiesTypes[g])}return h}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(c){o("_emitError",c),this.error=c,this.emit("error",c)}};e.exports=a}),UP=xe((t,e)=>{Se(),Ae(),Ce();var{Buffer:n}=(Yt(),mt(Kt)),r=65536,i={},s=n.isBuffer(n.from([1,2]).subarray(0,1));function o(u){let h=n.allocUnsafe(2);return h.writeUInt8(u>>8,0),h.writeUInt8(u&255,1),h}function a(){for(let u=0;u<r;u++)i[u]=o(u)}function l(u){let h=0,f=0,g=n.allocUnsafe(4);do h=u%128|0,u=u/128|0,u>0&&(h=h|128),g.writeUInt8(h,f++);while(u>0&&f<4);return u>0&&(f=0),s?g.subarray(0,f):g.slice(0,f)}function c(u){let h=n.allocUnsafe(4);return h.writeUInt32BE(u,0),h}e.exports={cache:i,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:c}}),WP=xe((t,e)=>{Se(),Ae(),Ce(),typeof It>"u"||!It.version||It.version.indexOf("v0.")===0||It.version.indexOf("v1.")===0&&It.version.indexOf("v1.8.")!==0?e.exports={nextTick:n}:e.exports=It;function n(r,i,s,o){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,c;switch(a){case 0:case 1:return It.nextTick(r);case 2:return It.nextTick(function(){r.call(null,i)});case 3:return It.nextTick(function(){r.call(null,i,s)});case 4:return It.nextTick(function(){r.call(null,i,s,o)});default:for(l=new Array(a-1),c=0;c<l.length;)l[c++]=arguments[c];return It.nextTick(function(){r.apply(null,l)})}}}),$2=xe((t,e)=>{Se(),Ae(),Ce();var n=W2(),{Buffer:r}=(Yt(),mt(Kt)),i=r.allocUnsafe(0),s=r.from([0]),o=UP(),a=WP().nextTick,l=Hr()("mqtt-packet:writeToStream"),c=o.cache,u=o.generateNumber,h=o.generateCache,f=o.genBufVariableByteInt,g=o.generate4ByteBuffer,p=ie,_=!0;function b(F,j,z){switch(l("generate called"),j.cork&&(j.cork(),a(E,j)),_&&(_=!1,h()),l("generate: packet.cmd: %s",F.cmd),F.cmd){case"connect":return y(F,j);case"connack":return v(F,j,z);case"publish":return A(F,j,z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return w(F,j,z);case"subscribe":return x(F,j,z);case"suback":return I(F,j,z);case"unsubscribe":return R(F,j,z);case"unsuback":return W(F,j,z);case"pingreq":case"pingresp":return H(F,j);case"disconnect":return Q(F,j,z);case"auth":return M(F,j,z);default:return j.destroy(new Error("Unknown command")),!1}}Object.defineProperty(b,"cacheNumbers",{get(){return p===ie},set(F){F?((!c||Object.keys(c).length===0)&&(_=!0),p=ie):(_=!1,p=ne)}});function E(F){F.uncork()}function y(F,j,z){let K=F||{},re=K.protocolId||"MQTT",T=K.protocolVersion||4,N=K.will,B=K.clean,P=K.keepalive||0,D=K.clientId||"",V=K.username,oe=K.password,se=K.properties;B===void 0&&(B=!0);let le=0;if(typeof re!="string"&&!r.isBuffer(re))return j.destroy(new Error("Invalid protocolId")),!1;if(le+=re.length+2,T!==3&&T!==4&&T!==5)return j.destroy(new Error("Invalid protocol version")),!1;if(le+=1,(typeof D=="string"||r.isBuffer(D))&&(D||T>=4)&&(D||B))le+=r.byteLength(D)+2;else{if(T<4)return j.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(B*1===0)return j.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof P!="number"||P<0||P>65535||P%1!==0)return j.destroy(new Error("Invalid keepalive")),!1;le+=2,le+=1;let U,me;if(T===5){if(U=q(j,se),!U)return!1;le+=U.length}if(N){if(typeof N!="object")return j.destroy(new Error("Invalid will")),!1;if(!N.topic||typeof N.topic!="string")return j.destroy(new Error("Invalid will topic")),!1;if(le+=r.byteLength(N.topic)+2,le+=2,N.payload)if(N.payload.length>=0)typeof N.payload=="string"?le+=r.byteLength(N.payload):le+=N.payload.length;else return j.destroy(new Error("Invalid will payload")),!1;if(me={},T===5){if(me=q(j,N.properties),!me)return!1;le+=me.length}}let _e=!1;if(V!=null)if(Te(V))_e=!0,le+=r.byteLength(V)+2;else return j.destroy(new Error("Invalid username")),!1;if(oe!=null){if(!_e)return j.destroy(new Error("Username is required to use password")),!1;if(Te(oe))le+=ge(oe)+2;else return j.destroy(new Error("Invalid password")),!1}j.write(n.CONNECT_HEADER),ee(j,le),te(j,re),K.bridgeMode&&(T+=128),j.write(T===131?n.VERSION131:T===132?n.VERSION132:T===4?n.VERSION4:T===5?n.VERSION5:n.VERSION3);let he=0;return he|=V!=null?n.USERNAME_MASK:0,he|=oe!=null?n.PASSWORD_MASK:0,he|=N&&N.retain?n.WILL_RETAIN_MASK:0,he|=N&&N.qos?N.qos<<n.WILL_QOS_SHIFT:0,he|=N?n.WILL_FLAG_MASK:0,he|=B?n.CLEAN_SESSION_MASK:0,j.write(r.from([he])),p(j,P),T===5&&U.write(),te(j,D),N&&(T===5&&me.write(),X(j,N.topic),te(j,N.payload)),V!=null&&te(j,V),oe!=null&&te(j,oe),!0}function v(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=K===5?re.reasonCode:re.returnCode,N=re.properties,B=2;if(typeof T!="number")return j.destroy(new Error("Invalid return code")),!1;let P=null;if(K===5){if(P=q(j,N),!P)return!1;B+=P.length}return j.write(n.CONNACK_HEADER),ee(j,B),j.write(re.sessionPresent?n.SESSIONPRESENT_HEADER:s),j.write(r.from([T])),P?.write(),!0}function A(F,j,z){l("publish: packet: %o",F);let K=z?z.protocolVersion:4,re=F||{},T=re.qos||0,N=re.retain?n.RETAIN_MASK:0,B=re.topic,P=re.payload||i,D=re.messageId,V=re.properties,oe=0;if(typeof B=="string")oe+=r.byteLength(B)+2;else if(r.isBuffer(B))oe+=B.length+2;else return j.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(P)?oe+=P.length:oe+=r.byteLength(P),T&&typeof D!="number")return j.destroy(new Error("Invalid messageId")),!1;T&&(oe+=2);let se=null;if(K===5){if(se=q(j,V),!se)return!1;oe+=se.length}return j.write(n.PUBLISH_HEADER[T][re.dup?1:0][N?1:0]),ee(j,oe),p(j,ge(B)),j.write(B),T>0&&p(j,D),se?.write(),l("publish: payload: %o",P),j.write(P)}function w(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.cmd||"puback",N=re.messageId,B=re.dup&&T==="pubrel"?n.DUP_MASK:0,P=0,D=re.reasonCode,V=re.properties,oe=K===5?3:2;if(T==="pubrel"&&(P=1),typeof N!="number")return j.destroy(new Error("Invalid messageId")),!1;let se=null;if(K===5&&typeof V=="object"){if(se=G(j,V,z,oe),!se)return!1;oe+=se.length}return j.write(n.ACKS[T][P][B][0]),oe===3&&(oe+=D!==0?1:-1),ee(j,oe),p(j,N),K===5&&oe!==2&&j.write(r.from([D])),se!==null?se.write():oe===4&&j.write(r.from([0])),!0}function x(F,j,z){l("subscribe: packet: ");let K=z?z.protocolVersion:4,re=F||{},T=re.dup?n.DUP_MASK:0,N=re.messageId,B=re.subscriptions,P=re.properties,D=0;if(typeof N!="number")return j.destroy(new Error("Invalid messageId")),!1;D+=2;let V=null;if(K===5){if(V=q(j,P),!V)return!1;D+=V.length}if(typeof B=="object"&&B.length)for(let se=0;se<B.length;se+=1){let le=B[se].topic,U=B[se].qos;if(typeof le!="string")return j.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof U!="number")return j.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(K===5){if(typeof(B[se].nl||!1)!="boolean")return j.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(B[se].rap||!1)!="boolean")return j.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let me=B[se].rh||0;if(typeof me!="number"||me>2)return j.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=r.byteLength(le)+2+1}else return j.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),j.write(n.SUBSCRIBE_HEADER[1][T?1:0][0]),ee(j,D),p(j,N),V!==null&&V.write();let oe=!0;for(let se of B){let le=se.topic,U=se.qos,me=+se.nl,_e=+se.rap,he=se.rh,Re;X(j,le),Re=n.SUBSCRIBE_OPTIONS_QOS[U],K===5&&(Re|=me?n.SUBSCRIBE_OPTIONS_NL:0,Re|=_e?n.SUBSCRIBE_OPTIONS_RAP:0,Re|=he?n.SUBSCRIBE_OPTIONS_RH[he]:0),oe=j.write(r.from([Re]))}return oe}function I(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.messageId,N=re.granted,B=re.properties,P=0;if(typeof T!="number")return j.destroy(new Error("Invalid messageId")),!1;if(P+=2,typeof N=="object"&&N.length)for(let V=0;V<N.length;V+=1){if(typeof N[V]!="number")return j.destroy(new Error("Invalid qos vector")),!1;P+=1}else return j.destroy(new Error("Invalid qos vector")),!1;let D=null;if(K===5){if(D=G(j,B,z,P),!D)return!1;P+=D.length}return j.write(n.SUBACK_HEADER),ee(j,P),p(j,T),D!==null&&D.write(),j.write(r.from(N))}function R(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.messageId,N=re.dup?n.DUP_MASK:0,B=re.unsubscriptions,P=re.properties,D=0;if(typeof T!="number")return j.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof B=="object"&&B.length)for(let se=0;se<B.length;se+=1){if(typeof B[se]!="string")return j.destroy(new Error("Invalid unsubscriptions")),!1;D+=r.byteLength(B[se])+2}else return j.destroy(new Error("Invalid unsubscriptions")),!1;let V=null;if(K===5){if(V=q(j,P),!V)return!1;D+=V.length}j.write(n.UNSUBSCRIBE_HEADER[1][N?1:0][0]),ee(j,D),p(j,T),V!==null&&V.write();let oe=!0;for(let se=0;se<B.length;se++)oe=X(j,B[se]);return oe}function W(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.messageId,N=re.dup?n.DUP_MASK:0,B=re.granted,P=re.properties,D=re.cmd,V=0,oe=2;if(typeof T!="number")return j.destroy(new Error("Invalid messageId")),!1;if(K===5)if(typeof B=="object"&&B.length)for(let le=0;le<B.length;le+=1){if(typeof B[le]!="number")return j.destroy(new Error("Invalid qos vector")),!1;oe+=1}else return j.destroy(new Error("Invalid qos vector")),!1;let se=null;if(K===5){if(se=G(j,P,z,oe),!se)return!1;oe+=se.length}return j.write(n.ACKS[D][V][N][0]),ee(j,oe),p(j,T),se!==null&&se.write(),K===5&&j.write(r.from(B)),!0}function H(F,j,z){return j.write(n.EMPTY[F.cmd])}function Q(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.reasonCode,N=re.properties,B=K===5?1:0,P=null;if(K===5){if(P=G(j,N,z,B),!P)return!1;B+=P.length}return j.write(r.from([n.codes.disconnect<<4])),ee(j,B),K===5&&j.write(r.from([T])),P!==null&&P.write(),!0}function M(F,j,z){let K=z?z.protocolVersion:4,re=F||{},T=re.reasonCode,N=re.properties,B=K===5?1:0;K!==5&&j.destroy(new Error("Invalid mqtt version for auth packet"));let P=G(j,N,z,B);return P?(B+=P.length,j.write(r.from([n.codes.auth<<4])),ee(j,B),j.write(r.from([T])),P!==null&&P.write(),!0):!1}var Z={};function ee(F,j){if(j>n.VARBYTEINT_MAX)return F.destroy(new Error(`Invalid variable byte integer: ${j}`)),!1;let z=Z[j];return z||(z=f(j),j<16384&&(Z[j]=z)),l("writeVarByteInt: writing to stream: %o",z),F.write(z)}function X(F,j){let z=r.byteLength(j);return p(F,z),l("writeString: %s",j),F.write(j,"utf8")}function be(F,j,z){X(F,j),X(F,z)}function ie(F,j){return l("writeNumberCached: number: %d",j),l("writeNumberCached: %o",c[j]),F.write(c[j])}function ne(F,j){let z=u(j);return l("writeNumberGenerated: %o",z),F.write(z)}function ye(F,j){let z=g(j);return l("write4ByteNumber: %o",z),F.write(z)}function te(F,j){typeof j=="string"?X(F,j):j?(p(F,j.length),F.write(j)):p(F,0)}function q(F,j){if(typeof j!="object"||j.length!=null)return{length:1,write(){Ie(F,{},0)}};let z=0;function K(re,T){let N=n.propertiesTypes[re],B=0;switch(N){case"byte":{if(typeof T!="boolean")return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=2;break}case"int8":{if(typeof T!="number"||T<0||T>255)return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=2;break}case"binary":{if(T&&T===null)return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=1+r.byteLength(T)+2;break}case"int16":{if(typeof T!="number"||T<0||T>65535)return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=3;break}case"int32":{if(typeof T!="number"||T<0||T>4294967295)return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=5;break}case"var":{if(typeof T!="number"||T<0||T>268435455)return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=1+r.byteLength(f(T));break}case"string":{if(typeof T!="string")return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=3+r.byteLength(T.toString());break}case"pair":{if(typeof T!="object")return F.destroy(new Error(`Invalid ${re}: ${T}`)),!1;B+=Object.getOwnPropertyNames(T).reduce((P,D)=>{let V=T[D];return Array.isArray(V)?P+=V.reduce((oe,se)=>(oe+=3+r.byteLength(D.toString())+2+r.byteLength(se.toString()),oe),0):P+=3+r.byteLength(D.toString())+2+r.byteLength(T[D].toString()),P},0);break}default:return F.destroy(new Error(`Invalid property ${re}: ${T}`)),!1}return B}if(j)for(let re in j){let T=0,N=0,B=j[re];if(B!==void 0){if(Array.isArray(B))for(let P=0;P<B.length;P++){if(N=K(re,B[P]),!N)return!1;T+=N}else{if(N=K(re,B),!N)return!1;T=N}if(!T)return!1;z+=T}}return{length:r.byteLength(f(z))+z,write(){Ie(F,j,z)}}}function G(F,j,z,K){let re=["reasonString","userProperties"],T=z&&z.properties&&z.properties.maximumPacketSize?z.properties.maximumPacketSize:0,N=q(F,j);if(T)for(;K+N.length>T;){let B=re.shift();if(B&&j[B])delete j[B],N=q(F,j);else return!1}return N}function fe(F,j,z){switch(n.propertiesTypes[j]){case"byte":{F.write(r.from([n.properties[j]])),F.write(r.from([+z]));break}case"int8":{F.write(r.from([n.properties[j]])),F.write(r.from([z]));break}case"binary":{F.write(r.from([n.properties[j]])),te(F,z);break}case"int16":{F.write(r.from([n.properties[j]])),p(F,z);break}case"int32":{F.write(r.from([n.properties[j]])),ye(F,z);break}case"var":{F.write(r.from([n.properties[j]])),ee(F,z);break}case"string":{F.write(r.from([n.properties[j]])),X(F,z);break}case"pair":{Object.getOwnPropertyNames(z).forEach(K=>{let re=z[K];Array.isArray(re)?re.forEach(T=>{F.write(r.from([n.properties[j]])),be(F,K.toString(),T.toString())}):(F.write(r.from([n.properties[j]])),be(F,K.toString(),re.toString()))});break}default:return F.destroy(new Error(`Invalid property ${j} value: ${z}`)),!1}}function Ie(F,j,z){ee(F,z);for(let K in j)if(Object.prototype.hasOwnProperty.call(j,K)&&j[K]!=null){let re=j[K];if(Array.isArray(re))for(let T=0;T<re.length;T++)fe(F,K,re[T]);else fe(F,K,re)}}function ge(F){return F?F instanceof r?F.length:r.byteLength(F):0}function Te(F){return typeof F=="string"||F instanceof r}e.exports=b}),$P=xe((t,e)=>{Se(),Ae(),Ce();var n=$2(),{EventEmitter:r}=(ts(),mt(vi)),{Buffer:i}=(Yt(),mt(Kt));function s(a,l){let c=new o;return n(a,c,l),c.concat()}var o=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),c=this._array,u=0,h;for(h=0;h<c.length&&c[h]!==void 0;h++)typeof c[h]!="string"?l[h]=c[h].length:l[h]=i.byteLength(c[h]),a+=l[h];let f=i.allocUnsafe(a);for(h=0;h<c.length&&c[h]!==void 0;h++)typeof c[h]!="string"?(c[h].copy(f,u),u+=l[h]):(f.write(c[h],u),u+=l[h]);return f}destroy(a){a&&this.emit("error",a)}};e.exports=s}),HP=xe(t=>{Se(),Ae(),Ce(),t.parser=BP().parser,t.generate=$P(),t.writeToStream=$2()}),VP=xe((t,e)=>{Se(),Ae(),Ce(),e.exports=r;function n(s){return s instanceof Yl?Yl.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function r(s){if(s=s||{},s.circles)return i(s);let o=new Map;if(o.set(Date,h=>new Date(h)),o.set(Map,(h,f)=>new Map(l(Array.from(h),f))),o.set(Set,(h,f)=>new Set(l(Array.from(h),f))),s.constructorHandlers)for(let h of s.constructorHandlers)o.set(h[0],h[1]);let a=null;return s.proto?u:c;function l(h,f){let g=Object.keys(h),p=new Array(g.length);for(let _=0;_<g.length;_++){let b=g[_],E=h[b];typeof E!="object"||E===null?p[b]=E:E.constructor!==Object&&(a=o.get(E.constructor))?p[b]=a(E,f):ArrayBuffer.isView(E)?p[b]=n(E):p[b]=f(E)}return p}function c(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return l(h,c);if(h.constructor!==Object&&(a=o.get(h.constructor)))return a(h,c);let f={};for(let g in h){if(Object.hasOwnProperty.call(h,g)===!1)continue;let p=h[g];typeof p!="object"||p===null?f[g]=p:p.constructor!==Object&&(a=o.get(p.constructor))?f[g]=a(p,c):ArrayBuffer.isView(p)?f[g]=n(p):f[g]=c(p)}return f}function u(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return l(h,u);if(h.constructor!==Object&&(a=o.get(h.constructor)))return a(h,u);let f={};for(let g in h){let p=h[g];typeof p!="object"||p===null?f[g]=p:p.constructor!==Object&&(a=o.get(p.constructor))?f[g]=a(p,u):ArrayBuffer.isView(p)?f[g]=n(p):f[g]=u(p)}return f}}function i(s){let o=[],a=[],l=new Map;if(l.set(Date,g=>new Date(g)),l.set(Map,(g,p)=>new Map(u(Array.from(g),p))),l.set(Set,(g,p)=>new Set(u(Array.from(g),p))),s.constructorHandlers)for(let g of s.constructorHandlers)l.set(g[0],g[1]);let c=null;return s.proto?f:h;function u(g,p){let _=Object.keys(g),b=new Array(_.length);for(let E=0;E<_.length;E++){let y=_[E],v=g[y];if(typeof v!="object"||v===null)b[y]=v;else if(v.constructor!==Object&&(c=l.get(v.constructor)))b[y]=c(v,p);else if(ArrayBuffer.isView(v))b[y]=n(v);else{let A=o.indexOf(v);A!==-1?b[y]=a[A]:b[y]=p(v)}}return b}function h(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return u(g,h);if(g.constructor!==Object&&(c=l.get(g.constructor)))return c(g,h);let p={};o.push(g),a.push(p);for(let _ in g){if(Object.hasOwnProperty.call(g,_)===!1)continue;let b=g[_];if(typeof b!="object"||b===null)p[_]=b;else if(b.constructor!==Object&&(c=l.get(b.constructor)))p[_]=c(b,h);else if(ArrayBuffer.isView(b))p[_]=n(b);else{let E=o.indexOf(b);E!==-1?p[_]=a[E]:p[_]=h(b)}}return o.pop(),a.pop(),p}function f(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return u(g,f);if(g.constructor!==Object&&(c=l.get(g.constructor)))return c(g,f);let p={};o.push(g),a.push(p);for(let _ in g){let b=g[_];if(typeof b!="object"||b===null)p[_]=b;else if(b.constructor!==Object&&(c=l.get(b.constructor)))p[_]=c(b,f);else if(ArrayBuffer.isView(b))p[_]=n(b);else{let E=o.indexOf(b);E!==-1?p[_]=a[E]:p[_]=f(b)}}return o.pop(),a.pop(),p}}}),qP=xe((t,e)=>{Se(),Ae(),Ce(),e.exports=VP()()}),GP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopic=e,t.validateTopics=n;function e(r){let i=r.split("/");for(let s=0;s<i.length;s++)if(i[s]!=="+"){if(i[s]==="#")return s===i.length-1;if(i[s].indexOf("+")!==-1||i[s].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let i=0;i<r.length;i++)if(!e(r[i]))return r[i];return null}}),H2=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=rs(),n={objectMode:!0},r={clean:!0},i=class{options;_inflights;constructor(s){this.options=s||{},this.options={...r,...s},this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new e.Readable(n),o=[],a=!1,l=0;return this._inflights.forEach((c,u)=>{o.push(c)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=c=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=i}),zP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],n=(r,i,s)=>{r.log("handlePublish: packet %o",i),s=typeof s<"u"?s:r.noop;let o=i.topic.toString(),a=i.payload,{qos:l}=i,{messageId:c}=i,{options:u}=r;if(r.options.protocolVersion===5){let h;if(i.properties&&(h=i.properties.topicAlias),typeof h<"u")if(o.length===0)if(h>0&&h<=65535){let f=r.topicAliasRecv.getTopicByAlias(h);if(f)o=f,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,h);else{r.log("handlePublish :: unregistered topic alias. alias: %d",h),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",h),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(o,h))r.log("handlePublish :: registered topic: %s - alias: %d",o,h);else{r.log("handlePublish :: topic alias out of range. alias: %d",h),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",l),l){case 2:{u.customHandleAcks(o,a,i,(h,f)=>{if(typeof h=="number"&&(f=h,h=null),h)return r.emit("error",h);if(e.indexOf(f)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));f?r._sendPacket({cmd:"pubrec",messageId:c,reasonCode:f},s):r.incomingStore.put(i,()=>{r._sendPacket({cmd:"pubrec",messageId:c},s)})});break}case 1:{u.customHandleAcks(o,a,i,(h,f)=>{if(typeof h=="number"&&(f=h,h=null),h)return r.emit("error",h);if(e.indexOf(f)===-1)return r.emit("error",new Error("Wrong reason code for puback"));f||r.emit("message",o,a,i),r.handleMessage(i,g=>{if(g)return s&&s(g);r._sendPacket({cmd:"puback",messageId:c,reasonCode:f},s)})});break}case 0:r.emit("message",o,a,i),r.handleMessage(i,s);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=n}),KP=xe((t,e)=>{e.exports={version:"5.14.1"}}),Qs=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.ErrorWithSubackPacket=t.ErrorWithReasonCode=void 0,t.applyMixin=r;var e=class V2 extends Error{code;constructor(s,o){super(s),this.code=o,Object.setPrototypeOf(this,V2.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;var n=class q2 extends Error{packet;constructor(s,o){super(s),this.packet=o,Object.setPrototypeOf(this,q2.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};t.ErrorWithSubackPacket=n;function r(i,s,o=!1){let a=[s];for(;;){let l=a[0],c=Object.getPrototypeOf(l);if(c?.prototype)a.unshift(c);else break}for(let l of a)for(let c of Object.getOwnPropertyNames(l.prototype))(o||c!=="constructor")&&Object.defineProperty(i.prototype,c,Object.getOwnPropertyDescriptor(l.prototype,c)??Object.create(null))}t.nextTick=typeof It?.nextTick=="function"?It.nextTick:i=>{setTimeout(i,0)},t.MQTTJS_VERSION=KP().version}),Mc=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var e=Qs();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,i)=>{let{messageId:s}=i,o=i.cmd,a=null,l=r.outgoing[s]?r.outgoing[s].cb:null,c=null;if(!l){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let u=i.reasonCode;u&&u>0&&u!==16?(c=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(s,()=>{l(c,i)})):r._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:s};let u=i.reasonCode;u&&u>0&&u!==16?(c=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(s,()=>{l(c,i)})):r._sendPacket(a);break}case"suback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s);let u=i.granted;for(let h=0;h<u.length;h++){let f=u[h];if((f&128)!==0){c=new Error(`Subscribe error: ${t.ReasonCodes[f]}`),c.code=f;let g=r.messageIdToTopic[s];g&&g.forEach(p=>{delete r._resubscribeTopics[p]})}}delete r.messageIdToTopic[s],r._invokeStoreProcessingQueue(),l(c,i);break}case"unsuback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s),r._invokeStoreProcessingQueue(),l(null,i);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};t.default=n}),YP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=Qs(),n=Mc(),r=(i,s)=>{let{options:o}=i,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let c=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);i.emit("error",c);return}i.handleAuth(s,(c,u)=>{if(c){i.emit("error",c);return}if(l===24)i.reconnecting=!1,i._sendPacket(u);else{let h=new e.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[l]}`,l);i.emit("error",h)}})};t.default=r}),QP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof It=="object"&&It?It:{},i=(g,p,_,b)=>{typeof r.emitWarning=="function"?r.emitWarning(g,p,_,b):console.error(`[${_}] ${p}: ${g}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(_,b){this._onabort.push(b)}},s=class{constructor(){p()}signal=new o;abort(_){if(!this.signal.aborted){this.signal.reason=_,this.signal.aborted=!0;for(let b of this.signal._onabort)b(_);this.signal.onabort?.(_)}}};let g=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",p=()=>{g&&(g=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",p))}}var a=g=>!n.has(g),l=g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),c=g=>l(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?u:null:null,u=class extends Array{constructor(g){super(g),this.fill(0)}},h=class _o{heap;length;static#l=!1;static create(p){let _=c(p);if(!_)return[];_o.#l=!0;let b=new _o(p,_);return _o.#l=!1,b}constructor(p,_){if(!_o.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new _(p),this.length=0}push(p){this.heap[this.length++]=p}pop(){return this.heap[--this.length]}},f=class G2{#l;#h;#g;#m;#O;#P;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#_;#r;#n;#e;#c;#f;#a;#s;#y;#o;#b;#v;#d;#w;#I;#u;static unsafeExposeInternals(p){return{starts:p.#v,ttls:p.#d,sizes:p.#b,keyMap:p.#r,keyList:p.#n,valList:p.#e,next:p.#c,prev:p.#f,get head(){return p.#a},get tail(){return p.#s},free:p.#y,isBackgroundFetch:_=>p.#t(_),backgroundFetch:(_,b,E,y)=>p.#M(_,b,E,y),moveToTail:_=>p.#k(_),indexes:_=>p.#E(_),rindexes:_=>p.#S(_),isStale:_=>p.#p(_)}}get max(){return this.#l}get maxSize(){return this.#h}get calculatedSize(){return this.#_}get size(){return this.#i}get fetchMethod(){return this.#O}get memoMethod(){return this.#P}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(p){let{max:_=0,ttl:b,ttlResolution:E=1,ttlAutopurge:y,updateAgeOnGet:v,updateAgeOnHas:A,allowStale:w,dispose:x,disposeAfter:I,noDisposeOnSet:R,noUpdateTTL:W,maxSize:H=0,maxEntrySize:Q=0,sizeCalculation:M,fetchMethod:Z,memoMethod:ee,noDeleteOnFetchRejection:X,noDeleteOnStaleGet:be,allowStaleOnFetchRejection:ie,allowStaleOnFetchAbort:ne,ignoreFetchAbort:ye}=p;if(_!==0&&!l(_))throw new TypeError("max option must be a nonnegative integer");let te=_?c(_):Array;if(!te)throw new Error("invalid max value: "+_);if(this.#l=_,this.#h=H,this.maxEntrySize=Q||this.#h,this.sizeCalculation=M,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ee!==void 0&&typeof ee!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#P=ee,Z!==void 0&&typeof Z!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#O=Z,this.#I=!!Z,this.#r=new Map,this.#n=new Array(_).fill(void 0),this.#e=new Array(_).fill(void 0),this.#c=new te(_),this.#f=new te(_),this.#a=0,this.#s=0,this.#y=h.create(_),this.#i=0,this.#_=0,typeof x=="function"&&(this.#g=x),typeof I=="function"?(this.#m=I,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#w=!!this.#g,this.#u=!!this.#m,this.noDisposeOnSet=!!R,this.noUpdateTTL=!!W,this.noDeleteOnFetchRejection=!!X,this.allowStaleOnFetchRejection=!!ie,this.allowStaleOnFetchAbort=!!ne,this.ignoreFetchAbort=!!ye,this.maxEntrySize!==0){if(this.#h!==0&&!l(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!be,this.updateAgeOnGet=!!v,this.updateAgeOnHas=!!A,this.ttlResolution=l(E)||E===0?E:1,this.ttlAutopurge=!!y,this.ttl=b||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(this.#l===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#h){let q="LRU_CACHE_UNBOUNDED";a(q)&&(n.add(q),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",q,G2))}}getRemainingTTL(p){return this.#r.has(p)?1/0:0}#D(){let p=new u(this.#l),_=new u(this.#l);this.#d=p,this.#v=_,this.#L=(y,v,A=e.now())=>{if(_[y]=v!==0?A:0,p[y]=v,v!==0&&this.ttlAutopurge){let w=setTimeout(()=>{this.#p(y)&&this.#C(this.#n[y],"expire")},v+1);w.unref&&w.unref()}},this.#x=y=>{_[y]=p[y]!==0?e.now():0},this.#A=(y,v)=>{if(p[v]){let A=p[v],w=_[v];if(!A||!w)return;y.ttl=A,y.start=w,y.now=b||E();let x=y.now-w;y.remainingTTL=A-x}};let b=0,E=()=>{let y=e.now();if(this.ttlResolution>0){b=y;let v=setTimeout(()=>b=0,this.ttlResolution);v.unref&&v.unref()}return y};this.getRemainingTTL=y=>{let v=this.#r.get(y);if(v===void 0)return 0;let A=p[v],w=_[v];if(!A||!w)return 1/0;let x=(b||E())-w;return A-x},this.#p=y=>{let v=_[y],A=p[y];return!!A&&!!v&&(b||E())-v>A}}#x=()=>{};#A=()=>{};#L=()=>{};#p=()=>!1;#W(){let p=new u(this.#l);this.#_=0,this.#b=p,this.#T=_=>{this.#_-=p[_],p[_]=0},this.#F=(_,b,E,y)=>{if(this.#t(b))return 0;if(!l(E))if(y){if(typeof y!="function")throw new TypeError("sizeCalculation must be a function");if(E=y(b,_),!l(E))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return E},this.#R=(_,b,E)=>{if(p[_]=b,this.#h){let y=this.#h-p[_];for(;this.#_>y;)this.#N(!0)}this.#_+=p[_],E&&(E.entrySize=b,E.totalCalculatedSize=this.#_)}}#T=p=>{};#R=(p,_,b)=>{};#F=(p,_,b,E)=>{if(b||E)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:p=this.allowStale}={}){if(this.#i)for(let _=this.#s;!(!this.#j(_)||((p||!this.#p(_))&&(yield _),_===this.#a));)_=this.#f[_]}*#S({allowStale:p=this.allowStale}={}){if(this.#i)for(let _=this.#a;!(!this.#j(_)||((p||!this.#p(_))&&(yield _),_===this.#s));)_=this.#c[_]}#j(p){return p!==void 0&&this.#r.get(this.#n[p])===p}*entries(){for(let p of this.#E())this.#e[p]!==void 0&&this.#n[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#n[p],this.#e[p]])}*rentries(){for(let p of this.#S())this.#e[p]!==void 0&&this.#n[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#n[p],this.#e[p]])}*keys(){for(let p of this.#E()){let _=this.#n[p];_!==void 0&&!this.#t(this.#e[p])&&(yield _)}}*rkeys(){for(let p of this.#S()){let _=this.#n[p];_!==void 0&&!this.#t(this.#e[p])&&(yield _)}}*values(){for(let p of this.#E())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}*rvalues(){for(let p of this.#S())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(p,_={}){for(let b of this.#E()){let E=this.#e[b],y=this.#t(E)?E.__staleWhileFetching:E;if(y!==void 0&&p(y,this.#n[b],this))return this.get(this.#n[b],_)}}forEach(p,_=this){for(let b of this.#E()){let E=this.#e[b],y=this.#t(E)?E.__staleWhileFetching:E;y!==void 0&&p.call(_,y,this.#n[b],this)}}rforEach(p,_=this){for(let b of this.#S()){let E=this.#e[b],y=this.#t(E)?E.__staleWhileFetching:E;y!==void 0&&p.call(_,y,this.#n[b],this)}}purgeStale(){let p=!1;for(let _ of this.#S({allowStale:!0}))this.#p(_)&&(this.#C(this.#n[_],"expire"),p=!0);return p}info(p){let _=this.#r.get(p);if(_===void 0)return;let b=this.#e[_],E=this.#t(b)?b.__staleWhileFetching:b;if(E===void 0)return;let y={value:E};if(this.#d&&this.#v){let v=this.#d[_],A=this.#v[_];if(v&&A){let w=v-(e.now()-A);y.ttl=w,y.start=Date.now()}}return this.#b&&(y.size=this.#b[_]),y}dump(){let p=[];for(let _ of this.#E({allowStale:!0})){let b=this.#n[_],E=this.#e[_],y=this.#t(E)?E.__staleWhileFetching:E;if(y===void 0||b===void 0)continue;let v={value:y};if(this.#d&&this.#v){v.ttl=this.#d[_];let A=e.now()-this.#v[_];v.start=Math.floor(Date.now()-A)}this.#b&&(v.size=this.#b[_]),p.unshift([b,v])}return p}load(p){this.clear();for(let[_,b]of p){if(b.start){let E=Date.now()-b.start;b.start=e.now()-E}this.set(_,b.value,b)}}set(p,_,b={}){if(_===void 0)return this.delete(p),this;let{ttl:E=this.ttl,start:y,noDisposeOnSet:v=this.noDisposeOnSet,sizeCalculation:A=this.sizeCalculation,status:w}=b,{noUpdateTTL:x=this.noUpdateTTL}=b,I=this.#F(p,_,b.size||0,A);if(this.maxEntrySize&&I>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.#C(p,"set"),this;let R=this.#i===0?void 0:this.#r.get(p);if(R===void 0)R=this.#i===0?this.#s:this.#y.length!==0?this.#y.pop():this.#i===this.#l?this.#N(!1):this.#i,this.#n[R]=p,this.#e[R]=_,this.#r.set(p,R),this.#c[this.#s]=R,this.#f[R]=this.#s,this.#s=R,this.#i++,this.#R(R,I,w),w&&(w.set="add"),x=!1;else{this.#k(R);let W=this.#e[R];if(_!==W){if(this.#I&&this.#t(W)){W.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:H}=W;H!==void 0&&!v&&(this.#w&&this.#g?.(H,p,"set"),this.#u&&this.#o?.push([H,p,"set"]))}else v||(this.#w&&this.#g?.(W,p,"set"),this.#u&&this.#o?.push([W,p,"set"]));if(this.#T(R),this.#R(R,I,w),this.#e[R]=_,w){w.set="replace";let H=W&&this.#t(W)?W.__staleWhileFetching:W;H!==void 0&&(w.oldValue=H)}}else w&&(w.set="update")}if(E!==0&&!this.#d&&this.#D(),this.#d&&(x||this.#L(R,E,y),w&&this.#A(w,R)),!v&&this.#u&&this.#o){let W=this.#o,H;for(;H=W?.shift();)this.#m?.(...H)}return this}pop(){try{for(;this.#i;){let p=this.#e[this.#a];if(this.#N(!0),this.#t(p)){if(p.__staleWhileFetching)return p.__staleWhileFetching}else if(p!==void 0)return p}}finally{if(this.#u&&this.#o){let p=this.#o,_;for(;_=p?.shift();)this.#m?.(..._)}}}#N(p){let _=this.#a,b=this.#n[_],E=this.#e[_];return this.#I&&this.#t(E)?E.__abortController.abort(new Error("evicted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(E,b,"evict"),this.#u&&this.#o?.push([E,b,"evict"])),this.#T(_),p&&(this.#n[_]=void 0,this.#e[_]=void 0,this.#y.push(_)),this.#i===1?(this.#a=this.#s=0,this.#y.length=0):this.#a=this.#c[_],this.#r.delete(b),this.#i--,_}has(p,_={}){let{updateAgeOnHas:b=this.updateAgeOnHas,status:E}=_,y=this.#r.get(p);if(y!==void 0){let v=this.#e[y];if(this.#t(v)&&v.__staleWhileFetching===void 0)return!1;if(this.#p(y))E&&(E.has="stale",this.#A(E,y));else return b&&this.#x(y),E&&(E.has="hit",this.#A(E,y)),!0}else E&&(E.has="miss");return!1}peek(p,_={}){let{allowStale:b=this.allowStale}=_,E=this.#r.get(p);if(E===void 0||!b&&this.#p(E))return;let y=this.#e[E];return this.#t(y)?y.__staleWhileFetching:y}#M(p,_,b,E){let y=_===void 0?void 0:this.#e[_];if(this.#t(y))return y;let v=new s,{signal:A}=b;A?.addEventListener("abort",()=>v.abort(A.reason),{signal:v.signal});let w={signal:v.signal,options:b,context:E},x=(M,Z=!1)=>{let{aborted:ee}=v.signal,X=b.ignoreFetchAbort&&M!==void 0;if(b.status&&(ee&&!Z?(b.status.fetchAborted=!0,b.status.fetchError=v.signal.reason,X&&(b.status.fetchAbortIgnored=!0)):b.status.fetchResolved=!0),ee&&!X&&!Z)return R(v.signal.reason);let be=H;return this.#e[_]===H&&(M===void 0?be.__staleWhileFetching?this.#e[_]=be.__staleWhileFetching:this.#C(p,"fetch"):(b.status&&(b.status.fetchUpdated=!0),this.set(p,M,w.options))),M},I=M=>(b.status&&(b.status.fetchRejected=!0,b.status.fetchError=M),R(M)),R=M=>{let{aborted:Z}=v.signal,ee=Z&&b.allowStaleOnFetchAbort,X=ee||b.allowStaleOnFetchRejection,be=X||b.noDeleteOnFetchRejection,ie=H;if(this.#e[_]===H&&(!be||ie.__staleWhileFetching===void 0?this.#C(p,"fetch"):ee||(this.#e[_]=ie.__staleWhileFetching)),X)return b.status&&ie.__staleWhileFetching!==void 0&&(b.status.returnedStale=!0),ie.__staleWhileFetching;if(ie.__returned===ie)throw M},W=(M,Z)=>{let ee=this.#O?.(p,y,w);ee&&ee instanceof Promise&&ee.then(X=>M(X===void 0?void 0:X),Z),v.signal.addEventListener("abort",()=>{(!b.ignoreFetchAbort||b.allowStaleOnFetchAbort)&&(M(void 0),b.allowStaleOnFetchAbort&&(M=X=>x(X,!0)))})};b.status&&(b.status.fetchDispatched=!0);let H=new Promise(W).then(x,I),Q=Object.assign(H,{__abortController:v,__staleWhileFetching:y,__returned:void 0});return _===void 0?(this.set(p,Q,{...w.options,status:void 0}),_=this.#r.get(p)):this.#e[_]=Q,Q}#t(p){if(!this.#I)return!1;let _=p;return!!_&&_ instanceof Promise&&_.hasOwnProperty("__staleWhileFetching")&&_.__abortController instanceof s}async fetch(p,_={}){let{allowStale:b=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:y=this.noDeleteOnStaleGet,ttl:v=this.ttl,noDisposeOnSet:A=this.noDisposeOnSet,size:w=0,sizeCalculation:x=this.sizeCalculation,noUpdateTTL:I=this.noUpdateTTL,noDeleteOnFetchRejection:R=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:W=this.allowStaleOnFetchRejection,ignoreFetchAbort:H=this.ignoreFetchAbort,allowStaleOnFetchAbort:Q=this.allowStaleOnFetchAbort,context:M,forceRefresh:Z=!1,status:ee,signal:X}=_;if(!this.#I)return ee&&(ee.fetch="get"),this.get(p,{allowStale:b,updateAgeOnGet:E,noDeleteOnStaleGet:y,status:ee});let be={allowStale:b,updateAgeOnGet:E,noDeleteOnStaleGet:y,ttl:v,noDisposeOnSet:A,size:w,sizeCalculation:x,noUpdateTTL:I,noDeleteOnFetchRejection:R,allowStaleOnFetchRejection:W,allowStaleOnFetchAbort:Q,ignoreFetchAbort:H,status:ee,signal:X},ie=this.#r.get(p);if(ie===void 0){ee&&(ee.fetch="miss");let ne=this.#M(p,ie,be,M);return ne.__returned=ne}else{let ne=this.#e[ie];if(this.#t(ne)){let G=b&&ne.__staleWhileFetching!==void 0;return ee&&(ee.fetch="inflight",G&&(ee.returnedStale=!0)),G?ne.__staleWhileFetching:ne.__returned=ne}let ye=this.#p(ie);if(!Z&&!ye)return ee&&(ee.fetch="hit"),this.#k(ie),E&&this.#x(ie),ee&&this.#A(ee,ie),ne;let te=this.#M(p,ie,be,M),q=te.__staleWhileFetching!==void 0&&b;return ee&&(ee.fetch=ye?"stale":"refresh",q&&ye&&(ee.returnedStale=!0)),q?te.__staleWhileFetching:te.__returned=te}}async forceFetch(p,_={}){let b=await this.fetch(p,_);if(b===void 0)throw new Error("fetch() returned undefined");return b}memo(p,_={}){let b=this.#P;if(!b)throw new Error("no memoMethod provided to constructor");let{context:E,forceRefresh:y,...v}=_,A=this.get(p,v);if(!y&&A!==void 0)return A;let w=b(p,A,{options:v,context:E});return this.set(p,w,v),w}get(p,_={}){let{allowStale:b=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:y=this.noDeleteOnStaleGet,status:v}=_,A=this.#r.get(p);if(A!==void 0){let w=this.#e[A],x=this.#t(w);return v&&this.#A(v,A),this.#p(A)?(v&&(v.get="stale"),x?(v&&b&&w.__staleWhileFetching!==void 0&&(v.returnedStale=!0),b?w.__staleWhileFetching:void 0):(y||this.#C(p,"expire"),v&&b&&(v.returnedStale=!0),b?w:void 0)):(v&&(v.get="hit"),x?w.__staleWhileFetching:(this.#k(A),E&&this.#x(A),w))}else v&&(v.get="miss")}#B(p,_){this.#f[_]=p,this.#c[p]=_}#k(p){p!==this.#s&&(p===this.#a?this.#a=this.#c[p]:this.#B(this.#f[p],this.#c[p]),this.#B(this.#s,p),this.#s=p)}delete(p){return this.#C(p,"delete")}#C(p,_){let b=!1;if(this.#i!==0){let E=this.#r.get(p);if(E!==void 0)if(b=!0,this.#i===1)this.#U(_);else{this.#T(E);let y=this.#e[E];if(this.#t(y)?y.__abortController.abort(new Error("deleted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(y,p,_),this.#u&&this.#o?.push([y,p,_])),this.#r.delete(p),this.#n[E]=void 0,this.#e[E]=void 0,E===this.#s)this.#s=this.#f[E];else if(E===this.#a)this.#a=this.#c[E];else{let v=this.#f[E];this.#c[v]=this.#c[E];let A=this.#c[E];this.#f[A]=this.#f[E]}this.#i--,this.#y.push(E)}}if(this.#u&&this.#o?.length){let E=this.#o,y;for(;y=E?.shift();)this.#m?.(...y)}return b}clear(){return this.#U("delete")}#U(p){for(let _ of this.#S({allowStale:!0})){let b=this.#e[_];if(this.#t(b))b.__abortController.abort(new Error("deleted"));else{let E=this.#n[_];this.#w&&this.#g?.(b,E,p),this.#u&&this.#o?.push([b,E,p])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#b&&this.#b.fill(0),this.#a=0,this.#s=0,this.#y.length=0,this.#_=0,this.#i=0,this.#u&&this.#o){let _=this.#o,b;for(;b=_?.shift();)this.#m?.(...b)}}};t.LRUCache=f}),zr=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};t.ContainerIterator=e;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=n;var r=class extends n{};t.Container=r}),JP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=zr(),n=class extends e.Base{constructor(i=[]){super(),this.S=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;t.default=r}),XP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=zr(),n=class extends e.Base{constructor(i=[]){super(),this.j=0,this.q=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(i){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},r=n;t.default=r}),ZP=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=zr(),n=class extends e.Base{constructor(i=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(i))this.C=o?[...i]:i;else{this.C=[];let l=this;i.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(i){let s=this.C[i];for(;i>0;){let o=i-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[i]=a,i=o}this.C[i]=s}k(i,s){let o=this.C[i];for(;i<s;){let a=i<<1|1,l=a+1,c=this.C[a];if(l<this.i&&this.v(c,this.C[l])>0&&(a=l,c=this.C[l]),this.v(c,o)>=0)break;this.C[i]=c,i=a}this.C[i]=o}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let s=this.C.indexOf(i);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(i){let s=this.C.indexOf(i);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;t.default=r}),Rp=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=zr(),n=class extends e.Container{},r=n;t.default=r}),Kr=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),z2=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=zr(),n=Kr(),r=class extends e.ContainerIterator{constructor(i,s){super(s),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};t.RandomIterator=r}),eR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Rp()),n=z2();function r(a){return a&&a.t?a:{default:a}}var i=class K2 extends n.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new K2(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let c=this;a.forEach(function(u){c.pushBack(u)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==a&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(c).fill(l)),this.i+=c,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;t.default=o}),tR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(Rp()),n=zr(),r=Kr();function i(l){return l&&l.t?l:{default:l}}var s=class Y2 extends n.ContainerIterator{constructor(c,u,h,f){super(f),this.o=c,this.h=u,this.container=h,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=c}copy(){return new Y2(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(u){c.pushBack(u)})}V(l){let{L:c,B:u}=l;c.B=u,u.L=c,l===this.p&&(this.p=u),l===this._&&(this._=c),this.i-=1}G(l,c){let u=c.B,h={l,L:c,B:u};c.B=h,u.L=h,c===this.h&&(this.p=h),u===this.h&&(this._=h),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,r.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;u.l=c}insert(l,c,u=1){if(l<0||l>this.i)throw new RangeError;if(u<=0)return this.i;if(l===0)for(;u--;)this.pushFront(c);else if(l===this.i)for(;u--;)this.pushBack(c);else{let h=this.p;for(let g=1;g<l;++g)h=h.B;let f=h.B;for(this.i+=u;u--;)h.B={l:c,L:h},h.B.L=h,h=h.B;h.B=f,f.L=h}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new s(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,u=0;for(;u<<1<this.i;){let h=l.l;l.l=c.l,c.l=h,l=l.B,c=c.L,u+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(h){c.push(h)}),c.sort(l);let u=this.p;c.forEach(function(h){u.l=h,u=u.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(u){c.pushBack(u)});else{let u=this.p;l.forEach(function(h){for(;u!==c.h&&u.l<=h;)u=u.B;c.G(h,u.L)})}return this.i}forEach(l){let c=this.p,u=0;for(;c!==this.h;)l(c.l,u++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;t.default=a}),nR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Rp()),n=z2();function r(a){return a&&a.t?a:{default:a}}var i=class Q2 extends n.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new Q2(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let u=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(u>>1),this.D=this.N=this.F-c%this.F>>1;let h=this;a.forEach(function(f){h.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)a[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)a[a.length]=this.A[c];for(let c=0;c<this.R;++c)a[a.length]=this.A[c];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let c=0;c<l;++c)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,c=l%this.F,u=c-1,h=this.j+(l-c)/this.F;return c===0&&(h-=1),h%=this.P,u<0&&(u+=this.F),{curNodeBucketIndex:h,curNodePointerIndex:u}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.A[l][c]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:u}=this.O(a);this.A[c][u]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;c--;)this.pushFront(l);else if(a===this.i)for(;c--;)this.pushBack(l);else{let u=[];for(let h=a;h<this.i;++h)u.push(this.getElementByPos(h));this.cut(a-1);for(let h=0;h<c;++h)this.pushBack(l);for(let h=0;h<u.length;++h)this.pushBack(u[h])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.R=l,this.N=c,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let u=a+1;u<this.i;++u)l.push(this.getElementByPos(u));this.cut(a),this.popBack();let c=this;l.forEach(function(u){c.pushBack(u)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let u=0;u<this.i;++u){let h=this.getElementByPos(u);h!==a&&l.push(h)}let c=l.length;for(let u=0;u<c;++u)this.setElementByPos(u,l[u]);return this.cut(c-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new i(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let c=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,c),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let u=this.getElementByPos(c);u!==l&&(l=u,this.setElementByPos(a++,u))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(a);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;t.default=o}),rR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(r,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=i}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let i=r.tt;for(;i.U===r;)r=i,i=r.tt;r=i}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let i=r.tt;for(;i.W===r;)r=i,i=r.tt;return r.W!==i?i:r}}te(){let r=this.tt,i=this.W,s=i.U;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.U=this,this.tt=i,this.W=s,s&&(s.tt=this),i}se(){let r=this.tt,i=this.U,s=i.W;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.W=this,this.tt=i,this.U=s,s&&(s.tt=this),i}};t.TreeNode=e;var n=class extends e{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=n}),J2=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=rR(),n=zr(),r=Kr(),i=class extends n.Container{constructor(o=function(l,c){return l<c?-1:l>c?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=e.TreeNodeEnableIndex,this.M=function(l,c,u){let h=this.ne(l,c,u);if(h){let f=h.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let g=this.he(h);if(g){let{parentNode:p,grandParent:_,curNode:b}=g;p.ie(),_.ie(),b.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=e.TreeNode,this.M=function(l,c,u){let h=this.ne(l,c,u);return h&&this.he(h),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let c=this.v(o.u,a);if(c<0)o=o.W;else if(c>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let c=this.v(o.u,a);if(c<0)l=o,o=o.W;else if(c>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let u=l.tt;u.U===l?u.U=o:u.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let u=l.tt;u.U===l?u.U=o:u.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,u=this.h.U,h=this.v(u.u,o);if(h===0){u.l=a;return}else if(h>0)u.U=new this.re(o,a),u.U.tt=u,c=u.U,this.h.U=c;else{let f=this.h.W,g=this.v(f.u,o);if(g===0){f.l=a;return}else if(g<0)f.W=new this.re(o,a),f.W.tt=f,c=f.W,this.h.W=c;else{if(l!==void 0){let p=l.o;if(p!==this.h){let _=this.v(p.u,o);if(_===0){p.l=a;return}else if(_>0){let b=p.L(),E=this.v(b.u,o);if(E===0){b.l=a;return}else E<0&&(c=new this.re(o,a),b.W===void 0?(b.W=c,c.tt=b):(p.U=c,c.tt=p))}}}if(c===void 0)for(c=this.Y;;){let p=this.v(c.u,o);if(p>0){if(c.U===void 0){c.U=new this.re(o,a),c.U.tt=c,c=c.U;break}c=c.U}else if(p<0){if(c.W===void 0){c.W=new this.re(o,a),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=a;return}}}}return this.i+=1,c}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let c=l.L().u;if(this.v(c,a)>=0)return!1;let u=l.B().u;return this.v(u,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(c){return o===a?(l.V(c),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,r.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let c of this){if(l===o){a=c;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=i;t.default=s}),X2=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=zr(),n=Kr(),r=class extends e.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},i=r;t.default=i}),iR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(J2()),n=i(X2()),r=Kr();function i(l){return l&&l.t?l:{default:l}}var s=class Z2 extends n.default{constructor(c,u,h,f){super(c,u,f),this.container=h}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new Z2(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],c,u){super(c,u);let h=this;l.forEach(function(f){h.insert(f)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}union(l){let c=this;return l.forEach(function(u){c.insert(u)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),sR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(J2()),n=i(X2()),r=Kr();function i(l){return l&&l.t?l:{default:l}}var s=class ew extends n.default{constructor(c,u,h,f){super(c,u,f),this.container=h}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,h){if(h==="0")return c.o.u;if(h==="1")return c.o.l},set(u,h,f){if(h!=="1")throw new TypeError("props must be 1");return c.o.l=f,!0}})}copy(){return new ew(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],c,u){super(c,u);let h=this;l.forEach(function(f){h.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}setElement(l,c,u){return this.M(l,c,u)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(u){c.setElement(u[0],u[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),tw=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),nw=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=zr(),n=i(tw()),r=Kr();function i(a){return a&&a.t?a:{default:a}}var s=class extends e.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var o=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:c}=a;l.B=c,c.L=l,a===this.p&&(this.p=c),a===this._&&(this._=l),this.i-=1}M(a,l,c){c===void 0&&(c=(0,n.default)(a));let u;if(c){let h=a[this.HASH_TAG];if(h!==void 0)return this.H[h].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),u={u:a,l,L:this._,B:this.h},this.H.push(u)}else{let h=this.g[a];if(h)return h.l=l,this.i;u={u:a,l,L:this._,B:this.h},this.g[a]=u}return this.i===0?(this.p=u,this.h.B=u):this._.B=u,this._=u,this.h.L=u,++this.i}I(a,l){if(l===void 0&&(l=(0,n.default)(a)),l){let c=a[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let c;if(l===void 0&&(l=(0,n.default)(a)),l){let u=a[this.HASH_TAG];if(u===void 0)return!1;delete a[this.HASH_TAG],c=this.H[u],delete this.H[u]}else{if(c=this.g[a],c===void 0)return!1;delete this.g[a]}return this.V(c),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,r.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};t.HashContainer=o}),oR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=nw(),n=Kr(),r=class rw extends e.HashContainerIterator{constructor(a,l,c,u){super(a,l,u),this.container=c}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new rw(this.o,this.h,this.container,this.iteratorType)}},i=class extends e.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new r(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=i;t.default=s}),aR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=nw(),n=i(tw()),r=Kr();function i(l){return l&&l.t?l:{default:l}}var s=class iw extends e.HashContainerIterator{constructor(c,u,h,f){super(c,u,f),this.container=h}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,h){if(h==="0")return c.o.u;if(h==="1")return c.o.l},set(u,h,f){if(h!=="1")throw new TypeError("props must be 1");return c.o.l=f,!0}})}copy(){return new iw(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(u){c.setElement(u[0],u[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,u){return this.M(l,c,u)}getElementByKey(l,c){if(c===void 0&&(c=(0,n.default)(l)),c){let h=l[this.HASH_TAG];return h!==void 0?this.H[h].l:void 0}let u=this.g[l];return u?u.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let u=this.I(l,c);return new s(u,this.h,this)}forEach(l){let c=0,u=this.p;for(;u!==this.h;)l([u.u,u.l],c++,this),u=u.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;t.default=a}),lR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return i.default}});var e=h(JP()),n=h(XP()),r=h(ZP()),i=h(eR()),s=h(tR()),o=h(nR()),a=h(iR()),l=h(sR()),c=h(oR()),u=h(aR());function h(f){return f&&f.t?f:{default:f}}}),cR=xe((t,e)=>{Se(),Ae(),Ce();var n=lR().OrderedSet,r=Hr()("number-allocator:trace"),i=Hr()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new n([],(c,u)=>c.compare(u)),r("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,c=a.pointer.high,u=l;return u+1<=c?this.ss.updateKeyByIterator(a,new s(l+1,c)):this.ss.eraseElementByPos(0),r("alloc():"+u),u},o.prototype.use=function(a){let l=new s(a,a),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let u=c.pointer.low,h=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),r("use():"+a),!0):u>a?!1:u===a?(this.ss.updateKeyByIterator(c,new s(u+1,h)),r("use():"+a),!0):h===a?(this.ss.updateKeyByIterator(c,new s(u,h-1)),r("use():"+a),!0):(this.ss.updateKeyByIterator(c,new s(a+1,h)),this.ss.insert(new s(u,a-1)),r("use():"+a),!0)}return r("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){i("free():"+a+" is out of range");return}let l=new s(a,a),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let u=c.pointer.high;c.pointer.high+1===a?this.ss.updateKeyByIterator(c,new s(u,a)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(a+1===c.pointer.low){let u=c.pointer.high;this.ss.updateKeyByIterator(c,new s(a,u))}else this.ss.insert(l);else{let u=c.pointer.low,h=c.pointer.high;c.pre();let f=c.pointer.low;c.pointer.high+1===a?a+1===u?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new s(f,h))):this.ss.updateKeyByIterator(c,new s(f,a)):a+1===u?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new s(a,h))):this.ss.insert(l)}r("free():"+a)},o.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},e.exports=o}),sw=xe((t,e)=>{Se(),Ae(),Ce();var n=cR();e.exports.NumberAllocator=n}),uR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=QP(),n=sw(),r=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(i){i>0&&(this.aliasToTopic=new e.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,i),this.topicToAlias[i]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let s=this.topicToAlias[i];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=r}),hR=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var n=Mc(),r=e(uR()),i=Qs(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,c=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new r.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(c===0)o.reconnecting=!1,o._onConnect(a);else if(c>0){let u=new i.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[c]}`,c);o.emit("error",u),o.options.reconnectOnConnackError&&o._cleanUp(!0)}};t.default=s}),fR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(n,r,i)=>{n.log("handling pubrel packet");let s=typeof i<"u"?i:n.noop,{messageId:o}=r,a={cmd:"pubcomp",messageId:o};n.incomingStore.get(r,(l,c)=>{l?n._sendPacket(a,s):(n.emit("message",c.topic,c.payload,c),n.handleMessage(c,u=>{if(u)return s(u);n.incomingStore.del(c,n.noop),n._sendPacket(a,s)}))})};t.default=e}),dR=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(zP()),r=e(YP()),i=e(hR()),s=e(Mc()),o=e(fR()),a=(l,c,u)=>{let{options:h}=l;if(h.protocolVersion===5&&h.properties&&h.properties.maximumPacketSize&&h.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,n.default)(l,c,u);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,c),u();break;case"pubrel":l.reschedulePing(),(0,o.default)(l,c,u);break;case"connack":(0,i.default)(l,c),u();break;case"auth":l.reschedulePing(),(0,r.default)(l,c),u();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),u();break;case"disconnect":l.emit("disconnect",c),u();break;default:l.log("_handlePacket :: unknown command"),u();break}};t.default=a}),ow=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};t.default=e}),pR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{aliasToTopic;max;length;constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};t.default=e}),gR=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var n=e((ts(),mt(vi))),r=Qs(),i=class{};t.TypedEventEmitter=i,(0,r.applyMixin)(i,n.default)}),Dc=xe((t,e)=>{Se(),Ae(),Ce();function n(r){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,n(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),mR=xe((t,e)=>{Se(),Ae(),Ce();var n=Dc().default;function r(i,s){if(n(i)!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(n(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),_R=xe((t,e)=>{Se(),Ae(),Ce();var n=Dc().default,r=mR();function i(s){var o=r(s,"string");return n(o)=="symbol"?o:o+""}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),yR=xe((t,e)=>{Se(),Ae(),Ce();var n=_R();function r(i,s,o){return(s=n(s))in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),bR=xe((t,e)=>{Se(),Ae(),Ce();function n(r){if(Array.isArray(r))return r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),vR=xe((t,e)=>{Se(),Ae(),Ce();function n(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var o,a,l,c,u=[],h=!0,f=!1;try{if(l=(s=s.call(r)).next,i===0){if(Object(s)!==s)return;h=!1}else for(;!(h=(o=l.call(s)).done)&&(u.push(o.value),u.length!==i);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),wR=xe((t,e)=>{Se(),Ae(),Ce();function n(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,o=Array(i);s<i;s++)o[s]=r[s];return o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),ER=xe((t,e)=>{Se(),Ae(),Ce();var n=wR();function r(i,s){if(i){if(typeof i=="string")return n(i,s);var o={}.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(i):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(i,s):void 0}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),SR=xe((t,e)=>{Se(),Ae(),Ce();function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),CR=xe((t,e)=>{Se(),Ae(),Ce();var n=bR(),r=vR(),i=ER(),s=SR();function o(a,l){return n(a)||r(a,l)||i(a,l)||s()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),aw=xe((t,e)=>{Se(),Ae(),Ce(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))})(t,function(n){var r=function(g){return function(p){var _=g(p);return p.add(_),_}},i=function(g){return function(p,_){return g.set(p,_),_}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(g,p){return function(_){var b=p.get(_),E=b===void 0?_.size:b<a?b+1:0;if(!_.has(E))return g(_,E);if(_.size<o){for(;_.has(E);)E=Math.floor(Math.random()*a);return g(_,E)}if(_.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;_.has(E);)E=Math.floor(Math.random()*s);return g(_,E)}},c=new WeakMap,u=i(c),h=l(u,c),f=r(h);n.addUniqueNumber=f,n.generateUniqueNumber=h})}),AR=xe((t,e)=>{Se(),Ae(),Ce();function n(i,s,o,a,l,c,u){try{var h=i[c](u),f=h.value}catch(g){return void o(g)}h.done?s(f):Promise.resolve(f).then(a,l)}function r(i){return function(){var s=this,o=arguments;return new Promise(function(a,l){var c=i.apply(s,o);function u(f){n(c,a,l,u,h,"next",f)}function h(f){n(c,a,l,u,h,"throw",f)}u(void 0)})}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),lw=xe((t,e)=>{Se(),Ae(),Ce();function n(r,i){this.v=r,this.k=i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),cw=xe((t,e)=>{Se(),Ae(),Ce();function n(r,i,s,o){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}e.exports=n=function(l,c,u,h){function f(g,p){n(l,g,function(_){return this._invoke(g,p,_)})}c?a?a(l,c,{value:u,enumerable:!h,configurable:!h,writable:!h}):l[c]=u:(f("next",0),f("throw",1),f("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,n(r,i,s,o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),uw=xe((t,e)=>{Se(),Ae(),Ce();var n=cw();function r(){var i,s,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",l=o.toStringTag||"@@toStringTag";function c(E,y,v,A){var w=y&&y.prototype instanceof h?y:h,x=Object.create(w.prototype);return n(x,"_invoke",(function(I,R,W){var H,Q,M,Z=0,ee=W||[],X=!1,be={p:0,n:0,v:i,a:ie,f:ie.bind(i,4),d:function(ne,ye){return H=ne,Q=0,M=i,be.n=ye,u}};function ie(ne,ye){for(Q=ne,M=ye,s=0;!X&&Z&&!te&&s<ee.length;s++){var te,q=ee[s],G=be.p,fe=q[2];ne>3?(te=fe===ye)&&(M=q[(Q=q[4])?5:(Q=3,3)],q[4]=q[5]=i):q[0]<=G&&((te=ne<2&&G<q[1])?(Q=0,be.v=ye,be.n=q[1]):G<fe&&(te=ne<3||q[0]>ye||ye>fe)&&(q[4]=ne,q[5]=ye,be.n=fe,Q=0))}if(te||ne>1)return u;throw X=!0,ye}return function(ne,ye,te){if(Z>1)throw TypeError("Generator is already running");for(X&&ye===1&&ie(ye,te),Q=ye,M=te;(s=Q<2?i:M)||!X;){H||(Q?Q<3?(Q>1&&(be.n=-1),ie(Q,M)):be.n=M:be.v=M);try{if(Z=2,H){if(Q||(ne="next"),s=H[ne]){if(!(s=s.call(H,M)))throw TypeError("iterator result is not an object");if(!s.done)return s;M=s.value,Q<2&&(Q=0)}else Q===1&&(s=H.return)&&s.call(H),Q<2&&(M=TypeError("The iterator does not provide a '"+ne+"' method"),Q=1);H=i}else if((s=(X=be.n<0)?M:I.call(R,be))!==u)break}catch(q){H=i,Q=1,M=q}finally{Z=1}}return{value:s,done:X}}})(E,v,A),!0),x}var u={};function h(){}function f(){}function g(){}s=Object.getPrototypeOf;var p=[][a]?s(s([][a]())):(n(s={},a,function(){return this}),s),_=g.prototype=h.prototype=Object.create(p);function b(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,g):(E.__proto__=g,n(E,l,"GeneratorFunction")),E.prototype=Object.create(_),E}return f.prototype=g,n(_,"constructor",g),n(g,"constructor",f),f.displayName="GeneratorFunction",n(g,l,"GeneratorFunction"),n(_),n(_,l,"Generator"),n(_,a,function(){return this}),n(_,"toString",function(){return"[object Generator]"}),(e.exports=r=function(){return{w:c,m:b}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),hw=xe((t,e)=>{Se(),Ae(),Ce();var n=lw(),r=cw();function i(s,o){function a(c,u,h,f){try{var g=s[c](u),p=g.value;return p instanceof n?o.resolve(p.v).then(function(_){a("next",_,h,f)},function(_){a("throw",_,h,f)}):o.resolve(p).then(function(_){g.value=_,h(g)},function(_){return a("throw",_,h,f)})}catch(_){f(_)}}var l;this.next||(r(i.prototype),r(i.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(c,u,h){function f(){return new o(function(g,p){a(c,h,g,p)})}return l=l?l.then(f,f):f()},!0)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),fw=xe((t,e)=>{Se(),Ae(),Ce();var n=uw(),r=hw();function i(s,o,a,l,c){return new r(n().w(s,o,a,l),c||Promise)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),IR=xe((t,e)=>{Se(),Ae(),Ce();var n=fw();function r(i,s,o,a,l){var c=n(i,s,o,a,l);return c.next().then(function(u){return u.done?u.value:c.next()})}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),xR=xe((t,e)=>{Se(),Ae(),Ce();function n(r){var i=Object(r),s=[];for(var o in i)s.unshift(o);return function a(){for(;s.length;)if((o=s.pop())in i)return a.value=o,a.done=!1,a;return a.done=!0,a}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),TR=xe((t,e)=>{Se(),Ae(),Ce();var n=Dc().default;function r(i){if(i!=null){var s=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],o=0;if(s)return s.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}}}throw new TypeError(n(i)+" is not iterable")}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),kR=xe((t,e)=>{Se(),Ae(),Ce();var n=lw(),r=uw(),i=IR(),s=fw(),o=hw(),a=xR(),l=TR();function c(){var u=r(),h=u.m(c),f=(Object.getPrototypeOf?Object.getPrototypeOf(h):h.__proto__).constructor;function g(b){var E=typeof b=="function"&&b.constructor;return!!E&&(E===f||(E.displayName||E.name)==="GeneratorFunction")}var p={throw:1,return:2,break:3,continue:3};function _(b){var E,y;return function(v){E||(E={stop:function(){return y(v.a,2)},catch:function(){return v.v},abrupt:function(A,w){return y(v.a,p[A],w)},delegateYield:function(A,w,x){return E.resultName=w,y(v.d,l(A),x)},finish:function(A){return y(v.f,A)}},y=function(A,w,x){v.p=E.prev,v.n=E.next;try{return A(w,x)}finally{E.next=v.n}}),E.resultName&&(E[E.resultName]=v.v,E.resultName=void 0),E.sent=v.v,E.next=v.n;try{return b.call(this,E)}finally{v.p=E.prev,v.n=E.next}}}return(e.exports=c=function(){return{wrap:function(b,E,y,v){return u.w(_(b),E,y,v&&v.reverse())},isGeneratorFunction:g,mark:u.m,awrap:function(b,E){return new n(b,E)},AsyncIterator:o,async:function(b,E,y,v,A){return(g(E)?s:i)(_(b),E,y,v,A)},keys:a,values:l}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports}),OR=xe((t,e)=>{Se(),Ae(),Ce();var n=kR()();e.exports=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}),PR=xe((t,e)=>{Se(),Ae(),Ce(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,yR(),CR(),aw(),AR(),OR()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.brokerFactory={},n._defineProperty,n._slicedToArray,n.fastUniqueNumbers,n._asyncToGenerator,n._regeneratorRuntime))})(t,function(n,r,i,s,o,a){var l=function(y){return typeof y.start=="function"},c=new WeakMap;function u(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);v&&(w=w.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),A.push.apply(A,w)}return A}function h(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?u(Object(A),!0).forEach(function(w){r(y,w,A[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(A,w))})}return y}var f=function(y){return h(h({},y),{},{connect:function(v){var A=v.call;return o(a.mark(function w(){var x,I,R,W;return a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return x=new MessageChannel,I=x.port1,R=x.port2,H.next=1,A("connect",{port:I},[I]);case 1:return W=H.sent,c.set(R,W),H.abrupt("return",R);case 2:case"end":return H.stop()}},w)}))},disconnect:function(v){var A=v.call;return(function(){var w=o(a.mark(function x(I){var R;return a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(R=c.get(I),R!==void 0){W.next=1;break}throw new Error("The given port is not connected.");case 1:return W.next=2,A("disconnect",{portId:R});case 2:case"end":return W.stop()}},x)}));return function(x){return w.apply(this,arguments)}})()},isSupported:function(v){var A=v.call;return function(){return A("isSupported")}}})};function g(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);v&&(w=w.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),A.push.apply(A,w)}return A}function p(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?g(Object(A),!0).forEach(function(w){r(y,w,A[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(A,w))})}return y}var _=new WeakMap,b=function(y){if(_.has(y))return _.get(y);var v=new Map;return _.set(y,v),v},E=function(y){var v=f(y);return function(A){var w=b(A);A.addEventListener("message",function(ee){var X=ee.data,be=X.id;if(be!==null&&w.has(be)){var ie=w.get(be),ne=ie.reject,ye=ie.resolve;w.delete(be),X.error===void 0?ye(X.result):ne(new Error(X.error.message))}}),l(A)&&A.start();for(var x=function(ee){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(ie,ne){var ye=s.generateUniqueNumber(w);w.set(ye,{reject:ne,resolve:ie}),X===null?A.postMessage({id:ye,method:ee},be):A.postMessage({id:ye,method:ee,params:X},be)})},I=function(ee,X){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];A.postMessage({id:null,method:ee,params:X},be)},R={},W=0,H=Object.entries(v);W<H.length;W++){var Q=i(H[W],2),M=Q[0],Z=Q[1];R=p(p({},R),{},r({},M,Z({call:x,notify:I})))}return p({},R)}};n.createBroker=E})}),RR=xe((t,e)=>{Se(),Ae(),Ce(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,Dc(),PR(),aw()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n._typeof,n.brokerFactory,n.fastUniqueNumbers))})(t,function(n,r,i,s){var o=new Map([[0,null]]),a=new Map([[0,null]]),l=i.createBroker({clearInterval:function(u){var h=u.call;return function(f){r(o.get(f))==="symbol"&&(o.set(f,null),h("clear",{timerId:f,timerType:"interval"}).then(function(){o.delete(f)}))}},clearTimeout:function(u){var h=u.call;return function(f){r(a.get(f))==="symbol"&&(a.set(f,null),h("clear",{timerId:f,timerType:"timeout"}).then(function(){a.delete(f)}))}},setInterval:function(u){var h=u.call;return function(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length,_=new Array(p>2?p-2:0),b=2;b<p;b++)_[b-2]=arguments[b];var E=Symbol(),y=s.generateUniqueNumber(o);o.set(y,E);var v=function(){return h("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"interval"}).then(function(){var A=o.get(y);if(A===void 0)throw new Error("The timer is in an undefined state.");A===E&&(f.apply(void 0,_),o.get(y)===E&&v())})};return v(),y}},setTimeout:function(u){var h=u.call;return function(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length,_=new Array(p>2?p-2:0),b=2;b<p;b++)_[b-2]=arguments[b];var E=Symbol(),y=s.generateUniqueNumber(a);return a.set(y,E),h("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"timeout"}).then(function(){var v=a.get(y);if(v===void 0)throw new Error("The timer is in an undefined state.");v===E&&(a.delete(y),f.apply(void 0,_))}),y}}}),c=function(u){var h=new Worker(u);return l(h)};n.load=c,n.wrap=l})}),NR=xe((t,e)=>{Se(),Ae(),Ce(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,RR()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))})(t,function(n,r){var i=function(h,f){var g=null;return function(){if(g!==null)return g;var p=new Blob([f],{type:"application/javascript; charset=utf-8"}),_=URL.createObjectURL(p);return g=h(_),setTimeout(function(){return URL.revokeObjectURL(_)}),g}},s=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=i(r.load,s),a=function(h){return o().clearInterval(h)},l=function(h){return o().clearTimeout(h)},c=function(){var h;return(h=o()).setInterval.apply(h,arguments)},u=function(){var h;return(h=o()).setTimeout.apply(h,arguments)};n.clearInterval=a,n.clearTimeout=l,n.setInterval=c,n.setTimeout=u})}),Lc=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var e=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&It?.versions?!Object.prototype.hasOwnProperty.call(It.versions,"electron"):typeof window.document<"u":!1,n=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=e()||n()||r();t.isWebWorker=n(),t.isReactNativeBrowser=r(),t.default=i}),MR=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__createBinding||(Object.create?function(c,u,h,f){f===void 0&&(f=h);var g=Object.getOwnPropertyDescriptor(u,h);(!g||("get"in g?!u.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(c,f,g)}:function(c,u,h,f){f===void 0&&(f=h),c[f]=u[h]}),n=t&&t.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=t&&t.__importStar||(function(){var c=function(u){return c=Object.getOwnPropertyNames||function(h){var f=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(f[f.length]=g);return f},c(u)};return function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var f=c(u),g=0;g<f.length;g++)f[g]!=="default"&&e(h,u,f[g]);return n(h,u),h}})();Object.defineProperty(t,"__esModule",{value:!0});var i=NR(),s=r(Lc()),o={set:i.setInterval,clear:i.clearInterval},a={set:(c,u)=>setInterval(c,u),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return a;case"worker":return o;default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?o:a}};t.default=l}),dw=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(MR()),r=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,s){this.client=i,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,n.default)(s),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=r}),Lf=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__createBinding||(Object.create?function(w,x,I,R){R===void 0&&(R=I);var W=Object.getOwnPropertyDescriptor(x,I);(!W||("get"in W?!x.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return x[I]}}),Object.defineProperty(w,R,W)}:function(w,x,I,R){R===void 0&&(R=I),w[R]=x[I]}),n=t&&t.__setModuleDefault||(Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x}),r=t&&t.__importStar||(function(){var w=function(x){return w=Object.getOwnPropertyNames||function(I){var R=[];for(var W in I)Object.prototype.hasOwnProperty.call(I,W)&&(R[R.length]=W);return R},w(x)};return function(x){if(x&&x.__esModule)return x;var I={};if(x!=null)for(var R=w(x),W=0;W<R.length;W++)R[W]!=="default"&&e(I,x,R[W]);return n(I,x),I}})(),i=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(HP()),o=rs(),a=i(qP()),l=i(Hr()),c=r(GP()),u=i(H2()),h=i(dR()),f=i(ow()),g=i(pR()),p=Qs(),_=gR(),b=i(dw()),E=r(Lc()),y=globalThis.setImmediate||((...w)=>{let x=w.shift();(0,p.nextTick)(()=>{x(...w)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},A=class Ff extends _.TypedEventEmitter{static VERSION=p.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(x,I){super(),this.options=I||{};for(let R in v)typeof this.options[R]>"u"?this.options[R]=v[R]:this.options[R]=I[R];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Ff.VERSION),E.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",E.default?"browser":"node"),this.log("MqttClient :: options.protocol",I.protocol),this.log("MqttClient :: options.protocolVersion",I.protocolVersion),this.log("MqttClient :: options.username",I.username),this.log("MqttClient :: options.keepalive",I.keepalive),this.log("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",I.properties?I.properties.topicAliasMaximum:void 0),this.options.clientId=typeof I.clientId=="string"?I.clientId:Ff.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:(...R)=>{R[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=x,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new f.default:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new u.default,this.incomingStore=I.incomingStore||new u.default,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.properties&&I.properties.topicAliasMaximum>0&&(I.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(I.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:R}=this,W=()=>{let H=R.shift();this.log("deliver :: entry %o",H);let Q=null;if(!H){this._resubscribe();return}Q=H.packet,this.log("deliver :: call _sendPacket for %o",Q);let M=!0;Q.messageId&&Q.messageId!==0&&(this.messageIdProvider.register(Q.messageId)||(M=!1)),M?this._sendPacket(Q,Z=>{H.cb&&H.cb(Z),W()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Q.messageId),W())};this.log("connect :: sending queued packets"),W()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(x,I){I()}handleMessage(x,I){I()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let x=new o.Writable,I=s.default.parser(this.options),R=null,W=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new u.default,this.outgoingStore=this.options.outgoingStore||new u.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),I.on("packet",ee=>{this.log("parser :: on packet push to packets array."),W.push(ee)});let H=()=>{this.log("work :: getting next packet in queue");let ee=W.shift();if(ee)this.log("work :: packet pulled from queue"),(0,h.default)(this,ee,Q);else{this.log("work :: no packets in queue");let X=R;R=null,this.log("work :: done flag is %s",!!X),X&&X()}},Q=()=>{if(W.length)(0,p.nextTick)(H);else{let ee=R;R=null,ee()}};x._write=(ee,X,be)=>{R=be,this.log("writable stream :: parsing buffer"),I.parse(ee),H()};let M=ee=>{this.log("streamErrorHandler :: error",ee.message),ee.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",ee)):this.noop(ee)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(x),this.stream.on("error",M),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Z={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Z.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(Z.properties||(Z.properties={}),this.topicAliasRecv&&(Z.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Z),I.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let ee={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(ee)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(x,I,R,W){this.log("publish :: message `%s` to topic `%s`",I,x);let{options:H}=this;typeof R=="function"&&(W=R,R=null),R=R||{},R={qos:0,retain:!1,dup:!1,...R};let{qos:Q,retain:M,dup:Z,properties:ee,cbStorePut:X}=R;if(this._checkDisconnecting(W))return this;let be=()=>{let ie=0;if((Q===1||Q===2)&&(ie=this._nextId(),ie===null))return this.log("No messageId left"),!1;let ne={cmd:"publish",topic:x,payload:I,qos:Q,retain:M,messageId:ie,dup:Z};switch(H.protocolVersion===5&&(ne.properties=ee),this.log("publish :: qos",Q),Q){case 1:case 2:this.outgoing[ne.messageId]={volatile:!1,cb:W||this.noop},this.log("MqttClient:publish: packet cmd: %s",ne.cmd),this._sendPacket(ne,void 0,X);break;default:this.log("MqttClient:publish: packet cmd: %s",ne.cmd),this._sendPacket(ne,W,X);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!be())&&this._storeProcessingQueue.push({invoke:be,cbStorePut:R.cbStorePut,callback:W}),this}publishAsync(x,I,R){return new Promise((W,H)=>{this.publish(x,I,R,(Q,M)=>{Q?H(Q):W(M)})})}subscribe(x,I,R){let W=this.options.protocolVersion;typeof I=="function"&&(R=I),R=R||this.noop;let H=!1,Q=[];typeof x=="string"?(x=[x],Q=x):Array.isArray(x)?Q=x:typeof x=="object"&&(H=x.resubscribe,delete x.resubscribe,Q=Object.keys(x));let M=c.validateTopics(Q);if(M!==null)return y(R,new Error(`Invalid topic ${M}`)),this;if(this._checkDisconnecting(R))return this.log("subscribe: discconecting true"),this;let Z={qos:0};W===5&&(Z.nl=!1,Z.rap=!1,Z.rh=0),I={...Z,...I};let{properties:ee}=I,X=[],be=(ye,te)=>{if(te=te||I,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ye)||this._resubscribeTopics[ye].qos<te.qos||H){let q={topic:ye,qos:te.qos};W===5&&(q.nl=te.nl,q.rap=te.rap,q.rh=te.rh,q.properties=ee),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",q.topic,q.qos),X.push(q)}};if(Array.isArray(x)?x.forEach(ye=>{this.log("subscribe: array topic %s",ye),be(ye)}):Object.keys(x).forEach(ye=>{this.log("subscribe: object topic %s, %o",ye,x[ye]),be(ye,x[ye])}),!X.length)return R(null,[]),this;let ie=(ye,te)=>{let q={cmd:"subscribe",subscriptions:ye,messageId:te};if(ee&&(q.properties=ee),this.options.resubscribe){this.log("subscribe :: resubscribe true");let fe=[];ye.forEach(Ie=>{if(this.options.reconnectPeriod>0){let ge={qos:Ie.qos};W===5&&(ge.nl=Ie.nl||!1,ge.rap=Ie.rap||!1,ge.rh=Ie.rh||0,ge.properties=Ie.properties),this._resubscribeTopics[Ie.topic]=ge,fe.push(Ie.topic)}}),this.messageIdToTopic[q.messageId]=fe}let G=new Promise((fe,Ie)=>{this.outgoing[q.messageId]={volatile:!0,cb(ge,Te){if(!ge){let{granted:F}=Te;for(let j=0;j<F.length;j+=1)ye[j].qos=F[j]}ge?Ie(new p.ErrorWithSubackPacket(ge.message,Te)):fe(Te)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(q),G},ne=()=>{let ye=this.options.subscribeBatchSize??X.length,te=[];for(let q=0;q<X.length;q+=ye){let G=X.slice(q,q+ye),fe=this._nextId();if(fe===null)return this.log("No messageId left"),!1;te.push(ie(G,fe))}return Promise.all(te).then(q=>{R(null,X,q.at(-1))}).catch(q=>{R(q,X,q.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ne())&&this._storeProcessingQueue.push({invoke:ne,callback:R}),this}subscribeAsync(x,I){return new Promise((R,W)=>{this.subscribe(x,I,(H,Q)=>{H?W(H):R(Q)})})}unsubscribe(x,I,R){typeof x=="string"&&(x=[x]),typeof I=="function"&&(R=I),R=R||this.noop;let W=c.validateTopics(x);if(W!==null)return y(R,new Error(`Invalid topic ${W}`)),this;if(this._checkDisconnecting(R))return this;let H=()=>{let Q=this._nextId();if(Q===null)return this.log("No messageId left"),!1;let M={cmd:"unsubscribe",messageId:Q,unsubscriptions:[]};return typeof x=="string"?M.unsubscriptions=[x]:Array.isArray(x)&&(M.unsubscriptions=x),this.options.resubscribe&&M.unsubscriptions.forEach(Z=>{delete this._resubscribeTopics[Z]}),typeof I=="object"&&I.properties&&(M.properties=I.properties),this.outgoing[M.messageId]={volatile:!0,cb:R},this.log("unsubscribe: call _sendPacket"),this._sendPacket(M),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!H())&&this._storeProcessingQueue.push({invoke:H,callback:R}),this}unsubscribeAsync(x,I){return new Promise((R,W)=>{this.unsubscribe(x,I,(H,Q)=>{H?W(H):R(Q)})})}end(x,I,R){this.log("end :: (%s)",this.options.clientId),(x==null||typeof x!="boolean")&&(R=R||I,I=x,x=!1),typeof I!="object"&&(R=R||I,I=null),this.log("end :: cb? %s",!!R),(!R||typeof R!="function")&&(R=this.noop);let W=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Q=>{this.outgoingStore.close(M=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),R){let Z=Q||M;this.log("end :: closeStores: invoking callback with args"),R(Z)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},H=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,x),this._cleanUp(x,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,p.nextTick)(W)},I)};return this.disconnecting?(R(),this):(this._clearReconnect(),this.disconnecting=!0,!x&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,H,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),H()),this)}endAsync(x,I){return new Promise((R,W)=>{this.end(x,I,H=>{H?W(H):R()})})}removeOutgoingMessage(x){if(this.outgoing[x]){let{cb:I}=this.outgoing[x];this._removeOutgoingAndStoreMessage(x,()=>{I(new Error("Message removed"))})}return this}reconnect(x){this.log("client reconnect");let I=()=>{x?(this.options.incomingStore=x.incomingStore,this.options.outgoingStore=x.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new u.default,this.outgoingStore=this.options.outgoingStore||new u.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=I:I(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(x=>{this.outgoing[x].volatile&&typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(x=>{typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_removeTopicAliasAndRecoverTopicName(x){let I;x.properties&&(I=x.properties.topicAlias);let R=x.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",I,R),R.length===0){if(typeof I>"u")return new Error("Unregistered Topic Alias");if(R=this.topicAliasSend.getTopicByAlias(I),typeof R>"u")return new Error("Unregistered Topic Alias");x.topic=R}I&&delete x.properties.topicAlias}_checkDisconnecting(x){return this.disconnecting&&(x&&x!==this.noop?x(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(x,I,R={}){if(I&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),this.log("_cleanUp :: forced? %s",x),x)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let W={cmd:"disconnect",...R};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(W,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),I&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())}_storeAndSend(x,I,R){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",x.cmd);let W=x,H;if(W.cmd==="publish"&&(W=(0,a.default)(x),H=this._removeTopicAliasAndRecoverTopicName(W),H))return I&&I(H);this.outgoingStore.put(W,Q=>{if(Q)return I&&I(Q);R(),this._writePacket(x,I)})}_applyTopicAlias(x){if(this.options.protocolVersion===5&&x.cmd==="publish"){let I;x.properties&&(I=x.properties.topicAlias);let R=x.topic.toString();if(this.topicAliasSend)if(I){if(R.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",R,I),!this.topicAliasSend.put(R,I)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",R,I),new Error("Sending Topic Alias out of range")}else R.length!==0&&(this.options.autoAssignTopicAlias?(I=this.topicAliasSend.getAliasByTopic(R),I?(x.topic="",x.properties={...x.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",R,I)):(I=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(R,I),x.properties={...x.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",R,I))):this.options.autoUseTopicAlias&&(I=this.topicAliasSend.getAliasByTopic(R),I&&(x.topic="",x.properties={...x.properties,topicAlias:I},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",R,I))));else if(I)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",R,I),new Error("Sending Topic Alias out of range")}}_noop(x){this.log("noop ::",x)}_writePacket(x,I){this.log("_writePacket :: packet: %O",x),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",x),this.log("_writePacket :: writing to stream");let R=s.default.writeToStream(x,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",R),!R&&I&&I!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",I)):I&&(this.log("_writePacket :: invoking cb"),I())}_sendPacket(x,I,R,W){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),R=R||this.noop,I=I||this.noop;let H=this._applyTopicAlias(x);if(H){I(H);return}if(!this.connected){if(x.cmd==="auth"){this._writePacket(x,I);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(x,I,R);return}if(W){this._writePacket(x,I);return}switch(x.cmd){case"publish":break;case"pubrel":this._storeAndSend(x,I,R);return;default:this._writePacket(x,I);return}switch(x.qos){case 2:case 1:this._storeAndSend(x,I,R);break;default:this._writePacket(x,I);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(x,I,R){this.log("_storePacket :: packet: %o",x),this.log("_storePacket :: cb? %s",!!I),R=R||this.noop;let W=x;if(W.cmd==="publish"){W=(0,a.default)(x);let Q=this._removeTopicAliasAndRecoverTopicName(W);if(Q)return I&&I(Q)}let H=W.qos||0;H===0&&this.queueQoSZero||W.cmd!=="publish"?this.queue.push({packet:W,cb:I}):H>0?(I=this.outgoing[W.messageId]?this.outgoing[W.messageId].cb:null,this.outgoingStore.put(W,Q=>{if(Q)return I&&I(Q);R()})):I&&I(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new b.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(x=!1){this.keepaliveManager&&this.options.keepalive&&(x||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let x=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&x.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let I=0;I<x.length;I++){let R={};R[x[I]]=this._resubscribeTopics[x[I]],R.resubscribe=!0,this.subscribe(R,{properties:R[x[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(x){if(this.disconnected){this.emit("connect",x);return}this.connackPacket=x,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let I=()=>{let R=this.outgoingStore.createStream(),W=()=>{R.destroy(),R=null,this._flushStoreProcessingQueue(),H()},H=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",W),R.on("error",M=>{H(),this._flushStoreProcessingQueue(),this.removeListener("close",W),this.emit("error",M)});let Q=()=>{if(!R)return;let M=R.read(1),Z;if(!M){R.once("readable",Q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[M.messageId]){Q();return}!this.disconnecting&&!this.reconnectTimer?(Z=this.outgoing[M.messageId]?this.outgoing[M.messageId].cb:null,this.outgoing[M.messageId]={volatile:!1,cb(ee,X){Z&&Z(ee,X),Q()}},this._packetIdsDuringStoreProcessing[M.messageId]=!0,this.messageIdProvider.register(M.messageId)?this._sendPacket(M,void 0,void 0,!0):this.log("messageId: %d has already used.",M.messageId)):R.destroy&&R.destroy()};R.on("end",()=>{let M=!0;for(let Z in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Z]){M=!1;break}this.removeListener("close",W),M?(H(),this._invokeAllStoreProcessingQueue(),this.emit("connect",x)):I()}),Q()};I()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let x=this._storeProcessingQueue[0];if(x&&x.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let x of this._storeProcessingQueue)x.cbStorePut&&x.cbStorePut(new Error("Connection closed")),x.callback&&x.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(x,I){delete this.outgoing[x],this.outgoingStore.del({messageId:x},(R,W)=>{I(R,W),this.messageIdProvider.deallocate(x),this._invokeStoreProcessingQueue()})}};t.default=A}),DR=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=sw(),n=class{numberAllocator;lastId;constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};t.default=n});function LR(){if(jf)return Ja;jf=!0;let t=2147483647,e=36,n=1,r=26,i=38,s=700,o=72,a=128,l="-",c=/^xn--/,u=/[^\0-\x7F]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=e-n,p=Math.floor,_=String.fromCharCode;function b(H){throw new RangeError(f[H])}function E(H,Q){let M=[],Z=H.length;for(;Z--;)M[Z]=Q(H[Z]);return M}function y(H,Q){let M=H.split("@"),Z="";M.length>1&&(Z=M[0]+"@",H=M[1]),H=H.replace(h,".");let ee=H.split("."),X=E(ee,Q).join(".");return Z+X}function v(H){let Q=[],M=0,Z=H.length;for(;M<Z;){let ee=H.charCodeAt(M++);if(ee>=55296&&ee<=56319&&M<Z){let X=H.charCodeAt(M++);(X&64512)==56320?Q.push(((ee&1023)<<10)+(X&1023)+65536):(Q.push(ee),M--)}else Q.push(ee)}return Q}let A=H=>String.fromCodePoint(...H),w=function(H){return H>=48&&H<58?26+(H-48):H>=65&&H<91?H-65:H>=97&&H<123?H-97:e},x=function(H,Q){return H+22+75*(H<26)-((Q!=0)<<5)},I=function(H,Q,M){let Z=0;for(H=M?p(H/s):H>>1,H+=p(H/Q);H>g*r>>1;Z+=e)H=p(H/g);return p(Z+(g+1)*H/(H+i))},R=function(H){let Q=[],M=H.length,Z=0,ee=a,X=o,be=H.lastIndexOf(l);be<0&&(be=0);for(let ie=0;ie<be;++ie)H.charCodeAt(ie)>=128&&b("not-basic"),Q.push(H.charCodeAt(ie));for(let ie=be>0?be+1:0;ie<M;){let ne=Z;for(let te=1,q=e;;q+=e){ie>=M&&b("invalid-input");let G=w(H.charCodeAt(ie++));G>=e&&b("invalid-input"),G>p((t-Z)/te)&&b("overflow"),Z+=G*te;let fe=q<=X?n:q>=X+r?r:q-X;if(G<fe)break;let Ie=e-fe;te>p(t/Ie)&&b("overflow"),te*=Ie}let ye=Q.length+1;X=I(Z-ne,ye,ne==0),p(Z/ye)>t-ee&&b("overflow"),ee+=p(Z/ye),Z%=ye,Q.splice(Z++,0,ee)}return String.fromCodePoint(...Q)},W=function(H){let Q=[];H=v(H);let M=H.length,Z=a,ee=0,X=o;for(let ne of H)ne<128&&Q.push(_(ne));let be=Q.length,ie=be;for(be&&Q.push(l);ie<M;){let ne=t;for(let te of H)te>=Z&&te<ne&&(ne=te);let ye=ie+1;ne-Z>p((t-ee)/ye)&&b("overflow"),ee+=(ne-Z)*ye,Z=ne;for(let te of H)if(te<Z&&++ee>t&&b("overflow"),te===Z){let q=ee;for(let G=e;;G+=e){let fe=G<=X?n:G>=X+r?r:G-X;if(q<fe)break;let Ie=q-fe,ge=e-fe;Q.push(_(x(fe+Ie%ge,0))),q=p(Ie/ge)}Q.push(_(x(q,0))),X=I(ee,ye,ie===be),ee=0,++ie}++ee,++Z}return Q.join("")};return Ja={version:"2.3.1",ucs2:{decode:v,encode:A},decode:R,encode:W,toASCII:function(H){return y(H,function(Q){return u.test(Q)?"xn--"+W(Q):Q})},toUnicode:function(H){return y(H,function(Q){return c.test(Q)?R(Q.slice(4).toLowerCase()):Q})}},Ja}var Ja,jf,ri,FR=Sn(()=>{Se(),Ae(),Ce(),Ja={},jf=!1,ri=LR(),ri.decode,ri.encode,ri.toASCII,ri.toUnicode,ri.ucs2,ri.version});function jR(){return Uf||(Uf=!0,Bf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;t[e]=r;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==r||s.enumerable!==!0)return!1}return!0}),Bf}function BR(){return $f||($f=!0,Wf=Error),Wf}function UR(){return Vf||(Vf=!0,Hf=EvalError),Hf}function WR(){return Gf||(Gf=!0,qf=RangeError),qf}function $R(){return Kf||(Kf=!0,zf=ReferenceError),zf}function pw(){return Qf||(Qf=!0,Yf=SyntaxError),Yf}function _a(){return Xf||(Xf=!0,Jf=TypeError),Jf}function HR(){return ed||(ed=!0,Zf=URIError),Zf}function VR(){if(td)return Xa;td=!0;var t=typeof Symbol<"u"&&Symbol,e=jR();return Xa=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Xa}function qR(){if(nd)return Za;nd=!0;var t={__proto__:null,foo:{}},e=Object;return Za=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},Za}function GR(){if(rd)return el;rd=!0;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(a,l){for(var c=[],u=0;u<a.length;u+=1)c[u]=a[u];for(var h=0;h<l.length;h+=1)c[h+a.length]=l[h];return c},s=function(a,l){for(var c=[],u=l,h=0;u<a.length;u+=1,h+=1)c[h]=a[u];return c},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return el=function(a){var l=this;if(typeof l!="function"||e.apply(l)!==r)throw new TypeError(t+l);for(var c=s(arguments,1),u,h=function(){if(this instanceof u){var b=l.apply(this,i(c,arguments));return Object(b)===b?b:this}return l.apply(a,i(c,arguments))},f=n(0,l.length-c.length),g=[],p=0;p<f;p++)g[p]="$"+p;if(u=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(h),l.prototype){var _=function(){};_.prototype=l.prototype,u.prototype=new _,_.prototype=null}return u},el}function Np(){if(id)return tl;id=!0;var t=GR();return tl=Function.prototype.bind||t,tl}function zR(){if(sd)return nl;sd=!0;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Np();return nl=n.call(t,e),nl}function Js(){if(od)return rl;od=!0;var t,e=BR(),n=UR(),r=WR(),i=$R(),s=pw(),o=_a(),a=HR(),l=Function,c=function(ie){try{return l('"use strict"; return ('+ie+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var h=function(){throw new o},f=u?(function(){try{return arguments.callee,h}catch{try{return u(arguments,"callee").get}catch{return h}}})():h,g=VR()(),p=qR()(),_=Object.getPrototypeOf||(p?function(ie){return ie.__proto__}:null),b={},E=typeof Uint8Array>"u"||!_?t:_(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":g&&_?_([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&_?_(_([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!_?t:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!_?t:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&_?_(""[Symbol.iterator]()):t,"%Symbol%":g?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":f,"%TypedArray%":E,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(_)try{null.error}catch(ie){var v=_(_(ie));y["%Error.prototype%"]=v}var A=function ie(ne){var ye;if(ne==="%AsyncFunction%")ye=c("async function () {}");else if(ne==="%GeneratorFunction%")ye=c("function* () {}");else if(ne==="%AsyncGeneratorFunction%")ye=c("async function* () {}");else if(ne==="%AsyncGenerator%"){var te=ie("%AsyncGeneratorFunction%");te&&(ye=te.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var q=ie("%AsyncGenerator%");q&&_&&(ye=_(q.prototype))}return y[ne]=ye,ye},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=Np(),I=zR(),R=x.call(Function.call,Array.prototype.concat),W=x.call(Function.apply,Array.prototype.splice),H=x.call(Function.call,String.prototype.replace),Q=x.call(Function.call,String.prototype.slice),M=x.call(Function.call,RegExp.prototype.exec),Z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ee=/\\(\\)?/g,X=function(ie){var ne=Q(ie,0,1),ye=Q(ie,-1);if(ne==="%"&&ye!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(ye==="%"&&ne!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var te=[];return H(ie,Z,function(q,G,fe,Ie){te[te.length]=fe?H(Ie,ee,"$1"):G||q}),te},be=function(ie,ne){var ye=ie,te;if(I(w,ye)&&(te=w[ye],ye="%"+te[0]+"%"),I(y,ye)){var q=y[ye];if(q===b&&(q=A(ye)),typeof q>"u"&&!ne)throw new o("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:te,name:ye,value:q}}throw new s("intrinsic "+ie+" does not exist!")};return rl=function(ie,ne){if(typeof ie!="string"||ie.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ne!="boolean")throw new o('"allowMissing" argument must be a boolean');if(M(/^%?[^%]*%?$/,ie)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ye=X(ie),te=ye.length>0?ye[0]:"",q=be("%"+te+"%",ne),G=q.name,fe=q.value,Ie=!1,ge=q.alias;ge&&(te=ge[0],W(ye,R([0,1],ge)));for(var Te=1,F=!0;Te<ye.length;Te+=1){var j=ye[Te],z=Q(j,0,1),K=Q(j,-1);if((z==='"'||z==="'"||z==="`"||K==='"'||K==="'"||K==="`")&&z!==K)throw new s("property names with quotes must have matching quotes");if((j==="constructor"||!F)&&(Ie=!0),te+="."+j,G="%"+te+"%",I(y,G))fe=y[G];else if(fe!=null){if(!(j in fe)){if(!ne)throw new o("base intrinsic for "+ie+" exists, but the property is not available.");return}if(u&&Te+1>=ye.length){var re=u(fe,j);F=!!re,F&&"get"in re&&!("originalValue"in re.get)?fe=re.get:fe=fe[j]}else F=I(fe,j),fe=fe[j];F&&!Ie&&(y[G]=fe)}}return fe},rl}function Mp(){if(ad)return il;ad=!0;var t=Js(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return il=e,il}function gw(){if(ld)return sl;ld=!0;var t=Js(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return sl=e,sl}function KR(){if(cd)return ol;cd=!0;var t=Mp(),e=pw(),n=_a(),r=gw();return ol=function(i,s,o){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!r&&r(i,s);if(t)t(i,s,{configurable:c===null&&h?h.configurable:!c,enumerable:a===null&&h?h.enumerable:!a,value:o,writable:l===null&&h?h.writable:!l});else if(u||!a&&!l&&!c)i[s]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ol}function YR(){if(ud)return al;ud=!0;var t=Mp(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},al=e,al}function QR(){if(hd)return ll;hd=!0;var t=Js(),e=KR(),n=YR()(),r=gw(),i=_a(),s=t("%Math.floor%");return ll=function(o,a){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||s(a)!==a)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],c=!0,u=!0;if("length"in o&&r){var h=r(o,"length");h&&!h.configurable&&(c=!1),h&&!h.writable&&(u=!1)}return(c||u||!l)&&(n?e(o,"length",a,!0,!0):e(o,"length",a)),o},ll}function JR(){if(fd)return Ss;fd=!0;var t=Np(),e=Js(),n=QR(),r=_a(),i=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),o=e("%Reflect.apply%",!0)||t.call(s,i),a=Mp(),l=e("%Math.max%");Ss=function(u){if(typeof u!="function")throw new r("a function is required");var h=o(t,s,arguments);return n(h,1+l(0,u.length-(arguments.length-1)),!0)};var c=function(){return o(t,i,arguments)};return a?a(Ss,"apply",{value:c}):Ss.apply=c,Ss}function XR(){if(dd)return cl;dd=!0;var t=Js(),e=JR(),n=e(t("String.prototype.indexOf"));return cl=function(r,i){var s=t(r,!!i);return typeof s=="function"&&n(r,".prototype.")>-1?e(s):s},cl}var Bf,Uf,Wf,$f,Hf,Vf,qf,Gf,zf,Kf,Yf,Qf,Jf,Xf,Zf,ed,Xa,td,Za,nd,el,rd,tl,id,nl,sd,rl,od,il,ad,sl,ld,ol,cd,al,ud,ll,hd,Ss,fd,cl,dd,ZR=Sn(()=>{Se(),Ae(),Ce(),Bf={},Uf=!1,Wf={},$f=!1,Hf={},Vf=!1,qf={},Gf=!1,zf={},Kf=!1,Yf={},Qf=!1,Jf={},Xf=!1,Zf={},ed=!1,Xa={},td=!1,Za={},nd=!1,el={},rd=!1,tl={},id=!1,nl={},sd=!1,rl={},od=!1,il={},ad=!1,sl={},ld=!1,ol={},cd=!1,al={},ud=!1,ll={},hd=!1,Ss={},fd=!1,cl={},dd=!1});function Dp(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function eN(){!Ki||!Hi||(Ki=!1,Hi.length?mr=Hi.concat(mr):Do=-1,mr.length&&mw())}function mw(){if(!Ki){var t=setTimeout(eN,0);Ki=!0;for(var e=mr.length;e;){for(Hi=mr,mr=[];++Do<e;)Hi&&Hi[Do].run();Do=-1,e=mr.length}Hi=null,Ki=!1,clearTimeout(t)}}function tN(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];mr.push(new _w(t,e)),mr.length===1&&!Ki&&setTimeout(mw,0)}function _w(t,e){this.fun=t,this.array=e}function tn(){}function nN(t){Dp("_linkedBinding")}function rN(t){Dp("dlopen")}function iN(){return[]}function sN(){return[]}function oN(t,e){if(!t)throw new Error(e||"assertion error")}function aN(){return!1}function lN(){return Pr.now()/1e3}function Uu(t){var e=Math.floor((Date.now()-Pr.now())*.001),n=Pr.now()*.001,r=Math.floor(n)+e,i=Math.floor(n%1*1e9);return t&&(r=r-t[0],i=i-t[1],i<0&&(r--,i+=ul)),[r,i]}function ei(){return Lp}function cN(t){return[]}var mr,Ki,Hi,Do,i_,s_,o_,a_,l_,c_,u_,h_,f_,d_,p_,g_,m_,__,y_,b_,v_,w_,E_,S_,C_,Ba,A_,I_,x_,T_,k_,O_,P_,R_,N_,M_,D_,L_,F_,j_,B_,U_,W_,$_,H_,V_,q_,G_,z_,K_,Y_,Pr,Wu,ul,Q_,J_,X_,Z_,ey,ty,ny,ry,iy,sy,oy,Lp,yw=Sn(()=>{Se(),Ae(),Ce(),mr=[],Ki=!1,Do=-1,_w.prototype.run=function(){this.fun.apply(null,this.array)},i_="browser",s_="x64",o_="browser",a_={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},l_=["/usr/bin/node"],c_=[],u_="v16.8.0",h_={},f_=function(t,e){console.warn((e?e+": ":"")+t)},d_=function(t){Dp("binding")},p_=function(t){return 0},g_=function(){return"/"},m_=function(t){},__={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},y_=tn,b_=[],v_={},w_=!1,E_={},S_=tn,C_=tn,Ba=function(){return{}},A_=Ba,I_=Ba,x_=tn,T_=tn,k_=tn,O_={},P_={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},R_=tn,N_=tn,M_=tn,D_=tn,L_=tn,F_=tn,j_=tn,B_=void 0,U_=void 0,W_=void 0,$_=tn,H_=2,V_=1,q_="/bin/usr/node",G_=9229,z_="node",K_=[],Y_=tn,Pr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Pr.now===void 0&&(Wu=Date.now(),Pr.timing&&Pr.timing.navigationStart&&(Wu=Pr.timing.navigationStart),Pr.now=()=>Date.now()-Wu),ul=1e9,Uu.bigint=function(t){var e=Uu(t);return typeof BigInt>"u"?e[0]*ul+e[1]:BigInt(e[0]*ul)+BigInt(e[1])},Q_=10,J_={},X_=0,Z_=ei,ey=ei,ty=ei,ny=ei,ry=ei,iy=tn,sy=ei,oy=ei,Lp={version:u_,versions:h_,arch:s_,platform:o_,release:__,_rawDebug:y_,moduleLoadList:b_,binding:d_,_linkedBinding:nN,_events:J_,_eventsCount:X_,_maxListeners:Q_,on:ei,addListener:Z_,once:ey,off:ty,removeListener:ny,removeAllListeners:ry,emit:iy,prependListener:sy,prependOnceListener:oy,listeners:cN,domain:v_,_exiting:w_,config:E_,dlopen:rN,uptime:lN,_getActiveRequests:iN,_getActiveHandles:sN,reallyExit:S_,_kill:C_,cpuUsage:Ba,resourceUsage:A_,memoryUsage:I_,kill:x_,exit:T_,openStdin:k_,allowedNodeEnvironmentFlags:O_,assert:oN,features:P_,_fatalExceptions:R_,setUncaughtExceptionCaptureCallback:N_,hasUncaughtExceptionCaptureCallback:aN,emitWarning:f_,nextTick:tN,_tickCallback:M_,_debugProcess:D_,_debugEnd:L_,_startProfilerIdleNotifier:F_,_stopProfilerIdleNotifier:j_,stdout:B_,stdin:W_,stderr:U_,abort:$_,umask:p_,chdir:m_,cwd:g_,env:a_,title:i_,argv:l_,execArgv:c_,pid:H_,ppid:V_,execPath:q_,debugPort:G_,hrtime:Uu,argv0:z_,_preload_modules:K_,setSourceMapsEnabled:Y_}});function uN(){if(pd)return hl;pd=!0;var t=Lp;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,o){for(var a="",l=0,c=-1,u=0,h,f=0;f<=s.length;++f){if(f<s.length)h=s.charCodeAt(f);else{if(h===47)break;h=47}if(h===47){if(!(c===f-1||u===1))if(c!==f-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",l=0):(a=a.slice(0,g),l=a.length-1-a.lastIndexOf("/")),c=f,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=f,u=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(c+1,f):a=s.slice(c+1,f),l=f-c-1;c=f,u=0}else h===46&&u!==-1?++u:u=-1}return a}function r(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=t.cwd()),c=a),e(c),c.length!==0&&(s=c+"/"+s,o=c.charCodeAt(0)===47)}return s=n(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=n(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,c=l-a,u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var h=o.length,f=h-u,g=c<f?c:f,p=-1,_=0;_<=g;++_){if(_===g){if(f>g){if(o.charCodeAt(u+_)===47)return o.slice(u+_+1);if(_===0)return o.slice(u+_)}else c>g&&(s.charCodeAt(a+_)===47?p=_:_===0&&(p=0));break}var b=s.charCodeAt(a+_),E=o.charCodeAt(u+_);if(b!==E)break;b===47&&(p=_)}var y="";for(_=a+p+1;_<=l;++_)(_===l||s.charCodeAt(_)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+o.slice(u+p):(u+=p,o.charCodeAt(u)===47&&++u,o.slice(u))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,c=!0,u=s.length-1;u>=1;--u)if(o=s.charCodeAt(u),o===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,c=!0,u;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var h=o.length-1,f=-1;for(u=s.length-1;u>=0;--u){var g=s.charCodeAt(u);if(g===47){if(!c){a=u+1;break}}else f===-1&&(c=!1,f=u+1),h>=0&&(g===o.charCodeAt(h)?--h===-1&&(l=u):(h=-1,l=f))}return a===l?l=f:l===-1&&(l=s.length),s.slice(a,l)}else{for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,c=!0,u=0,h=s.length-1;h>=0;--h){var f=s.charCodeAt(h);if(f===47){if(!c){a=h+1;break}continue}l===-1&&(c=!1,l=h+1),f===46?o===-1?o=h:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||l===-1||u===0||u===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return r("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,c;l?(o.root="/",c=1):c=0;for(var u=-1,h=0,f=-1,g=!0,p=s.length-1,_=0;p>=c;--p){if(a=s.charCodeAt(p),a===47){if(!g){h=p+1;break}continue}f===-1&&(g=!1,f=p+1),a===46?u===-1?u=p:_!==1&&(_=1):u!==-1&&(_=-1)}return u===-1||f===-1||_===0||_===1&&u===f-1&&u===h+1?f!==-1&&(h===0&&l?o.base=o.name=s.slice(1,f):o.base=o.name=s.slice(h,f)):(h===0&&l?(o.name=s.slice(1,u),o.base=s.slice(1,f)):(o.name=s.slice(h,u),o.base=s.slice(h,f)),o.ext=s.slice(u,f)),h>0?o.dir=s.slice(0,h-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,hl=i,hl}var hl,pd,gd,hN=Sn(()=>{Se(),Ae(),Ce(),yw(),hl={},pd=!1,gd=uN()}),bw={};Ks(bw,{URL:()=>kw,Url:()=>Cw,default:()=>nn,fileURLToPath:()=>ww,format:()=>Aw,parse:()=>Tw,pathToFileURL:()=>Ew,resolve:()=>Iw,resolveObject:()=>xw});function fN(){if(md)return fl;md=!0;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,r=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,h=u?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,g=f?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,_=Object.prototype.toString,b=Function.prototype.toString,E=String.prototype.match,y=String.prototype.slice,v=String.prototype.replace,A=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,I=Array.prototype.concat,R=Array.prototype.join,W=Array.prototype.slice,H=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="object",X=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ee||!0)?Symbol.toStringTag:null,be=Object.prototype.propertyIsEnumerable,ie=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function ne(ae,ve){if(ae===1/0||ae===-1/0||ae!==ae||ae&&ae>-1e3&&ae<1e3||x.call(/e/,ve))return ve;var Le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ae=="number"){var je=ae<0?-H(-ae):H(ae);if(je!==ae){var $e=String(je),ze=y.call(ve,$e.length+1);return v.call($e,Le,"$&_")+"."+v.call(v.call(ze,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(ve,Le,"$&_")}var ye=Sw,te=ye.custom,q=re(te)?te:null;fl=function ae(ve,Le,je,$e){var ze=Le||{};if(B(ze,"quoteStyle")&&ze.quoteStyle!=="single"&&ze.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(B(ze,"maxStringLength")&&(typeof ze.maxStringLength=="number"?ze.maxStringLength<0&&ze.maxStringLength!==1/0:ze.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ln=B(ze,"customInspect")?ze.customInspect:!0;if(typeof Ln!="boolean"&&Ln!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(B(ze,"indent")&&ze.indent!==null&&ze.indent!=="	"&&!(parseInt(ze.indent,10)===ze.indent&&ze.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(B(ze,"numericSeparator")&&typeof ze.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Fn=ze.numericSeparator;if(typeof ve>"u")return"undefined";if(ve===null)return"null";if(typeof ve=="boolean")return ve?"true":"false";if(typeof ve=="string")return he(ve,ze);if(typeof ve=="number"){if(ve===0)return 1/0/ve>0?"0":"-0";var Vt=String(ve);return Fn?ne(ve,Vt):Vt}if(typeof ve=="bigint"){var Cn=String(ve)+"n";return Fn?ne(ve,Cn):Cn}var Yn=typeof ze.depth>"u"?5:ze.depth;if(typeof je>"u"&&(je=0),je>=Yn&&Yn>0&&typeof ve=="object")return Ie(ve)?"[Array]":"[Object]";var An=ce(ze,je);if(typeof $e>"u")$e=[];else if(V($e,ve)>=0)return"[Circular]";function Zt(Bn,ar,bn){if(ar&&($e=W.call($e),$e.push(ar)),bn){var wt={depth:ze.depth};return B(ze,"quoteStyle")&&(wt.quoteStyle=ze.quoteStyle),ae(Bn,wt,je+1,$e)}return ae(Bn,ze,je+1,$e)}if(typeof ve=="function"&&!Te(ve)){var is=D(ve),Yr=ke(ve,Zt);return"[Function"+(is?": "+is:" (anonymous)")+"]"+(Yr.length>0?" { "+R.call(Yr,", ")+" }":"")}if(re(ve)){var Ei=ee?v.call(String(ve),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(ve);return typeof ve=="object"&&!ee?m(Ei):Ei}if(_e(ve)){for(var $="<"+w.call(String(ve.nodeName)),Y=ve.attributes||[],Pe=0;Pe<Y.length;Pe++)$+=" "+Y[Pe].name+"="+G(fe(Y[Pe].value),"double",ze);return $+=">",ve.childNodes&&ve.childNodes.length&&($+="..."),$+="</"+w.call(String(ve.nodeName))+">",$}if(Ie(ve)){if(ve.length===0)return"[]";var De=ke(ve,Zt);return An&&!J(De)?"["+we(De,An)+"]":"[ "+R.call(De,", ")+" ]"}if(F(ve)){var Be=ke(ve,Zt);return!("cause"in Error.prototype)&&"cause"in ve&&!be.call(ve,"cause")?"{ ["+String(ve)+"] "+R.call(I.call("[cause]: "+Zt(ve.cause),Be),", ")+" }":Be.length===0?"["+String(ve)+"]":"{ ["+String(ve)+"] "+R.call(Be,", ")+" }"}if(typeof ve=="object"&&Ln){if(q&&typeof ve[q]=="function"&&ye)return ye(ve,{depth:Yn-je});if(Ln!=="symbol"&&typeof ve.inspect=="function")return ve.inspect()}if(oe(ve)){var jt=[];return r&&r.call(ve,function(Bn,ar){jt.push(Zt(ar,ve,!0)+" => "+Zt(Bn,ve))}),k("Map",n.call(ve),jt,An)}if(U(ve)){var Qt=[];return a&&a.call(ve,function(Bn){Qt.push(Zt(Bn,ve))}),k("Set",o.call(ve),Qt,An)}if(se(ve))return S("WeakMap");if(me(ve))return S("WeakSet");if(le(ve))return S("WeakRef");if(z(ve))return m(Zt(Number(ve)));if(T(ve))return m(Zt(Q.call(ve)));if(K(ve))return m(p.call(ve));if(j(ve))return m(Zt(String(ve)));if(typeof window<"u"&&ve===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ve===globalThis||typeof dl<"u"&&ve===dl)return"{ [object globalThis] }";if(!ge(ve)&&!Te(ve)){var In=ke(ve,Zt),wr=ie?ie(ve)===Object.prototype:ve instanceof Object||ve.constructor===Object,jn=ve instanceof Object?"":"null prototype",or=!wr&&X&&Object(ve)===ve&&X in ve?y.call(P(ve),8,-1):jn?"Object":"",ss=wr||typeof ve.constructor!="function"?"":ve.constructor.name?ve.constructor.name+" ":"",Qn=ss+(or||jn?"["+R.call(I.call([],or||[],jn||[]),": ")+"] ":"");return In.length===0?Qn+"{}":An?Qn+"{"+we(In,An)+"}":Qn+"{ "+R.call(In,", ")+" }"}return String(ve)};function G(ae,ve,Le){var je=(Le.quoteStyle||ve)==="double"?'"':"'";return je+ae+je}function fe(ae){return v.call(String(ae),/"/g,"&quot;")}function Ie(ae){return P(ae)==="[object Array]"&&(!X||!(typeof ae=="object"&&X in ae))}function ge(ae){return P(ae)==="[object Date]"&&(!X||!(typeof ae=="object"&&X in ae))}function Te(ae){return P(ae)==="[object RegExp]"&&(!X||!(typeof ae=="object"&&X in ae))}function F(ae){return P(ae)==="[object Error]"&&(!X||!(typeof ae=="object"&&X in ae))}function j(ae){return P(ae)==="[object String]"&&(!X||!(typeof ae=="object"&&X in ae))}function z(ae){return P(ae)==="[object Number]"&&(!X||!(typeof ae=="object"&&X in ae))}function K(ae){return P(ae)==="[object Boolean]"&&(!X||!(typeof ae=="object"&&X in ae))}function re(ae){if(ee)return ae&&typeof ae=="object"&&ae instanceof Symbol;if(typeof ae=="symbol")return!0;if(!ae||typeof ae!="object"||!Z)return!1;try{return Z.call(ae),!0}catch{}return!1}function T(ae){if(!ae||typeof ae!="object"||!Q)return!1;try{return Q.call(ae),!0}catch{}return!1}var N=Object.prototype.hasOwnProperty||function(ae){return ae in(this||dl)};function B(ae,ve){return N.call(ae,ve)}function P(ae){return _.call(ae)}function D(ae){if(ae.name)return ae.name;var ve=E.call(b.call(ae),/^function\s*([\w$]+)/);return ve?ve[1]:null}function V(ae,ve){if(ae.indexOf)return ae.indexOf(ve);for(var Le=0,je=ae.length;Le<je;Le++)if(ae[Le]===ve)return Le;return-1}function oe(ae){if(!n||!ae||typeof ae!="object")return!1;try{n.call(ae);try{o.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}function se(ae){if(!c||!ae||typeof ae!="object")return!1;try{c.call(ae,c);try{h.call(ae,h)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}function le(ae){if(!g||!ae||typeof ae!="object")return!1;try{return g.call(ae),!0}catch{}return!1}function U(ae){if(!o||!ae||typeof ae!="object")return!1;try{o.call(ae);try{n.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}function me(ae){if(!h||!ae||typeof ae!="object")return!1;try{h.call(ae,h);try{c.call(ae,c)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}function _e(ae){return!ae||typeof ae!="object"?!1:typeof HTMLElement<"u"&&ae instanceof HTMLElement?!0:typeof ae.nodeName=="string"&&typeof ae.getAttribute=="function"}function he(ae,ve){if(ae.length>ve.maxStringLength){var Le=ae.length-ve.maxStringLength,je="... "+Le+" more character"+(Le>1?"s":"");return he(y.call(ae,0,ve.maxStringLength),ve)+je}var $e=v.call(v.call(ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Re);return G($e,"single",ve)}function Re(ae){var ve=ae.charCodeAt(0),Le={8:"b",9:"t",10:"n",12:"f",13:"r"}[ve];return Le?"\\"+Le:"\\x"+(ve<16?"0":"")+A.call(ve.toString(16))}function m(ae){return"Object("+ae+")"}function S(ae){return ae+" { ? }"}function k(ae,ve,Le,je){var $e=je?we(Le,je):R.call(Le,", ");return ae+" ("+ve+") {"+$e+"}"}function J(ae){for(var ve=0;ve<ae.length;ve++)if(V(ae[ve],`
`)>=0)return!1;return!0}function ce(ae,ve){var Le;if(ae.indent==="	")Le="	";else if(typeof ae.indent=="number"&&ae.indent>0)Le=R.call(Array(ae.indent+1)," ");else return null;return{base:Le,prev:R.call(Array(ve+1),Le)}}function we(ae,ve){if(ae.length===0)return"";var Le=`
`+ve.prev+ve.base;return Le+R.call(ae,","+Le)+`
`+ve.prev}function ke(ae,ve){var Le=Ie(ae),je=[];if(Le){je.length=ae.length;for(var $e=0;$e<ae.length;$e++)je[$e]=B(ae,$e)?ve(ae[$e],ae):""}var ze=typeof M=="function"?M(ae):[],Ln;if(ee){Ln={};for(var Fn=0;Fn<ze.length;Fn++)Ln["$"+ze[Fn]]=ze[Fn]}for(var Vt in ae)B(ae,Vt)&&(Le&&String(Number(Vt))===Vt&&Vt<ae.length||ee&&Ln["$"+Vt]instanceof Symbol||(x.call(/[^\w$]/,Vt)?je.push(ve(Vt,ae)+": "+ve(ae[Vt],ae)):je.push(Vt+": "+ve(ae[Vt],ae))));if(typeof M=="function")for(var Cn=0;Cn<ze.length;Cn++)be.call(ae,ze[Cn])&&je.push("["+ve(ze[Cn])+"]: "+ve(ae[ze[Cn]],ae));return je}return fl}function dN(){if(_d)return pl;_d=!0;var t=Js(),e=XR(),n=fN(),r=_a(),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),c=e("Map.prototype.get",!0),u=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),f=function(b,E){for(var y=b,v;(v=y.next)!==null;y=v)if(v.key===E)return y.next=v.next,v.next=b.next,b.next=v,v},g=function(b,E){var y=f(b,E);return y&&y.value},p=function(b,E,y){var v=f(b,E);v?v.value=y:b.next={key:E,next:b.next,value:y}},_=function(b,E){return!!f(b,E)};return pl=function(){var b,E,y,v={assert:function(A){if(!v.has(A))throw new r("Side channel does not contain "+n(A))},get:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(b)return o(b,A)}else if(s){if(E)return c(E,A)}else if(y)return g(y,A)},has:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(b)return l(b,A)}else if(s){if(E)return h(E,A)}else if(y)return _(y,A);return!1},set:function(A,w){i&&A&&(typeof A=="object"||typeof A=="function")?(b||(b=new i),a(b,A,w)):s?(E||(E=new s),u(E,A,w)):(y||(y={key:{},next:null}),p(y,A,w))}};return v},pl}function Fp(){if(yd)return gl;yd=!0;var t=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return gl={default:n.RFC3986,formatters:{RFC1738:function(r){return t.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},gl}function vw(){if(bd)return ml;bd=!0;var t=Fp(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var b=[],E=0;E<256;++E)b.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return b})(),i=function(b){for(;b.length>1;){var E=b.pop(),y=E.obj[E.prop];if(n(y)){for(var v=[],A=0;A<y.length;++A)typeof y[A]<"u"&&v.push(y[A]);E.obj[E.prop]=v}}},s=function(b,E){for(var y=E&&E.plainObjects?Object.create(null):{},v=0;v<b.length;++v)typeof b[v]<"u"&&(y[v]=b[v]);return y},o=function b(E,y,v){if(!y)return E;if(typeof y!="object"){if(n(E))E.push(y);else if(E&&typeof E=="object")(v&&(v.plainObjects||v.allowPrototypes)||!e.call(Object.prototype,y))&&(E[y]=!0);else return[E,y];return E}if(!E||typeof E!="object")return[E].concat(y);var A=E;return n(E)&&!n(y)&&(A=s(E,v)),n(E)&&n(y)?(y.forEach(function(w,x){if(e.call(E,x)){var I=E[x];I&&typeof I=="object"&&w&&typeof w=="object"?E[x]=b(I,w,v):E.push(w)}else E[x]=w}),E):Object.keys(y).reduce(function(w,x){var I=y[x];return e.call(w,x)?w[x]=b(w[x],I,v):w[x]=I,w},A)},a=function(b,E){return Object.keys(E).reduce(function(y,v){return y[v]=E[v],y},b)},l=function(b,E,y){var v=b.replace(/\+/g," ");if(y==="iso-8859-1")return v.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(v)}catch{return v}},c=1024,u=function(b,E,y,v,A){if(b.length===0)return b;var w=b;if(typeof b=="symbol"?w=Symbol.prototype.toString.call(b):typeof b!="string"&&(w=String(b)),y==="iso-8859-1")return escape(w).replace(/%u[0-9a-f]{4}/gi,function(M){return"%26%23"+parseInt(M.slice(2),16)+"%3B"});for(var x="",I=0;I<w.length;I+=c){for(var R=w.length>=c?w.slice(I,I+c):w,W=[],H=0;H<R.length;++H){var Q=R.charCodeAt(H);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||A===t.RFC1738&&(Q===40||Q===41)){W[W.length]=R.charAt(H);continue}if(Q<128){W[W.length]=r[Q];continue}if(Q<2048){W[W.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){W[W.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}H+=1,Q=65536+((Q&1023)<<10|R.charCodeAt(H)&1023),W[W.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}x+=W.join("")}return x},h=function(b){for(var E=[{obj:{o:b},prop:"o"}],y=[],v=0;v<E.length;++v)for(var A=E[v],w=A.obj[A.prop],x=Object.keys(w),I=0;I<x.length;++I){var R=x[I],W=w[R];typeof W=="object"&&W!==null&&y.indexOf(W)===-1&&(E.push({obj:w,prop:R}),y.push(W))}return i(E),b},f=function(b){return Object.prototype.toString.call(b)==="[object RegExp]"},g=function(b){return!b||typeof b!="object"?!1:!!(b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b))},p=function(b,E){return[].concat(b,E)},_=function(b,E){if(n(b)){for(var y=[],v=0;v<b.length;v+=1)y.push(E(b[v]));return y}return E(b)};return ml={arrayToObject:s,assign:a,combine:p,compact:h,decode:l,encode:u,isBuffer:g,isRegExp:f,maybeMap:_,merge:o},ml}function pN(){if(vd)return _l;vd=!0;var t=dN(),e=vw(),n=Fp(),r=Object.prototype.hasOwnProperty,i={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,b){return _+"["+b+"]"},repeat:function(_){return _}},s=Array.isArray,o=Array.prototype.push,a=function(_,b){o.apply(_,s(b)?b:[b])},l=Date.prototype.toISOString,c=n.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:c,formatter:n.formatters[c],indices:!1,serializeDate:function(_){return l.call(_)},skipNulls:!1,strictNullHandling:!1},h=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},f={},g=function _(b,E,y,v,A,w,x,I,R,W,H,Q,M,Z,ee,X,be,ie){for(var ne=b,ye=ie,te=0,q=!1;(ye=ye.get(f))!==void 0&&!q;){var G=ye.get(b);if(te+=1,typeof G<"u"){if(G===te)throw new RangeError("Cyclic object value");q=!0}typeof ye.get(f)>"u"&&(te=0)}if(typeof W=="function"?ne=W(E,ne):ne instanceof Date?ne=M(ne):y==="comma"&&s(ne)&&(ne=e.maybeMap(ne,function(P){return P instanceof Date?M(P):P})),ne===null){if(w)return R&&!X?R(E,u.encoder,be,"key",Z):E;ne=""}if(h(ne)||e.isBuffer(ne)){if(R){var fe=X?E:R(E,u.encoder,be,"key",Z);return[ee(fe)+"="+ee(R(ne,u.encoder,be,"value",Z))]}return[ee(E)+"="+ee(String(ne))]}var Ie=[];if(typeof ne>"u")return Ie;var ge;if(y==="comma"&&s(ne))X&&R&&(ne=e.maybeMap(ne,R)),ge=[{value:ne.length>0?ne.join(",")||null:void 0}];else if(s(W))ge=W;else{var Te=Object.keys(ne);ge=H?Te.sort(H):Te}var F=I?E.replace(/\./g,"%2E"):E,j=v&&s(ne)&&ne.length===1?F+"[]":F;if(A&&s(ne)&&ne.length===0)return j+"[]";for(var z=0;z<ge.length;++z){var K=ge[z],re=typeof K=="object"&&typeof K.value<"u"?K.value:ne[K];if(!(x&&re===null)){var T=Q&&I?K.replace(/\./g,"%2E"):K,N=s(ne)?typeof y=="function"?y(j,T):j:j+(Q?"."+T:"["+T+"]");ie.set(b,te);var B=t();B.set(f,ie),a(Ie,_(re,N,y,v,A,w,x,I,y==="comma"&&X&&s(ne)?null:R,W,H,Q,M,Z,ee,X,be,B))}}return Ie},p=function(_){if(!_)return u;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var b=_.charset||u.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=n.default;if(typeof _.format<"u"){if(!r.call(n.formatters,_.format))throw new TypeError("Unknown format option provided.");E=_.format}var y=n.formatters[E],v=u.filter;(typeof _.filter=="function"||s(_.filter))&&(v=_.filter);var A;if(_.arrayFormat in i?A=_.arrayFormat:"indices"in _?A=_.indices?"indices":"repeat":A=u.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var w=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:u.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:u.addQueryPrefix,allowDots:w,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:A,charset:b,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:u.charsetSentinel,commaRoundTrip:_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?u.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:u.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:u.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:u.encodeValuesOnly,filter:v,format:E,formatter:y,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:u.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:u.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:u.strictNullHandling}};return _l=function(_,b){var E=_,y=p(b),v,A;typeof y.filter=="function"?(A=y.filter,E=A("",E)):s(y.filter)&&(A=y.filter,v=A);var w=[];if(typeof E!="object"||E===null)return"";var x=i[y.arrayFormat],I=x==="comma"&&y.commaRoundTrip;v||(v=Object.keys(E)),y.sort&&v.sort(y.sort);for(var R=t(),W=0;W<v.length;++W){var H=v[W];y.skipNulls&&E[H]===null||a(w,g(E[H],H,x,I,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,R))}var Q=w.join(y.delimiter),M=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?M+="utf8=%26%2310003%3B&":M+="utf8=%E2%9C%93&"),Q.length>0?M+Q:""},_l}function gN(){if(wd)return yl;wd=!0;var t=vw(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(f){return f.replace(/&#(\d+);/g,function(g,p){return String.fromCharCode(parseInt(p,10))})},s=function(f,g){return f&&typeof f=="string"&&g.comma&&f.indexOf(",")>-1?f.split(","):f},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(f,g){var p={__proto__:null},_=g.ignoreQueryPrefix?f.replace(/^\?/,""):f;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var b=g.parameterLimit===1/0?void 0:g.parameterLimit,E=_.split(g.delimiter,b),y=-1,v,A=g.charset;if(g.charsetSentinel)for(v=0;v<E.length;++v)E[v].indexOf("utf8=")===0&&(E[v]===a?A="utf-8":E[v]===o&&(A="iso-8859-1"),y=v,v=E.length);for(v=0;v<E.length;++v)if(v!==y){var w=E[v],x=w.indexOf("]="),I=x===-1?w.indexOf("="):x+1,R,W;I===-1?(R=g.decoder(w,r.decoder,A,"key"),W=g.strictNullHandling?null:""):(R=g.decoder(w.slice(0,I),r.decoder,A,"key"),W=t.maybeMap(s(w.slice(I+1),g),function(Q){return g.decoder(Q,r.decoder,A,"value")})),W&&g.interpretNumericEntities&&A==="iso-8859-1"&&(W=i(W)),w.indexOf("[]=")>-1&&(W=n(W)?[W]:W);var H=e.call(p,R);H&&g.duplicates==="combine"?p[R]=t.combine(p[R],W):(!H||g.duplicates==="last")&&(p[R]=W)}return p},c=function(f,g,p,_){for(var b=_?g:s(g,p),E=f.length-1;E>=0;--E){var y,v=f[E];if(v==="[]"&&p.parseArrays)y=p.allowEmptyArrays&&(b===""||p.strictNullHandling&&b===null)?[]:[].concat(b);else{y=p.plainObjects?Object.create(null):{};var A=v.charAt(0)==="["&&v.charAt(v.length-1)==="]"?v.slice(1,-1):v,w=p.decodeDotInKeys?A.replace(/%2E/g,"."):A,x=parseInt(w,10);!p.parseArrays&&w===""?y={0:b}:!isNaN(x)&&v!==w&&String(x)===w&&x>=0&&p.parseArrays&&x<=p.arrayLimit?(y=[],y[x]=b):w!=="__proto__"&&(y[w]=b)}b=y}return b},u=function(f,g,p,_){if(f){var b=p.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,v=p.depth>0&&E.exec(b),A=v?b.slice(0,v.index):b,w=[];if(A){if(!p.plainObjects&&e.call(Object.prototype,A)&&!p.allowPrototypes)return;w.push(A)}for(var x=0;p.depth>0&&(v=y.exec(b))!==null&&x<p.depth;){if(x+=1,!p.plainObjects&&e.call(Object.prototype,v[1].slice(1,-1))&&!p.allowPrototypes)return;w.push(v[1])}if(v){if(p.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+p.depth+" and strictDepth is true");w.push("["+b.slice(v.index)+"]")}return c(w,g,p,_)}},h=function(f){if(!f)return r;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof f.charset>"u"?r.charset:f.charset,p=typeof f.duplicates>"u"?r.duplicates:f.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:r.allowDots:!!f.allowDots;return{allowDots:_,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:r.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:r.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:r.arrayLimit,charset:g,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:r.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:r.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:r.decoder,delimiter:typeof f.delimiter=="string"||t.isRegExp(f.delimiter)?f.delimiter:r.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:r.depth,duplicates:p,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:r.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:r.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:r.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:r.strictNullHandling}};return yl=function(f,g){var p=h(g);if(f===""||f===null||typeof f>"u")return p.plainObjects?Object.create(null):{};for(var _=typeof f=="string"?l(f,p):f,b=p.plainObjects?Object.create(null):{},E=Object.keys(_),y=0;y<E.length;++y){var v=E[y],A=u(v,_[v],p,typeof f=="string");b=t.merge(b,A,p)}return p.allowSparse===!0?b:t.compact(b)},yl}function mN(){if(Ed)return bl;Ed=!0;var t=pN(),e=gN(),n=Fp();return bl={formats:n,parse:e,stringify:t},bl}function _N(){if(Sd)return ii;Sd=!0;var t=ri;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),a=["'"].concat(o),l=["%","/","?",";","#"].concat(a),c=["/","?","#"],u=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=mN();function E(w,x,I){if(w&&typeof w=="object"&&w instanceof e)return w;var R=new e;return R.parse(w,x,I),R}e.prototype.parse=function(w,x,I){if(typeof w!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var R=w.indexOf("?"),W=R!==-1&&R<w.indexOf("#")?"?":"#",H=w.split(W),Q=/\\/g;H[0]=H[0].replace(Q,"/"),w=H.join(W);var M=w;if(M=M.trim(),!I&&w.split("#").length===1){var Z=i.exec(M);if(Z)return this.path=M,this.href=M,this.pathname=Z[1],Z[2]?(this.search=Z[2],x?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):x&&(this.search="",this.query={}),this}var ee=n.exec(M);if(ee){ee=ee[0];var X=ee.toLowerCase();this.protocol=X,M=M.substr(ee.length)}if(I||ee||M.match(/^\/\/[^@/]+@[^@/]+/)){var be=M.substr(0,2)==="//";be&&!(ee&&p[ee])&&(M=M.substr(2),this.slashes=!0)}if(!p[ee]&&(be||ee&&!_[ee])){for(var ie=-1,ne=0;ne<c.length;ne++){var ye=M.indexOf(c[ne]);ye!==-1&&(ie===-1||ye<ie)&&(ie=ye)}var te,q;ie===-1?q=M.lastIndexOf("@"):q=M.lastIndexOf("@",ie),q!==-1&&(te=M.slice(0,q),M=M.slice(q+1),this.auth=decodeURIComponent(te)),ie=-1;for(var ne=0;ne<l.length;ne++){var ye=M.indexOf(l[ne]);ye!==-1&&(ie===-1||ye<ie)&&(ie=ye)}ie===-1&&(ie=M.length),this.host=M.slice(0,ie),M=M.slice(ie),this.parseHost(),this.hostname=this.hostname||"";var G=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!G)for(var fe=this.hostname.split(/\./),ne=0,Ie=fe.length;ne<Ie;ne++){var ge=fe[ne];if(ge&&!ge.match(h)){for(var Te="",F=0,j=ge.length;F<j;F++)ge.charCodeAt(F)>127?Te+="x":Te+=ge[F];if(!Te.match(h)){var z=fe.slice(0,ne),K=fe.slice(ne+1),re=ge.match(f);re&&(z.push(re[1]),K.unshift(re[2])),K.length&&(M="/"+K.join(".")+M),this.hostname=z.join(".");break}}}this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),G||(this.hostname=t.toASCII(this.hostname));var T=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+T,this.href+=this.host,G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),M[0]!=="/"&&(M="/"+M))}if(!g[X])for(var ne=0,Ie=a.length;ne<Ie;ne++){var B=a[ne];if(M.indexOf(B)!==-1){var P=encodeURIComponent(B);P===B&&(P=escape(B)),M=M.split(B).join(P)}}var D=M.indexOf("#");D!==-1&&(this.hash=M.substr(D),M=M.slice(0,D));var V=M.indexOf("?");if(V!==-1?(this.search=M.substr(V),this.query=M.substr(V+1),x&&(this.query=b.parse(this.query)),M=M.slice(0,V)):x&&(this.search="",this.query={}),M&&(this.pathname=M),_[X]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var T=this.pathname||"",oe=this.search||"";this.path=T+oe}return this.href=this.format(),this};function y(w){return typeof w=="string"&&(w=E(w)),w instanceof e?w.format():e.prototype.format.call(w)}e.prototype.format=function(){var w=this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var x=this.protocol||"",I=this.pathname||"",R=this.hash||"",W=!1,H="";this.host?W=w+this.host:this.hostname&&(W=w+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(W+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(H=b.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Q=this.search||H&&"?"+H||"";return x&&x.substr(-1)!==":"&&(x+=":"),this.slashes||(!x||_[x])&&W!==!1?(W="//"+(W||""),I&&I.charAt(0)!=="/"&&(I="/"+I)):W||(W=""),R&&R.charAt(0)!=="#"&&(R="#"+R),Q&&Q.charAt(0)!=="?"&&(Q="?"+Q),I=I.replace(/[?#]/g,function(M){return encodeURIComponent(M)}),Q=Q.replace("#","%23"),x+W+I+Q+R};function v(w,x){return E(w,!1,!0).resolve(x)}e.prototype.resolve=function(w){return this.resolveObject(E(w,!1,!0)).format()};function A(w,x){return w?E(w,!1,!0).resolveObject(x):x}return e.prototype.resolveObject=function(w){if(typeof w=="string"){var x=new e;x.parse(w,!1,!0),w=x}for(var I=new e,R=Object.keys(this),W=0;W<R.length;W++){var H=R[W];I[H]=this[H]}if(I.hash=w.hash,w.href==="")return I.href=I.format(),I;if(w.slashes&&!w.protocol){for(var Q=Object.keys(w),M=0;M<Q.length;M++){var Z=Q[M];Z!=="protocol"&&(I[Z]=w[Z])}return _[I.protocol]&&I.hostname&&!I.pathname&&(I.pathname="/",I.path=I.pathname),I.href=I.format(),I}if(w.protocol&&w.protocol!==I.protocol){if(!_[w.protocol]){for(var ee=Object.keys(w),X=0;X<ee.length;X++){var be=ee[X];I[be]=w[be]}return I.href=I.format(),I}if(I.protocol=w.protocol,!w.host&&!p[w.protocol]){for(var Ie=(w.pathname||"").split("/");Ie.length&&!(w.host=Ie.shift()););w.host||(w.host=""),w.hostname||(w.hostname=""),Ie[0]!==""&&Ie.unshift(""),Ie.length<2&&Ie.unshift(""),I.pathname=Ie.join("/")}else I.pathname=w.pathname;if(I.search=w.search,I.query=w.query,I.host=w.host||"",I.auth=w.auth,I.hostname=w.hostname||w.host,I.port=w.port,I.pathname||I.search){var ie=I.pathname||"",ne=I.search||"";I.path=ie+ne}return I.slashes=I.slashes||w.slashes,I.href=I.format(),I}var ye=I.pathname&&I.pathname.charAt(0)==="/",te=w.host||w.pathname&&w.pathname.charAt(0)==="/",q=te||ye||I.host&&w.pathname,G=q,fe=I.pathname&&I.pathname.split("/")||[],Ie=w.pathname&&w.pathname.split("/")||[],ge=I.protocol&&!_[I.protocol];if(ge&&(I.hostname="",I.port=null,I.host&&(fe[0]===""?fe[0]=I.host:fe.unshift(I.host)),I.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(Ie[0]===""?Ie[0]=w.host:Ie.unshift(w.host)),w.host=null),q=q&&(Ie[0]===""||fe[0]==="")),te)I.host=w.host||w.host===""?w.host:I.host,I.hostname=w.hostname||w.hostname===""?w.hostname:I.hostname,I.search=w.search,I.query=w.query,fe=Ie;else if(Ie.length)fe||(fe=[]),fe.pop(),fe=fe.concat(Ie),I.search=w.search,I.query=w.query;else if(w.search!=null){if(ge){I.host=fe.shift(),I.hostname=I.host;var Te=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;Te&&(I.auth=Te.shift(),I.hostname=Te.shift(),I.host=I.hostname)}return I.search=w.search,I.query=w.query,(I.pathname!==null||I.search!==null)&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I}if(!fe.length)return I.pathname=null,I.search?I.path="/"+I.search:I.path=null,I.href=I.format(),I;for(var F=fe.slice(-1)[0],j=(I.host||w.host||fe.length>1)&&(F==="."||F==="..")||F==="",z=0,K=fe.length;K>=0;K--)F=fe[K],F==="."?fe.splice(K,1):F===".."?(fe.splice(K,1),z++):z&&(fe.splice(K,1),z--);if(!q&&!G)for(;z--;z)fe.unshift("..");q&&fe[0]!==""&&(!fe[0]||fe[0].charAt(0)!=="/")&&fe.unshift(""),j&&fe.join("/").substr(-1)!=="/"&&fe.push("");var re=fe[0]===""||fe[0]&&fe[0].charAt(0)==="/";if(ge){I.hostname=re?"":fe.length?fe.shift():"",I.host=I.hostname;var Te=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;Te&&(I.auth=Te.shift(),I.hostname=Te.shift(),I.host=I.hostname)}return q=q||I.host&&fe.length,q&&!re&&fe.unshift(""),fe.length>0?I.pathname=fe.join("/"):(I.pathname=null,I.path=null),(I.pathname!==null||I.search!==null)&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=w.auth||I.auth,I.slashes=I.slashes||w.slashes,I.href=I.format(),I},e.prototype.parseHost=function(){var w=this.host,x=r.exec(w);x&&(x=x[0],x!==":"&&(this.port=x.substr(1)),w=w.substr(0,w.length-x.length)),w&&(this.hostname=w)},ii.parse=E,ii.resolve=v,ii.resolveObject=A,ii.format=y,ii.Url=e,ii}function ww(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ql?yN(t):bN(t)}function yN(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let i=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&i===102||n[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(Mw,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,i=n[2];if(r<Rw||r>Nw||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function bN(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function Ew(t){let e=gd.resolve(t),n=t.charCodeAt(t.length-1);(n===Pw||Ql&&n===Ow)&&e[e.length-1]!==gd.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(Dw,"%25")),!Ql&&e.includes("\\")&&(e=e.replace(Lw,"%5C")),e.includes(`
`)&&(e=e.replace(Fw,"%0A")),e.includes("\r")&&(e=e.replace(jw,"%0D")),e.includes("	")&&(e=e.replace(Bw,"%09")),r.pathname=e,r}var Sw,fl,md,dl,pl,_d,gl,yd,ml,bd,_l,vd,yl,wd,bl,Ed,ii,Sd,nn,ay,Cw,Aw,Iw,xw,Tw,kw,Ow,Pw,Rw,Nw,Ql,Mw,Dw,Lw,Fw,jw,Bw,vN=Sn(()=>{Se(),Ae(),Ce(),FR(),ZR(),hN(),yw(),Sw=Object.freeze(Object.create(null)),fl={},md=!1,dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,pl={},_d=!1,gl={},yd=!1,ml={},bd=!1,_l={},vd=!1,yl={},wd=!1,bl={},Ed=!1,ii={},Sd=!1,nn=_N(),nn.parse,nn.resolve,nn.resolveObject,nn.format,nn.Url,ay=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,nn.URL=typeof URL<"u"?URL:null,nn.pathToFileURL=Ew,nn.fileURLToPath=ww,Cw=nn.Url,Aw=nn.format,Iw=nn.resolve,xw=nn.resolveObject,Tw=nn.parse,kw=nn.URL,Ow=92,Pw=47,Rw=97,Nw=122,Ql=ay==="win32",Mw=/\//g,Dw=/%/g,Lw=/\\/g,Fw=/\n/g,jw=/\r/g,Bw=/\t/g}),wN=xe((t,e)=>{Se(),Ae(),Ce(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),jp=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=void 0,t.writev=r;var e=rs(),n=(Yt(),mt(Kt));function r(s,o){let a=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?a[l]=n.Buffer.from(s[l].chunk,"utf8"):a[l]=s[l].chunk;this._write(n.Buffer.concat(a),"binary",o)}var i=class extends e.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(s,o,a){super({objectMode:!0}),this.proxy=o,this.socket=a,this.writeQueue=[],s.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(s){this.proxy.read(s)}_write(s,o,a){this.isSocketOpen?this.writeToProxy(s,o,a):this.writeQueue.push({chunk:s,encoding:o,cb:a})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,o){this.writeQueue=[],this.proxy.destroy(),o(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,o,a){this.proxy.write(s,o)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:o,cb:a}=this.writeQueue.shift();this.writeToProxy(s,o,a)}}};t.BufferedDuplex=i}),Ua=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var n=(Yt(),mt(Kt)),r=e(wN()),i=e(Hr()),s=rs(),o=e(Lc()),a=jp(),l=(0,i.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(E,y){let v=`${E.protocol}://${E.hostname}:${E.port}${E.path}`;return typeof E.transformWsUrl=="function"&&(v=E.transformWsUrl(v,E,y)),v}function h(E){let y=E;return E.port||(E.protocol==="wss"?y.port=443:y.port=80),E.path||(y.path="/"),E.wsOptions||(y.wsOptions={}),!o.default&&!E.forceNativeWebSocket&&E.protocol==="wss"&&c.forEach(v=>{Object.prototype.hasOwnProperty.call(E,v)&&!Object.prototype.hasOwnProperty.call(E.wsOptions,v)&&(y.wsOptions[v]=E[v])}),y}function f(E){let y=h(E);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);y.hostname=v.hostname,y.port||(y.port=Number(v.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function g(E,y,v){l("createWebSocket"),l(`protocol: ${v.protocolId} ${v.protocolVersion}`);let A=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${y} and protocol: ${A}`);let w;return v.createWebsocket?w=v.createWebsocket(y,[A],v):w=new r.default(y,[A],v.wsOptions),w}function p(E,y){let v=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",A=u(y,E),w;return y.createWebsocket?w=y.createWebsocket(A,[v],y):w=new WebSocket(A,[v]),w.binaryType="arraybuffer",w}var _=(E,y)=>{l("streamBuilder");let v=h(y);v.hostname=v.hostname||v.host||"localhost";let A=u(v,E),w=g(E,A,v),x=r.default.createWebSocketStream(w,v.wsOptions);return x.url=A,w.on("close",()=>{x.destroy()}),x};t.streamBuilder=_;var b=(E,y)=>{l("browserStreamBuilder");let v,A=f(y).browserBufferSize||1024*512,w=y.browserBufferTimeout||1e3,x=!y.objectMode,I=p(E,y),R=H(y,X,be);y.objectMode||(R._writev=a.writev.bind(R)),R.on("close",()=>{I.close()});let W=typeof I.addEventListener<"u";I.readyState===I.OPEN?(v=R,v.socket=I):(v=new a.BufferedDuplex(y,R,I),W?I.addEventListener("open",Q):I.onopen=Q),W?(I.addEventListener("close",M),I.addEventListener("error",Z),I.addEventListener("message",ee)):(I.onclose=M,I.onerror=Z,I.onmessage=ee);function H(ie,ne,ye){let te=new s.Transform({objectMode:ie.objectMode});return te._write=ne,te._flush=ye,te}function Q(){l("WebSocket onOpen"),v instanceof a.BufferedDuplex&&v.socketReady()}function M(ie){l("WebSocket onClose",ie),v.end(),v.destroy()}function Z(ie){l("WebSocket onError",ie);let ne=new Error("WebSocket error");ne.event=ie,v.destroy(ne)}async function ee(ie){if(!R||!R.readable||!R.writable)return;let{data:ne}=ie;ne instanceof ArrayBuffer?ne=n.Buffer.from(ne):ne instanceof Blob?ne=n.Buffer.from(await new Response(ne).arrayBuffer()):ne=n.Buffer.from(ne,"utf8"),R.push(ne)}function X(ie,ne,ye){if(I.bufferedAmount>A){setTimeout(X,w,ie,ne,ye);return}x&&typeof ie=="string"&&(ie=n.Buffer.from(ie,"utf8"));try{I.send(ie)}catch(te){return ye(te)}ye()}function be(ie){I.close(),ie()}return v};t.browserStreamBuilder=b}),Bp={};Ks(Bp,{Server:()=>Tt,Socket:()=>Tt,Stream:()=>Tt,_createServerHandle:()=>Tt,_normalizeArgs:()=>Tt,_setSimultaneousAccepts:()=>Tt,connect:()=>Tt,createConnection:()=>Tt,createServer:()=>Tt,default:()=>Uw,isIP:()=>Tt,isIPv4:()=>Tt,isIPv6:()=>Tt});function Tt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Uw,Ww=Sn(()=>{Se(),Ae(),Ce(),Uw={_createServerHandle:Tt,_normalizeArgs:Tt,_setSimultaneousAccepts:Tt,connect:Tt,createConnection:Tt,createServer:Tt,isIP:Tt,isIPv4:Tt,isIPv6:Tt,Server:Tt,Socket:Tt,Stream:Tt}}),$w=xe((t,e)=>{Se(),Ae(),Ce(),e.exports={}}),ly=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var n=e((Ww(),mt(Bp))),r=e(Hr()),i=e($w()),s=(0,r.default)("mqttjs:tcp"),o=(a,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,i.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:c,path:u}=l,h=l.hostname;return s("port %d and host %s",c,h),n.default.createConnection({port:c,host:h,path:u})};t.default=o}),Hw={};Ks(Hw,{default:()=>Vw});var Vw,EN=Sn(()=>{Se(),Ae(),Ce(),Vw={}}),cy=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});var n=(EN(),mt(Hw)),r=e((Ww(),mt(Bp))),i=e(Hr()),s=e($w()),o=(0,i.default)("mqttjs:tls");function a(c){let{host:u,port:h,socksProxy:f,...g}=c;if(f!==void 0){let p=(0,s.default)(u,h,f,{timeout:c.socksTimeout});return(0,n.connect)({...g,socket:p})}return(0,n.connect)(c)}var l=(c,u)=>{u.port=u.port||8883,u.host=u.hostname||u.host||"localhost",r.default.isIP(u.host)===0&&(u.servername=u.host),u.rejectUnauthorized=u.rejectUnauthorized!==!1,delete u.path,o("port %d host %s rejectUnauthorized %b",u.port,u.host,u.rejectUnauthorized);let h=a(u);h.on("secureConnect",()=>{u.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",f)});function f(g){u.rejectUnauthorized&&c.emit("error",g),h.end()}return h.on("error",f),h};t.default=l}),uy=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Yt(),mt(Kt)),n=rs(),r=jp(),i,s,o;function a(){let f=new n.Transform;return f._write=(g,p,_)=>{i.send({data:g.buffer,success(){_()},fail(b){_(new Error(b))}})},f._flush=g=>{i.close({success(){g()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function c(f,g){let p=f.protocol==="wxs"?"wss":"ws",_=`${p}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(_=`${p}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(_=f.transformWsUrl(_,f,g)),_}function u(){i.onOpen(()=>{o.socketReady()}),i.onMessage(f=>{let{data:g}=f;g instanceof ArrayBuffer?g=e.Buffer.from(g):g=e.Buffer.from(g,"utf8"),s.push(g)}),i.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),i.onError(f=>{let g=new Error(f.errMsg);o.destroy(g)})}var h=(f,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let p=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";l(g);let _=c(g,f);i=wx.connectSocket({url:_,protocols:[p]}),s=a(),o=new r.BufferedDuplex(g,s,i),o._destroy=(E,y)=>{i.close({success(){y&&y(E)}})};let b=o.destroy;return o.destroy=(E,y)=>(o.destroy=b,setTimeout(()=>{i.close({fail(){o._destroy(E,y)}})},0),o),u(),o};t.default=h}),hy=xe(t=>{Se(),Ae(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Yt(),mt(Kt)),n=rs(),r=jp(),i,s,o,a=!1;function l(){let g=new n.Transform;return g._write=(p,_,b)=>{i.sendSocketMessage({data:p.buffer,success(){b()},fail(){b(new Error)}})},g._flush=p=>{i.closeSocket({success(){p()}})},g}function c(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function u(g,p){let _=g.protocol==="alis"?"wss":"ws",b=`${_}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(b=`${_}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(b=g.transformWsUrl(b,g,p)),b}function h(){a||(a=!0,i.onSocketOpen(()=>{o.socketReady()}),i.onSocketMessage(g=>{if(typeof g.data=="string"){let p=e.Buffer.from(g.data,"base64");s.push(p)}else{let p=new FileReader;p.addEventListener("load",()=>{if(p.result instanceof ArrayBuffer){s.push(e.Buffer.from(p.result));return}s.push(e.Buffer.from(p.result,"utf-8"))}),p.readAsArrayBuffer(g.data)}}),i.onSocketClose(()=>{o.end(),o.destroy()}),i.onSocketError(g=>{o.destroy(g)}))}var f=(g,p)=>{if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");let _=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";c(p);let b=u(p,g);return i=p.my,i.connectSocket({url:b,protocols:_}),s=l(),o=new r.BufferedDuplex(p,s,i),h(),o};t.default=f}),SN=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=u;var n=e(Hr()),r=e((vN(),mt(bw))),i=e(Lf()),s=e(Lc());typeof It?.nextTick!="function"&&(It.nextTick=setImmediate);var o=(0,n.default)("mqttjs"),a=null;function l(h){let f;if(h.auth)if(f=h.auth.match(/^(.+):(.+)$/),f){let[,g,p]=f;h.username=g,h.password=p}else h.username=h.auth}function c(h,f){if(o("connecting to an MQTT broker..."),typeof h=="object"&&!f&&(f=h,h=""),f=f||{},h&&typeof h=="string"){let _=r.default.parse(h,!0),b={};if(_.port!=null&&(b.port=Number(_.port)),b.host=_.hostname,b.query=_.query,b.auth=_.auth,b.protocol=_.protocol,b.path=_.path,f={...b,...f},!f.protocol)throw new Error("Missing protocol");f.protocol=f.protocol.replace(/:$/,"")}if(f.unixSocket=f.unixSocket||f.protocol?.includes("+unix"),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!f.protocol?.startsWith("ws")&&!f.protocol?.startsWith("wx")&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),s.default||f.unixSocket?f.socksProxy=void 0:f.socksProxy===void 0&&typeof It<"u"&&(f.socksProxy=It.env.MQTTJS_SOCKS_PROXY),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!s.default&&!f.forceNativeWebSocket?(a.ws=Ua().streamBuilder,a.wss=Ua().streamBuilder,a.mqtt=ly().default,a.tcp=ly().default,a.ssl=cy().default,a.tls=a.ssl,a.mqtts=cy().default):(a.ws=Ua().browserStreamBuilder,a.wss=Ua().browserStreamBuilder,a.wx=uy().default,a.wxs=uy().default,a.ali=hy().default,a.alis=hy().default)),!a[f.protocol]){let _=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,E)=>_&&E%2===0?!1:typeof a[b]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function g(_){return f.servers&&((!_._reconnectCount||_._reconnectCount===f.servers.length)&&(_._reconnectCount=0),f.host=f.servers[_._reconnectCount].host,f.port=f.servers[_._reconnectCount].port,f.protocol=f.servers[_._reconnectCount].protocol?f.servers[_._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,_._reconnectCount++),o("calling streambuilder for",f.protocol),a[f.protocol](_,f)}let p=new i.default(g,f);return p.on("error",()=>{}),p}function u(h,f,g=!0){return new Promise((p,_)=>{let b=c(h,f),E={connect:v=>{y(),p(b)},end:()=>{y(),p(b)},error:v=>{y(),b.end(),_(v)}};g===!1&&(E.close=()=>{E.error(new Error("Couldn't connect to server"))});function y(){Object.keys(E).forEach(v=>{b.off(v,E[v])})}Object.keys(E).forEach(v=>{b.on(v,E[v])})})}t.default=c}),fy=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__createBinding||(Object.create?function(g,p,_,b){b===void 0&&(b=_);var E=Object.getOwnPropertyDescriptor(p,_);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[_]}}),Object.defineProperty(g,b,E)}:function(g,p,_,b){b===void 0&&(b=_),g[b]=p[_]}),n=t&&t.__setModuleDefault||(Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p}),r=t&&t.__importStar||(function(){var g=function(p){return g=Object.getOwnPropertyNames||function(_){var b=[];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(b[b.length]=E);return b},g(p)};return function(p){if(p&&p.__esModule)return p;var _={};if(p!=null)for(var b=g(p),E=0;E<b.length;E++)b[E]!=="default"&&e(_,p,b[E]);return n(_,p),_}})(),i=t&&t.__exportStar||function(g,p){for(var _ in g)_!=="default"&&!Object.prototype.hasOwnProperty.call(p,_)&&e(p,g,_)},s=t&&t.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var o=s(Lf());t.MqttClient=o.default;var a=s(ow());t.DefaultMessageIdProvider=a.default;var l=s(DR());t.UniqueMessageIdProvider=l.default;var c=s(H2());t.Store=c.default;var u=r(SN());t.connect=u.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var h=s(dw());t.KeepaliveManager=h.default,t.Client=o.default,i(Lf(),t),i(Qs(),t);var f=Mc();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),CN=xe(t=>{Se(),Ae(),Ce();var e=t&&t.__createBinding||(Object.create?function(o,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,c,u)}:function(o,a,l,c){c===void 0&&(c=l),o[c]=a[l]}),n=t&&t.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),r=t&&t.__importStar||(function(){var o=function(a){return o=Object.getOwnPropertyNames||function(l){var c=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[c.length]=u);return c},o(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var c=o(a),u=0;u<c.length;u++)c[u]!=="default"&&e(l,a,c[u]);return n(l,a),l}})(),i=t&&t.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=r(fy());t.default=s,i(fy(),t)});const AN=CN();const IN=aa("handleTemphum",{state:()=>({temperature:"0 C",humidity:"0 %",tempStatus:"",humStatus:"",client:null}),actions:{connectMQTT(){this.client=AN.connect("wss://12c86034fa9b49dcad0c8f78f4bb580a.s1.eu.hivemq.cloud:8884/mqtt",{username:"NodeMCU",password:"Nodemcu123",clientId:"temphum_"+Math.random().toString(16).slice(2)}),this.client.on("connect",()=>{console.log("Connected to HiveMQ for TempHum!"),this.client.subscribe("home/esp/sensors")}),this.client.on("error",t=>{console.log("MQTT ERROR:",t.message)}),this.client.on("message",(t,e)=>{if(t!=="home/esp/sensors")return;const r=e.toString().split("|").map(i=>i.trim());r.length<2||(this.temperature=parseFloat(r[0]).toFixed(1)+" C",this.humidity=parseFloat(r[1]).toFixed(1)+" %",this.updateStatus())})},updateStatus(){const t=parseFloat(this.temperature),e=parseFloat(this.humidity);t<22?this.tempStatus="Cold":t<=28?this.tempStatus="Perfect":this.tempStatus="Hot",e<45?this.humStatus="Dry":e<=60?this.humStatus="Optimal range":this.humStatus="Humid"}}}),ho="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_184)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23ECFDF5'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%2310B981'/%3e%3cpath%20d='M34%2019L23%2030L18%2025'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_184'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_184'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_184'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",xN="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_196)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23F5F5F4'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%23D6D3D1'/%3e%3cpath%20d='M26.2131%2031.5931C25.3357%2031.5931%2024.5107%2031.4281%2023.7379%2031.0981C22.9692%2030.768%2022.2911%2030.3112%2021.7035%2029.7277C21.1199%2029.1401%2020.6611%2028.4619%2020.3271%2027.6932C19.997%2026.9245%2019.834%2026.0995%2019.8381%2025.2181C19.8421%2024.3367%2020.0091%2023.5116%2020.3391%2022.7429C20.6732%2021.9742%2021.132%2021.2981%2021.7156%2020.7145C22.2991%2020.1269%2022.9753%2019.6681%2023.744%2019.3381C24.5127%2019.0081%2025.3357%2018.8431%2026.2131%2018.8431C27.0945%2018.8431%2027.9195%2019.0081%2028.6882%2019.3381C29.4609%2019.6681%2030.1371%2020.1269%2030.7166%2020.7145C31.3002%2021.2981%2031.757%2021.9742%2032.087%2022.7429C32.417%2023.5116%2032.584%2024.3367%2032.5881%2025.2181C32.5921%2026.0995%2032.4291%2026.9245%2032.0991%2027.6932C31.7691%2028.4619%2031.3123%2029.1401%2030.7287%2029.7277C30.1451%2030.3112%2029.467%2030.768%2028.6942%2031.0981C27.9215%2031.4281%2027.0945%2031.5931%2026.2131%2031.5931ZM26.2131%2029.5828C26.8208%2029.5828%2027.3883%2029.4701%2027.9155%2029.2447C28.4467%2029.0193%2028.9116%2028.7074%2029.31%2028.309C29.7085%2027.9065%2030.0204%2027.4437%2030.2457%2026.9205C30.4711%2026.3933%2030.5818%2025.8278%2030.5778%2025.2241C30.5778%2024.6164%2030.4631%2024.0489%2030.2337%2023.5217C30.0083%2022.9905%2029.6964%2022.5256%2029.2979%2022.1272C28.8995%2021.7287%2028.4367%2021.4168%2027.9094%2021.1915C27.3822%2020.9661%2026.8168%2020.8534%2026.2131%2020.8534C25.6134%2020.8534%2025.05%2020.9661%2024.5227%2021.1915C23.9995%2021.4168%2023.5367%2021.7307%2023.1342%2022.1332C22.7358%2022.5316%2022.4219%2022.9965%2022.1925%2023.5277C21.9631%2024.055%2021.8484%2024.6204%2021.8484%2025.2241C21.8443%2025.8238%2021.955%2026.3872%2022.1804%2026.9145C22.4098%2027.4377%2022.7237%2027.9005%2023.1222%2028.303C23.5246%2028.7014%2023.9895%2029.0153%2024.5167%2029.2447C25.0439%2029.4701%2025.6094%2029.5828%2026.2131%2029.5828Z'%20fill='%23A8A29E'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_196'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_196'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_196'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",TN="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_220)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23FFFBEB'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%23F59E0B'/%3e%3cpath%20d='M26%2035C31.5228%2035%2036%2030.5228%2036%2025C36%2019.4772%2031.5228%2015%2026%2015C20.4772%2015%2016%2019.4772%2016%2025C16%2030.5228%2020.4772%2035%2026%2035Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26%2019V25L30%2027'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_220'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_220'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_220'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",kN={class:"feature-temphum"},ON={class:"temphum-holder"},PN={class:"temphum-content"},RN={style:{display:"column"}},NN={class:"temphum-content"},MN={style:{display:"column"}},DN={class:"feature-weekly"},LN={style:{display:"flex",gap:"5%","padding-left":"20px","background-color":"#ffffff"}},FN={class:"weekly-content"},jN=["src"],BN={class:"weekly-content"},UN=["src"],WN={class:"weekly-content"},$N=["src"],HN={class:"weekly-content"},VN=["src"],qN={class:"weekly-content"},GN=["src"],zN={class:"weekly-content"},KN=["src"],YN={class:"weekly-content"},QN=["src"],JN={__name:"homeExtension",setup(t){const e=IN();return sa(()=>{e.connectMQTT()}),(n,r)=>(vn(),Pn("body",null,[ue("div",null,[r[15]||(r[15]=ue("h4",{class:"title"},"PharmAssist Serial Monitor",-1)),ue("div",kN,[r[5]||(r[5]=ue("div",{class:"feature-title"},[ue("img",{src:lP,alt:"temphum-icon",class:"icon"}),ue("h5",{style:{}},"Everything's working great")],-1)),ue("div",ON,[ue("div",PN,[r[1]||(r[1]=ue("img",{src:cP,alt:"temp-icon",class:"temp-icon"},null,-1)),ue("div",RN,[r[0]||(r[0]=ue("p",null,"Temperature",-1)),ue("h5",null,yt(st(e).temperature)+" - "+yt(st(e).tempStatus),1)])]),ue("div",NN,[r[3]||(r[3]=ue("img",{src:uP,alt:"temp-icon",class:"temp-icon"},null,-1)),ue("div",MN,[r[2]||(r[2]=ue("p",null,"Humidity",-1)),ue("h5",null,yt(st(e).humidity)+" - "+yt(st(e).humStatus),1)])]),r[4]||(r[4]=ue("div",{class:"temphum-content"},[ue("img",{src:hP,alt:"temp-icon",class:"temp-icon"}),ue("div",{style:{display:"column"}},[ue("p",null,"Scheduled medication in"),ue("h5",null,"54 min")])],-1))])]),r[16]||(r[16]=ue("h4",{class:"title"},"Your Weekly Medication Progress",-1)),ue("div",DN,[r[13]||(r[13]=ue("div",{class:"feature-title"},[ue("h5",null,"Your Week at a Glance")],-1)),ue("div",LN,[ue("div",FN,[r[6]||(r[6]=ue("p",null,"Mon",-1)),ue("img",{src:st(ho),alt:"temp-icon",class:"temp-icon"},null,8,jN)]),ue("div",BN,[r[7]||(r[7]=ue("p",null,"Tue",-1)),ue("img",{src:st(ho),alt:"temp-icon",class:"temp-icon"},null,8,UN)]),ue("div",WN,[r[8]||(r[8]=ue("p",null,"Wed",-1)),ue("img",{src:st(xN),alt:"temp-icon",class:"temp-icon"},null,8,$N)]),ue("div",HN,[r[9]||(r[9]=ue("p",null,"Thu",-1)),ue("img",{src:st(ho),alt:"temp-icon",class:"temp-icon"},null,8,VN)]),ue("div",qN,[r[10]||(r[10]=ue("p",null,"Fri",-1)),ue("img",{src:st(ho),alt:"temp-icon",class:"temp-icon"},null,8,GN)]),ue("div",zN,[r[11]||(r[11]=ue("p",null,"Sat",-1)),ue("img",{src:st(ho),alt:"temp-icon",class:"temp-icon"},null,8,KN)]),ue("div",YN,[r[12]||(r[12]=ue("p",null,"Sun",-1)),ue("img",{src:st(TN),alt:"temp-icon",class:"temp-icon"},null,8,QN)])]),r[14]||(r[14]=Bd('<div class="weekly-holder" data-v-92da26d8><div class="weekly-legend" data-v-92da26d8><img src="'+fP+'" alt="temp-icon" class="legend-icon" data-v-92da26d8><p data-v-92da26d8>Taken</p></div><div class="weekly-legend" data-v-92da26d8><img src="'+dP+'" alt="temp-icon" class="legend-icon" data-v-92da26d8><p data-v-92da26d8>Upcoming</p></div><div class="weekly-legend" data-v-92da26d8><img src="'+pP+'" alt="temp-icon" class="legend-icon" data-v-92da26d8><p data-v-92da26d8>Missed</p></div></div><div class="weekly-expand" data-v-92da26d8><img src="'+gP+'" alt="weekly-graph" data-v-92da26d8></div>',2))]),r[17]||(r[17]=ue("div",{class:"feature-messeges"},[ue("div",{class:"messeges-content"},[ue("h5",null,"Note from Dr. Emily"),ue("p",null,'"Hi Lamuel, your adherence has been excellent this week. Remember to drink plenty of water with your Metformin!"')]),ue("div",{class:"messeges-button"},[ue("button",null,[ue("img",{src:mP,class:"messeges-img"}),Ot("Send a message")])])],-1))])]))}},XN=bi(JN,[["__scopeId","data-v-92da26d8"]]),ZN={class:"overview-container"},e6={class:"overview-greetings"},t6={class:"schedule-container"},n6={class:"schedule-heading"},r6={class:"medprogress-container"},i6={class:"medication-progress"},s6={class:"medication-container"},o6={class:"medcards"},a6={class:"medcard-header"},l6={class:"medcard-alert-icon"},c6=["src"],u6={class:"medcard-alert-text"},h6={class:"pillcolor"},f6=["src"],d6={class:"medicine-name-container"},p6={class:"medicine-name"},g6={class:"medicine-description"},m6={class:"time-box-container"},_6={class:"time-box"},y6={class:"time-icon"},b6=["src"],v6={class:"time-text"},w6={class:"time-box"},E6={class:"compartment-icon"},S6=["src"],C6={class:"box-text"},A6={__name:"home",setup(t){const e=tP();let n=nt(0);const r=nt("#FFE6E6"),i=nt("#ECFDF5"),s=nt("#F3E9FF"),o=nt("#BE3939"),a=nt("#059669"),l=nt("#1E40AF"),c=nt(["before breakfast","with breakfast","after breakfast","before lunch","with lunch","after lunch","before dinner","with dinner","after dinner","before bedtime","every day","every week"]),u=nt(["Compartment A","Compartment B","Compartment C","Compartment D"]),h=nt(["Missed","Great Job!","Coming up next!"]),f=nt(["Good morning","Good afternoon","Good evening"]),g=nt([]);function p(E){return E==="daily"?c.value[10]:E==="weekly"?c.value[11]:""}function _(E){return E==="missed"?{status:h.value[0],background:r.value,textColor:o.value,statusIcon:n_,pillIcon:r_}:E==="taken"?{status:h.value[1],background:i.value,textColor:a.value,statusIcon:rP,pillIcon:iP}:E==="pending"?{status:h.value[2],background:s.value,textColor:l.value,statusIcon:nP,pillIcon:sP}:{status:h.value[3],background:r.value,textColor:o.value,statusIcon:n_,pillIcon:r_}}function b(){g.value=[{Name:e.box1medicine||"No medicine",supply:(e.box1dose||0)+" tablets",timeDesc:p(e.box1schedtype||"n/a"),scheduledTime:e.box1shed||"N/A",dose:"1 tablet left",compartment:u.value[0],status:_(e.box1status||"n/a").status,statusIcon:_(e.box1status||"n/a").statusIcon,pillIcon:_(e.box1status||"n/a").pillIcon,background:_(e.box1status||"n/a").background,textColor:_(e.box1status||"n/a").textColor},{Name:e.box2medicine||"No medicine",supply:(e.box2dose||0)+" tablets",timeDesc:p(e.box2schedtype||"n/a"),scheduledTime:e.box2shed||"N/A",dose:"10mg",compartment:u.value[1],status:_(e.box2status||"n/a").status,statusIcon:_(e.box2status||"n/a").statusIcon,pillIcon:_(e.box2status||"n/a").pillIcon,background:_(e.box2status||"n/a").background,textColor:_(e.box2status||"n/a").textColor},{Name:e.box3medicine||"No medicine",supply:(e.box3dose||0)+" tablets",timeDesc:p(e.box3schedtype||"n/a"),scheduledTime:e.box3shed||"N/A",dose:"20mg",compartment:u.value[2],status:_(e.box3status||"n/a").status,statusIcon:_(e.box3status||"n/a").statusIcon,pillIcon:_(e.box3status||"n/a").pillIcon,background:_(e.box3status||"n/a").background,textColor:_(e.box3status||"n/a").textColor},{Name:e.box4medicine||"No medicine",supply:(e.box4dose||0)+" tablets",timeDesc:p(e.box4schedtype||"n/a"),scheduledTime:e.box4shed||"N/A",dose:"10mg",compartment:u.value[3],status:_(e.box4status||"n/a").status,statusIcon:_(e.box4status||"n/a").statusIcon,pillIcon:_(e.box4status||"n/a").pillIcon,background:_(e.box4status||"n/a").background,textColor:_(e.box4status||"n/a").textColor}],n.value=e.medremain}return sa(async()=>{e.medremain=0,await e.fetchBoxes(),b(),setInterval(async()=>{e.medremain=0,await e.fetchBoxes(),b()},5e3)}),(E,y)=>(vn(),Pn(gn,null,[ue("div",ZN,[y[1]||(y[1]=ue("div",{class:"overview-content"},[ue("div",{class:"overview-icon"},[ue("img",{src:zO,alt:"Overview Logo"})]),ue("span",{class:"overview-heading"},"Weekly Overview")],-1)),ue("span",e6,[Ot(yt(f.value[0])+", ",1),y[0]||(y[0]=ue("span",{class:"firstname"},"Lamuel!",-1))]),y[2]||(y[2]=ue("span",{class:"greetings-extension"},"Hope your day is going wonderfully.",-1))]),ue("div",t6,[ue("div",n6,[y[3]||(y[3]=ue("span",{class:"schedule-title"},"Your Daily Schedule",-1)),ue("span",r6,[ue("span",i6,yt(st(n))+" remaining ",1)])]),ue("div",s6,[ue("div",o6,[(vn(!0),Pn(gn,null,Gu(g.value,v=>(vn(),Pn("div",{class:"medcard",key:v.Name,style:Lo({borderLeftColor:v.textColor})},[ue("div",a6,[ue("div",{class:"medcard-alert-container",style:Lo({backgroundColor:v.background,color:v.textColor})},[ue("div",l6,[ue("img",{src:v.statusIcon},null,8,c6)]),ue("span",u6,yt(v.status),1)],4),ue("div",h6,[ue("img",{src:v.pillIcon,alt:"pill icon"},null,8,f6)])]),ue("div",d6,[ue("div",p6,[ue("h3",null,yt(v.Name),1),ue("p",null,yt(v.supply)+" left",1)]),ue("span",g6," Take "+yt(v.dose)+" "+yt(v.timeDesc),1)]),ue("div",m6,[ue("div",_6,[ue("div",y6,[ue("img",{src:st(aP),alt:"time icon"},null,8,b6)]),ue("span",v6,yt(v.scheduledTime),1)]),ue("div",w6,[ue("div",E6,[ue("img",{src:st(oP),alt:"compartment icon"},null,8,S6)]),ue("span",C6,yt(v.compartment),1)])])],4))),128))])])]),Pt(XN)],64))}},I6=bi(A6,[["__scopeId","data-v-a69b89e2"]]),x6={class:"container"},T6={class:"scheduler"},k6={class:"form-card"},O6={class:"display-card-wrapper"},P6={class:"display-card"},R6={class:"med-list"},N6={class:"med-box"},M6={class:"med-list"},D6={class:"med-box"},L6={__name:"editmedication",setup(t){const e=XO(),n=nt(""),r=nt(""),i=nt(""),s=nt(""),o=nt(""),a=nt(""),l=async()=>{await e.saveMedicine(n.value,r.value,i.value,s.value,o.value,a.value),n.value="",r.value="",i.value="",s.value="",o.value="",a.value=""};return sa(()=>{e.listenMedicines()}),(c,u)=>{const h=Uo("newHome");return vn(),Pn(gn,null,[ue("div",x6,[u[20]||(u[20]=ue("div",{class:"form-header"},[ue("h2",null,"Setup medication Intakes"),ue("p",null,"Add, edit, and schedule your medicine all in one place")],-1)),ue("div",T6,[ue("div",k6,[u[9]||(u[9]=ue("h3",null,"Adjust Schedule",-1)),ue("form",{onSubmit:dc(l,["prevent"])},[pn(ue("select",{"onUpdate:modelValue":u[0]||(u[0]=f=>n.value=f),required:""},[...u[6]||(u[6]=[ue("option",{disabled:"",value:""},"Select Intake",-1),ue("option",{value:"daily"},"Daily",-1),ue("option",{value:"weekly"},"Weekly",-1)])],512),[[Hm,n.value]]),pn(ue("select",{"onUpdate:modelValue":u[1]||(u[1]=f=>r.value=f),required:""},[...u[7]||(u[7]=[Bd('<option disabled value="" data-v-87f465e6>Select compartment</option><option value="box1" data-v-87f465e6>Compartment A</option><option value="box2" data-v-87f465e6>Compartment B</option><option value="box3" data-v-87f465e6>Compartment C</option><option value="box4" data-v-87f465e6>Compartment D</option>',5)])],512),[[Hm,r.value]]),pn(ue("input",{type:"text","onUpdate:modelValue":u[2]||(u[2]=f=>i.value=f),placeholder:"Medicine name",required:""},null,512),[[Mn,i.value]]),pn(ue("input",{type:"time","onUpdate:modelValue":u[3]||(u[3]=f=>s.value=f),required:""},null,512),[[Mn,s.value]]),pn(ue("input",{type:"number","onUpdate:modelValue":u[4]||(u[4]=f=>o.value=f),placeholder:"Dose",min:"1",required:""},null,512),[[Mn,o.value]]),pn(ue("input",{type:"date","onUpdate:modelValue":u[5]||(u[5]=f=>a.value=f),required:""},null,512),[[Mn,a.value]]),u[8]||(u[8]=ue("button",{type:"submit"},"Save",-1))],32)]),ue("div",O6,[ue("div",P6,[ue("div",R6,[u[14]||(u[14]=ue("h4",null,"Daily",-1)),(vn(!0),Pn(gn,null,Gu(st(e).medicines.daily,(f,g)=>(vn(),Pn("div",{key:g,class:"med-item"},[ue("strong",N6,yt(g.toUpperCase()),1),ue("p",null,[u[10]||(u[10]=ue("span",{class:"med-label"},"Medicine:",-1)),Ot(" "+yt(f.medicine),1)]),ue("p",null,[u[11]||(u[11]=ue("span",{class:"med-label"},"Time:",-1)),Ot(" "+yt(f.time),1)]),ue("p",null,[u[12]||(u[12]=ue("span",{class:"med-label"},"Dose left:",-1)),Ot(" "+yt(f.dose),1)]),ue("p",null,[u[13]||(u[13]=ue("span",{class:"med-label"},"Last taken:",-1)),Ot(" "+yt(f.lastTaken),1)])]))),128))]),ue("div",M6,[u[19]||(u[19]=ue("h4",null,"Weekly",-1)),(vn(!0),Pn(gn,null,Gu(st(e).medicines.weekly,(f,g)=>(vn(),Pn("div",{key:g,class:"med-item"},[ue("strong",D6,yt(g.toUpperCase()),1),ue("p",null,[u[15]||(u[15]=ue("span",{class:"med-label"},"Medicine:",-1)),Ot(" "+yt(f.medicine),1)]),ue("p",null,[u[16]||(u[16]=ue("span",{class:"med-label"},"Time:",-1)),Ot(" "+yt(f.time),1)]),ue("p",null,[u[17]||(u[17]=ue("span",{class:"med-label"},"Dose left:",-1)),Ot(" "+yt(f.dose),1)]),ue("p",null,[u[18]||(u[18]=ue("span",{class:"med-label"},"Last taken:",-1)),Ot(" "+yt(f.lastTaken),1)])]))),128))])])])])]),Pt(h)],64)}}},F6=bi(L6,[["__scopeId","data-v-87f465e6"]]),j6={class:"editprofile-container"},B6={class:"main-content"},U6={class:"formcontent"},W6={class:"name-field inputfield"},$6={class:"email-field inputfield"},H6={class:"password-field inputfield"},V6={class:"updated-details"},q6={class:"userdetails"},G6={class:"userdetails-title"},z6={class:"userdetails-title"},K6={class:"userdetails-title"},Y6={__name:"editProfile",setup(t){const e=Ub(),n=p2(),r=d2(),i=nt("");sa(async()=>{if(!r.safeEmail){alert("Please login first"),await e.push("/login");return}const o=Oc(),a=Gi(o,`users/${r.safeEmail}`),l=await Ap(a);if(l.exists()){const c=l.val();n.saveProfile(c)}else alert("User data not found")});const s=async()=>{await n.saveToFirebase()?(alert("Profile updated successfully!"),i.value=""):alert("Update failed")};return(o,a)=>(vn(),Pn("div",j6,[a[12]||(a[12]=ue("h3",null,"Manage Account Settings",-1)),a[13]||(a[13]=ue("p",{class:"description"},"Adjust and update your profile swiftly and quickly",-1)),ue("div",B6,[ue("div",U6,[a[7]||(a[7]=ue("h2",null,"Edit Profile",-1)),ue("form",{onSubmit:dc(s,["prevent"])},[ue("span",W6,[a[3]||(a[3]=ue("span",null,"Name:",-1)),pn(ue("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>st(n).user.name=l),placeholder:"Full Name"},null,512),[[Mn,st(n).user.name]])]),ue("span",$6,[a[4]||(a[4]=ue("span",null,"Email:",-1)),pn(ue("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=l=>st(n).user.email=l),placeholder:"Email"},null,512),[[Mn,st(n).user.email]])]),ue("span",H6,[a[5]||(a[5]=ue("span",null,"Password:",-1)),pn(ue("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=l=>st(n).user.password=l),placeholder:"Password"},null,512),[[Mn,st(n).user.password]])]),a[6]||(a[6]=ue("button",{type:"submit"},"Update Details",-1))],32)]),ue("div",V6,[ue("div",q6,[a[11]||(a[11]=ue("div",{class:"userdetails-header"},[ue("h2",null,"Profile Overview")],-1)),ue("p",G6,[a[8]||(a[8]=ue("strong",null,"Name:",-1)),Ot(" "+yt(st(n).user.name),1)]),ue("p",z6,[a[9]||(a[9]=ue("strong",null,"Email:",-1)),Ot(" "+yt(st(n).user.email),1)]),ue("p",K6,[a[10]||(a[10]=ue("strong",null,"Password:",-1)),Ot(" "+yt(st(n).user.password?"********":""),1)])])])])]))}},Q6=bi(Y6,[["__scopeId","data-v-10d7c18c"]]),J6={};function X6(t,e){return null}const Z6=bi(J6,[["render",X6]]),e4=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:PO},{path:"/register",name:"Register",component:LO},{path:"/dashboard",name:"Dashboard",component:GO,children:[{path:"home",name:"Home",component:I6},{path:"editmedication",name:"EditMedication",component:F6},{path:"editprofile",name:"EditProfile",component:Q6},{path:"medhistory",name:"MedHistory",component:Z6}]}],t4=y3({history:JA(),routes:e4}),Up=iA(b3);Up.use(aA());Up.use(t4);Up.mount("#app");
