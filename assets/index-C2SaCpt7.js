(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yg(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Gt={},ua=[],wi=()=>{},Xw=()=>!1,_f=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),vg=t=>t.startsWith("onUpdate:"),Wn=Object.assign,_g=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},kk=Object.prototype.hasOwnProperty,Ft=(t,e)=>kk.call(t,e),et=Array.isArray,ca=t=>ou(t)==="[object Map]",bf=t=>ou(t)==="[object Set]",vv=t=>ou(t)==="[object Date]",ct=t=>typeof t=="function",an=t=>typeof t=="string",ei=t=>typeof t=="symbol",Wt=t=>t!==null&&typeof t=="object",Jw=t=>(Wt(t)||ct(t))&&ct(t.then)&&ct(t.catch),Zw=Object.prototype.toString,ou=t=>Zw.call(t),Tk=t=>ou(t).slice(8,-1),e2=t=>ou(t)==="[object Object]",wf=t=>an(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gl=yg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ef=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Ik=/-\w/g,Br=Ef(t=>t.replace(Ik,e=>e.slice(1).toUpperCase())),Pk=/\B([A-Z])/g,js=Ef(t=>t.replace(Pk,"-$1").toLowerCase()),Sf=Ef(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gh=Ef(t=>t?`on${Sf(t)}`:""),ks=(t,e)=>!Object.is(t,e),nc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},t2=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Cf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ok=t=>{const e=an(t)?Number(t):NaN;return isNaN(e)?t:e};let _v;const xf=()=>_v||(_v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nn(t){if(et(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=an(r)?Nk(r):Nn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(an(t)||Wt(t))return t}const Mk=/;(?![^(]*\))/g,Dk=/:([^]+)/,Rk=/\/\*[^]*?\*\//g;function Nk(t){const e={};return t.replace(Rk,"").split(Mk).forEach(n=>{if(n){const r=n.split(Dk);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ut(t){let e="";if(an(t))e=t;else if(et(t))for(let n=0;n<t.length;n++){const r=ut(t[n]);r&&(e+=r+" ")}else if(Wt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function wr(t){if(!t)return null;let{class:e,style:n}=t;return e&&!an(e)&&(t.class=ut(e)),n&&(t.style=Nn(n)),t}const Lk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fk=yg(Lk);function n2(t){return!!t||t===""}function Bk(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Af(t[r],e[r]);return n}function Af(t,e){if(t===e)return!0;let n=vv(t),r=vv(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ei(t),r=ei(e),n||r)return t===e;if(n=et(t),r=et(e),n||r)return n&&r?Bk(t,e):!1;if(n=Wt(t),r=Wt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Af(t[o],e[o]))return!1}}return String(t)===String(e)}function jk(t,e){return t.findIndex(n=>Af(n,e))}const r2=t=>!!(t&&t.__v_isRef===!0),Ze=t=>an(t)?t:t==null?"":et(t)||Wt(t)&&(t.toString===Zw||!ct(t.toString))?r2(t)?Ze(t.value):JSON.stringify(t,i2,2):String(t),i2=(t,e)=>r2(e)?i2(t,e.value):ca(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[zh(r,s)+" =>"]=i,n),{})}:bf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zh(n))}:ei(e)?zh(e):Wt(e)&&!et(e)&&!e2(e)?String(e):e,zh=(t,e="")=>{var n;return ei(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let tr;class s2{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tr,!e&&tr&&(this.index=(tr.scopes||(tr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=tr;try{return tr=this,e()}finally{tr=n}}}on(){++this._on===1&&(this.prevScope=tr,tr=this)}off(){this._on>0&&--this._on===0&&(tr=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function o2(t){return new s2(t)}function bg(){return tr}function a2(t,e=!1){tr&&tr.cleanups.push(t)}let Zt;const Kh=new WeakSet;class l2{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tr&&tr.active&&tr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kh.has(this)&&(Kh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bv(this),f2(this);const e=Zt,n=Xr;Zt=this,Xr=!0;try{return this.fn()}finally{h2(this),Zt=e,Xr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Sg(e);this.deps=this.depsTail=void 0,bv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kd(this)&&this.run()}get dirty(){return kd(this)}}let u2=0,yl,vl;function c2(t,e=!1){if(t.flags|=8,e){t.next=vl,vl=t;return}t.next=yl,yl=t}function wg(){u2++}function Eg(){if(--u2>0)return;if(vl){let e=vl;for(vl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;yl;){let e=yl;for(yl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function f2(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function h2(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Sg(r),$k(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function kd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(d2(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function d2(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ll)||(t.globalVersion=Ll,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!kd(t))))return;t.flags|=2;const e=t.dep,n=Zt,r=Xr;Zt=t,Xr=!0;try{f2(t);const i=t.fn(t._value);(e.version===0||ks(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Zt=n,Xr=r,h2(t),t.flags&=-3}}function Sg(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Sg(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function $k(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xr=!0;const p2=[];function Qi(){p2.push(Xr),Xr=!1}function Xi(){const t=p2.pop();Xr=t===void 0?!0:t}function bv(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Zt;Zt=void 0;try{e()}finally{Zt=n}}}let Ll=0;class Uk{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Zt||!Xr||Zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Zt)n=this.activeLink=new Uk(Zt,this),Zt.deps?(n.prevDep=Zt.depsTail,Zt.depsTail.nextDep=n,Zt.depsTail=n):Zt.deps=Zt.depsTail=n,m2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Zt.depsTail,n.nextDep=void 0,Zt.depsTail.nextDep=n,Zt.depsTail=n,Zt.deps===n&&(Zt.deps=r)}return n}trigger(e){this.version++,Ll++,this.notify(e)}notify(e){wg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Eg()}}}function m2(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)m2(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Nc=new WeakMap,_o=Symbol(""),Td=Symbol(""),Fl=Symbol("");function nr(t,e,n){if(Xr&&Zt){let r=Nc.get(t);r||Nc.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Cg),i.map=r,i.key=n),i.track()}}function Vi(t,e,n,r,i,s){const o=Nc.get(t);if(!o){Ll++;return}const a=l=>{l&&l.trigger()};if(wg(),e==="clear")o.forEach(a);else{const l=et(t),u=l&&wf(n);if(l&&n==="length"){const c=Number(r);o.forEach((f,h)=>{(h==="length"||h===Fl||!ei(h)&&h>=c)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Fl)),e){case"add":l?u&&a(o.get("length")):(a(o.get(_o)),ca(t)&&a(o.get(Td)));break;case"delete":l||(a(o.get(_o)),ca(t)&&a(o.get(Td)));break;case"set":ca(t)&&a(o.get(_o));break}}Eg()}function Wk(t,e){const n=Nc.get(t);return n&&n.get(e)}function Go(t){const e=At(t);return e===t?e:(nr(e,"iterate",Fl),xr(t)?e:e.map(ni))}function kf(t){return nr(t=At(t),"iterate",Fl),t}function ws(t,e){return Ji(t)?Gi(t)?wa(ni(e)):wa(e):ni(e)}const Vk={__proto__:null,[Symbol.iterator](){return Qh(this,Symbol.iterator,t=>ws(this,t))},concat(...t){return Go(this).concat(...t.map(e=>et(e)?Go(e):e))},entries(){return Qh(this,"entries",t=>(t[1]=ws(this,t[1]),t))},every(t,e){return Ri(this,"every",t,e,void 0,arguments)},filter(t,e){return Ri(this,"filter",t,e,n=>n.map(r=>ws(this,r)),arguments)},find(t,e){return Ri(this,"find",t,e,n=>ws(this,n),arguments)},findIndex(t,e){return Ri(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ri(this,"findLast",t,e,n=>ws(this,n),arguments)},findLastIndex(t,e){return Ri(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ri(this,"forEach",t,e,void 0,arguments)},includes(...t){return Xh(this,"includes",t)},indexOf(...t){return Xh(this,"indexOf",t)},join(t){return Go(this).join(t)},lastIndexOf(...t){return Xh(this,"lastIndexOf",t)},map(t,e){return Ri(this,"map",t,e,void 0,arguments)},pop(){return Ja(this,"pop")},push(...t){return Ja(this,"push",t)},reduce(t,...e){return wv(this,"reduce",t,e)},reduceRight(t,...e){return wv(this,"reduceRight",t,e)},shift(){return Ja(this,"shift")},some(t,e){return Ri(this,"some",t,e,void 0,arguments)},splice(...t){return Ja(this,"splice",t)},toReversed(){return Go(this).toReversed()},toSorted(t){return Go(this).toSorted(t)},toSpliced(...t){return Go(this).toSpliced(...t)},unshift(...t){return Ja(this,"unshift",t)},values(){return Qh(this,"values",t=>ws(this,t))}};function Qh(t,e,n){const r=kf(t),i=r[e]();return r!==t&&!xr(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const Hk=Array.prototype;function Ri(t,e,n,r,i,s){const o=kf(t),a=o!==t&&!xr(t),l=o[e];if(l!==Hk[e]){const f=l.apply(t,s);return a?ni(f):f}let u=n;o!==t&&(a?u=function(f,h){return n.call(this,ws(t,f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function wv(t,e,n,r){const i=kf(t);let s=n;return i!==t&&(xr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ws(t,a),l,t)}),i[e](s,...r)}function Xh(t,e,n){const r=At(t);nr(r,"iterate",Fl);const i=r[e](...n);return(i===-1||i===!1)&&Pf(n[0])?(n[0]=At(n[0]),r[e](...n)):i}function Ja(t,e,n=[]){Qi(),wg();const r=At(t)[e].apply(t,n);return Eg(),Xi(),r}const Yk=yg("__proto__,__v_isRef,__isVue"),g2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ei));function qk(t){ei(t)||(t=String(t));const e=At(this);return nr(e,"has",t),e.hasOwnProperty(t)}class y2{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?S2:E2:s?w2:b2).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=et(e);if(!i){let l;if(o&&(l=Vk[n]))return l;if(n==="hasOwnProperty")return qk}const a=Reflect.get(e,n,fn(e)?e:r);if((ei(n)?g2.has(n):Yk(n))||(i||nr(e,"get",n),s))return a;if(fn(a)){const l=o&&wf(n)?a:a.value;return i&&Wt(l)?Lc(l):l}return Wt(a)?i?Lc(a):ti(a):a}}class v2 extends y2{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];const o=et(e)&&wf(n);if(!this._isShallow){const u=Ji(s);if(!xr(r)&&!Ji(r)&&(s=At(s),r=At(r)),!o&&fn(s)&&!fn(r))return u||(s.value=r),!0}const a=o?Number(n)<e.length:Ft(e,n),l=Reflect.set(e,n,r,fn(e)?e:i);return e===At(i)&&(a?ks(r,s)&&Vi(e,"set",n,r):Vi(e,"add",n,r)),l}deleteProperty(e,n){const r=Ft(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Vi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ei(n)||!g2.has(n))&&nr(e,"has",n),r}ownKeys(e){return nr(e,"iterate",et(e)?"length":_o),Reflect.ownKeys(e)}}class _2 extends y2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Gk=new v2,zk=new _2,Kk=new v2(!0),Qk=new _2(!0),Id=t=>t,Hu=t=>Reflect.getPrototypeOf(t);function Xk(t,e,n){return function(...r){const i=this.__v_raw,s=At(i),o=ca(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Id:e?wa:ni;return!e&&nr(s,"iterate",l?Td:_o),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Yu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Jk(t,e){const n={get(i){const s=this.__v_raw,o=At(s),a=At(i);t||(ks(i,a)&&nr(o,"get",i),nr(o,"get",a));const{has:l}=Hu(o),u=e?Id:t?wa:ni;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&nr(At(i),"iterate",_o),i.size},has(i){const s=this.__v_raw,o=At(s),a=At(i);return t||(ks(i,a)&&nr(o,"has",i),nr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=At(a),u=e?Id:t?wa:ni;return!t&&nr(l,"iterate",_o),a.forEach((c,f)=>i.call(s,u(c),u(f),o))}};return Wn(n,t?{add:Yu("add"),set:Yu("set"),delete:Yu("delete"),clear:Yu("clear")}:{add(i){!e&&!xr(i)&&!Ji(i)&&(i=At(i));const s=At(this);return Hu(s).has.call(s,i)||(s.add(i),Vi(s,"add",i,i)),this},set(i,s){!e&&!xr(s)&&!Ji(s)&&(s=At(s));const o=At(this),{has:a,get:l}=Hu(o);let u=a.call(o,i);u||(i=At(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?ks(s,c)&&Vi(o,"set",i,s):Vi(o,"add",i,s),this},delete(i){const s=At(this),{has:o,get:a}=Hu(s);let l=o.call(s,i);l||(i=At(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&Vi(s,"delete",i,void 0),u},clear(){const i=At(this),s=i.size!==0,o=i.clear();return s&&Vi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Xk(i,t,e)}),n}function Tf(t,e){const n=Jk(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ft(n,i)&&i in r?n:r,i,s)}const Zk={get:Tf(!1,!1)},e3={get:Tf(!1,!0)},t3={get:Tf(!0,!1)},n3={get:Tf(!0,!0)},b2=new WeakMap,w2=new WeakMap,E2=new WeakMap,S2=new WeakMap;function r3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function i3(t){return t.__v_skip||!Object.isExtensible(t)?0:r3(Tk(t))}function ti(t){return Ji(t)?t:If(t,!1,Gk,Zk,b2)}function C2(t){return If(t,!1,Kk,e3,w2)}function Lc(t){return If(t,!0,zk,t3,E2)}function zo(t){return If(t,!0,Qk,n3,S2)}function If(t,e,n,r,i){if(!Wt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i3(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Gi(t){return Ji(t)?Gi(t.__v_raw):!!(t&&t.__v_isReactive)}function Ji(t){return!!(t&&t.__v_isReadonly)}function xr(t){return!!(t&&t.__v_isShallow)}function Pf(t){return t?!!t.__v_raw:!1}function At(t){const e=t&&t.__v_raw;return e?At(e):t}function xg(t){return!Ft(t,"__v_skip")&&Object.isExtensible(t)&&t2(t,"__v_skip",!0),t}const ni=t=>Wt(t)?ti(t):t,wa=t=>Wt(t)?Lc(t):t;function fn(t){return t?t.__v_isRef===!0:!1}function Ne(t){return x2(t,!1)}function Of(t){return x2(t,!0)}function x2(t,e){return fn(t)?t:new s3(t,e)}class s3{constructor(e,n){this.dep=new Cg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:At(e),this._value=n?e:ni(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||xr(e)||Ji(e);e=r?e:At(e),ks(e,n)&&(this._rawValue=e,this._value=r?e:ni(e),this.dep.trigger())}}function H(t){return fn(t)?t.value:t}function Ts(t){return ct(t)?t():H(t)}const o3={get:(t,e,n)=>e==="__v_raw"?t:H(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return fn(i)&&!fn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function A2(t){return Gi(t)?t:new Proxy(t,o3)}function a3(t){const e=et(t)?new Array(t.length):{};for(const n in t)e[n]=k2(t,n);return e}class l3{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=At(e);let i=!0,s=e;if(!et(e)||!wf(String(n)))do i=!Pf(s)||xr(s);while(i&&(s=s.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=H(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&fn(this._raw[this._key])){const n=this._object[this._key];if(fn(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Wk(this._raw,this._key)}}class u3{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ev(t,e,n){return fn(t)?t:ct(t)?new u3(t):Wt(t)&&arguments.length>1?k2(t,e,n):Ne(t)}function k2(t,e,n){return new l3(t,e,n)}class c3{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ll-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Zt!==this)return c2(this,!0),!0}get value(){const e=this.dep.track();return d2(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function f3(t,e,n=!1){let r,i;return ct(t)?r=t:(r=t.get,i=t.set),new c3(r,i,n)}const qu={},Fc=new WeakMap;let oo;function h3(t,e=!1,n=oo){if(n){let r=Fc.get(n);r||Fc.set(n,r=[]),r.push(t)}}function d3(t,e,n=Gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=S=>i?S:xr(S)||i===!1||i===0?Hi(S,1):Hi(S);let c,f,h,d,p=!1,g=!1;if(fn(t)?(f=()=>t.value,p=xr(t)):Gi(t)?(f=()=>u(t),p=!0):et(t)?(g=!0,p=t.some(S=>Gi(S)||xr(S)),f=()=>t.map(S=>{if(fn(S))return S.value;if(Gi(S))return u(S);if(ct(S))return l?l(S,2):S()})):ct(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Qi();try{h()}finally{Xi()}}const S=oo;oo=c;try{return l?l(t,3,[d]):t(d)}finally{oo=S}}:f=wi,e&&i){const S=f,E=i===!0?1/0:i;f=()=>Hi(S(),E)}const _=bg(),y=()=>{c.stop(),_&&_.active&&_g(_.effects,c)};if(s&&e){const S=e;e=(...E)=>{S(...E),y()}}let m=g?new Array(t.length).fill(qu):qu;const b=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const E=c.run();if(i||p||(g?E.some((x,C)=>ks(x,m[C])):ks(E,m))){h&&h();const x=oo;oo=c;try{const C=[E,m===qu?void 0:g&&m[0]===qu?[]:m,d];m=E,l?l(e,3,C):e(...C)}finally{oo=x}}}else c.run()};return a&&a(b),c=new l2(f),c.scheduler=o?()=>o(b,!1):b,d=S=>h3(S,!1,c),h=c.onStop=()=>{const S=Fc.get(c);if(S){if(l)l(S,4);else for(const E of S)E();Fc.delete(c)}},e?r?b(!0):m=c.run():o?o(b.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Hi(t,e=1/0,n){if(e<=0||!Wt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,fn(t))Hi(t.value,e,n);else if(et(t))for(let r=0;r<t.length;r++)Hi(t[r],e,n);else if(bf(t)||ca(t))t.forEach(r=>{Hi(r,e,n)});else if(e2(t)){for(const r in t)Hi(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Hi(t[r],e,n)}return t}function au(t,e,n,r){try{return r?t(...r):t()}catch(i){Mf(i,e,n)}}function ri(t,e,n,r){if(ct(t)){const i=au(t,e,n,r);return i&&Jw(i)&&i.catch(s=>{Mf(s,e,n)}),i}if(et(t)){const i=[];for(let s=0;s<t.length;s++)i.push(ri(t[s],e,n,r));return i}}function Mf(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(s){Qi(),au(s,null,10,[t,l,u]),Xi();return}}p3(t,n,i,r,o)}function p3(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const hr=[];let di=-1;const fa=[];let Es=null,Zo=0;const T2=Promise.resolve();let Bc=null;function Ln(t){const e=Bc||T2;return t?e.then(this?t.bind(this):t):e}function m3(t){let e=di+1,n=hr.length;for(;e<n;){const r=e+n>>>1,i=hr[r],s=Bl(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Ag(t){if(!(t.flags&1)){const e=Bl(t),n=hr[hr.length-1];!n||!(t.flags&2)&&e>=Bl(n)?hr.push(t):hr.splice(m3(e),0,t),t.flags|=1,I2()}}function I2(){Bc||(Bc=T2.then(O2))}function g3(t){et(t)?fa.push(...t):Es&&t.id===-1?Es.splice(Zo+1,0,t):t.flags&1||(fa.push(t),t.flags|=1),I2()}function Sv(t,e,n=di+1){for(;n<hr.length;n++){const r=hr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;hr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function P2(t){if(fa.length){const e=[...new Set(fa)].sort((n,r)=>Bl(n)-Bl(r));if(fa.length=0,Es){Es.push(...e);return}for(Es=e,Zo=0;Zo<Es.length;Zo++){const n=Es[Zo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Es=null,Zo=0}}const Bl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function O2(t){try{for(di=0;di<hr.length;di++){const e=hr[di];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),au(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;di<hr.length;di++){const e=hr[di];e&&(e.flags&=-2)}di=-1,hr.length=0,P2(),Bc=null,(hr.length||fa.length)&&O2()}}let zn=null,M2=null;function jc(t){const e=zn;return zn=t,M2=t&&t.type.__scopeId||null,e}function st(t,e=zn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Wc(-1);const s=jc(e);let o;try{o=t(...i)}finally{jc(s),r._d&&Wc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Mn(t,e){if(zn===null)return t;const n=Ff(zn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Gt]=e[i];s&&(ct(s)&&(s={mounted:s,updated:s}),s.deep&&Hi(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function no(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Qi(),ri(l,n,8,[t.el,a,t,e]),Xi())}}function _l(t,e){if(ir){let n=ir.provides;const r=ir.parent&&ir.parent.provides;r===n&&(n=ir.provides=Object.create(r)),n[t]=e}}function Fr(t,e,n=!1){const r=lu();if(r||bo){let i=bo?bo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ct(e)?e.call(r&&r.proxy):e}}function y3(){return!!(lu()||bo)}const v3=Symbol.for("v-scx"),_3=()=>Fr(v3);function En(t,e,n){return D2(t,e,n)}function D2(t,e,n=Gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Wn({},n),l=e&&r||!e&&s!=="post";let u;if(Vl){if(s==="sync"){const d=_3();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=wi,d.resume=wi,d.pause=wi,d}}const c=ir;a.call=(d,p,g)=>ri(d,c,p,g);let f=!1;s==="post"?a.scheduler=d=>{ur(d,c&&c.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(d,p)=>{p?d():Ag(d)}),a.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=d3(t,e,a);return Vl&&(u?u.push(h):l&&h()),h}function b3(t,e,n){const r=this.proxy,i=an(t)?t.includes(".")?R2(r,t):()=>r[t]:t.bind(r,r);let s;ct(e)?s=e:(s=e.handler,n=e);const o=uu(this),a=D2(i,s.bind(r),n);return o(),a}function R2(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const N2=Symbol("_vte"),L2=t=>t.__isTeleport,bl=t=>t&&(t.disabled||t.disabled===""),Cv=t=>t&&(t.defer||t.defer===""),xv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Av=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Pd=(t,e)=>{const n=t&&t.to;return an(n)?e?e(n):null:n},F2={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:_}}=u,y=bl(e.props);let{shapeFlag:m,children:b,dynamicChildren:S}=e;if(t==null){const E=e.el=g(""),x=e.anchor=g("");d(E,n,r),d(x,n,r);const C=(R,j)=>{m&16&&c(b,R,j,i,s,o,a,l)},k=()=>{const R=e.target=Pd(e.props,p),j=B2(R,e,g,d);R&&(o!=="svg"&&xv(R)?o="svg":o!=="mathml"&&Av(R)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(R),y||(C(R,j),rc(e,!1)))};y&&(C(n,x),rc(e,!0)),Cv(e.props)?(e.el.__isMounted=!1,ur(()=>{k(),delete e.el.__isMounted},s)):k()}else{if(Cv(e.props)&&t.el.__isMounted===!1){ur(()=>{F2.process(t,e,n,r,i,s,o,a,l,u)},s);return}e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,x=e.target=t.target,C=e.targetAnchor=t.targetAnchor,k=bl(t.props),R=k?n:x,j=k?E:C;if(o==="svg"||xv(x)?o="svg":(o==="mathml"||Av(x))&&(o="mathml"),S?(h(t.dynamicChildren,S,R,i,s,o,a),Pg(t,e,!0)):l||f(t,e,R,j,i,s,o,a,!1),y)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Gu(e,n,E,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const K=e.target=Pd(e.props,p);K&&Gu(e,K,null,u,0)}else k&&Gu(e,x,C,u,1);rc(e,y)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:f,props:h}=t;if(f&&(i(u),i(c)),s&&i(l),o&16){const d=s||!bl(h);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,d,!!g.dynamicChildren)}}},move:Gu,hydrate:w3};function Gu(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,f=s===2;if(f&&r(o,e,n),(!f||bl(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);f&&r(a,e,n)}function w3(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},f){function h(g,_,y,m){_.anchor=f(o(g),_,a(g),n,r,i,s),_.targetStart=y,_.targetAnchor=m}const d=e.target=Pd(e.props,l),p=bl(e.props);if(d){const g=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)h(t,e,g,g&&o(g));else{e.anchor=o(t);let _=g;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||B2(d,e,c,u),f(g&&o(g),e,d,n,r,i,s)}rc(e,p)}else p&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const E3=F2;function rc(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function B2(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[N2]=s,t&&(r(i,t),r(s,t)),s}const $i=Symbol("_leaveCb"),zu=Symbol("_enterCb");function S3(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ln(()=>{t.isMounted=!0}),G2(()=>{t.isUnmounting=!0}),t}const Mr=[Function,Array],j2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mr,onEnter:Mr,onAfterEnter:Mr,onEnterCancelled:Mr,onBeforeLeave:Mr,onLeave:Mr,onAfterLeave:Mr,onLeaveCancelled:Mr,onBeforeAppear:Mr,onAppear:Mr,onAfterAppear:Mr,onAppearCancelled:Mr},$2=t=>{const e=t.subTree;return e.component?$2(e.component):e},C3={name:"BaseTransition",props:j2,setup(t,{slots:e}){const n=lu(),r=S3();return()=>{const i=e.default&&V2(e.default(),!0);if(!i||!i.length)return;const s=U2(i),o=At(t),{mode:a}=o;if(r.isLeaving)return Jh(s);const l=kv(s);if(!l)return Jh(s);let u=Od(l,o,r,n,f=>u=f);l.type!==rr&&jl(l,u);let c=n.subTree&&kv(n.subTree);if(c&&c.type!==rr&&!co(c,l)&&$2(n).type!==rr){let f=Od(c,o,r,n);if(jl(c,f),a==="out-in"&&l.type!==rr)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},Jh(s);a==="in-out"&&l.type!==rr?f.delayLeave=(h,d,p)=>{const g=W2(r,c);g[String(c.key)]=c,h[$i]=()=>{d(),h[$i]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function U2(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rr){e=n;break}}return e}const x3=C3;function W2(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Od(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:_,onAppear:y,onAfterAppear:m,onAppearCancelled:b}=e,S=String(t.key),E=W2(n,t),x=(R,j)=>{R&&ri(R,r,9,j)},C=(R,j)=>{const K=j[1];x(R,j),et(R)?R.every(D=>D.length<=1)&&K():R.length<=1&&K()},k={mode:o,persisted:a,beforeEnter(R){let j=l;if(!n.isMounted)if(s)j=_||l;else return;R[$i]&&R[$i](!0);const K=E[S];K&&co(t,K)&&K.el[$i]&&K.el[$i](),x(j,[R])},enter(R){let j=u,K=c,D=f;if(!n.isMounted)if(s)j=y||u,K=m||c,D=b||f;else return;let ee=!1;const te=R[zu]=Z=>{ee||(ee=!0,Z?x(D,[R]):x(K,[R]),k.delayedLeave&&k.delayedLeave(),R[zu]=void 0)};j?C(j,[R,te]):te()},leave(R,j){const K=String(t.key);if(R[zu]&&R[zu](!0),n.isUnmounting)return j();x(h,[R]);let D=!1;const ee=R[$i]=te=>{D||(D=!0,j(),te?x(g,[R]):x(p,[R]),R[$i]=void 0,E[K]===t&&delete E[K])};E[K]=t,d?C(d,[R,ee]):ee()},clone(R){const j=Od(R,e,n,r,i);return i&&i(j),j}};return k}function Jh(t){if(Df(t))return t=Ds(t),t.children=null,t}function kv(t){if(!Df(t))return L2(t.type)&&t.children?U2(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ct(n.default))return n.default()}}function jl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,jl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function V2(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===at?(o.patchFlag&128&&i++,r=r.concat(V2(o.children,e,a))):(e||o.type!==rr)&&r.push(a!=null?Ds(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function xn(t,e){return ct(t)?Wn({name:t.name},e,{setup:t}):t}function H2(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function on(t){const e=lu(),n=Of(null);if(e){const i=e.refs===Gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}const $c=new WeakMap;function wl(t,e,n,r,i=!1){if(et(t)){t.forEach((p,g)=>wl(p,e&&(et(e)?e[g]:e),n,r,i));return}if(ha(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&wl(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Ff(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Gt?a.refs={}:a.refs,f=a.setupState,h=At(f),d=f===Gt?Xw:p=>Ft(h,p);if(u!=null&&u!==l){if(Tv(e),an(u))c[u]=null,d(u)&&(f[u]=null);else if(fn(u)){u.value=null;const p=e;p.k&&(c[p.k]=null)}}if(ct(l))au(l,a,12,[o,c]);else{const p=an(l),g=fn(l);if(p||g){const _=()=>{if(t.f){const y=p?d(l)?f[l]:c[l]:l.value;if(i)et(y)&&_g(y,s);else if(et(y))y.includes(s)||y.push(s);else if(p)c[l]=[s],d(l)&&(f[l]=c[l]);else{const m=[s];l.value=m,t.k&&(c[t.k]=m)}}else p?(c[l]=o,d(l)&&(f[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const y=()=>{_(),$c.delete(t)};y.id=-1,$c.set(t,y),ur(y,n)}else Tv(t),_()}}}function Tv(t){const e=$c.get(t);e&&(e.flags|=8,$c.delete(t))}xf().requestIdleCallback;xf().cancelIdleCallback;const ha=t=>!!t.type.__asyncLoader,Df=t=>t.type.__isKeepAlive;function A3(t,e){Y2(t,"a",e)}function k3(t,e){Y2(t,"da",e)}function Y2(t,e,n=ir){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Rf(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Df(i.parent.vnode)&&T3(r,e,n,i),i=i.parent}}function T3(t,e,n,r){const i=Rf(e,t,r,!0);ki(()=>{_g(r[e],i)},n)}function Rf(t,e,n=ir,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Qi();const a=uu(n),l=ri(e,n,t,o);return a(),Xi(),l});return r?i.unshift(s):i.push(s),s}}const is=t=>(e,n=ir)=>{(!Vl||t==="sp")&&Rf(t,(...r)=>e(...r),n)},I3=is("bm"),ln=is("m"),q2=is("bu"),P3=is("u"),G2=is("bum"),ki=is("um"),O3=is("sp"),M3=is("rtg"),D3=is("rtc");function R3(t,e=ir){Rf("ec",t,e)}const z2="components";function $l(t,e){return Q2(z2,t,!0,e)||t}const K2=Symbol.for("v-ndc");function kg(t){return an(t)?Q2(z2,t,!1)||t:t||K2}function Q2(t,e,n=!0,r=!1){const i=zn||ir;if(i){const s=i.type;{const a=gT(s,!1);if(a&&(a===e||a===Br(e)||a===Sf(Br(e))))return s}const o=Iv(i[t]||s[t],e)||Iv(i.appContext[t],e);return!o&&r?s:o}}function Iv(t,e){return t&&(t[e]||t[Br(e)]||t[Sf(Br(e))])}function Dt(t,e,n,r){let i;const s=n,o=et(t);if(o||an(t)){const a=o&&Gi(t);let l=!1,u=!1;a&&(l=!xr(t),u=Ji(t),t=kf(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?u?wa(ni(t[c])):ni(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(Wt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s)}}else i=[];return i}function Kn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(et(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ge(t,e,n={},r,i){if(zn.ce||zn.parent&&ha(zn.parent)&&zn.parent.ce){const u=Object.keys(n).length>0;return e!=="default"&&(n.name=e),ke(),It(at,null,[dt("slot",n,r&&r())],u?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),ke();const o=s&&X2(s(n)),a=n.key||o&&o.key,l=It(at,{key:(a&&!ei(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function X2(t){return t.some(e=>Wl(e)?!(e.type===rr||e.type===at&&!X2(e.children)):!0)?t:null}const Md=t=>t?g1(t)?Ff(t):Md(t.parent):null,El=Wn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Md(t.parent),$root:t=>Md(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>e1(t),$forceUpdate:t=>t.f||(t.f=()=>{Ag(t.update)}),$nextTick:t=>t.n||(t.n=Ln.bind(t.proxy)),$watch:t=>b3.bind(t)}),Zh=(t,e)=>t!==Gt&&!t.__isScriptSetup&&Ft(t,e),N3={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zh(r,e))return o[e]=1,r[e];if(i!==Gt&&Ft(i,e))return o[e]=2,i[e];if(Ft(s,e))return o[e]=3,s[e];if(n!==Gt&&Ft(n,e))return o[e]=4,n[e];Rd&&(o[e]=0)}}const u=El[e];let c,f;if(u)return e==="$attrs"&&nr(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Gt&&Ft(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ft(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zh(i,e)?(i[e]=n,!0):r!==Gt&&Ft(r,e)?(r[e]=n,!0):Ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:s,type:o}},a){let l;return!!(n[a]||t!==Gt&&a[0]!=="$"&&Ft(t,a)||Zh(e,a)||Ft(s,a)||Ft(r,a)||Ft(El,a)||Ft(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $s(){return L3().slots}function L3(t){const e=lu();return e.setupContext||(e.setupContext=v1(e))}function Dd(t){return et(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function J2(t,e){const n=Dd(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?et(i)||ct(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}let Rd=!0;function F3(t){const e=e1(t),n=t.proxy,r=t.ctx;Rd=!1,e.beforeCreate&&Pv(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:_,beforeDestroy:y,beforeUnmount:m,destroyed:b,unmounted:S,render:E,renderTracked:x,renderTriggered:C,errorCaptured:k,serverPrefetch:R,expose:j,inheritAttrs:K,components:D,directives:ee,filters:te}=e;if(u&&B3(u,r,null),o)for(const q in o){const re=o[q];ct(re)&&(r[q]=re.bind(n))}if(i){const q=i.call(n,n);Wt(q)&&(t.data=ti(q))}if(Rd=!0,s)for(const q in s){const re=s[q],me=ct(re)?re.bind(n,n):ct(re.get)?re.get.bind(n,n):wi,ie=!ct(re)&&ct(re.set)?re.set.bind(n):wi,X=Me({get:me,set:ie});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>X.value,set:ne=>X.value=ne})}if(a)for(const q in a)Z2(a[q],r,n,q);if(l){const q=ct(l)?l.call(n):l;Reflect.ownKeys(q).forEach(re=>{_l(re,q[re])})}c&&Pv(c,t,"c");function fe(q,re){et(re)?re.forEach(me=>q(me.bind(n))):re&&q(re.bind(n))}if(fe(I3,f),fe(ln,h),fe(q2,d),fe(P3,p),fe(A3,g),fe(k3,_),fe(R3,k),fe(D3,x),fe(M3,C),fe(G2,m),fe(ki,S),fe(O3,R),et(j))if(j.length){const q=t.exposed||(t.exposed={});j.forEach(re=>{Object.defineProperty(q,re,{get:()=>n[re],set:me=>n[re]=me,enumerable:!0})})}else t.exposed||(t.exposed={});E&&t.render===wi&&(t.render=E),K!=null&&(t.inheritAttrs=K),D&&(t.components=D),ee&&(t.directives=ee),R&&H2(t)}function B3(t,e,n=wi){et(t)&&(t=Nd(t));for(const r in t){const i=t[r];let s;Wt(i)?"default"in i?s=Fr(i.from||r,i.default,!0):s=Fr(i.from||r):s=Fr(i),fn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Pv(t,e,n){ri(et(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Z2(t,e,n,r){let i=r.includes(".")?R2(n,r):()=>n[r];if(an(t)){const s=e[t];ct(s)&&En(i,s)}else if(ct(t))En(i,t.bind(n));else if(Wt(t))if(et(t))t.forEach(s=>Z2(s,e,n,r));else{const s=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(s)&&En(i,s,t)}}function e1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Uc(l,u,o,!0)),Uc(l,e,o)),Wt(e)&&s.set(e,l),l}function Uc(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Uc(t,s,n,!0),i&&i.forEach(o=>Uc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=j3[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const j3={data:Ov,props:Mv,emits:Mv,methods:cl,computed:cl,beforeCreate:lr,created:lr,beforeMount:lr,mounted:lr,beforeUpdate:lr,updated:lr,beforeDestroy:lr,beforeUnmount:lr,destroyed:lr,unmounted:lr,activated:lr,deactivated:lr,errorCaptured:lr,serverPrefetch:lr,components:cl,directives:cl,watch:U3,provide:Ov,inject:$3};function Ov(t,e){return e?t?function(){return Wn(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function $3(t,e){return cl(Nd(t),Nd(e))}function Nd(t){if(et(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function lr(t,e){return t?[...new Set([].concat(t,e))]:e}function cl(t,e){return t?Wn(Object.create(null),t,e):e}function Mv(t,e){return t?et(t)&&et(e)?[...new Set([...t,...e])]:Wn(Object.create(null),Dd(t),Dd(e??{})):e}function U3(t,e){if(!t)return e;if(!e)return t;const n=Wn(Object.create(null),t);for(const r in e)n[r]=lr(t[r],e[r]);return n}function t1(){return{app:null,config:{isNativeTag:Xw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let W3=0;function V3(t,e){return function(r,i=null){ct(r)||(r=Wn({},r)),i!=null&&!Wt(i)&&(i=null);const s=t1(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:W3++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:vT,get config(){return s.config},set config(c){},use(c,...f){return o.has(c)||(c&&ct(c.install)?(o.add(c),c.install(u,...f)):ct(c)&&(o.add(c),c(u,...f))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,f){return f?(s.components[c]=f,u):s.components[c]},directive(c,f){return f?(s.directives[c]=f,u):s.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||dt(r,i);return d.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(d,c,h),l=!0,u._container=c,c.__vue_app__=u,Ff(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ri(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return s.provides[c]=f,u},runWithContext(c){const f=bo;bo=u;try{return c()}finally{bo=f}}};return u}}let bo=null;const H3=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Br(e)}Modifiers`]||t[`${js(e)}Modifiers`];function Y3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Gt;let i=n;const s=e.startsWith("update:"),o=s&&H3(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>an(c)?c.trim():c)),o.number&&(i=n.map(Cf)));let a,l=r[a=Gh(e)]||r[a=Gh(Br(e))];!l&&s&&(l=r[a=Gh(js(e))]),l&&ri(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ri(u,t,6,i)}}const q3=new WeakMap;function n1(t,e,n=!1){const r=n?q3:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ct(t)){const l=u=>{const c=n1(u,e,!0);c&&(a=!0,Wn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Wt(t)&&r.set(t,null),null):(et(s)?s.forEach(l=>o[l]=null):Wn(o,s),Wt(t)&&r.set(t,o),o)}function Nf(t,e){return!t||!_f(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ft(t,e[0].toLowerCase()+e.slice(1))||Ft(t,js(e))||Ft(t,e))}function Dv(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=t,_=jc(t);let y,m;try{if(n.shapeFlag&4){const S=i||r,E=S;y=pi(u.call(E,S,c,f,d,h,p)),m=a}else{const S=e;y=pi(S.length>1?S(f,{attrs:a,slots:o,emit:l}):S(f,null)),m=e.props?a:G3(a)}}catch(S){Sl.length=0,Mf(S,t,1),y=dt(rr)}let b=y;if(m&&g!==!1){const S=Object.keys(m),{shapeFlag:E}=b;S.length&&E&7&&(s&&S.some(vg)&&(m=z3(m,s)),b=Ds(b,m,!1,!0))}return n.dirs&&(b=Ds(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&jl(b,n.transition),y=b,jc(_),y}const G3=t=>{let e;for(const n in t)(n==="class"||n==="style"||_f(n))&&((e||(e={}))[n]=t[n]);return e},z3=(t,e)=>{const n={};for(const r in t)(!vg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function K3(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Rv(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==r[h]&&!Nf(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Rv(r,o,u):!0:!!o;return!1}function Rv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Nf(n,s))return!0}return!1}function Q3({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const r1={},i1=()=>Object.create(r1),s1=t=>Object.getPrototypeOf(t)===r1;function X3(t,e,n,r=!1){const i={},s=i1();t.propsDefaults=Object.create(null),o1(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:C2(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function J3(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=At(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Nf(t.emitsOptions,h))continue;const d=e[h];if(l)if(Ft(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=Br(h);i[p]=Ld(l,a,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{o1(t,e,i,s)&&(u=!0);let c;for(const f in a)(!e||!Ft(e,f)&&((c=js(f))===f||!Ft(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=Ld(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Ft(e,f))&&(delete s[f],u=!0)}u&&Vi(t.attrs,"set","")}function o1(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gl(l))continue;const u=e[l];let c;i&&Ft(i,c=Br(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Nf(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=At(n),u=a||Gt;for(let c=0;c<s.length;c++){const f=s[c];n[f]=Ld(i,l,f,u[f],t,!Ft(u,f))}}return o}function Ld(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ft(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ct(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=uu(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===js(n))&&(r=!0))}return r}const Z3=new WeakMap;function a1(t,e,n=!1){const r=n?Z3:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ct(t)){const c=f=>{l=!0;const[h,d]=a1(f,e,!0);Wn(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Wt(t)&&r.set(t,ua),ua;if(et(s))for(let c=0;c<s.length;c++){const f=Br(s[c]);Nv(f)&&(o[f]=Gt)}else if(s)for(const c in s){const f=Br(c);if(Nv(f)){const h=s[c],d=o[f]=et(h)||ct(h)?{type:h}:Wn({},h),p=d.type;let g=!1,_=!0;if(et(p))for(let y=0;y<p.length;++y){const m=p[y],b=ct(m)&&m.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(_=!1)}else g=ct(p)&&p.name==="Boolean";d[0]=g,d[1]=_,(g||Ft(d,"default"))&&a.push(f)}}const u=[o,a];return Wt(t)&&r.set(t,u),u}function Nv(t){return t[0]!=="$"&&!gl(t)}const Tg=t=>t==="_"||t==="_ctx"||t==="$stable",Ig=t=>et(t)?t.map(pi):[pi(t)],eT=(t,e,n)=>{if(e._n)return e;const r=st((...i)=>Ig(e(...i)),n);return r._c=!1,r},l1=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Tg(i))continue;const s=t[i];if(ct(s))e[i]=eT(i,s,r);else if(s!=null){const o=Ig(s);e[i]=()=>o}}},u1=(t,e)=>{const n=Ig(e);t.slots.default=()=>n},c1=(t,e,n)=>{for(const r in e)(n||!Tg(r))&&(t[r]=e[r])},tT=(t,e,n)=>{const r=t.slots=i1();if(t.vnode.shapeFlag&32){const i=e._;i?(c1(r,e,n),n&&t2(r,"_",i,!0)):l1(e,r)}else e&&u1(t,e)},nT=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:c1(i,e,n):(s=!e.$stable,l1(e,i)),o=e}else e&&(u1(t,e),o={default:1});if(s)for(const a in i)!Tg(a)&&o[a]==null&&delete i[a]},ur=aT;function rT(t){return iT(t)}function iT(t,e){const n=xf();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=wi,insertStaticContent:p}=t,g=(P,I,B,N=null,M=null,V=null,O=void 0,z=null,W=!!I.dynamicChildren)=>{if(P===I)return;P&&!co(P,I)&&(N=J(P),ne(P,M,V,!0),P=null),I.patchFlag===-2&&(W=!1,I.dynamicChildren=null);const{type:U,ref:Q,shapeFlag:he}=I;switch(U){case Lf:_(P,I,B,N);break;case rr:y(P,I,B,N);break;case ic:P==null&&m(I,B,N,O);break;case at:D(P,I,B,N,M,V,O,z,W);break;default:he&1?E(P,I,B,N,M,V,O,z,W):he&6?ee(P,I,B,N,M,V,O,z,W):(he&64||he&128)&&U.process(P,I,B,N,M,V,O,z,W,L)}Q!=null&&M?wl(Q,P&&P.ref,V,I||P,!I):Q==null&&P&&P.ref!=null&&wl(P.ref,null,V,P,!0)},_=(P,I,B,N)=>{if(P==null)r(I.el=a(I.children),B,N);else{const M=I.el=P.el;I.children!==P.children&&u(M,I.children)}},y=(P,I,B,N)=>{P==null?r(I.el=l(I.children||""),B,N):I.el=P.el},m=(P,I,B,N)=>{[P.el,P.anchor]=p(P.children,I,B,N,P.el,P.anchor)},b=({el:P,anchor:I},B,N)=>{let M;for(;P&&P!==I;)M=h(P),r(P,B,N),P=M;r(I,B,N)},S=({el:P,anchor:I})=>{let B;for(;P&&P!==I;)B=h(P),i(P),P=B;i(I)},E=(P,I,B,N,M,V,O,z,W)=>{if(I.type==="svg"?O="svg":I.type==="math"&&(O="mathml"),P==null)x(I,B,N,M,V,O,z,W);else{const U=P.el&&P.el._isVueCE?P.el:null;try{U&&U._beginPatch(),R(P,I,M,V,O,z,W)}finally{U&&U._endPatch()}}},x=(P,I,B,N,M,V,O,z)=>{let W,U;const{props:Q,shapeFlag:he,transition:le,dirs:Oe}=P;if(W=P.el=o(P.type,V,Q&&Q.is,Q),he&8?c(W,P.children):he&16&&k(P.children,W,null,N,M,ed(P,V),O,z),Oe&&no(P,null,N,"created"),C(W,P,P.scopeId,O,N),Q){for(const A in Q)A!=="value"&&!gl(A)&&s(W,A,null,Q[A],V,N);"value"in Q&&s(W,"value",null,Q.value,V),(U=Q.onVnodeBeforeMount)&&hi(U,N,P)}Oe&&no(P,null,N,"beforeMount");const w=sT(M,le);w&&le.beforeEnter(W),r(W,I,B),((U=Q&&Q.onVnodeMounted)||w||Oe)&&ur(()=>{U&&hi(U,N,P),w&&le.enter(W),Oe&&no(P,null,N,"mounted")},M)},C=(P,I,B,N,M)=>{if(B&&d(P,B),N)for(let V=0;V<N.length;V++)d(P,N[V]);if(M){let V=M.subTree;if(I===V||d1(V.type)&&(V.ssContent===I||V.ssFallback===I)){const O=M.vnode;C(P,O,O.scopeId,O.slotScopeIds,M.parent)}}},k=(P,I,B,N,M,V,O,z,W=0)=>{for(let U=W;U<P.length;U++){const Q=P[U]=z?Ss(P[U]):pi(P[U]);g(null,Q,I,B,N,M,V,O,z)}},R=(P,I,B,N,M,V,O)=>{const z=I.el=P.el;let{patchFlag:W,dynamicChildren:U,dirs:Q}=I;W|=P.patchFlag&16;const he=P.props||Gt,le=I.props||Gt;let Oe;if(B&&ro(B,!1),(Oe=le.onVnodeBeforeUpdate)&&hi(Oe,B,I,P),Q&&no(I,P,B,"beforeUpdate"),B&&ro(B,!0),(he.innerHTML&&le.innerHTML==null||he.textContent&&le.textContent==null)&&c(z,""),U?j(P.dynamicChildren,U,z,B,N,ed(I,M),V):O||re(P,I,z,null,B,N,ed(I,M),V,!1),W>0){if(W&16)K(z,he,le,B,M);else if(W&2&&he.class!==le.class&&s(z,"class",null,le.class,M),W&4&&s(z,"style",he.style,le.style,M),W&8){const w=I.dynamicProps;for(let A=0;A<w.length;A++){const F=w[A],de=he[F],_e=le[F];(_e!==de||F==="value")&&s(z,F,de,_e,M,B)}}W&1&&P.children!==I.children&&c(z,I.children)}else!O&&U==null&&K(z,he,le,B,M);((Oe=le.onVnodeUpdated)||Q)&&ur(()=>{Oe&&hi(Oe,B,I,P),Q&&no(I,P,B,"updated")},N)},j=(P,I,B,N,M,V,O)=>{for(let z=0;z<I.length;z++){const W=P[z],U=I[z],Q=W.el&&(W.type===at||!co(W,U)||W.shapeFlag&198)?f(W.el):B;g(W,U,Q,null,N,M,V,O,!0)}},K=(P,I,B,N,M)=>{if(I!==B){if(I!==Gt)for(const V in I)!gl(V)&&!(V in B)&&s(P,V,I[V],null,M,N);for(const V in B){if(gl(V))continue;const O=B[V],z=I[V];O!==z&&V!=="value"&&s(P,V,z,O,M,N)}"value"in B&&s(P,"value",I.value,B.value,M)}},D=(P,I,B,N,M,V,O,z,W)=>{const U=I.el=P?P.el:a(""),Q=I.anchor=P?P.anchor:a("");let{patchFlag:he,dynamicChildren:le,slotScopeIds:Oe}=I;Oe&&(z=z?z.concat(Oe):Oe),P==null?(r(U,B,N),r(Q,B,N),k(I.children||[],B,Q,M,V,O,z,W)):he>0&&he&64&&le&&P.dynamicChildren&&P.dynamicChildren.length===le.length?(j(P.dynamicChildren,le,B,M,V,O,z),(I.key!=null||M&&I===M.subTree)&&Pg(P,I,!0)):re(P,I,B,Q,M,V,O,z,W)},ee=(P,I,B,N,M,V,O,z,W)=>{I.slotScopeIds=z,P==null?I.shapeFlag&512?M.ctx.activate(I,B,N,O,W):te(I,B,N,M,V,O,W):Z(P,I,W)},te=(P,I,B,N,M,V,O)=>{const z=P.component=hT(P,N,M);if(Df(P)&&(z.ctx.renderer=L),dT(z,!1,O),z.asyncDep){if(M&&M.registerDep(z,fe,O),!P.el){const W=z.subTree=dt(rr);y(null,W,I,B),P.placeholder=W.el}}else fe(z,P,I,B,M,V,O)},Z=(P,I,B)=>{const N=I.component=P.component;if(K3(P,I,B))if(N.asyncDep&&!N.asyncResolved){q(N,I,B);return}else N.next=I,N.update();else I.el=P.el,N.vnode=I},fe=(P,I,B,N,M,V,O)=>{const z=()=>{if(P.isMounted){let{next:he,bu:le,u:Oe,parent:w,vnode:A}=P;{const Re=f1(P);if(Re){he&&(he.el=A.el,q(P,he,O)),Re.asyncDep.then(()=>{P.isUnmounted||z()});return}}let F=he,de;ro(P,!1),he?(he.el=A.el,q(P,he,O)):he=A,le&&nc(le),(de=he.props&&he.props.onVnodeBeforeUpdate)&&hi(de,w,he,A),ro(P,!0);const _e=Dv(P),xe=P.subTree;P.subTree=_e,g(xe,_e,f(xe.el),J(xe),P,M,V),he.el=_e.el,F===null&&Q3(P,_e.el),Oe&&ur(Oe,M),(de=he.props&&he.props.onVnodeUpdated)&&ur(()=>hi(de,w,he,A),M)}else{let he;const{el:le,props:Oe}=I,{bm:w,m:A,parent:F,root:de,type:_e}=P,xe=ha(I);ro(P,!1),w&&nc(w),!xe&&(he=Oe&&Oe.onVnodeBeforeMount)&&hi(he,F,I),ro(P,!0);{de.ce&&de.ce._def.shadowRoot!==!1&&de.ce._injectChildStyle(_e);const Re=P.subTree=Dv(P);g(null,Re,B,N,P,M,V),I.el=Re.el}if(A&&ur(A,M),!xe&&(he=Oe&&Oe.onVnodeMounted)){const Re=I;ur(()=>hi(he,F,Re),M)}(I.shapeFlag&256||F&&ha(F.vnode)&&F.vnode.shapeFlag&256)&&P.a&&ur(P.a,M),P.isMounted=!0,I=B=N=null}};P.scope.on();const W=P.effect=new l2(z);P.scope.off();const U=P.update=W.run.bind(W),Q=P.job=W.runIfDirty.bind(W);Q.i=P,Q.id=P.uid,W.scheduler=()=>Ag(Q),ro(P,!0),U()},q=(P,I,B)=>{I.component=P;const N=P.vnode.props;P.vnode=I,P.next=null,J3(P,I.props,N,B),nT(P,I.children,B),Qi(),Sv(P),Xi()},re=(P,I,B,N,M,V,O,z,W=!1)=>{const U=P&&P.children,Q=P?P.shapeFlag:0,he=I.children,{patchFlag:le,shapeFlag:Oe}=I;if(le>0){if(le&128){ie(U,he,B,N,M,V,O,z,W);return}else if(le&256){me(U,he,B,N,M,V,O,z,W);return}}Oe&8?(Q&16&&Ee(U,M,V),he!==U&&c(B,he)):Q&16?Oe&16?ie(U,he,B,N,M,V,O,z,W):Ee(U,M,V,!0):(Q&8&&c(B,""),Oe&16&&k(he,B,N,M,V,O,z,W))},me=(P,I,B,N,M,V,O,z,W)=>{P=P||ua,I=I||ua;const U=P.length,Q=I.length,he=Math.min(U,Q);let le;for(le=0;le<he;le++){const Oe=I[le]=W?Ss(I[le]):pi(I[le]);g(P[le],Oe,B,null,M,V,O,z,W)}U>Q?Ee(P,M,V,!0,!1,he):k(I,B,N,M,V,O,z,W,he)},ie=(P,I,B,N,M,V,O,z,W)=>{let U=0;const Q=I.length;let he=P.length-1,le=Q-1;for(;U<=he&&U<=le;){const Oe=P[U],w=I[U]=W?Ss(I[U]):pi(I[U]);if(co(Oe,w))g(Oe,w,B,null,M,V,O,z,W);else break;U++}for(;U<=he&&U<=le;){const Oe=P[he],w=I[le]=W?Ss(I[le]):pi(I[le]);if(co(Oe,w))g(Oe,w,B,null,M,V,O,z,W);else break;he--,le--}if(U>he){if(U<=le){const Oe=le+1,w=Oe<Q?I[Oe].el:N;for(;U<=le;)g(null,I[U]=W?Ss(I[U]):pi(I[U]),B,w,M,V,O,z,W),U++}}else if(U>le)for(;U<=he;)ne(P[U],M,V,!0),U++;else{const Oe=U,w=U,A=new Map;for(U=w;U<=le;U++){const Ue=I[U]=W?Ss(I[U]):pi(I[U]);Ue.key!=null&&A.set(Ue.key,U)}let F,de=0;const _e=le-w+1;let xe=!1,Re=0;const ye=new Array(_e);for(U=0;U<_e;U++)ye[U]=0;for(U=Oe;U<=he;U++){const Ue=P[U];if(de>=_e){ne(Ue,M,V,!0);continue}let He;if(Ue.key!=null)He=A.get(Ue.key);else for(F=w;F<=le;F++)if(ye[F-w]===0&&co(Ue,I[F])){He=F;break}He===void 0?ne(Ue,M,V,!0):(ye[He-w]=U+1,He>=Re?Re=He:xe=!0,g(Ue,I[He],B,null,M,V,O,z,W),de++)}const Ce=xe?oT(ye):ua;for(F=Ce.length-1,U=_e-1;U>=0;U--){const Ue=w+U,He=I[Ue],tt=I[Ue+1],nt=Ue+1<Q?tt.el||h1(tt):N;ye[U]===0?g(null,He,B,nt,M,V,O,z,W):xe&&(F<0||U!==Ce[F]?X(He,B,nt,2):F--)}}},X=(P,I,B,N,M=null)=>{const{el:V,type:O,transition:z,children:W,shapeFlag:U}=P;if(U&6){X(P.component.subTree,I,B,N);return}if(U&128){P.suspense.move(I,B,N);return}if(U&64){O.move(P,I,B,L);return}if(O===at){r(V,I,B);for(let he=0;he<W.length;he++)X(W[he],I,B,N);r(P.anchor,I,B);return}if(O===ic){b(P,I,B);return}if(N!==2&&U&1&&z)if(N===0)z.beforeEnter(V),r(V,I,B),ur(()=>z.enter(V),M);else{const{leave:he,delayLeave:le,afterLeave:Oe}=z,w=()=>{P.ctx.isUnmounted?i(V):r(V,I,B)},A=()=>{V._isLeaving&&V[$i](!0),he(V,()=>{w(),Oe&&Oe()})};le?le(V,w,A):A()}else r(V,I,B)},ne=(P,I,B,N=!1,M=!1)=>{const{type:V,props:O,ref:z,children:W,dynamicChildren:U,shapeFlag:Q,patchFlag:he,dirs:le,cacheIndex:Oe}=P;if(he===-2&&(M=!1),z!=null&&(Qi(),wl(z,null,B,P,!0),Xi()),Oe!=null&&(I.renderCache[Oe]=void 0),Q&256){I.ctx.deactivate(P);return}const w=Q&1&&le,A=!ha(P);let F;if(A&&(F=O&&O.onVnodeBeforeUnmount)&&hi(F,I,P),Q&6)ge(P.component,B,N);else{if(Q&128){P.suspense.unmount(B,N);return}w&&no(P,null,I,"beforeUnmount"),Q&64?P.type.remove(P,I,B,L,N):U&&!U.hasOnce&&(V!==at||he>0&&he&64)?Ee(U,I,B,!1,!0):(V===at&&he&384||!M&&Q&16)&&Ee(W,I,B),N&&pe(P)}(A&&(F=O&&O.onVnodeUnmounted)||w)&&ur(()=>{F&&hi(F,I,P),w&&no(P,null,I,"unmounted")},B)},pe=P=>{const{type:I,el:B,anchor:N,transition:M}=P;if(I===at){ve(B,N);return}if(I===ic){S(P);return}const V=()=>{i(B),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(P.shapeFlag&1&&M&&!M.persisted){const{leave:O,delayLeave:z}=M,W=()=>O(B,V);z?z(P.el,V,W):W()}else V()},ve=(P,I)=>{let B;for(;P!==I;)B=h(P),i(P),P=B;i(I)},ge=(P,I,B)=>{const{bum:N,scope:M,job:V,subTree:O,um:z,m:W,a:U}=P;Lv(W),Lv(U),N&&nc(N),M.stop(),V&&(V.flags|=8,ne(O,P,I,B)),z&&ur(z,I),ur(()=>{P.isUnmounted=!0},I)},Ee=(P,I,B,N=!1,M=!1,V=0)=>{for(let O=V;O<P.length;O++)ne(P[O],I,B,N,M)},J=P=>{if(P.shapeFlag&6)return J(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const I=h(P.anchor||P.el),B=I&&I[N2];return B?h(B):I};let G=!1;const oe=(P,I,B)=>{let N;P==null?I._vnode&&(ne(I._vnode,null,null,!0),N=I._vnode.component):g(I._vnode||null,P,I,null,null,null,B),I._vnode=P,G||(G=!0,Sv(N),P2(),G=!1)},L={p:g,um:ne,m:X,r:pe,mt:te,mc:k,pc:re,pbc:j,n:J,o:t};return{render:oe,hydrate:void 0,createApp:V3(oe)}}function ed({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ro({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sT(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pg(t,e,n=!1){const r=t.children,i=e.children;if(et(r)&&et(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ss(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Pg(o,a)),a.type===Lf&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=s+(t.type===at?1:0)),a.type===rr&&!a.el&&(a.el=o.el)}}function oT(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function f1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:f1(e)}function Lv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function h1(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?h1(e.subTree):null}const d1=t=>t.__isSuspense;function aT(t,e){e&&e.pendingBranch?et(t)?e.effects.push(...t):e.effects.push(t):g3(t)}const at=Symbol.for("v-fgt"),Lf=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),ic=Symbol.for("v-stc"),Sl=[];let Er=null;function ke(t=!1){Sl.push(Er=t?null:[])}function lT(){Sl.pop(),Er=Sl[Sl.length-1]||null}let Ul=1;function Wc(t,e=!1){Ul+=t,t<0&&Er&&e&&(Er.hasOnce=!0)}function p1(t){return t.dynamicChildren=Ul>0?Er||ua:null,lT(),Ul>0&&Er&&Er.push(t),t}function Be(t,e,n,r,i,s){return p1(ue(t,e,n,r,i,s,!0))}function It(t,e,n,r,i){return p1(dt(t,e,n,r,i,!0))}function Wl(t){return t?t.__v_isVNode===!0:!1}function co(t,e){return t.type===e.type&&t.key===e.key}const m1=({key:t})=>t??null,sc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?an(t)||fn(t)||ct(t)?{i:zn,r:t,k:e,f:!!n}:t:null);function ue(t,e=null,n=null,r=0,i=null,s=t===at?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&m1(e),ref:e&&sc(e),scopeId:M2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:zn};return a?(Mg(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=an(n)?8:16),Ul>0&&!o&&Er&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Er.push(l),l}const dt=uT;function uT(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===K2)&&(t=rr),Wl(t)){const a=Ds(t,e,!0);return n&&Mg(a,n),Ul>0&&!s&&Er&&(a.shapeFlag&6?Er[Er.indexOf(t)]=a:Er.push(a)),a.patchFlag=-2,a}if(yT(t)&&(t=t.__vccOpts),e){e=Nr(e);let{class:a,style:l}=e;a&&!an(a)&&(e.class=ut(a)),Wt(l)&&(Pf(l)&&!et(l)&&(l=Wn({},l)),e.style=Nn(l))}const o=an(t)?1:d1(t)?128:L2(t)?64:Wt(t)?4:ct(t)?2:0;return ue(t,e,n,r,i,o,s,!0)}function Nr(t){return t?Pf(t)||s1(t)?Wn({},t):t:null}function Ds(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?jr(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&m1(u),ref:e&&e.ref?n&&s?et(s)?s.concat(sc(e)):[s,sc(e)]:sc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==at?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ds(t.ssContent),ssFallback:t.ssFallback&&Ds(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&jl(c,l.clone(c)),c}function Pt(t=" ",e=0){return dt(Lf,null,t,e)}function Og(t,e){const n=dt(ic,null,t);return n.staticCount=e,n}function Ye(t="",e=!1){return e?(ke(),It(rr,null,t)):dt(rr,null,t)}function pi(t){return t==null||typeof t=="boolean"?dt(rr):et(t)?dt(at,null,t.slice()):Wl(t)?Ss(t):dt(Lf,null,String(t))}function Ss(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ds(t)}function Mg(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(et(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Mg(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!s1(e)?e._ctx=zn:i===3&&zn&&(zn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:zn},n=32):(e=String(e),r&64?(n=16,e=[Pt(e)]):n=8);t.children=e,t.shapeFlag|=n}function jr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ut([e.class,r.class]));else if(i==="style")e.style=Nn([e.style,r.style]);else if(_f(i)){const s=e[i],o=r[i];o&&s!==o&&!(et(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function hi(t,e,n,r=null){ri(t,e,7,[n,r])}const cT=t1();let fT=0;function hT(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||cT,s={uid:fT++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new s2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a1(r,i),emitsOptions:n1(r,i),emit:null,emitted:null,propsDefaults:Gt,inheritAttrs:r.inheritAttrs,ctx:Gt,data:Gt,props:Gt,attrs:Gt,slots:Gt,refs:Gt,setupState:Gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Y3.bind(null,s),t.ce&&t.ce(s),s}let ir=null;const lu=()=>ir||zn;let Vc,Fd;{const t=xf(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Vc=e("__VUE_INSTANCE_SETTERS__",n=>ir=n),Fd=e("__VUE_SSR_SETTERS__",n=>Vl=n)}const uu=t=>{const e=ir;return Vc(t),t.scope.on(),()=>{t.scope.off(),Vc(e)}},Fv=()=>{ir&&ir.scope.off(),Vc(null)};function g1(t){return t.vnode.shapeFlag&4}let Vl=!1;function dT(t,e=!1,n=!1){e&&Fd(e);const{props:r,children:i}=t.vnode,s=g1(t);X3(t,r,s,e),tT(t,i,n||e);const o=s?pT(t,e):void 0;return e&&Fd(!1),o}function pT(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,N3);const{setup:r}=n;if(r){Qi();const i=t.setupContext=r.length>1?v1(t):null,s=uu(t),o=au(r,t,0,[t.props,i]),a=Jw(o);if(Xi(),s(),(a||t.sp)&&!ha(t)&&H2(t),a){if(o.then(Fv,Fv),e)return o.then(l=>{Bv(t,l)}).catch(l=>{Mf(l,t,0)});t.asyncDep=o}else Bv(t,o)}else y1(t)}function Bv(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Wt(e)&&(t.setupState=A2(e)),y1(t)}function y1(t,e,n){const r=t.type;t.render||(t.render=r.render||wi);{const i=uu(t);Qi();try{F3(t)}finally{Xi(),i()}}}const mT={get(t,e){return nr(t,"get",""),t[e]}};function v1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,mT),slots:t.slots,emit:t.emit,expose:e}}function Ff(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(A2(xg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in El)return El[n](t)},has(e,n){return n in e||n in El}})):t.proxy}function gT(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function yT(t){return ct(t)&&"__vccOpts"in t}const Me=(t,e)=>f3(t,e,Vl);function mn(t,e,n){try{Wc(-1);const r=arguments.length;return r===2?Wt(e)&&!et(e)?Wl(e)?dt(t,null,[e]):dt(t,e):dt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Wl(n)&&(n=[n]),dt(t,e,n))}finally{Wc(1)}}const vT="3.5.26";let Bd;const jv=typeof window<"u"&&window.trustedTypes;if(jv)try{Bd=jv.createPolicy("vue",{createHTML:t=>t})}catch{}const _1=Bd?t=>Bd.createHTML(t):t=>t,_T="http://www.w3.org/2000/svg",bT="http://www.w3.org/1998/Math/MathML",ji=typeof document<"u"?document:null,$v=ji&&ji.createElement("template"),wT={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ji.createElementNS(_T,t):e==="mathml"?ji.createElementNS(bT,t):n?ji.createElement(t,{is:n}):ji.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ji.createTextNode(t),createComment:t=>ji.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ji.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{$v.innerHTML=_1(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=$v.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ds="transition",Za="animation",Hl=Symbol("_vtc"),b1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ET=Wn({},j2,b1),ST=t=>(t.displayName="Transition",t.props=ET,t),Ra=ST((t,{slots:e})=>mn(x3,CT(t),e)),io=(t,e=[])=>{et(t)?t.forEach(n=>n(...e)):t&&t(...e)},Uv=t=>t?et(t)?t.some(e=>e.length>1):t.length>1:!1;function CT(t){const e={};for(const D in t)D in b1||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=xT(i),g=p&&p[0],_=p&&p[1],{onBeforeEnter:y,onEnter:m,onEnterCancelled:b,onLeave:S,onLeaveCancelled:E,onBeforeAppear:x=y,onAppear:C=m,onAppearCancelled:k=b}=e,R=(D,ee,te,Z)=>{D._enterCancelled=Z,so(D,ee?c:a),so(D,ee?u:o),te&&te()},j=(D,ee)=>{D._isLeaving=!1,so(D,f),so(D,d),so(D,h),ee&&ee()},K=D=>(ee,te)=>{const Z=D?C:m,fe=()=>R(ee,D,te);io(Z,[ee,fe]),Wv(()=>{so(ee,D?l:s),Ni(ee,D?c:a),Uv(Z)||Vv(ee,r,g,fe)})};return Wn(e,{onBeforeEnter(D){io(y,[D]),Ni(D,s),Ni(D,o)},onBeforeAppear(D){io(x,[D]),Ni(D,l),Ni(D,u)},onEnter:K(!1),onAppear:K(!0),onLeave(D,ee){D._isLeaving=!0;const te=()=>j(D,ee);Ni(D,f),D._enterCancelled?(Ni(D,h),qv(D)):(qv(D),Ni(D,h)),Wv(()=>{D._isLeaving&&(so(D,f),Ni(D,d),Uv(S)||Vv(D,r,_,te))}),io(S,[D,te])},onEnterCancelled(D){R(D,!1,void 0,!0),io(b,[D])},onAppearCancelled(D){R(D,!0,void 0,!0),io(k,[D])},onLeaveCancelled(D){j(D),io(E,[D])}})}function xT(t){if(t==null)return null;if(Wt(t))return[td(t.enter),td(t.leave)];{const e=td(t);return[e,e]}}function td(t){return Ok(t)}function Ni(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Hl]||(t[Hl]=new Set)).add(e)}function so(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Hl];n&&(n.delete(e),n.size||(t[Hl]=void 0))}function Wv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let AT=0;function Vv(t,e,n,r){const i=t._endId=++AT,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=kT(t,e);if(!o)return r();const u=o+"end";let c=0;const f=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,h)}function kT(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${ds}Delay`),s=r(`${ds}Duration`),o=Hv(i,s),a=r(`${Za}Delay`),l=r(`${Za}Duration`),u=Hv(a,l);let c=null,f=0,h=0;e===ds?o>0&&(c=ds,f=o,h=s.length):e===Za?u>0&&(c=Za,f=u,h=l.length):(f=Math.max(o,u),c=f>0?o>u?ds:Za:null,h=c?c===ds?s.length:l.length:0);const d=c===ds&&/\b(?:transform|all)(?:,|$)/.test(r(`${ds}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:d}}function Hv(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Yv(n)+Yv(t[r])))}function Yv(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function qv(t){return(t?t.ownerDocument:document).body.offsetHeight}function TT(t,e,n){const r=t[Hl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Hc=Symbol("_vod"),w1=Symbol("_vsh"),oc={name:"show",beforeMount(t,{value:e},{transition:n}){t[Hc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):el(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),el(t,!0),r.enter(t)):r.leave(t,()=>{el(t,!1)}):el(t,e))},beforeUnmount(t,{value:e}){el(t,e)}};function el(t,e){t.style.display=e?t[Hc]:"none",t[w1]=!e}const IT=Symbol(""),PT=/(?:^|;)\s*display\s*:/;function OT(t,e,n){const r=t.style,i=an(n);let s=!1;if(n&&!i){if(e)if(an(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ac(r,a,"")}else for(const o in e)n[o]==null&&ac(r,o,"");for(const o in n)o==="display"&&(s=!0),ac(r,o,n[o])}else if(i){if(e!==n){const o=r[IT];o&&(n+=";"+o),r.cssText=n,s=PT.test(n)}}else e&&t.removeAttribute("style");Hc in t&&(t[Hc]=s?r.display:"",t[w1]&&(r.display="none"))}const Gv=/\s*!important$/;function ac(t,e,n){if(et(n))n.forEach(r=>ac(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=MT(t,e);Gv.test(n)?t.setProperty(js(r),n.replace(Gv,""),"important"):t[r]=n}}const zv=["Webkit","Moz","ms"],nd={};function MT(t,e){const n=nd[e];if(n)return n;let r=Br(e);if(r!=="filter"&&r in t)return nd[e]=r;r=Sf(r);for(let i=0;i<zv.length;i++){const s=zv[i]+r;if(s in t)return nd[e]=s}return e}const Kv="http://www.w3.org/1999/xlink";function Qv(t,e,n,r,i,s=Fk(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Kv,e.slice(6,e.length)):t.setAttributeNS(Kv,e,n):n==null||s&&!n2(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ei(n)?String(n):n)}function Xv(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?_1(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=n2(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fo(t,e,n,r){t.addEventListener(e,n,r)}function DT(t,e,n,r){t.removeEventListener(e,n,r)}const Jv=Symbol("_vei");function RT(t,e,n,r,i=null){const s=t[Jv]||(t[Jv]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=NT(e);if(r){const u=s[e]=BT(r,i);fo(t,a,u,l)}else o&&(DT(t,a,o,l),s[e]=void 0)}}const Zv=/(?:Once|Passive|Capture)$/;function NT(t){let e;if(Zv.test(t)){e={};let r;for(;r=t.match(Zv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):js(t.slice(2)),e]}let rd=0;const LT=Promise.resolve(),FT=()=>rd||(LT.then(()=>rd=0),rd=Date.now());function BT(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ri(jT(r,n.value),e,5,[r])};return n.value=t,n.attached=FT(),n}function jT(t,e){if(et(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const e_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$T=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?TT(t,r,o):e==="style"?OT(t,n,r):_f(e)?vg(e)||RT(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UT(t,e,r,o))?(Xv(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qv(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!an(r))?Xv(t,Br(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qv(t,e,r,o))};function UT(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&e_(e)&&ct(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return e_(e)&&an(n)?!1:e in t}const Yc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return et(e)?n=>nc(e,n):e};function WT(t){t.target.composing=!0}function t_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const da=Symbol("_assign");function n_(t,e,n){return e&&(t=t.trim()),n&&(t=Cf(t)),t}const Sr={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[da]=Yc(i);const s=r||i.props&&i.props.type==="number";fo(t,e?"change":"input",o=>{o.target.composing||t[da](n_(t.value,n,s))}),(n||s)&&fo(t,"change",()=>{t.value=n_(t.value,n,s)}),e||(fo(t,"compositionstart",WT),fo(t,"compositionend",t_),fo(t,"change",t_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[da]=Yc(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Cf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},r_={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=bf(e);fo(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Cf(qc(o)):qc(o));t[da](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Ln(()=>{t._assigning=!1})}),t[da]=Yc(r)},mounted(t,{value:e}){i_(t,e)},beforeUpdate(t,e,n){t[da]=Yc(n)},updated(t,{value:e}){t._assigning||i_(t,e)}};function i_(t,e){const n=t.multiple,r=et(e);if(!(n&&!r&&!bf(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=qc(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=jk(e,a)>-1}else o.selected=e.has(a);else if(Af(qc(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qc(t){return"_value"in t?t._value:t.value}const VT=["ctrl","shift","alt","meta"],HT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>VT.some(n=>t[`${n}Key`]&&!e.includes(n))},Ci=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=HT[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},YT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qT=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=js(i.key);if(e.some(o=>o===s||YT[o]===s))return t(i)}))},GT=Wn({patchProp:$T},wT);let s_;function zT(){return s_||(s_=rT(GT))}const KT=((...t)=>{const e=zT().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=XT(r);if(!i)return;const s=e._component;!ct(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,QT(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function QT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function XT(t){return an(t)?document.querySelector(t):t}let E1;const Bf=t=>E1=t,S1=Symbol();function jd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Cl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Cl||(Cl={}));function JT(){const t=o2(!0),e=t.run(()=>Ne({}));let n=[],r=[];const i=xg({install(s){Bf(i),i._a=s,s.provide(S1,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const C1=()=>{};function o_(t,e,n,r=C1){t.add(e);const i=()=>{t.delete(e)&&r()};return!n&&bg()&&a2(i),i}function Ko(t,...e){t.forEach(n=>{n(...e)})}const ZT=t=>t(),a_=Symbol(),id=Symbol();function $d(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];jd(i)&&jd(r)&&t.hasOwnProperty(n)&&!fn(r)&&!Gi(r)?t[n]=$d(i,r):t[n]=r}return t}const eI=Symbol();function tI(t){return!jd(t)||!Object.prototype.hasOwnProperty.call(t,eI)}const{assign:ys}=Object;function nI(t){return!!(fn(t)&&t.effect)}function rI(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=a3(n.state.value[t]);return ys(c,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=xg(Me(()=>{Bf(n);const d=n._s.get(t);return o[h].call(d,d)})),f),{}))}return l=x1(t,u,e,n,r,!0),l}function x1(t,e,n={},r,i,s){let o;const a=ys({actions:{}},n),l={deep:!0};let u,c,f=new Set,h=new Set,d;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),Ne({});let g;function _(k){let R;u=c=!1,typeof k=="function"?(k(r.state.value[t]),R={type:Cl.patchFunction,storeId:t,events:d}):($d(r.state.value[t],k),R={type:Cl.patchObject,payload:k,storeId:t,events:d});const j=g=Symbol();Ln().then(()=>{g===j&&(u=!0)}),c=!0,Ko(f,R,r.state.value[t])}const y=s?function(){const{state:R}=n,j=R?R():{};this.$patch(K=>{ys(K,j)})}:C1;function m(){o.stop(),f.clear(),h.clear(),r._s.delete(t)}const b=(k,R="")=>{if(a_ in k)return k[id]=R,k;const j=function(){Bf(r);const K=Array.from(arguments),D=new Set,ee=new Set;function te(q){D.add(q)}function Z(q){ee.add(q)}Ko(h,{args:K,name:j[id],store:E,after:te,onError:Z});let fe;try{fe=k.apply(this&&this.$id===t?this:E,K)}catch(q){throw Ko(ee,q),q}return fe instanceof Promise?fe.then(q=>(Ko(D,q),q)).catch(q=>(Ko(ee,q),Promise.reject(q))):(Ko(D,fe),fe)};return j[a_]=!0,j[id]=R,j},S={_p:r,$id:t,$onAction:o_.bind(null,h),$patch:_,$reset:y,$subscribe(k,R={}){const j=o_(f,k,R.detached,()=>K()),K=o.run(()=>En(()=>r.state.value[t],D=>{(R.flush==="sync"?c:u)&&k({storeId:t,type:Cl.direct,events:d},D)},ys({},l,R)));return j},$dispose:m},E=ti(S);r._s.set(t,E);const C=(r._a&&r._a.runWithContext||ZT)(()=>r._e.run(()=>(o=o2()).run(()=>e({action:b}))));for(const k in C){const R=C[k];if(fn(R)&&!nI(R)||Gi(R))s||(p&&tI(R)&&(fn(R)?R.value=p[k]:$d(R,p[k])),r.state.value[t][k]=R);else if(typeof R=="function"){const j=b(R,k);C[k]=j,a.actions[k]=R}}return ys(E,C),ys(At(E),C),Object.defineProperty(E,"$state",{get:()=>r.state.value[t],set:k=>{_(R=>{ys(R,k)})}}),r._p.forEach(k=>{ys(E,o.run(()=>k({store:E,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(E.$state,p),u=!0,c=!0,E}function Na(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=y3();return o=o||(l?Fr(S1,null):null),o&&Bf(o),o=E1,o._s.has(t)||(i?x1(t,e,r,o):rI(t,r,o)),o._s.get(t)}return s.$id=t,s}const ea=typeof document<"u";function A1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function iI(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&A1(t.default)}const Lt=Object.assign;function sd(t,e){const n={};for(const r in e){const i=e[r];n[r]=ii(i)?i.map(t):t(i)}return n}const xl=()=>{},ii=Array.isArray;function l_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const k1=/#/g,sI=/&/g,oI=/\//g,aI=/=/g,lI=/\?/g,T1=/\+/g,uI=/%5B/g,cI=/%5D/g,I1=/%5E/g,fI=/%60/g,P1=/%7B/g,hI=/%7C/g,O1=/%7D/g,dI=/%20/g;function Dg(t){return t==null?"":encodeURI(""+t).replace(hI,"|").replace(uI,"[").replace(cI,"]")}function pI(t){return Dg(t).replace(P1,"{").replace(O1,"}").replace(I1,"^")}function Ud(t){return Dg(t).replace(T1,"%2B").replace(dI,"+").replace(k1,"%23").replace(sI,"%26").replace(fI,"`").replace(P1,"{").replace(O1,"}").replace(I1,"^")}function mI(t){return Ud(t).replace(aI,"%3D")}function gI(t){return Dg(t).replace(k1,"%23").replace(lI,"%3F")}function yI(t){return gI(t).replace(oI,"%2F")}function Yl(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const vI=/\/$/,_I=t=>t.replace(vI,"");function od(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=SI(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:Yl(o)}}function bI(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function u_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wI(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ea(e.matched[r],n.matched[i])&&M1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ea(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function M1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!EI(t[n],e[n]))return!1;return!0}function EI(t,e){return ii(t)?c_(t,e):ii(e)?c_(e,t):t?.valueOf()===e?.valueOf()}function c_(t,e){return ii(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function SI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ps={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Wd=(function(t){return t.pop="pop",t.push="push",t})({}),ad=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function CI(t){if(!t)if(ea){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_I(t)}const xI=/^[^#]+#/;function AI(t,e){return t.replace(xI,"#")+e}function kI(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const jf=()=>({left:window.scrollX,top:window.scrollY});function TI(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=kI(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function f_(t,e){return(history.state?history.state.position-e:-1)+t}const Vd=new Map;function II(t,e){Vd.set(t,e)}function PI(t){const e=Vd.get(t);return Vd.delete(t),e}function OI(t){return typeof t=="string"||t&&typeof t=="object"}function D1(t){return typeof t=="string"||typeof t=="symbol"}let pn=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const R1=Symbol("");pn.MATCHER_NOT_FOUND+"",pn.NAVIGATION_GUARD_REDIRECT+"",pn.NAVIGATION_ABORTED+"",pn.NAVIGATION_CANCELLED+"",pn.NAVIGATION_DUPLICATED+"";function Sa(t,e){return Lt(new Error,{type:t,[R1]:!0},e)}function Li(t,e){return t instanceof Error&&R1 in t&&(e==null||!!(t.type&e))}const MI=["params","query","hash"];function DI(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of MI)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function RI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(T1," "),s=i.indexOf("="),o=Yl(s<0?i:i.slice(0,s)),a=s<0?null:Yl(i.slice(s+1));if(o in e){let l=e[o];ii(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function h_(t){let e="";for(let n in t){const r=t[n];if(n=mI(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ii(r)?r.map(i=>i&&Ud(i)):[r&&Ud(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function NI(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ii(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const LI=Symbol(""),d_=Symbol(""),$f=Symbol(""),N1=Symbol(""),Hd=Symbol("");function tl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Cs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Sa(pn.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):OI(h)?l(Sa(pn.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function ld(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(A1(l)){const u=(l.__vccOpts||l)[e];u&&s.push(Cs(u,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=iI(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Cs(h,n,r,o,a,i)()}))}}return s}function FI(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ea(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ea(u,l))||i.push(l))}return[n,r,i]}let BI=()=>location.protocol+"//"+location.host;function L1(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),u_(a,"")}return u_(n,t)+r+i}function jI(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const d=L1(t,location),p=n.value,g=e.value;let _=0;if(h){if(n.value=d,e.value=h,o&&o===p){o=null;return}_=g?h.position-g.position:0}else r(d);i.forEach(y=>{y(n.value,p,{delta:_,type:Wd.pop,direction:_?_>0?ad.forward:ad.back:ad.unknown})})};function l(){o=n.value}function u(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(d),d}function c(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Lt({},h.state,{scroll:jf()}),"")}}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:l,listen:u,destroy:f}}function p_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?jf():null}}function $I(t){const{history:e,location:n}=window,r={value:L1(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:BI()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(d){console.error(d),n[c?"replace":"assign"](h)}}function o(l,u){s(l,Lt({},e.state,p_(i.value.back,l,i.value.forward,!0),u,{position:i.value.position}),!0),r.value=l}function a(l,u){const c=Lt({},i.value,e.state,{forward:l,scroll:jf()});s(c.current,c,!0),s(l,Lt({},p_(r.value,l,null),{position:c.position+1},u),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function UI(t){t=CI(t);const e=$I(t),n=jI(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Lt({location:"",base:t,go:r,createHref:AI.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function WI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),UI(t)}let ho=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var On=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(On||{});const VI={type:ho.Static,value:""},HI=/[a-zA-Z0-9_]/;function YI(t){if(!t)return[[]];if(t==="/")return[[VI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=On.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function f(){u&&(n===On.Static?s.push({type:ho.Static,value:u}):n===On.Param||n===On.ParamRegExp||n===On.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:ho.Param,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==On.ParamRegExp){r=n,n=On.EscapeNext;continue}switch(n){case On.Static:l==="/"?(u&&f(),o()):l===":"?(f(),n=On.Param):h();break;case On.EscapeNext:h(),n=r;break;case On.Param:l==="("?n=On.ParamRegExp:HI.test(l)?h():(f(),n=On.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case On.ParamRegExp:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=On.ParamRegExpEnd:c+=l;break;case On.ParamRegExpEnd:f(),n=On.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===On.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}const m_="[^/]+?",qI={sensitive:!1,strict:!1,start:!0,end:!0};var cr=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(cr||{});const GI=/[.+*?^${}()[\]/\\]/g;function zI(t,e){const n=Lt({},qI,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[cr.Root];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=cr.Segment+(n.sensitive?cr.BonusCaseSensitive:0);if(h.type===ho.Static)f||(i+="/"),i+=h.value.replace(GI,"\\$&"),d+=cr.Static;else if(h.type===ho.Param){const{value:p,repeatable:g,optional:_,regexp:y}=h;s.push({name:p,repeatable:g,optional:_});const m=y||m_;if(m!==m_){d+=cr.BonusCustomRegExp;try{`${m}`}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${m}): `+S.message)}}let b=g?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;f||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,d+=cr.Dynamic,_&&(d+=cr.BonusOptional),g&&(d+=cr.BonusRepeatable),m===".*"&&(d+=cr.BonusWildcard)}c.push(d)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=cr.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",p=s[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===ho.Static)c+=d.value;else if(d.type===ho.Param){const{value:p,repeatable:g,optional:_}=d,y=p in u?u[p]:"";if(ii(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const m=ii(y)?y.join("/"):y;if(!m)if(_)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=m}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function KI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===cr.Static+cr.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===cr.Static+cr.Segment?1:-1:0}function F1(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=KI(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(g_(r))return 1;if(g_(i))return-1}return i.length-r.length}function g_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const QI={strict:!1,end:!0,sensitive:!1};function XI(t,e,n){const r=zI(YI(t.path),n),i=Lt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function JI(t,e){const n=[],r=new Map;e=l_(QI,e);function i(f){return r.get(f)}function s(f,h,d){const p=!d,g=v_(f);g.aliasOf=d&&d.record;const _=l_(e,f),y=[g];if("alias"in f){const S=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of S)y.push(v_(Lt({},g,{components:d?d.record.components:g.components,path:E,aliasOf:d?d.record:g})))}let m,b;for(const S of y){const{path:E}=S;if(h&&E[0]!=="/"){const x=h.record.path,C=x[x.length-1]==="/"?"":"/";S.path=h.record.path+(E&&C+E)}if(m=XI(S,h,_),d?d.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),p&&f.name&&!__(m)&&o(f.name)),B1(m)&&l(m),g.children){const x=g.children;for(let C=0;C<x.length;C++)s(x[C],m,d&&d.children[C])}d=d||m}return b?()=>{o(b)}:xl}function o(f){if(D1(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=tP(f,n);n.splice(h,0,f),f.record.name&&!__(f)&&r.set(f.record.name,f)}function u(f,h){let d,p={},g,_;if("name"in f&&f.name){if(d=r.get(f.name),!d)throw Sa(pn.MATCHER_NOT_FOUND,{location:f});_=d.record.name,p=Lt(y_(h.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&y_(f.params,d.keys.map(b=>b.name))),g=d.stringify(p)}else if(f.path!=null)g=f.path,d=n.find(b=>b.re.test(g)),d&&(p=d.parse(g),_=d.record.name);else{if(d=h.name?r.get(h.name):n.find(b=>b.re.test(h.path)),!d)throw Sa(pn.MATCHER_NOT_FOUND,{location:f,currentLocation:h});_=d.record.name,p=Lt({},h.params,f.params),g=d.stringify(p)}const y=[];let m=d;for(;m;)y.unshift(m.record),m=m.parent;return{name:_,path:g,params:p,matched:y,meta:eP(y)}}t.forEach(f=>s(f));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function y_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function v_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ZI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ZI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function __(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eP(t){return t.reduce((e,n)=>Lt(e,n.meta),{})}function tP(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;F1(t,e[s])<0?r=s:n=s+1}const i=nP(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function nP(t){let e=t;for(;e=e.parent;)if(B1(e)&&F1(t,e)===0)return e}function B1({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function b_(t){const e=Fr($f),n=Fr(N1),r=Me(()=>{const l=H(t.to);return e.resolve(l)}),i=Me(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(Ea.bind(null,c));if(h>-1)return h;const d=w_(l[u-2]);return u>1&&w_(c)===d&&f[f.length-1].path!==d?f.findIndex(Ea.bind(null,l[u-2])):h}),s=Me(()=>i.value>-1&&aP(n.params,r.value.params)),o=Me(()=>i.value>-1&&i.value===n.matched.length-1&&M1(n.params,r.value.params));function a(l={}){if(oP(l)){const u=e[H(t.replace)?"replace":"push"](H(t.to)).catch(xl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Me(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function rP(t){return t.length===1?t[0]:t}const iP=xn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:b_,setup(t,{slots:e}){const n=ti(b_(t)),{options:r}=Fr($f),i=Me(()=>({[E_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[E_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&rP(e.default(n));return t.custom?s:mn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),sP=iP;function oP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function aP(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ii(i)||i.length!==r.length||r.some((s,o)=>s.valueOf()!==i[o].valueOf()))return!1}return!0}function w_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const E_=(t,e,n)=>t??e??n,lP=xn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Fr(Hd),i=Me(()=>t.route||r.value),s=Fr(d_,0),o=Me(()=>{let u=H(s);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Me(()=>i.value.matched[o.value]);_l(d_,Me(()=>o.value+1)),_l(LI,a),_l(Hd,i);const l=Ne();return En(()=>[l.value,a.value,t.name],([u,c,f],[h,d,p])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Ea(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=a.value,h=f&&f.components[c];if(!h)return S_(n.default,{Component:h,route:u});const d=f.props[c],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,_=mn(h,Lt({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return S_(n.default,{Component:_,route:u})||_}}});function S_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const j1=lP;function uP(t){const e=JI(t.routes,t),n=t.parseQuery||RI,r=t.stringifyQuery||h_,i=t.history,s=tl(),o=tl(),a=tl(),l=Of(ps);let u=ps;ea&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sd.bind(null,J=>""+J),f=sd.bind(null,yI),h=sd.bind(null,Yl);function d(J,G){let oe,L;return D1(J)?(oe=e.getRecordMatcher(J),L=G):L=J,e.addRoute(L,oe)}function p(J){const G=e.getRecordMatcher(J);G&&e.removeRoute(G)}function g(){return e.getRoutes().map(J=>J.record)}function _(J){return!!e.getRecordMatcher(J)}function y(J,G){if(G=Lt({},G||l.value),typeof J=="string"){const B=od(n,J,G.path),N=e.resolve({path:B.path},G),M=i.createHref(B.fullPath);return Lt(B,N,{params:h(N.params),hash:Yl(B.hash),redirectedFrom:void 0,href:M})}let oe;if(J.path!=null)oe=Lt({},J,{path:od(n,J.path,G.path).path});else{const B=Lt({},J.params);for(const N in B)B[N]==null&&delete B[N];oe=Lt({},J,{params:f(B)}),G.params=f(G.params)}const L=e.resolve(oe,G),Y=J.hash||"";L.params=c(h(L.params));const P=bI(r,Lt({},J,{hash:pI(Y),path:L.path})),I=i.createHref(P);return Lt({fullPath:P,hash:Y,query:r===h_?NI(J.query):J.query||{}},L,{redirectedFrom:void 0,href:I})}function m(J){return typeof J=="string"?od(n,J,l.value.path):Lt({},J)}function b(J,G){if(u!==J)return Sa(pn.NAVIGATION_CANCELLED,{from:G,to:J})}function S(J){return C(J)}function E(J){return S(Lt(m(J),{replace:!0}))}function x(J,G){const oe=J.matched[J.matched.length-1];if(oe&&oe.redirect){const{redirect:L}=oe;let Y=typeof L=="function"?L(J,G):L;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=m(Y):{path:Y},Y.params={}),Lt({query:J.query,hash:J.hash,params:Y.path!=null?{}:J.params},Y)}}function C(J,G){const oe=u=y(J),L=l.value,Y=J.state,P=J.force,I=J.replace===!0,B=x(oe,L);if(B)return C(Lt(m(B),{state:typeof B=="object"?Lt({},Y,B.state):Y,force:P,replace:I}),G||oe);const N=oe;N.redirectedFrom=G;let M;return!P&&wI(r,L,oe)&&(M=Sa(pn.NAVIGATION_DUPLICATED,{to:N,from:L}),X(L,L,!0,!1)),(M?Promise.resolve(M):j(N,L)).catch(V=>Li(V)?Li(V,pn.NAVIGATION_GUARD_REDIRECT)?V:ie(V):re(V,N,L)).then(V=>{if(V){if(Li(V,pn.NAVIGATION_GUARD_REDIRECT))return C(Lt({replace:I},m(V.to),{state:typeof V.to=="object"?Lt({},Y,V.to.state):Y,force:P}),G||N)}else V=D(N,L,!0,I,Y);return K(N,L,V),V})}function k(J,G){const oe=b(J,G);return oe?Promise.reject(oe):Promise.resolve()}function R(J){const G=ve.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(J):J()}function j(J,G){let oe;const[L,Y,P]=FI(J,G);oe=ld(L.reverse(),"beforeRouteLeave",J,G);for(const B of L)B.leaveGuards.forEach(N=>{oe.push(Cs(N,J,G))});const I=k.bind(null,J,G);return oe.push(I),Ee(oe).then(()=>{oe=[];for(const B of s.list())oe.push(Cs(B,J,G));return oe.push(I),Ee(oe)}).then(()=>{oe=ld(Y,"beforeRouteUpdate",J,G);for(const B of Y)B.updateGuards.forEach(N=>{oe.push(Cs(N,J,G))});return oe.push(I),Ee(oe)}).then(()=>{oe=[];for(const B of P)if(B.beforeEnter)if(ii(B.beforeEnter))for(const N of B.beforeEnter)oe.push(Cs(N,J,G));else oe.push(Cs(B.beforeEnter,J,G));return oe.push(I),Ee(oe)}).then(()=>(J.matched.forEach(B=>B.enterCallbacks={}),oe=ld(P,"beforeRouteEnter",J,G,R),oe.push(I),Ee(oe))).then(()=>{oe=[];for(const B of o.list())oe.push(Cs(B,J,G));return oe.push(I),Ee(oe)}).catch(B=>Li(B,pn.NAVIGATION_CANCELLED)?B:Promise.reject(B))}function K(J,G,oe){a.list().forEach(L=>R(()=>L(J,G,oe)))}function D(J,G,oe,L,Y){const P=b(J,G);if(P)return P;const I=G===ps,B=ea?history.state:{};oe&&(L||I?i.replace(J.fullPath,Lt({scroll:I&&B&&B.scroll},Y)):i.push(J.fullPath,Y)),l.value=J,X(J,G,oe,I),ie()}let ee;function te(){ee||(ee=i.listen((J,G,oe)=>{if(!ge.listening)return;const L=y(J),Y=x(L,ge.currentRoute.value);if(Y){C(Lt(Y,{replace:!0,force:!0}),L).catch(xl);return}u=L;const P=l.value;ea&&II(f_(P.fullPath,oe.delta),jf()),j(L,P).catch(I=>Li(I,pn.NAVIGATION_ABORTED|pn.NAVIGATION_CANCELLED)?I:Li(I,pn.NAVIGATION_GUARD_REDIRECT)?(C(Lt(m(I.to),{force:!0}),L).then(B=>{Li(B,pn.NAVIGATION_ABORTED|pn.NAVIGATION_DUPLICATED)&&!oe.delta&&oe.type===Wd.pop&&i.go(-1,!1)}).catch(xl),Promise.reject()):(oe.delta&&i.go(-oe.delta,!1),re(I,L,P))).then(I=>{I=I||D(L,P,!1),I&&(oe.delta&&!Li(I,pn.NAVIGATION_CANCELLED)?i.go(-oe.delta,!1):oe.type===Wd.pop&&Li(I,pn.NAVIGATION_ABORTED|pn.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),K(L,P,I)}).catch(xl)}))}let Z=tl(),fe=tl(),q;function re(J,G,oe){ie(J);const L=fe.list();return L.length?L.forEach(Y=>Y(J,G,oe)):console.error(J),Promise.reject(J)}function me(){return q&&l.value!==ps?Promise.resolve():new Promise((J,G)=>{Z.add([J,G])})}function ie(J){return q||(q=!J,te(),Z.list().forEach(([G,oe])=>J?oe(J):G()),Z.reset()),J}function X(J,G,oe,L){const{scrollBehavior:Y}=t;if(!ea||!Y)return Promise.resolve();const P=!oe&&PI(f_(J.fullPath,0))||(L||!oe)&&history.state&&history.state.scroll||null;return Ln().then(()=>Y(J,G,P)).then(I=>I&&TI(I)).catch(I=>re(I,J,G))}const ne=J=>i.go(J);let pe;const ve=new Set,ge={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:g,resolve:y,options:t,push:S,replace:E,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:me,install(J){J.component("RouterLink",sP),J.component("RouterView",j1),J.config.globalProperties.$router=ge,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>H(l)}),ea&&!pe&&l.value===ps&&(pe=!0,S(i.location).catch(L=>{}));const G={};for(const L in ps)Object.defineProperty(G,L,{get:()=>l.value[L],enumerable:!0});J.provide($f,ge),J.provide(N1,C2(G)),J.provide(Hd,l);const oe=J.unmount;ve.add(J),J.unmount=function(){ve.delete(J),ve.size<1&&(u=ps,ee&&ee(),ee=null,l.value=ps,pe=!1,q=!1),oe()}}};function Ee(J){return J.reduce((G,oe)=>G.then(()=>R(oe)),Promise.resolve())}return ge}function $1(){return Fr($f)}const cP={__name:"App",setup(t){return(e,n)=>(ke(),It(H(j1)))}};var lc={exports:{}};var fP=lc.exports,C_;function hP(){return C_||(C_=1,(function(t,e){(function(n,r){t.exports=r()})(fP,function(){const n=new Map,r={set($,v,T){n.has($)||n.set($,new Map);const se=n.get($);se.has(v)||se.size===0?se.set(v,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(se.keys())[0]}.`)},get:($,v)=>n.has($)&&n.get($).get(v)||null,remove($,v){if(!n.has($))return;const T=n.get($);T.delete(v),T.size===0&&n.delete($)}},i="transitionend",s=$=>($&&window.CSS&&window.CSS.escape&&($=$.replace(/#([^\s"#']+)/g,(v,T)=>`#${CSS.escape(T)}`)),$),o=$=>$==null?`${$}`:Object.prototype.toString.call($).match(/\s([a-z]+)/i)[1].toLowerCase(),a=$=>{$.dispatchEvent(new Event(i))},l=$=>!(!$||typeof $!="object")&&($.jquery!==void 0&&($=$[0]),$.nodeType!==void 0),u=$=>l($)?$.jquery?$[0]:$:typeof $=="string"&&$.length>0?document.querySelector(s($)):null,c=$=>{if(!l($)||$.getClientRects().length===0)return!1;const v=getComputedStyle($).getPropertyValue("visibility")==="visible",T=$.closest("details:not([open])");if(!T)return v;if(T!==$){const se=$.closest("summary");if(se&&se.parentNode!==T||se===null)return!1}return v},f=$=>!$||$.nodeType!==Node.ELEMENT_NODE||!!$.classList.contains("disabled")||($.disabled!==void 0?$.disabled:$.hasAttribute("disabled")&&$.getAttribute("disabled")!=="false"),h=$=>{if(!document.documentElement.attachShadow)return null;if(typeof $.getRootNode=="function"){const v=$.getRootNode();return v instanceof ShadowRoot?v:null}return $ instanceof ShadowRoot?$:$.parentNode?h($.parentNode):null},d=()=>{},p=$=>{$.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],y=()=>document.documentElement.dir==="rtl",m=$=>{var v;v=()=>{const T=g();if(T){const se=$.NAME,be=T.fn[se];T.fn[se]=$.jQueryInterface,T.fn[se].Constructor=$,T.fn[se].noConflict=()=>(T.fn[se]=be,$.jQueryInterface)}},document.readyState==="loading"?(_.length||document.addEventListener("DOMContentLoaded",()=>{for(const T of _)T()}),_.push(v)):v()},b=($,v=[],T=$)=>typeof $=="function"?$.call(...v):T,S=($,v,T=!0)=>{if(!T)return void b($);const se=(Ae=>{if(!Ae)return 0;let{transitionDuration:Le,transitionDelay:We}=window.getComputedStyle(Ae);const Qe=Number.parseFloat(Le),Xe=Number.parseFloat(We);return Qe||Xe?(Le=Le.split(",")[0],We=We.split(",")[0],1e3*(Number.parseFloat(Le)+Number.parseFloat(We))):0})(v)+5;let be=!1;const we=({target:Ae})=>{Ae===v&&(be=!0,v.removeEventListener(i,we),b($))};v.addEventListener(i,we),setTimeout(()=>{be||a(v)},se)},E=($,v,T,se)=>{const be=$.length;let we=$.indexOf(v);return we===-1?!T&&se?$[be-1]:$[0]:(we+=T?1:-1,se&&(we=(we+be)%be),$[Math.max(0,Math.min(we,be-1))])},x=/[^.]*(?=\..*)\.|.*/,C=/\..*/,k=/::\d+$/,R={};let j=1;const K={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ee($,v){return v&&`${v}::${j++}`||$.uidEvent||j++}function te($){const v=ee($);return $.uidEvent=v,R[v]=R[v]||{},R[v]}function Z($,v,T=null){return Object.values($).find(se=>se.callable===v&&se.delegationSelector===T)}function fe($,v,T){const se=typeof v=="string",be=se?T:v||T;let we=ie($);return D.has(we)||(we=$),[se,be,we]}function q($,v,T,se,be){if(typeof v!="string"||!$)return;let[we,Ae,Le]=fe(v,T,se);v in K&&(Ae=(pt=>function(ft){if(!ft.relatedTarget||ft.relatedTarget!==ft.delegateTarget&&!ft.delegateTarget.contains(ft.relatedTarget))return pt.call(this,ft)})(Ae));const We=te($),Qe=We[Le]||(We[Le]={}),Xe=Z(Qe,Ae,we?T:null);if(Xe)return void(Xe.oneOff=Xe.oneOff&&be);const qe=ee(Ae,v.replace(x,"")),gt=we?(function(it,pt,ft){return function mt(Ht){const Jt=it.querySelectorAll(pt);for(let{target:vt}=Ht;vt&&vt!==this;vt=vt.parentNode)for(const Mt of Jt)if(Mt===vt)return ne(Ht,{delegateTarget:vt}),mt.oneOff&&X.off(it,Ht.type,pt,ft),ft.apply(vt,[Ht])}})($,T,Ae):(function(it,pt){return function ft(mt){return ne(mt,{delegateTarget:it}),ft.oneOff&&X.off(it,mt.type,pt),pt.apply(it,[mt])}})($,Ae);gt.delegationSelector=we?T:null,gt.callable=Ae,gt.oneOff=be,gt.uidEvent=qe,Qe[qe]=gt,$.addEventListener(Le,gt,we)}function re($,v,T,se,be){const we=Z(v[T],se,be);we&&($.removeEventListener(T,we,!!be),delete v[T][we.uidEvent])}function me($,v,T,se){const be=v[T]||{};for(const[we,Ae]of Object.entries(be))we.includes(se)&&re($,v,T,Ae.callable,Ae.delegationSelector)}function ie($){return $=$.replace(C,""),K[$]||$}const X={on($,v,T,se){q($,v,T,se,!1)},one($,v,T,se){q($,v,T,se,!0)},off($,v,T,se){if(typeof v!="string"||!$)return;const[be,we,Ae]=fe(v,T,se),Le=Ae!==v,We=te($),Qe=We[Ae]||{},Xe=v.startsWith(".");if(we===void 0){if(Xe)for(const qe of Object.keys(We))me($,We,qe,v.slice(1));for(const[qe,gt]of Object.entries(Qe)){const it=qe.replace(k,"");Le&&!v.includes(it)||re($,We,Ae,gt.callable,gt.delegationSelector)}}else{if(!Object.keys(Qe).length)return;re($,We,Ae,we,be?T:null)}},trigger($,v,T){if(typeof v!="string"||!$)return null;const se=g();let be=null,we=!0,Ae=!0,Le=!1;v!==ie(v)&&se&&(be=se.Event(v,T),se($).trigger(be),we=!be.isPropagationStopped(),Ae=!be.isImmediatePropagationStopped(),Le=be.isDefaultPrevented());const We=ne(new Event(v,{bubbles:we,cancelable:!0}),T);return Le&&We.preventDefault(),Ae&&$.dispatchEvent(We),We.defaultPrevented&&be&&be.preventDefault(),We}};function ne($,v={}){for(const[T,se]of Object.entries(v))try{$[T]=se}catch{Object.defineProperty($,T,{configurable:!0,get:()=>se})}return $}function pe($){if($==="true")return!0;if($==="false")return!1;if($===Number($).toString())return Number($);if($===""||$==="null")return null;if(typeof $!="string")return $;try{return JSON.parse(decodeURIComponent($))}catch{return $}}function ve($){return $.replace(/[A-Z]/g,v=>`-${v.toLowerCase()}`)}const ge={setDataAttribute($,v,T){$.setAttribute(`data-bs-${ve(v)}`,T)},removeDataAttribute($,v){$.removeAttribute(`data-bs-${ve(v)}`)},getDataAttributes($){if(!$)return{};const v={},T=Object.keys($.dataset).filter(se=>se.startsWith("bs")&&!se.startsWith("bsConfig"));for(const se of T){let be=se.replace(/^bs/,"");be=be.charAt(0).toLowerCase()+be.slice(1),v[be]=pe($.dataset[se])}return v},getDataAttribute:($,v)=>pe($.getAttribute(`data-bs-${ve(v)}`))};class Ee{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(v){return v=this._mergeConfigObj(v),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}_configAfterMerge(v){return v}_mergeConfigObj(v,T){const se=l(T)?ge.getDataAttribute(T,"config"):{};return{...this.constructor.Default,...typeof se=="object"?se:{},...l(T)?ge.getDataAttributes(T):{},...typeof v=="object"?v:{}}}_typeCheckConfig(v,T=this.constructor.DefaultType){for(const[se,be]of Object.entries(T)){const we=v[se],Ae=l(we)?"element":o(we);if(!new RegExp(be).test(Ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${se}" provided type "${Ae}" but expected type "${be}".`)}}}class J extends Ee{constructor(v,T){super(),(v=u(v))&&(this._element=v,this._config=this._getConfig(T),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const v of Object.getOwnPropertyNames(this))this[v]=null}_queueCallback(v,T,se=!0){S(v,T,se)}_getConfig(v){return v=this._mergeConfigObj(v,this._element),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}static getInstance(v){return r.get(u(v),this.DATA_KEY)}static getOrCreateInstance(v,T={}){return this.getInstance(v)||new this(v,typeof T=="object"?T:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(v){return`${v}${this.EVENT_KEY}`}}const G=$=>{let v=$.getAttribute("data-bs-target");if(!v||v==="#"){let T=$.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T=`#${T.split("#")[1]}`),v=T&&T!=="#"?T.trim():null}return v?v.split(",").map(T=>s(T)).join(","):null},oe={find:($,v=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(v,$)),findOne:($,v=document.documentElement)=>Element.prototype.querySelector.call(v,$),children:($,v)=>[].concat(...$.children).filter(T=>T.matches(v)),parents($,v){const T=[];let se=$.parentNode.closest(v);for(;se;)T.push(se),se=se.parentNode.closest(v);return T},prev($,v){let T=$.previousElementSibling;for(;T;){if(T.matches(v))return[T];T=T.previousElementSibling}return[]},next($,v){let T=$.nextElementSibling;for(;T;){if(T.matches(v))return[T];T=T.nextElementSibling}return[]},focusableChildren($){const v=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(T=>`${T}:not([tabindex^="-"])`).join(",");return this.find(v,$).filter(T=>!f(T)&&c(T))},getSelectorFromElement($){const v=G($);return v&&oe.findOne(v)?v:null},getElementFromSelector($){const v=G($);return v?oe.findOne(v):null},getMultipleElementsFromSelector($){const v=G($);return v?oe.find(v):[]}},L=($,v="hide")=>{const T=`click.dismiss${$.EVENT_KEY}`,se=$.NAME;X.on(document,T,`[data-bs-dismiss="${se}"]`,function(be){if(["A","AREA"].includes(this.tagName)&&be.preventDefault(),f(this))return;const we=oe.getElementFromSelector(this)||this.closest(`.${se}`);$.getOrCreateInstance(we)[v]()})},Y=".bs.alert",P=`close${Y}`,I=`closed${Y}`;class B extends J{static get NAME(){return"alert"}close(){if(X.trigger(this._element,P).defaultPrevented)return;this._element.classList.remove("show");const v=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,v)}_destroyElement(){this._element.remove(),X.trigger(this._element,I),this.dispose()}static jQueryInterface(v){return this.each(function(){const T=B.getOrCreateInstance(this);if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v](this)}})}}L(B,"close"),m(B);const N='[data-bs-toggle="button"]';class M extends J{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(v){return this.each(function(){const T=M.getOrCreateInstance(this);v==="toggle"&&T[v]()})}}X.on(document,"click.bs.button.data-api",N,$=>{$.preventDefault();const v=$.target.closest(N);M.getOrCreateInstance(v).toggle()}),m(M);const V=".bs.swipe",O=`touchstart${V}`,z=`touchmove${V}`,W=`touchend${V}`,U=`pointerdown${V}`,Q=`pointerup${V}`,he={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oe extends Ee{constructor(v,T){super(),this._element=v,v&&Oe.isSupported()&&(this._config=this._getConfig(T),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return he}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){X.off(this._element,V)}_start(v){this._supportPointerEvents?this._eventIsPointerPenTouch(v)&&(this._deltaX=v.clientX):this._deltaX=v.touches[0].clientX}_end(v){this._eventIsPointerPenTouch(v)&&(this._deltaX=v.clientX-this._deltaX),this._handleSwipe(),b(this._config.endCallback)}_move(v){this._deltaX=v.touches&&v.touches.length>1?0:v.touches[0].clientX-this._deltaX}_handleSwipe(){const v=Math.abs(this._deltaX);if(v<=40)return;const T=v/this._deltaX;this._deltaX=0,T&&b(T>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,U,v=>this._start(v)),X.on(this._element,Q,v=>this._end(v)),this._element.classList.add("pointer-event")):(X.on(this._element,O,v=>this._start(v)),X.on(this._element,z,v=>this._move(v)),X.on(this._element,W,v=>this._end(v)))}_eventIsPointerPenTouch(v){return this._supportPointerEvents&&(v.pointerType==="pen"||v.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const w=".bs.carousel",A=".data-api",F="ArrowLeft",de="ArrowRight",_e="next",xe="prev",Re="left",ye="right",Ce=`slide${w}`,Ue=`slid${w}`,He=`keydown${w}`,tt=`mouseenter${w}`,nt=`mouseleave${w}`,Ke=`dragstart${w}`,Qt=`load${w}${A}`,Nt=`click${w}${A}`,An="carousel",kn="active",Bn=".active",Sn=".carousel-item",us=Bn+Sn,ai={[F]:ye,[de]:Re},Pi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ae={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ce extends J{constructor(v,T){super(v,T),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=oe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===An&&this.cycle()}static get Default(){return Pi}static get DefaultType(){return ae}static get NAME(){return"carousel"}next(){this._slide(_e)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(xe)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?X.one(this._element,Ue,()=>this.cycle()):this.cycle())}to(v){const T=this._getItems();if(v>T.length-1||v<0)return;if(this._isSliding)return void X.one(this._element,Ue,()=>this.to(v));const se=this._getItemIndex(this._getActive());if(se===v)return;const be=v>se?_e:xe;this._slide(be,T[v])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(v){return v.defaultInterval=v.interval,v}_addEventListeners(){this._config.keyboard&&X.on(this._element,He,v=>this._keydown(v)),this._config.pause==="hover"&&(X.on(this._element,tt,()=>this.pause()),X.on(this._element,nt,()=>this._maybeEnableCycle())),this._config.touch&&Oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const T of oe.find(".carousel-item img",this._element))X.on(T,Ke,se=>se.preventDefault());const v={leftCallback:()=>this._slide(this._directionToOrder(Re)),rightCallback:()=>this._slide(this._directionToOrder(ye)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Oe(this._element,v)}_keydown(v){if(/input|textarea/i.test(v.target.tagName))return;const T=ai[v.key];T&&(v.preventDefault(),this._slide(this._directionToOrder(T)))}_getItemIndex(v){return this._getItems().indexOf(v)}_setActiveIndicatorElement(v){if(!this._indicatorsElement)return;const T=oe.findOne(Bn,this._indicatorsElement);T.classList.remove(kn),T.removeAttribute("aria-current");const se=oe.findOne(`[data-bs-slide-to="${v}"]`,this._indicatorsElement);se&&(se.classList.add(kn),se.setAttribute("aria-current","true"))}_updateInterval(){const v=this._activeElement||this._getActive();if(!v)return;const T=Number.parseInt(v.getAttribute("data-bs-interval"),10);this._config.interval=T||this._config.defaultInterval}_slide(v,T=null){if(this._isSliding)return;const se=this._getActive(),be=v===_e,we=T||E(this._getItems(),se,be,this._config.wrap);if(we===se)return;const Ae=this._getItemIndex(we),Le=qe=>X.trigger(this._element,qe,{relatedTarget:we,direction:this._orderToDirection(v),from:this._getItemIndex(se),to:Ae});if(Le(Ce).defaultPrevented||!se||!we)return;const We=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ae),this._activeElement=we;const Qe=be?"carousel-item-start":"carousel-item-end",Xe=be?"carousel-item-next":"carousel-item-prev";we.classList.add(Xe),p(we),se.classList.add(Qe),we.classList.add(Qe),this._queueCallback(()=>{we.classList.remove(Qe,Xe),we.classList.add(kn),se.classList.remove(kn,Xe,Qe),this._isSliding=!1,Le(Ue)},se,this._isAnimated()),We&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return oe.findOne(us,this._element)}_getItems(){return oe.find(Sn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(v){return y()?v===Re?xe:_e:v===Re?_e:xe}_orderToDirection(v){return y()?v===xe?Re:ye:v===xe?ye:Re}static jQueryInterface(v){return this.each(function(){const T=ce.getOrCreateInstance(this,v);if(typeof v!="number"){if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v]()}}else T.to(v)})}}X.on(document,Nt,"[data-bs-slide], [data-bs-slide-to]",function($){const v=oe.getElementFromSelector(this);if(!v||!v.classList.contains(An))return;$.preventDefault();const T=ce.getOrCreateInstance(v),se=this.getAttribute("data-bs-slide-to");return se?(T.to(se),void T._maybeEnableCycle()):ge.getDataAttribute(this,"slide")==="next"?(T.next(),void T._maybeEnableCycle()):(T.prev(),void T._maybeEnableCycle())}),X.on(window,Qt,()=>{const $=oe.find('[data-bs-ride="carousel"]');for(const v of $)ce.getOrCreateInstance(v)}),m(ce);const Fe=".bs.collapse",Ve=`show${Fe}`,ze=`shown${Fe}`,un=`hide${Fe}`,Tn=`hidden${Fe}`,Se=`click${Fe}.data-api`,je="show",Je="collapse",rt="collapsing",Bt=`:scope .${Je} .${Je}`,Cn='[data-bs-toggle="collapse"]',In={parent:null,toggle:!0},Xn={parent:"(null|element)",toggle:"boolean"};class Pn extends J{constructor(v,T){super(v,T),this._isTransitioning=!1,this._triggerArray=[];const se=oe.find(Cn);for(const be of se){const we=oe.getSelectorFromElement(be),Ae=oe.find(we).filter(Le=>Le===this._element);we!==null&&Ae.length&&this._triggerArray.push(be)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return In}static get DefaultType(){return Xn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let v=[];if(this._config.parent&&(v=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(be=>be!==this._element).map(be=>Pn.getOrCreateInstance(be,{toggle:!1}))),v.length&&v[0]._isTransitioning||X.trigger(this._element,Ve).defaultPrevented)return;for(const be of v)be.hide();const T=this._getDimension();this._element.classList.remove(Je),this._element.classList.add(rt),this._element.style[T]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const se=`scroll${T[0].toUpperCase()+T.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rt),this._element.classList.add(Je,je),this._element.style[T]="",X.trigger(this._element,ze)},this._element,!0),this._element.style[T]=`${this._element[se]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,un).defaultPrevented)return;const v=this._getDimension();this._element.style[v]=`${this._element.getBoundingClientRect()[v]}px`,p(this._element),this._element.classList.add(rt),this._element.classList.remove(Je,je);for(const T of this._triggerArray){const se=oe.getElementFromSelector(T);se&&!this._isShown(se)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[v]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rt),this._element.classList.add(Je),X.trigger(this._element,Tn)},this._element,!0)}_isShown(v=this._element){return v.classList.contains(je)}_configAfterMerge(v){return v.toggle=!!v.toggle,v.parent=u(v.parent),v}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const v=this._getFirstLevelChildren(Cn);for(const T of v){const se=oe.getElementFromSelector(T);se&&this._addAriaAndCollapsedClass([T],this._isShown(se))}}_getFirstLevelChildren(v){const T=oe.find(Bt,this._config.parent);return oe.find(v,this._config.parent).filter(se=>!T.includes(se))}_addAriaAndCollapsedClass(v,T){if(v.length)for(const se of v)se.classList.toggle("collapsed",!T),se.setAttribute("aria-expanded",T)}static jQueryInterface(v){const T={};return typeof v=="string"&&/show|hide/.test(v)&&(T.toggle=!1),this.each(function(){const se=Pn.getOrCreateInstance(this,T);if(typeof v=="string"){if(se[v]===void 0)throw new TypeError(`No method named "${v}"`);se[v]()}})}}X.on(document,Se,Cn,function($){($.target.tagName==="A"||$.delegateTarget&&$.delegateTarget.tagName==="A")&&$.preventDefault();for(const v of oe.getMultipleElementsFromSelector(this))Pn.getOrCreateInstance(v,{toggle:!1}).toggle()}),m(Pn);var kt="top",Tt="bottom",Yn="right",qn="left",Tu="auto",Fo=[kt,Tt,Yn,qn],Ys="start",Bo="end",q0="clippingParents",gh="viewport",jo="popper",G0="reference",yh=Fo.reduce(function($,v){return $.concat([v+"-"+Ys,v+"-"+Bo])},[]),vh=[].concat(Fo,[Tu]).reduce(function($,v){return $.concat([v,v+"-"+Ys,v+"-"+Bo])},[]),z0="beforeRead",K0="read",Q0="afterRead",X0="beforeMain",J0="main",Z0="afterMain",ey="beforeWrite",ty="write",ny="afterWrite",ry=[z0,K0,Q0,X0,J0,Z0,ey,ty,ny];function li($){return $?($.nodeName||"").toLowerCase():null}function _r($){if($==null)return window;if($.toString()!=="[object Window]"){var v=$.ownerDocument;return v&&v.defaultView||window}return $}function qs($){return $ instanceof _r($).Element||$ instanceof Element}function kr($){return $ instanceof _r($).HTMLElement||$ instanceof HTMLElement}function _h($){return typeof ShadowRoot<"u"&&($ instanceof _r($).ShadowRoot||$ instanceof ShadowRoot)}const bh={name:"applyStyles",enabled:!0,phase:"write",fn:function($){var v=$.state;Object.keys(v.elements).forEach(function(T){var se=v.styles[T]||{},be=v.attributes[T]||{},we=v.elements[T];kr(we)&&li(we)&&(Object.assign(we.style,se),Object.keys(be).forEach(function(Ae){var Le=be[Ae];Le===!1?we.removeAttribute(Ae):we.setAttribute(Ae,Le===!0?"":Le)}))})},effect:function($){var v=$.state,T={popper:{position:v.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(v.elements.popper.style,T.popper),v.styles=T,v.elements.arrow&&Object.assign(v.elements.arrow.style,T.arrow),function(){Object.keys(v.elements).forEach(function(se){var be=v.elements[se],we=v.attributes[se]||{},Ae=Object.keys(v.styles.hasOwnProperty(se)?v.styles[se]:T[se]).reduce(function(Le,We){return Le[We]="",Le},{});kr(be)&&li(be)&&(Object.assign(be.style,Ae),Object.keys(we).forEach(function(Le){be.removeAttribute(Le)}))})}},requires:["computeStyles"]};function ui($){return $.split("-")[0]}var Gs=Math.max,Iu=Math.min,$o=Math.round;function wh(){var $=navigator.userAgentData;return $!=null&&$.brands&&Array.isArray($.brands)?$.brands.map(function(v){return v.brand+"/"+v.version}).join(" "):navigator.userAgent}function iy(){return!/^((?!chrome|android).)*safari/i.test(wh())}function Uo($,v,T){v===void 0&&(v=!1),T===void 0&&(T=!1);var se=$.getBoundingClientRect(),be=1,we=1;v&&kr($)&&(be=$.offsetWidth>0&&$o(se.width)/$.offsetWidth||1,we=$.offsetHeight>0&&$o(se.height)/$.offsetHeight||1);var Ae=(qs($)?_r($):window).visualViewport,Le=!iy()&&T,We=(se.left+(Le&&Ae?Ae.offsetLeft:0))/be,Qe=(se.top+(Le&&Ae?Ae.offsetTop:0))/we,Xe=se.width/be,qe=se.height/we;return{width:Xe,height:qe,top:Qe,right:We+Xe,bottom:Qe+qe,left:We,x:We,y:Qe}}function Eh($){var v=Uo($),T=$.offsetWidth,se=$.offsetHeight;return Math.abs(v.width-T)<=1&&(T=v.width),Math.abs(v.height-se)<=1&&(se=v.height),{x:$.offsetLeft,y:$.offsetTop,width:T,height:se}}function sy($,v){var T=v.getRootNode&&v.getRootNode();if($.contains(v))return!0;if(T&&_h(T)){var se=v;do{if(se&&$.isSameNode(se))return!0;se=se.parentNode||se.host}while(se)}return!1}function Oi($){return _r($).getComputedStyle($)}function Fx($){return["table","td","th"].indexOf(li($))>=0}function cs($){return((qs($)?$.ownerDocument:$.document)||window.document).documentElement}function Pu($){return li($)==="html"?$:$.assignedSlot||$.parentNode||(_h($)?$.host:null)||cs($)}function oy($){return kr($)&&Oi($).position!=="fixed"?$.offsetParent:null}function qa($){for(var v=_r($),T=oy($);T&&Fx(T)&&Oi(T).position==="static";)T=oy(T);return T&&(li(T)==="html"||li(T)==="body"&&Oi(T).position==="static")?v:T||(function(se){var be=/firefox/i.test(wh());if(/Trident/i.test(wh())&&kr(se)&&Oi(se).position==="fixed")return null;var we=Pu(se);for(_h(we)&&(we=we.host);kr(we)&&["html","body"].indexOf(li(we))<0;){var Ae=Oi(we);if(Ae.transform!=="none"||Ae.perspective!=="none"||Ae.contain==="paint"||["transform","perspective"].indexOf(Ae.willChange)!==-1||be&&Ae.willChange==="filter"||be&&Ae.filter&&Ae.filter!=="none")return we;we=we.parentNode}return null})($)||v}function Sh($){return["top","bottom"].indexOf($)>=0?"x":"y"}function Ga($,v,T){return Gs($,Iu(v,T))}function ay($){return Object.assign({},{top:0,right:0,bottom:0,left:0},$)}function ly($,v){return v.reduce(function(T,se){return T[se]=$,T},{})}const uy={name:"arrow",enabled:!0,phase:"main",fn:function($){var v,T=$.state,se=$.name,be=$.options,we=T.elements.arrow,Ae=T.modifiersData.popperOffsets,Le=ui(T.placement),We=Sh(Le),Qe=[qn,Yn].indexOf(Le)>=0?"height":"width";if(we&&Ae){var Xe=(function(Yt,$t){return ay(typeof(Yt=typeof Yt=="function"?Yt(Object.assign({},$t.rects,{placement:$t.placement})):Yt)!="number"?Yt:ly(Yt,Fo))})(be.padding,T),qe=Eh(we),gt=We==="y"?kt:qn,it=We==="y"?Tt:Yn,pt=T.rects.reference[Qe]+T.rects.reference[We]-Ae[We]-T.rects.popper[Qe],ft=Ae[We]-T.rects.reference[We],mt=qa(we),Ht=mt?We==="y"?mt.clientHeight||0:mt.clientWidth||0:0,Jt=pt/2-ft/2,vt=Xe[gt],Mt=Ht-qe[Qe]-Xe[it],yt=Ht/2-qe[Qe]/2+Jt,xt=Ga(vt,yt,Mt),jt=We;T.modifiersData[se]=((v={})[jt]=xt,v.centerOffset=xt-yt,v)}},effect:function($){var v=$.state,T=$.options.element,se=T===void 0?"[data-popper-arrow]":T;se!=null&&(typeof se!="string"||(se=v.elements.popper.querySelector(se)))&&sy(v.elements.popper,se)&&(v.elements.arrow=se)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wo($){return $.split("-")[1]}var Bx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cy($){var v,T=$.popper,se=$.popperRect,be=$.placement,we=$.variation,Ae=$.offsets,Le=$.position,We=$.gpuAcceleration,Qe=$.adaptive,Xe=$.roundOffsets,qe=$.isFixed,gt=Ae.x,it=gt===void 0?0:gt,pt=Ae.y,ft=pt===void 0?0:pt,mt=typeof Xe=="function"?Xe({x:it,y:ft}):{x:it,y:ft};it=mt.x,ft=mt.y;var Ht=Ae.hasOwnProperty("x"),Jt=Ae.hasOwnProperty("y"),vt=qn,Mt=kt,yt=window;if(Qe){var xt=qa(T),jt="clientHeight",Yt="clientWidth";xt===_r(T)&&Oi(xt=cs(T)).position!=="static"&&Le==="absolute"&&(jt="scrollHeight",Yt="scrollWidth"),(be===kt||(be===qn||be===Yn)&&we===Bo)&&(Mt=Tt,ft-=(qe&&xt===yt&&yt.visualViewport?yt.visualViewport.height:xt[jt])-se.height,ft*=We?1:-1),be!==qn&&(be!==kt&&be!==Tt||we!==Bo)||(vt=Yn,it-=(qe&&xt===yt&&yt.visualViewport?yt.visualViewport.width:xt[Yt])-se.width,it*=We?1:-1)}var $t,_n=Object.assign({position:Le},Qe&&Bx),br=Xe===!0?(function(Hr,or){var Ir=Hr.x,Pr=Hr.y,dn=or.devicePixelRatio||1;return{x:$o(Ir*dn)/dn||0,y:$o(Pr*dn)/dn||0}})({x:it,y:ft},_r(T)):{x:it,y:ft};return it=br.x,ft=br.y,We?Object.assign({},_n,(($t={})[Mt]=Jt?"0":"",$t[vt]=Ht?"0":"",$t.transform=(yt.devicePixelRatio||1)<=1?"translate("+it+"px, "+ft+"px)":"translate3d("+it+"px, "+ft+"px, 0)",$t)):Object.assign({},_n,((v={})[Mt]=Jt?ft+"px":"",v[vt]=Ht?it+"px":"",v.transform="",v))}const Ch={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function($){var v=$.state,T=$.options,se=T.gpuAcceleration,be=se===void 0||se,we=T.adaptive,Ae=we===void 0||we,Le=T.roundOffsets,We=Le===void 0||Le,Qe={placement:ui(v.placement),variation:Wo(v.placement),popper:v.elements.popper,popperRect:v.rects.popper,gpuAcceleration:be,isFixed:v.options.strategy==="fixed"};v.modifiersData.popperOffsets!=null&&(v.styles.popper=Object.assign({},v.styles.popper,cy(Object.assign({},Qe,{offsets:v.modifiersData.popperOffsets,position:v.options.strategy,adaptive:Ae,roundOffsets:We})))),v.modifiersData.arrow!=null&&(v.styles.arrow=Object.assign({},v.styles.arrow,cy(Object.assign({},Qe,{offsets:v.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:We})))),v.attributes.popper=Object.assign({},v.attributes.popper,{"data-popper-placement":v.placement})},data:{}};var Ou={passive:!0};const xh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function($){var v=$.state,T=$.instance,se=$.options,be=se.scroll,we=be===void 0||be,Ae=se.resize,Le=Ae===void 0||Ae,We=_r(v.elements.popper),Qe=[].concat(v.scrollParents.reference,v.scrollParents.popper);return we&&Qe.forEach(function(Xe){Xe.addEventListener("scroll",T.update,Ou)}),Le&&We.addEventListener("resize",T.update,Ou),function(){we&&Qe.forEach(function(Xe){Xe.removeEventListener("scroll",T.update,Ou)}),Le&&We.removeEventListener("resize",T.update,Ou)}},data:{}};var jx={left:"right",right:"left",bottom:"top",top:"bottom"};function Mu($){return $.replace(/left|right|bottom|top/g,function(v){return jx[v]})}var $x={start:"end",end:"start"};function fy($){return $.replace(/start|end/g,function(v){return $x[v]})}function Ah($){var v=_r($);return{scrollLeft:v.pageXOffset,scrollTop:v.pageYOffset}}function kh($){return Uo(cs($)).left+Ah($).scrollLeft}function Th($){var v=Oi($),T=v.overflow,se=v.overflowX,be=v.overflowY;return/auto|scroll|overlay|hidden/.test(T+be+se)}function hy($){return["html","body","#document"].indexOf(li($))>=0?$.ownerDocument.body:kr($)&&Th($)?$:hy(Pu($))}function za($,v){var T;v===void 0&&(v=[]);var se=hy($),be=se===((T=$.ownerDocument)==null?void 0:T.body),we=_r(se),Ae=be?[we].concat(we.visualViewport||[],Th(se)?se:[]):se,Le=v.concat(Ae);return be?Le:Le.concat(za(Pu(Ae)))}function Ih($){return Object.assign({},$,{left:$.x,top:$.y,right:$.x+$.width,bottom:$.y+$.height})}function dy($,v,T){return v===gh?Ih((function(se,be){var we=_r(se),Ae=cs(se),Le=we.visualViewport,We=Ae.clientWidth,Qe=Ae.clientHeight,Xe=0,qe=0;if(Le){We=Le.width,Qe=Le.height;var gt=iy();(gt||!gt&&be==="fixed")&&(Xe=Le.offsetLeft,qe=Le.offsetTop)}return{width:We,height:Qe,x:Xe+kh(se),y:qe}})($,T)):qs(v)?(function(se,be){var we=Uo(se,!1,be==="fixed");return we.top=we.top+se.clientTop,we.left=we.left+se.clientLeft,we.bottom=we.top+se.clientHeight,we.right=we.left+se.clientWidth,we.width=se.clientWidth,we.height=se.clientHeight,we.x=we.left,we.y=we.top,we})(v,T):Ih((function(se){var be,we=cs(se),Ae=Ah(se),Le=(be=se.ownerDocument)==null?void 0:be.body,We=Gs(we.scrollWidth,we.clientWidth,Le?Le.scrollWidth:0,Le?Le.clientWidth:0),Qe=Gs(we.scrollHeight,we.clientHeight,Le?Le.scrollHeight:0,Le?Le.clientHeight:0),Xe=-Ae.scrollLeft+kh(se),qe=-Ae.scrollTop;return Oi(Le||we).direction==="rtl"&&(Xe+=Gs(we.clientWidth,Le?Le.clientWidth:0)-We),{width:We,height:Qe,x:Xe,y:qe}})(cs($)))}function py($){var v,T=$.reference,se=$.element,be=$.placement,we=be?ui(be):null,Ae=be?Wo(be):null,Le=T.x+T.width/2-se.width/2,We=T.y+T.height/2-se.height/2;switch(we){case kt:v={x:Le,y:T.y-se.height};break;case Tt:v={x:Le,y:T.y+T.height};break;case Yn:v={x:T.x+T.width,y:We};break;case qn:v={x:T.x-se.width,y:We};break;default:v={x:T.x,y:T.y}}var Qe=we?Sh(we):null;if(Qe!=null){var Xe=Qe==="y"?"height":"width";switch(Ae){case Ys:v[Qe]=v[Qe]-(T[Xe]/2-se[Xe]/2);break;case Bo:v[Qe]=v[Qe]+(T[Xe]/2-se[Xe]/2)}}return v}function Vo($,v){v===void 0&&(v={});var T=v,se=T.placement,be=se===void 0?$.placement:se,we=T.strategy,Ae=we===void 0?$.strategy:we,Le=T.boundary,We=Le===void 0?q0:Le,Qe=T.rootBoundary,Xe=Qe===void 0?gh:Qe,qe=T.elementContext,gt=qe===void 0?jo:qe,it=T.altBoundary,pt=it!==void 0&&it,ft=T.padding,mt=ft===void 0?0:ft,Ht=ay(typeof mt!="number"?mt:ly(mt,Fo)),Jt=gt===jo?G0:jo,vt=$.rects.popper,Mt=$.elements[pt?Jt:gt],yt=(function(or,Ir,Pr,dn){var ci=Ir==="clippingParents"?(function(Xt){var ar=za(Pu(Xt)),Or=["absolute","fixed"].indexOf(Oi(Xt).position)>=0&&kr(Xt)?qa(Xt):Xt;return qs(Or)?ar.filter(function(hs){return qs(hs)&&sy(hs,Or)&&li(hs)!=="body"}):[]})(or):[].concat(Ir),fi=[].concat(ci,[Pr]),qo=fi[0],jn=fi.reduce(function(Xt,ar){var Or=dy(or,ar,dn);return Xt.top=Gs(Or.top,Xt.top),Xt.right=Iu(Or.right,Xt.right),Xt.bottom=Iu(Or.bottom,Xt.bottom),Xt.left=Gs(Or.left,Xt.left),Xt},dy(or,qo,dn));return jn.width=jn.right-jn.left,jn.height=jn.bottom-jn.top,jn.x=jn.left,jn.y=jn.top,jn})(qs(Mt)?Mt:Mt.contextElement||cs($.elements.popper),We,Xe,Ae),xt=Uo($.elements.reference),jt=py({reference:xt,element:vt,placement:be}),Yt=Ih(Object.assign({},vt,jt)),$t=gt===jo?Yt:xt,_n={top:yt.top-$t.top+Ht.top,bottom:$t.bottom-yt.bottom+Ht.bottom,left:yt.left-$t.left+Ht.left,right:$t.right-yt.right+Ht.right},br=$.modifiersData.offset;if(gt===jo&&br){var Hr=br[be];Object.keys(_n).forEach(function(or){var Ir=[Yn,Tt].indexOf(or)>=0?1:-1,Pr=[kt,Tt].indexOf(or)>=0?"y":"x";_n[or]+=Hr[Pr]*Ir})}return _n}function Ux($,v){v===void 0&&(v={});var T=v,se=T.placement,be=T.boundary,we=T.rootBoundary,Ae=T.padding,Le=T.flipVariations,We=T.allowedAutoPlacements,Qe=We===void 0?vh:We,Xe=Wo(se),qe=Xe?Le?yh:yh.filter(function(pt){return Wo(pt)===Xe}):Fo,gt=qe.filter(function(pt){return Qe.indexOf(pt)>=0});gt.length===0&&(gt=qe);var it=gt.reduce(function(pt,ft){return pt[ft]=Vo($,{placement:ft,boundary:be,rootBoundary:we,padding:Ae})[ui(ft)],pt},{});return Object.keys(it).sort(function(pt,ft){return it[pt]-it[ft]})}const my={name:"flip",enabled:!0,phase:"main",fn:function($){var v=$.state,T=$.options,se=$.name;if(!v.modifiersData[se]._skip){for(var be=T.mainAxis,we=be===void 0||be,Ae=T.altAxis,Le=Ae===void 0||Ae,We=T.fallbackPlacements,Qe=T.padding,Xe=T.boundary,qe=T.rootBoundary,gt=T.altBoundary,it=T.flipVariations,pt=it===void 0||it,ft=T.allowedAutoPlacements,mt=v.options.placement,Ht=ui(mt),Jt=We||(Ht!==mt&&pt?(function(Xt){if(ui(Xt)===Tu)return[];var ar=Mu(Xt);return[fy(Xt),ar,fy(ar)]})(mt):[Mu(mt)]),vt=[mt].concat(Jt).reduce(function(Xt,ar){return Xt.concat(ui(ar)===Tu?Ux(v,{placement:ar,boundary:Xe,rootBoundary:qe,padding:Qe,flipVariations:pt,allowedAutoPlacements:ft}):ar)},[]),Mt=v.rects.reference,yt=v.rects.popper,xt=new Map,jt=!0,Yt=vt[0],$t=0;$t<vt.length;$t++){var _n=vt[$t],br=ui(_n),Hr=Wo(_n)===Ys,or=[kt,Tt].indexOf(br)>=0,Ir=or?"width":"height",Pr=Vo(v,{placement:_n,boundary:Xe,rootBoundary:qe,altBoundary:gt,padding:Qe}),dn=or?Hr?Yn:qn:Hr?Tt:kt;Mt[Ir]>yt[Ir]&&(dn=Mu(dn));var ci=Mu(dn),fi=[];if(we&&fi.push(Pr[br]<=0),Le&&fi.push(Pr[dn]<=0,Pr[ci]<=0),fi.every(function(Xt){return Xt})){Yt=_n,jt=!1;break}xt.set(_n,fi)}if(jt)for(var qo=function(Xt){var ar=vt.find(function(Or){var hs=xt.get(Or);if(hs)return hs.slice(0,Xt).every(function(Uu){return Uu})});if(ar)return Yt=ar,"break"},jn=pt?3:1;jn>0&&qo(jn)!=="break";jn--);v.placement!==Yt&&(v.modifiersData[se]._skip=!0,v.placement=Yt,v.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gy($,v,T){return T===void 0&&(T={x:0,y:0}),{top:$.top-v.height-T.y,right:$.right-v.width+T.x,bottom:$.bottom-v.height+T.y,left:$.left-v.width-T.x}}function yy($){return[kt,Yn,Tt,qn].some(function(v){return $[v]>=0})}const vy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function($){var v=$.state,T=$.name,se=v.rects.reference,be=v.rects.popper,we=v.modifiersData.preventOverflow,Ae=Vo(v,{elementContext:"reference"}),Le=Vo(v,{altBoundary:!0}),We=gy(Ae,se),Qe=gy(Le,be,we),Xe=yy(We),qe=yy(Qe);v.modifiersData[T]={referenceClippingOffsets:We,popperEscapeOffsets:Qe,isReferenceHidden:Xe,hasPopperEscaped:qe},v.attributes.popper=Object.assign({},v.attributes.popper,{"data-popper-reference-hidden":Xe,"data-popper-escaped":qe})}},_y={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function($){var v=$.state,T=$.options,se=$.name,be=T.offset,we=be===void 0?[0,0]:be,Ae=vh.reduce(function(Xe,qe){return Xe[qe]=(function(gt,it,pt){var ft=ui(gt),mt=[qn,kt].indexOf(ft)>=0?-1:1,Ht=typeof pt=="function"?pt(Object.assign({},it,{placement:gt})):pt,Jt=Ht[0],vt=Ht[1];return Jt=Jt||0,vt=(vt||0)*mt,[qn,Yn].indexOf(ft)>=0?{x:vt,y:Jt}:{x:Jt,y:vt}})(qe,v.rects,we),Xe},{}),Le=Ae[v.placement],We=Le.x,Qe=Le.y;v.modifiersData.popperOffsets!=null&&(v.modifiersData.popperOffsets.x+=We,v.modifiersData.popperOffsets.y+=Qe),v.modifiersData[se]=Ae}},Ph={name:"popperOffsets",enabled:!0,phase:"read",fn:function($){var v=$.state,T=$.name;v.modifiersData[T]=py({reference:v.rects.reference,element:v.rects.popper,placement:v.placement})},data:{}},by={name:"preventOverflow",enabled:!0,phase:"main",fn:function($){var v=$.state,T=$.options,se=$.name,be=T.mainAxis,we=be===void 0||be,Ae=T.altAxis,Le=Ae!==void 0&&Ae,We=T.boundary,Qe=T.rootBoundary,Xe=T.altBoundary,qe=T.padding,gt=T.tether,it=gt===void 0||gt,pt=T.tetherOffset,ft=pt===void 0?0:pt,mt=Vo(v,{boundary:We,rootBoundary:Qe,padding:qe,altBoundary:Xe}),Ht=ui(v.placement),Jt=Wo(v.placement),vt=!Jt,Mt=Sh(Ht),yt=Mt==="x"?"y":"x",xt=v.modifiersData.popperOffsets,jt=v.rects.reference,Yt=v.rects.popper,$t=typeof ft=="function"?ft(Object.assign({},v.rects,{placement:v.placement})):ft,_n=typeof $t=="number"?{mainAxis:$t,altAxis:$t}:Object.assign({mainAxis:0,altAxis:0},$t),br=v.modifiersData.offset?v.modifiersData.offset[v.placement]:null,Hr={x:0,y:0};if(xt){if(we){var or,Ir=Mt==="y"?kt:qn,Pr=Mt==="y"?Tt:Yn,dn=Mt==="y"?"height":"width",ci=xt[Mt],fi=ci+mt[Ir],qo=ci-mt[Pr],jn=it?-Yt[dn]/2:0,Xt=Jt===Ys?jt[dn]:Yt[dn],ar=Jt===Ys?-Yt[dn]:-jt[dn],Or=v.elements.arrow,hs=it&&Or?Eh(Or):{width:0,height:0},Uu=v.modifiersData["arrow#persistent"]?v.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ov=Uu[Ir],av=Uu[Pr],Wu=Ga(0,jt[dn],hs[dn]),_k=vt?jt[dn]/2-jn-Wu-ov-_n.mainAxis:Xt-Wu-ov-_n.mainAxis,bk=vt?-jt[dn]/2+jn+Wu+av+_n.mainAxis:ar+Wu+av+_n.mainAxis,Hh=v.elements.arrow&&qa(v.elements.arrow),wk=Hh?Mt==="y"?Hh.clientTop||0:Hh.clientLeft||0:0,lv=(or=br?.[Mt])!=null?or:0,Ek=ci+bk-lv,uv=Ga(it?Iu(fi,ci+_k-lv-wk):fi,ci,it?Gs(qo,Ek):qo);xt[Mt]=uv,Hr[Mt]=uv-ci}if(Le){var cv,Sk=Mt==="x"?kt:qn,Ck=Mt==="x"?Tt:Yn,to=xt[yt],Vu=yt==="y"?"height":"width",fv=to+mt[Sk],hv=to-mt[Ck],Yh=[kt,qn].indexOf(Ht)!==-1,dv=(cv=br?.[yt])!=null?cv:0,pv=Yh?fv:to-jt[Vu]-Yt[Vu]-dv+_n.altAxis,mv=Yh?to+jt[Vu]+Yt[Vu]-dv-_n.altAxis:hv,gv=it&&Yh?(function(xk,Ak,qh){var yv=Ga(xk,Ak,qh);return yv>qh?qh:yv})(pv,to,mv):Ga(it?pv:fv,to,it?mv:hv);xt[yt]=gv,Hr[yt]=gv-to}v.modifiersData[se]=Hr}},requiresIfExists:["offset"]};function Wx($,v,T){T===void 0&&(T=!1);var se,be,we=kr(v),Ae=kr(v)&&(function(qe){var gt=qe.getBoundingClientRect(),it=$o(gt.width)/qe.offsetWidth||1,pt=$o(gt.height)/qe.offsetHeight||1;return it!==1||pt!==1})(v),Le=cs(v),We=Uo($,Ae,T),Qe={scrollLeft:0,scrollTop:0},Xe={x:0,y:0};return(we||!we&&!T)&&((li(v)!=="body"||Th(Le))&&(Qe=(se=v)!==_r(se)&&kr(se)?{scrollLeft:(be=se).scrollLeft,scrollTop:be.scrollTop}:Ah(se)),kr(v)?((Xe=Uo(v,!0)).x+=v.clientLeft,Xe.y+=v.clientTop):Le&&(Xe.x=kh(Le))),{x:We.left+Qe.scrollLeft-Xe.x,y:We.top+Qe.scrollTop-Xe.y,width:We.width,height:We.height}}function Vx($){var v=new Map,T=new Set,se=[];function be(we){T.add(we.name),[].concat(we.requires||[],we.requiresIfExists||[]).forEach(function(Ae){if(!T.has(Ae)){var Le=v.get(Ae);Le&&be(Le)}}),se.push(we)}return $.forEach(function(we){v.set(we.name,we)}),$.forEach(function(we){T.has(we.name)||be(we)}),se}var wy={placement:"bottom",modifiers:[],strategy:"absolute"};function Ey(){for(var $=arguments.length,v=new Array($),T=0;T<$;T++)v[T]=arguments[T];return!v.some(function(se){return!(se&&typeof se.getBoundingClientRect=="function")})}function Du($){$===void 0&&($={});var v=$,T=v.defaultModifiers,se=T===void 0?[]:T,be=v.defaultOptions,we=be===void 0?wy:be;return function(Ae,Le,We){We===void 0&&(We=we);var Qe,Xe,qe={placement:"bottom",orderedModifiers:[],options:Object.assign({},wy,we),modifiersData:{},elements:{reference:Ae,popper:Le},attributes:{},styles:{}},gt=[],it=!1,pt={state:qe,setOptions:function(mt){var Ht=typeof mt=="function"?mt(qe.options):mt;ft(),qe.options=Object.assign({},we,qe.options,Ht),qe.scrollParents={reference:qs(Ae)?za(Ae):Ae.contextElement?za(Ae.contextElement):[],popper:za(Le)};var Jt,vt,Mt=(function(yt){var xt=Vx(yt);return ry.reduce(function(jt,Yt){return jt.concat(xt.filter(function($t){return $t.phase===Yt}))},[])})((Jt=[].concat(se,qe.options.modifiers),vt=Jt.reduce(function(yt,xt){var jt=yt[xt.name];return yt[xt.name]=jt?Object.assign({},jt,xt,{options:Object.assign({},jt.options,xt.options),data:Object.assign({},jt.data,xt.data)}):xt,yt},{}),Object.keys(vt).map(function(yt){return vt[yt]})));return qe.orderedModifiers=Mt.filter(function(yt){return yt.enabled}),qe.orderedModifiers.forEach(function(yt){var xt=yt.name,jt=yt.options,Yt=jt===void 0?{}:jt,$t=yt.effect;if(typeof $t=="function"){var _n=$t({state:qe,name:xt,instance:pt,options:Yt});gt.push(_n||function(){})}}),pt.update()},forceUpdate:function(){if(!it){var mt=qe.elements,Ht=mt.reference,Jt=mt.popper;if(Ey(Ht,Jt)){qe.rects={reference:Wx(Ht,qa(Jt),qe.options.strategy==="fixed"),popper:Eh(Jt)},qe.reset=!1,qe.placement=qe.options.placement,qe.orderedModifiers.forEach(function($t){return qe.modifiersData[$t.name]=Object.assign({},$t.data)});for(var vt=0;vt<qe.orderedModifiers.length;vt++)if(qe.reset!==!0){var Mt=qe.orderedModifiers[vt],yt=Mt.fn,xt=Mt.options,jt=xt===void 0?{}:xt,Yt=Mt.name;typeof yt=="function"&&(qe=yt({state:qe,options:jt,name:Yt,instance:pt})||qe)}else qe.reset=!1,vt=-1}}},update:(Qe=function(){return new Promise(function(mt){pt.forceUpdate(),mt(qe)})},function(){return Xe||(Xe=new Promise(function(mt){Promise.resolve().then(function(){Xe=void 0,mt(Qe())})})),Xe}),destroy:function(){ft(),it=!0}};if(!Ey(Ae,Le))return pt;function ft(){gt.forEach(function(mt){return mt()}),gt=[]}return pt.setOptions(We).then(function(mt){!it&&We.onFirstUpdate&&We.onFirstUpdate(mt)}),pt}}var Hx=Du(),Yx=Du({defaultModifiers:[xh,Ph,Ch,bh]}),Oh=Du({defaultModifiers:[xh,Ph,Ch,bh,_y,my,by,uy,vy]});const Sy=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Z0,afterRead:Q0,afterWrite:ny,applyStyles:bh,arrow:uy,auto:Tu,basePlacements:Fo,beforeMain:X0,beforeRead:z0,beforeWrite:ey,bottom:Tt,clippingParents:q0,computeStyles:Ch,createPopper:Oh,createPopperBase:Hx,createPopperLite:Yx,detectOverflow:Vo,end:Bo,eventListeners:xh,flip:my,hide:vy,left:qn,main:J0,modifierPhases:ry,offset:_y,placements:vh,popper:jo,popperGenerator:Du,popperOffsets:Ph,preventOverflow:by,read:K0,reference:G0,right:Yn,start:Ys,top:kt,variationPlacements:yh,viewport:gh,write:ty},Symbol.toStringTag,{value:"Module"})),Cy="dropdown",zs=".bs.dropdown",Mh=".data-api",qx="ArrowUp",xy="ArrowDown",Gx=`hide${zs}`,zx=`hidden${zs}`,Kx=`show${zs}`,Qx=`shown${zs}`,Ay=`click${zs}${Mh}`,ky=`keydown${zs}${Mh}`,Xx=`keyup${zs}${Mh}`,Ho="show",Ks='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Jx=`${Ks}.${Ho}`,Ru=".dropdown-menu",Zx=y()?"top-end":"top-start",eA=y()?"top-start":"top-end",tA=y()?"bottom-end":"bottom-start",nA=y()?"bottom-start":"bottom-end",rA=y()?"left-start":"right-start",iA=y()?"right-start":"left-start",sA={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},oA={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Vr extends J{constructor(v,T){super(v,T),this._popper=null,this._parent=this._element.parentNode,this._menu=oe.next(this._element,Ru)[0]||oe.prev(this._element,Ru)[0]||oe.findOne(Ru,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sA}static get DefaultType(){return oA}static get NAME(){return Cy}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const v={relatedTarget:this._element};if(!X.trigger(this._element,Kx,v).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const T of[].concat(...document.body.children))X.on(T,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ho),this._element.classList.add(Ho),X.trigger(this._element,Qx,v)}}hide(){if(f(this._element)||!this._isShown())return;const v={relatedTarget:this._element};this._completeHide(v)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(v){if(!X.trigger(this._element,Gx,v).defaultPrevented){if("ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))X.off(T,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ho),this._element.classList.remove(Ho),this._element.setAttribute("aria-expanded","false"),ge.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,zx,v)}}_getConfig(v){if(typeof(v=super._getConfig(v)).reference=="object"&&!l(v.reference)&&typeof v.reference.getBoundingClientRect!="function")throw new TypeError(`${Cy.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return v}_createPopper(){if(Sy===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let v=this._element;this._config.reference==="parent"?v=this._parent:l(this._config.reference)?v=u(this._config.reference):typeof this._config.reference=="object"&&(v=this._config.reference);const T=this._getPopperConfig();this._popper=Oh(v,this._menu,T)}_isShown(){return this._menu.classList.contains(Ho)}_getPlacement(){const v=this._parent;if(v.classList.contains("dropend"))return rA;if(v.classList.contains("dropstart"))return iA;if(v.classList.contains("dropup-center"))return"top";if(v.classList.contains("dropdown-center"))return"bottom";const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return v.classList.contains("dropup")?T?eA:Zx:T?nA:tA}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(T=>Number.parseInt(T,10)):typeof v=="function"?T=>v(T,this._element):v}_getPopperConfig(){const v={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ge.setDataAttribute(this._menu,"popper","static"),v.modifiers=[{name:"applyStyles",enabled:!1}]),{...v,...b(this._config.popperConfig,[void 0,v])}}_selectMenuItem({key:v,target:T}){const se=oe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(be=>c(be));se.length&&E(se,T,v===xy,!se.includes(T)).focus()}static jQueryInterface(v){return this.each(function(){const T=Vr.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}static clearMenus(v){if(v.button===2||v.type==="keyup"&&v.key!=="Tab")return;const T=oe.find(Jx);for(const se of T){const be=Vr.getInstance(se);if(!be||be._config.autoClose===!1)continue;const we=v.composedPath(),Ae=we.includes(be._menu);if(we.includes(be._element)||be._config.autoClose==="inside"&&!Ae||be._config.autoClose==="outside"&&Ae||be._menu.contains(v.target)&&(v.type==="keyup"&&v.key==="Tab"||/input|select|option|textarea|form/i.test(v.target.tagName)))continue;const Le={relatedTarget:be._element};v.type==="click"&&(Le.clickEvent=v),be._completeHide(Le)}}static dataApiKeydownHandler(v){const T=/input|textarea/i.test(v.target.tagName),se=v.key==="Escape",be=[qx,xy].includes(v.key);if(!be&&!se||T&&!se)return;v.preventDefault();const we=this.matches(Ks)?this:oe.prev(this,Ks)[0]||oe.next(this,Ks)[0]||oe.findOne(Ks,v.delegateTarget.parentNode),Ae=Vr.getOrCreateInstance(we);if(be)return v.stopPropagation(),Ae.show(),void Ae._selectMenuItem(v);Ae._isShown()&&(v.stopPropagation(),Ae.hide(),we.focus())}}X.on(document,ky,Ks,Vr.dataApiKeydownHandler),X.on(document,ky,Ru,Vr.dataApiKeydownHandler),X.on(document,Ay,Vr.clearMenus),X.on(document,Xx,Vr.clearMenus),X.on(document,Ay,Ks,function($){$.preventDefault(),Vr.getOrCreateInstance(this).toggle()}),m(Vr);const Ty="backdrop",Iy="show",Py=`mousedown.bs.${Ty}`,aA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Oy extends Ee{constructor(v){super(),this._config=this._getConfig(v),this._isAppended=!1,this._element=null}static get Default(){return aA}static get DefaultType(){return lA}static get NAME(){return Ty}show(v){if(!this._config.isVisible)return void b(v);this._append();const T=this._getElement();this._config.isAnimated&&p(T),T.classList.add(Iy),this._emulateAnimation(()=>{b(v)})}hide(v){this._config.isVisible?(this._getElement().classList.remove(Iy),this._emulateAnimation(()=>{this.dispose(),b(v)})):b(v)}dispose(){this._isAppended&&(X.off(this._element,Py),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const v=document.createElement("div");v.className=this._config.className,this._config.isAnimated&&v.classList.add("fade"),this._element=v}return this._element}_configAfterMerge(v){return v.rootElement=u(v.rootElement),v}_append(){if(this._isAppended)return;const v=this._getElement();this._config.rootElement.append(v),X.on(v,Py,()=>{b(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(v){S(v,this._getElement(),this._config.isAnimated)}}const Nu=".bs.focustrap",uA=`focusin${Nu}`,cA=`keydown.tab${Nu}`,My="backward",fA={autofocus:!0,trapElement:null},hA={autofocus:"boolean",trapElement:"element"};class Dy extends Ee{constructor(v){super(),this._config=this._getConfig(v),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fA}static get DefaultType(){return hA}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,Nu),X.on(document,uA,v=>this._handleFocusin(v)),X.on(document,cA,v=>this._handleKeydown(v)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,Nu))}_handleFocusin(v){const{trapElement:T}=this._config;if(v.target===document||v.target===T||T.contains(v.target))return;const se=oe.focusableChildren(T);se.length===0?T.focus():this._lastTabNavDirection===My?se[se.length-1].focus():se[0].focus()}_handleKeydown(v){v.key==="Tab"&&(this._lastTabNavDirection=v.shiftKey?My:"forward")}}const Ry=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ny=".sticky-top",Lu="padding-right",Ly="margin-right";class Dh{constructor(){this._element=document.body}getWidth(){const v=document.documentElement.clientWidth;return Math.abs(window.innerWidth-v)}hide(){const v=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Lu,T=>T+v),this._setElementAttributes(Ry,Lu,T=>T+v),this._setElementAttributes(Ny,Ly,T=>T-v)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Lu),this._resetElementAttributes(Ry,Lu),this._resetElementAttributes(Ny,Ly)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(v,T,se){const be=this.getWidth();this._applyManipulationCallback(v,we=>{if(we!==this._element&&window.innerWidth>we.clientWidth+be)return;this._saveInitialAttribute(we,T);const Ae=window.getComputedStyle(we).getPropertyValue(T);we.style.setProperty(T,`${se(Number.parseFloat(Ae))}px`)})}_saveInitialAttribute(v,T){const se=v.style.getPropertyValue(T);se&&ge.setDataAttribute(v,T,se)}_resetElementAttributes(v,T){this._applyManipulationCallback(v,se=>{const be=ge.getDataAttribute(se,T);be!==null?(ge.removeDataAttribute(se,T),se.style.setProperty(T,be)):se.style.removeProperty(T)})}_applyManipulationCallback(v,T){if(l(v))T(v);else for(const se of oe.find(v,this._element))T(se)}}const Tr=".bs.modal",dA=`hide${Tr}`,pA=`hidePrevented${Tr}`,Fy=`hidden${Tr}`,By=`show${Tr}`,mA=`shown${Tr}`,gA=`resize${Tr}`,yA=`click.dismiss${Tr}`,vA=`mousedown.dismiss${Tr}`,_A=`keydown.dismiss${Tr}`,bA=`click${Tr}.data-api`,jy="modal-open",$y="show",Rh="modal-static",wA={backdrop:!0,focus:!0,keyboard:!0},EA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qs extends J{constructor(v,T){super(v,T),this._dialog=oe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Dh,this._addEventListeners()}static get Default(){return wA}static get DefaultType(){return EA}static get NAME(){return"modal"}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||this._isTransitioning||X.trigger(this._element,By,{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(jy),this._adjustDialog(),this._backdrop.show(()=>this._showElement(v)))}hide(){this._isShown&&!this._isTransitioning&&(X.trigger(this._element,dA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($y),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){X.off(window,Tr),X.off(this._dialog,Tr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Oy({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dy({trapElement:this._element})}_showElement(v){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=oe.findOne(".modal-body",this._dialog);T&&(T.scrollTop=0),p(this._element),this._element.classList.add($y),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,mA,{relatedTarget:v})},this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,_A,v=>{v.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),X.on(window,gA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,vA,v=>{X.one(this._element,yA,T=>{this._element===v.target&&this._element===T.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(jy),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,Fy)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(X.trigger(this._element,pA).defaultPrevented)return;const v=this._element.scrollHeight>document.documentElement.clientHeight,T=this._element.style.overflowY;T==="hidden"||this._element.classList.contains(Rh)||(v||(this._element.style.overflowY="hidden"),this._element.classList.add(Rh),this._queueCallback(()=>{this._element.classList.remove(Rh),this._queueCallback(()=>{this._element.style.overflowY=T},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const v=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),se=T>0;if(se&&!v){const be=y()?"paddingLeft":"paddingRight";this._element.style[be]=`${T}px`}if(!se&&v){const be=y()?"paddingRight":"paddingLeft";this._element.style[be]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(v,T){return this.each(function(){const se=Qs.getOrCreateInstance(this,v);if(typeof v=="string"){if(se[v]===void 0)throw new TypeError(`No method named "${v}"`);se[v](T)}})}}X.on(document,bA,'[data-bs-toggle="modal"]',function($){const v=oe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&$.preventDefault(),X.one(v,By,se=>{se.defaultPrevented||X.one(v,Fy,()=>{c(this)&&this.focus()})});const T=oe.findOne(".modal.show");T&&Qs.getInstance(T).hide(),Qs.getOrCreateInstance(v).toggle(this)}),L(Qs),m(Qs);const Mi=".bs.offcanvas",Uy=".data-api",SA=`load${Mi}${Uy}`,Wy="show",Vy="showing",Hy="hiding",Yy=".offcanvas.show",CA=`show${Mi}`,xA=`shown${Mi}`,AA=`hide${Mi}`,qy=`hidePrevented${Mi}`,Gy=`hidden${Mi}`,kA=`resize${Mi}`,TA=`click${Mi}${Uy}`,IA=`keydown.dismiss${Mi}`,PA={backdrop:!0,keyboard:!0,scroll:!1},OA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Di extends J{constructor(v,T){super(v,T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return PA}static get DefaultType(){return OA}static get NAME(){return"offcanvas"}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||X.trigger(this._element,CA,{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Dh().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vy),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Wy),this._element.classList.remove(Vy),X.trigger(this._element,xA,{relatedTarget:v})},this._element,!0))}hide(){this._isShown&&(X.trigger(this._element,AA).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Hy),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Wy,Hy),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Dh().reset(),X.trigger(this._element,Gy)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const v=!!this._config.backdrop;return new Oy({className:"offcanvas-backdrop",isVisible:v,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:v?()=>{this._config.backdrop!=="static"?this.hide():X.trigger(this._element,qy)}:null})}_initializeFocusTrap(){return new Dy({trapElement:this._element})}_addEventListeners(){X.on(this._element,IA,v=>{v.key==="Escape"&&(this._config.keyboard?this.hide():X.trigger(this._element,qy))})}static jQueryInterface(v){return this.each(function(){const T=Di.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v](this)}})}}X.on(document,TA,'[data-bs-toggle="offcanvas"]',function($){const v=oe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),f(this))return;X.one(v,Gy,()=>{c(this)&&this.focus()});const T=oe.findOne(Yy);T&&T!==v&&Di.getInstance(T).hide(),Di.getOrCreateInstance(v).toggle(this)}),X.on(window,SA,()=>{for(const $ of oe.find(Yy))Di.getOrCreateInstance($).show()}),X.on(window,kA,()=>{for(const $ of oe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle($).position!=="fixed"&&Di.getOrCreateInstance($).hide()}),L(Di),m(Di);const zy={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},MA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),DA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,RA=($,v)=>{const T=$.nodeName.toLowerCase();return v.includes(T)?!MA.has(T)||!!DA.test($.nodeValue):v.filter(se=>se instanceof RegExp).some(se=>se.test(T))},NA={allowList:zy,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},LA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},FA={entry:"(string|element|function|null)",selector:"(string|element)"};class BA extends Ee{constructor(v){super(),this._config=this._getConfig(v)}static get Default(){return NA}static get DefaultType(){return LA}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(v=>this._resolvePossibleFunction(v)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(v){return this._checkContent(v),this._config.content={...this._config.content,...v},this}toHtml(){const v=document.createElement("div");v.innerHTML=this._maybeSanitize(this._config.template);for(const[be,we]of Object.entries(this._config.content))this._setContent(v,we,be);const T=v.children[0],se=this._resolvePossibleFunction(this._config.extraClass);return se&&T.classList.add(...se.split(" ")),T}_typeCheckConfig(v){super._typeCheckConfig(v),this._checkContent(v.content)}_checkContent(v){for(const[T,se]of Object.entries(v))super._typeCheckConfig({selector:T,entry:se},FA)}_setContent(v,T,se){const be=oe.findOne(se,v);be&&((T=this._resolvePossibleFunction(T))?l(T)?this._putElementInTemplate(u(T),be):this._config.html?be.innerHTML=this._maybeSanitize(T):be.textContent=T:be.remove())}_maybeSanitize(v){return this._config.sanitize?(function(T,se,be){if(!T.length)return T;if(be&&typeof be=="function")return be(T);const we=new window.DOMParser().parseFromString(T,"text/html"),Ae=[].concat(...we.body.querySelectorAll("*"));for(const Le of Ae){const We=Le.nodeName.toLowerCase();if(!Object.keys(se).includes(We)){Le.remove();continue}const Qe=[].concat(...Le.attributes),Xe=[].concat(se["*"]||[],se[We]||[]);for(const qe of Qe)RA(qe,Xe)||Le.removeAttribute(qe.nodeName)}return we.body.innerHTML})(v,this._config.allowList,this._config.sanitizeFn):v}_resolvePossibleFunction(v){return b(v,[void 0,this])}_putElementInTemplate(v,T){if(this._config.html)return T.innerHTML="",void T.append(v);T.textContent=v.textContent}}const jA=new Set(["sanitize","allowList","sanitizeFn"]),Nh="fade",Fu="show",$A=".tooltip-inner",Ky=".modal",Qy="hide.bs.modal",Ka="hover",Lh="focus",Fh="click",UA={AUTO:"auto",TOP:"top",RIGHT:y()?"left":"right",BOTTOM:"bottom",LEFT:y()?"right":"left"},WA={allowList:zy,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},VA={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xs extends J{constructor(v,T){if(Sy===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(v,T),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return WA}static get DefaultType(){return VA}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(Ky),Qy,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const v=X.trigger(this._element,this.constructor.eventName("show")),T=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(v.defaultPrevented||!T)return;this._disposePopper();const se=this._getTipElement();this._element.setAttribute("aria-describedby",se.getAttribute("id"));const{container:be}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(be.append(se),X.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(se),se.classList.add(Fu),"ontouchstart"in document.documentElement)for(const we of[].concat(...document.body.children))X.on(we,"mouseover",d);this._queueCallback(()=>{X.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!X.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fu),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))X.off(v,"mouseover",d);this._activeTrigger[Fh]=!1,this._activeTrigger[Lh]=!1,this._activeTrigger[Ka]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(v){const T=this._getTemplateFactory(v).toHtml();if(!T)return null;T.classList.remove(Nh,Fu),T.classList.add(`bs-${this.constructor.NAME}-auto`);const se=(be=>{do be+=Math.floor(1e6*Math.random());while(document.getElementById(be));return be})(this.constructor.NAME).toString();return T.setAttribute("id",se),this._isAnimated()&&T.classList.add(Nh),T}setContent(v){this._newContent=v,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(v){return this._templateFactory?this._templateFactory.changeContent(v):this._templateFactory=new BA({...this._config,content:v,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$A]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(v){return this.constructor.getOrCreateInstance(v.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Nh)}_isShown(){return this.tip&&this.tip.classList.contains(Fu)}_createPopper(v){const T=b(this._config.placement,[this,v,this._element]),se=UA[T.toUpperCase()];return Oh(this._element,v,this._getPopperConfig(se))}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(T=>Number.parseInt(T,10)):typeof v=="function"?T=>v(T,this._element):v}_resolvePossibleFunction(v){return b(v,[this._element,this._element])}_getPopperConfig(v){const T={placement:v,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:se=>{this._getTipElement().setAttribute("data-popper-placement",se.state.placement)}}]};return{...T,...b(this._config.popperConfig,[void 0,T])}}_setListeners(){const v=this._config.trigger.split(" ");for(const T of v)if(T==="click")X.on(this._element,this.constructor.eventName("click"),this._config.selector,se=>{const be=this._initializeOnDelegatedTarget(se);be._activeTrigger[Fh]=!(be._isShown()&&be._activeTrigger[Fh]),be.toggle()});else if(T!=="manual"){const se=T===Ka?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),be=T===Ka?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");X.on(this._element,se,this._config.selector,we=>{const Ae=this._initializeOnDelegatedTarget(we);Ae._activeTrigger[we.type==="focusin"?Lh:Ka]=!0,Ae._enter()}),X.on(this._element,be,this._config.selector,we=>{const Ae=this._initializeOnDelegatedTarget(we);Ae._activeTrigger[we.type==="focusout"?Lh:Ka]=Ae._element.contains(we.relatedTarget),Ae._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(Ky),Qy,this._hideModalHandler)}_fixTitle(){const v=this._element.getAttribute("title");v&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",v),this._element.setAttribute("data-bs-original-title",v),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(v,T){clearTimeout(this._timeout),this._timeout=setTimeout(v,T)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(v){const T=ge.getDataAttributes(this._element);for(const se of Object.keys(T))jA.has(se)&&delete T[se];return v={...T,...typeof v=="object"&&v?v:{}},v=this._mergeConfigObj(v),v=this._configAfterMerge(v),this._typeCheckConfig(v),v}_configAfterMerge(v){return v.container=v.container===!1?document.body:u(v.container),typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),typeof v.title=="number"&&(v.title=v.title.toString()),typeof v.content=="number"&&(v.content=v.content.toString()),v}_getDelegateConfig(){const v={};for(const[T,se]of Object.entries(this._config))this.constructor.Default[T]!==se&&(v[T]=se);return v.selector=!1,v.trigger="manual",v}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(v){return this.each(function(){const T=Xs.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}m(Xs);const HA=".popover-header",YA=".popover-body",qA={...Xs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},GA={...Xs.DefaultType,content:"(null|string|element|function)"};class Bu extends Xs{static get Default(){return qA}static get DefaultType(){return GA}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[HA]:this._getTitle(),[YA]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(v){return this.each(function(){const T=Bu.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}m(Bu);const Bh=".bs.scrollspy",zA=`activate${Bh}`,Xy=`click${Bh}`,KA=`load${Bh}.data-api`,Yo="active",jh="[href]",Jy=".nav-link",QA=`${Jy}, .nav-item > ${Jy}, .list-group-item`,XA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},JA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qa extends J{constructor(v,T){super(v,T),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return XA}static get DefaultType(){return JA}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const v of this._observableSections.values())this._observer.observe(v)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(v){return v.target=u(v.target)||document.body,v.rootMargin=v.offset?`${v.offset}px 0px -30%`:v.rootMargin,typeof v.threshold=="string"&&(v.threshold=v.threshold.split(",").map(T=>Number.parseFloat(T))),v}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,Xy),X.on(this._config.target,Xy,jh,v=>{const T=this._observableSections.get(v.target.hash);if(T){v.preventDefault();const se=this._rootElement||window,be=T.offsetTop-this._element.offsetTop;if(se.scrollTo)return void se.scrollTo({top:be,behavior:"smooth"});se.scrollTop=be}}))}_getNewObserver(){const v={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(T=>this._observerCallback(T),v)}_observerCallback(v){const T=Ae=>this._targetLinks.get(`#${Ae.target.id}`),se=Ae=>{this._previousScrollData.visibleEntryTop=Ae.target.offsetTop,this._process(T(Ae))},be=(this._rootElement||document.documentElement).scrollTop,we=be>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=be;for(const Ae of v){if(!Ae.isIntersecting){this._activeTarget=null,this._clearActiveClass(T(Ae));continue}const Le=Ae.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(we&&Le){if(se(Ae),!be)return}else we||Le||se(Ae)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const v=oe.find(jh,this._config.target);for(const T of v){if(!T.hash||f(T))continue;const se=oe.findOne(decodeURI(T.hash),this._element);c(se)&&(this._targetLinks.set(decodeURI(T.hash),T),this._observableSections.set(T.hash,se))}}_process(v){this._activeTarget!==v&&(this._clearActiveClass(this._config.target),this._activeTarget=v,v.classList.add(Yo),this._activateParents(v),X.trigger(this._element,zA,{relatedTarget:v}))}_activateParents(v){if(v.classList.contains("dropdown-item"))oe.findOne(".dropdown-toggle",v.closest(".dropdown")).classList.add(Yo);else for(const T of oe.parents(v,".nav, .list-group"))for(const se of oe.prev(T,QA))se.classList.add(Yo)}_clearActiveClass(v){v.classList.remove(Yo);const T=oe.find(`${jh}.${Yo}`,v);for(const se of T)se.classList.remove(Yo)}static jQueryInterface(v){return this.each(function(){const T=Qa.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v]()}})}}X.on(window,KA,()=>{for(const $ of oe.find('[data-bs-spy="scroll"]'))Qa.getOrCreateInstance($)}),m(Qa);const Js=".bs.tab",ZA=`hide${Js}`,ek=`hidden${Js}`,tk=`show${Js}`,nk=`shown${Js}`,rk=`click${Js}`,ik=`keydown${Js}`,sk=`load${Js}`,ok="ArrowLeft",Zy="ArrowRight",ak="ArrowUp",ev="ArrowDown",$h="Home",tv="End",Zs="active",nv="fade",Uh="show",rv=".dropdown-toggle",Wh=`:not(${rv})`,iv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vh=`.nav-link${Wh}, .list-group-item${Wh}, [role="tab"]${Wh}, ${iv}`,lk=`.${Zs}[data-bs-toggle="tab"], .${Zs}[data-bs-toggle="pill"], .${Zs}[data-bs-toggle="list"]`;class eo extends J{constructor(v){super(v),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,ik,T=>this._keydown(T)))}static get NAME(){return"tab"}show(){const v=this._element;if(this._elemIsActive(v))return;const T=this._getActiveElem(),se=T?X.trigger(T,ZA,{relatedTarget:v}):null;X.trigger(v,tk,{relatedTarget:T}).defaultPrevented||se&&se.defaultPrevented||(this._deactivate(T,v),this._activate(v,T))}_activate(v,T){v&&(v.classList.add(Zs),this._activate(oe.getElementFromSelector(v)),this._queueCallback(()=>{v.getAttribute("role")==="tab"?(v.removeAttribute("tabindex"),v.setAttribute("aria-selected",!0),this._toggleDropDown(v,!0),X.trigger(v,nk,{relatedTarget:T})):v.classList.add(Uh)},v,v.classList.contains(nv)))}_deactivate(v,T){v&&(v.classList.remove(Zs),v.blur(),this._deactivate(oe.getElementFromSelector(v)),this._queueCallback(()=>{v.getAttribute("role")==="tab"?(v.setAttribute("aria-selected",!1),v.setAttribute("tabindex","-1"),this._toggleDropDown(v,!1),X.trigger(v,ek,{relatedTarget:T})):v.classList.remove(Uh)},v,v.classList.contains(nv)))}_keydown(v){if(![ok,Zy,ak,ev,$h,tv].includes(v.key))return;v.stopPropagation(),v.preventDefault();const T=this._getChildren().filter(be=>!f(be));let se;if([$h,tv].includes(v.key))se=T[v.key===$h?0:T.length-1];else{const be=[Zy,ev].includes(v.key);se=E(T,v.target,be,!0)}se&&(se.focus({preventScroll:!0}),eo.getOrCreateInstance(se).show())}_getChildren(){return oe.find(Vh,this._parent)}_getActiveElem(){return this._getChildren().find(v=>this._elemIsActive(v))||null}_setInitialAttributes(v,T){this._setAttributeIfNotExists(v,"role","tablist");for(const se of T)this._setInitialAttributesOnChild(se)}_setInitialAttributesOnChild(v){v=this._getInnerElement(v);const T=this._elemIsActive(v),se=this._getOuterElement(v);v.setAttribute("aria-selected",T),se!==v&&this._setAttributeIfNotExists(se,"role","presentation"),T||v.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(v,"role","tab"),this._setInitialAttributesOnTargetPanel(v)}_setInitialAttributesOnTargetPanel(v){const T=oe.getElementFromSelector(v);T&&(this._setAttributeIfNotExists(T,"role","tabpanel"),v.id&&this._setAttributeIfNotExists(T,"aria-labelledby",`${v.id}`))}_toggleDropDown(v,T){const se=this._getOuterElement(v);if(!se.classList.contains("dropdown"))return;const be=(we,Ae)=>{const Le=oe.findOne(we,se);Le&&Le.classList.toggle(Ae,T)};be(rv,Zs),be(".dropdown-menu",Uh),se.setAttribute("aria-expanded",T)}_setAttributeIfNotExists(v,T,se){v.hasAttribute(T)||v.setAttribute(T,se)}_elemIsActive(v){return v.classList.contains(Zs)}_getInnerElement(v){return v.matches(Vh)?v:oe.findOne(Vh,v)}_getOuterElement(v){return v.closest(".nav-item, .list-group-item")||v}static jQueryInterface(v){return this.each(function(){const T=eo.getOrCreateInstance(this);if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v]()}})}}X.on(document,rk,iv,function($){["A","AREA"].includes(this.tagName)&&$.preventDefault(),f(this)||eo.getOrCreateInstance(this).show()}),X.on(window,sk,()=>{for(const $ of oe.find(lk))eo.getOrCreateInstance($)}),m(eo);const fs=".bs.toast",uk=`mouseover${fs}`,ck=`mouseout${fs}`,fk=`focusin${fs}`,hk=`focusout${fs}`,dk=`hide${fs}`,pk=`hidden${fs}`,mk=`show${fs}`,gk=`shown${fs}`,sv="hide",ju="show",$u="showing",yk={animation:"boolean",autohide:"boolean",delay:"number"},vk={animation:!0,autohide:!0,delay:5e3};class Xa extends J{constructor(v,T){super(v,T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return vk}static get DefaultType(){return yk}static get NAME(){return"toast"}show(){X.trigger(this._element,mk).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(sv),p(this._element),this._element.classList.add(ju,$u),this._queueCallback(()=>{this._element.classList.remove($u),X.trigger(this._element,gk),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(X.trigger(this._element,dk).defaultPrevented||(this._element.classList.add($u),this._queueCallback(()=>{this._element.classList.add(sv),this._element.classList.remove($u,ju),X.trigger(this._element,pk)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ju),super.dispose()}isShown(){return this._element.classList.contains(ju)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(v,T){switch(v.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const se=v.relatedTarget;this._element===se||this._element.contains(se)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,uk,v=>this._onInteraction(v,!0)),X.on(this._element,ck,v=>this._onInteraction(v,!1)),X.on(this._element,fk,v=>this._onInteraction(v,!0)),X.on(this._element,hk,v=>this._onInteraction(v,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(v){return this.each(function(){const T=Xa.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v](this)}})}}return L(Xa),m(Xa),{Alert:B,Button:M,Carousel:ce,Collapse:Pn,Dropdown:Vr,Modal:Qs,Offcanvas:Di,Popover:Bu,ScrollSpy:Qa,Tab:eo,Toast:Xa,Tooltip:Xs}})})(lc)),lc.exports}hP();const Rg="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2014C20.49%2012.54%2022%2010.79%2022%208.5C22%207.04131%2021.4205%205.64236%2020.3891%204.61091C19.3576%203.57946%2017.9587%203%2016.5%203C14.74%203%2013.5%203.5%2012%205C10.5%203.5%209.26%203%207.5%203C6.04131%203%204.64236%203.57946%203.61091%204.61091C2.57946%205.64236%202%207.04131%202%208.5C2%2010.8%203.5%2012.55%205%2014L12%2021L19%2014Z'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.0001%205L9.0401%207.96C8.83692%208.16171%208.67567%208.40162%208.56562%208.66593C8.45558%208.93023%208.39893%209.2137%208.39893%209.5C8.39893%209.7863%208.45558%2010.0698%208.56562%2010.3341C8.67567%2010.5984%208.83692%2010.8383%209.0401%2011.04C9.8601%2011.86%2011.1701%2011.89%2012.0401%2011.11L14.1101%209.21C14.629%208.73919%2015.3045%208.47839%2016.0051%208.47839C16.7057%208.47839%2017.3813%208.73919%2017.9001%209.21L20.8601%2011.87'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18%2015L16%2013'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2018L13%2016'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dP=()=>{};var x_={};const U1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const $e=function(t,e){if(!t)throw La(e)},La=function(t){return new Error("Firebase Database ("+U1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const W1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new mP;const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V1=function(t){const e=W1(t);return Ng.encodeByteArray(e,!0)},Gc=function(t){return V1(t).replace(/\./g,"")},Yd=function(t){try{return Ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gP(t){return H1(void 0,t)}function H1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yP(n)||(t[n]=H1(t[n],e[n]));return t}function yP(t){return t!=="__proto__"}function vP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _P=()=>vP().__FIREBASE_DEFAULTS__,bP=()=>{if(typeof process>"u"||typeof x_>"u")return;const t=x_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yd(t[1]);return e&&JSON.parse(e)},Y1=()=>{try{return dP()||_P()||bP()||wP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EP=t=>Y1()?.emulatorHosts?.[t],SP=t=>{const e=EP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q1=()=>Y1()?.config;class cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Lg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CP(t){return(await fetch(t,{credentials:"include"})).ok}function xP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gc(JSON.stringify(n)),Gc(JSON.stringify(o)),""].join(".")}const Al={};function AP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?t.emulator.push(e):t.prod.push(e);return t}function kP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A_=!1;function TP(t,e){if(typeof window>"u"||typeof document>"u"||!Lg(window.location.host)||Al[t]===e||Al[t]||A_)return;Al[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=AP().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{A_=!0,o()},h}function c(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=kP(r),d=n("text"),p=document.getElementById(d)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),m=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),c(_,g);const S=u();l(m,y),b.append(m,p,_,S),document.body.appendChild(b)}s?(p.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function IP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(IP())}function PP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OP(){return U1.NODE_ADMIN===!0}function MP(){try{return typeof indexedDB=="object"}catch{return!1}}function DP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const RP="FirebaseError";class fu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RP,Object.setPrototypeOf(this,fu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z1.prototype.create)}}class z1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fu(i,a,r)}}function NP(t,e){return t.replace(LP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LP=/\{\$([^}]+)}/g;function ql(t){return JSON.parse(t)}function Rn(t){return JSON.stringify(t)}const K1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ql(Yd(s[0])||""),n=ql(Yd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},FP=function(t){const e=K1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},BP=function(t){const e=K1(t).claims;return typeof e=="object"&&e.admin===!0};function Ti(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function k_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(T_(s)&&T_(o)){if(!Kc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T_(t){return t!==null&&typeof t=="object"}function jP(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class $P{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):f<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Uf(t,e){return`${t} failed: ${e} argument `}const UP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$e(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Fa(t){return t&&t._delegate?t._delegate:t}class Gl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class WP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VP(t){return t===ao?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}class YP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tn||(tn={}));const qP={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},GP=tn.INFO,zP={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q1{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const QP=(t,e)=>e.some(n=>t instanceof n);let I_,P_;function XP(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X1=new WeakMap,qd=new WeakMap,J1=new WeakMap,ud=new WeakMap,Fg=new WeakMap;function ZP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Is(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&X1.set(n,t)}).catch(()=>{}),Fg.set(e,t),e}function eO(t){if(qd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qd.set(t,e)}let Gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tO(t){Gd=t(Gd)}function nO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cd(this),e,...n);return J1.set(r,e.sort?e.sort():[e]),Is(r)}:JP().includes(t)?function(...e){return t.apply(cd(this),e),Is(X1.get(this))}:function(...e){return Is(t.apply(cd(this),e))}}function rO(t){return typeof t=="function"?nO(t):(t instanceof IDBTransaction&&eO(t),QP(t,XP())?new Proxy(t,Gd):t)}function Is(t){if(t instanceof IDBRequest)return ZP(t);if(ud.has(t))return ud.get(t);const e=rO(t);return e!==t&&(ud.set(t,e),Fg.set(e,t)),e}const cd=t=>Fg.get(t);function iO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Is(o.result),l.oldVersion,l.newVersion,Is(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const sO=["get","getKey","getAll","getAllKeys","count"],oO=["put","add","delete","clear"],fd=new Map;function O_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fd.set(e,s),s}tO(t=>({...t,get:(e,n,r)=>O_(e,n)||t.get(e,n,r),has:(e,n)=>!!O_(e,n)||t.has(e,n)}));class aO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lO(t){return t.getComponent()?.type==="VERSION"}const zd="@firebase/app",M_="0.14.6";const Zi=new Q1("@firebase/app"),uO="@firebase/app-compat",cO="@firebase/analytics-compat",fO="@firebase/analytics",hO="@firebase/app-check-compat",dO="@firebase/app-check",pO="@firebase/auth",mO="@firebase/auth-compat",gO="@firebase/database",yO="@firebase/data-connect",vO="@firebase/database-compat",_O="@firebase/functions",bO="@firebase/functions-compat",wO="@firebase/installations",EO="@firebase/installations-compat",SO="@firebase/messaging",CO="@firebase/messaging-compat",xO="@firebase/performance",AO="@firebase/performance-compat",kO="@firebase/remote-config",TO="@firebase/remote-config-compat",IO="@firebase/storage",PO="@firebase/storage-compat",OO="@firebase/firestore",MO="@firebase/ai",DO="@firebase/firestore-compat",RO="firebase",NO="12.6.0";const Kd="[DEFAULT]",LO={[zd]:"fire-core",[uO]:"fire-core-compat",[fO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[hO]:"fire-app-check-compat",[pO]:"fire-auth",[mO]:"fire-auth-compat",[gO]:"fire-rtdb",[yO]:"fire-data-connect",[vO]:"fire-rtdb-compat",[_O]:"fire-fn",[bO]:"fire-fn-compat",[wO]:"fire-iid",[EO]:"fire-iid-compat",[SO]:"fire-fcm",[CO]:"fire-fcm-compat",[xO]:"fire-perf",[AO]:"fire-perf-compat",[kO]:"fire-rc",[TO]:"fire-rc-compat",[IO]:"fire-gcs",[PO]:"fire-gcs-compat",[OO]:"fire-fst",[DO]:"fire-fst-compat",[MO]:"fire-vertex","fire-js":"fire-js",[RO]:"fire-js-all"};const Qc=new Map,FO=new Map,Qd=new Map;function D_(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xc(t){const e=t.name;if(Qd.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,t);for(const n of Qc.values())D_(n,t);for(const n of FO.values())D_(n,t);return!0}function BO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jO(t){return t==null?!1:t.settings!==void 0}const $O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new z1("app","Firebase",$O);class UO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const WO=NO;function Z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kd,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=q1()),!n)throw Ps.create("no-options");const s=Qc.get(i);if(s){if(Kc(n,s.options)&&Kc(r,s.config))return s;throw Ps.create("duplicate-app",{appName:i})}const o=new YP(i);for(const l of Qd.values())o.addComponent(l);const a=new UO(n,r,o);return Qc.set(i,a),a}function VO(t=Kd){const e=Qc.get(t);if(!e&&t===Kd&&q1())return Z1();if(!e)throw Ps.create("no-app",{appName:t});return e}function pa(t,e,n){let r=LO[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(o.join(" "));return}Xc(new Gl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const HO="firebase-heartbeat-database",YO=1,zl="firebase-heartbeat-store";let hd=null;function eE(){return hd||(hd=iO(HO,YO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),hd}async function qO(t){try{const n=(await eE()).transaction(zl),r=await n.objectStore(zl).get(tE(t));return await n.done,r}catch(e){if(e instanceof fu)Zi.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function R_(t,e){try{const r=(await eE()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,tE(t)),await r.done}catch(n){if(n instanceof fu)Zi.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(r.message)}}}function tE(t){return`${t.name}!${t.options.appId}`}const GO=1024,zO=30;class KO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>zO){const i=JO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:n,unsentEntries:r}=QO(this._heartbeatsCache.heartbeats),i=Gc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Zi.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function QO(t,e=GO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MP()?DP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L_(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}function JO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZO(t){Xc(new Gl("platform-logger",e=>new aO(e),"PRIVATE")),Xc(new Gl("heartbeat",e=>new KO(e),"PRIVATE")),pa(zd,M_,t),pa(zd,M_,"esm2020"),pa("fire-js","")}ZO("");var F_={};const B_="@firebase/database",j_="1.1.0";let nE="";function eM(t){nE=t}class tM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ql(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class nM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ti(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const rE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tM(e)}}catch{}return new nM},po=rE("localStorage"),rM=rE("sessionStorage");const ma=new Q1("@firebase/database"),iM=(function(){let t=1;return function(){return t++}})(),iE=function(t){const e=UP(t),n=new $P;n.update(e);const r=n.digest();return Ng.encodeByteArray(r)},hu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hu.apply(null,r):typeof r=="object"?e+=Rn(r):e+=r,e+=" "}return e};let kl=null,$_=!0;const sM=function(t,e){$e(!0,"Can't turn on custom loggers persistently."),ma.logLevel=tn.VERBOSE,kl=ma.log.bind(ma)},Gn=function(...t){if($_===!0&&($_=!1,kl===null&&rM.get("logging_enabled")===!0&&sM()),kl){const e=hu.apply(null,t);kl(e)}},du=function(t){return function(...e){Gn(t,...e)}},Xd=function(...t){const e="FIREBASE INTERNAL ERROR: "+hu(...t);ma.error(e)},es=function(...t){const e=`FIREBASE FATAL ERROR: ${hu(...t)}`;throw ma.error(e),new Error(e)},pr=function(...t){const e="FIREBASE WARNING: "+hu(...t);ma.warn(e)},oM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xa="[MIN_NAME]",xo="[MAX_NAME]",Po=function(t,e){if(t===e)return 0;if(t===xa||e===xo)return-1;if(e===xa||t===xo)return 1;{const n=U_(t),r=U_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lM=function(t,e){return t===e?0:t<e?-1:1},nl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Rn(e))},jg=function(t){if(typeof t!="object"||t===null)return Rn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Rn(e[r]),n+=":",n+=jg(t[e[r]]);return n+="}",n},sE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oE=function(t){$e(!Bg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},uM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const hM=new RegExp("^-?(0*)\\d{1,10}$"),dM=-2147483648,pM=2147483647,U_=function(t){if(hM.test(t)){const e=Number(t);if(e>=dM&&e<=pM)return e}return null},Ba=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pr("Exception was thrown by user callback.",n),e},Math.floor(0))}},mM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class gM{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,jO(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yM{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(e)}}class uc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uc.OWNER="owner";const $g="5",aE="v",lE="s",uE="r",cE="f",fE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hE="ls",dE="p",Jd="ac",pE="websocket",mE="long_polling";class gE{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=po.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&po.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yE(t,e,n){$e(typeof e=="string","typeof type must == string"),$e(typeof n=="object","typeof params must == object");let r;if(e===pE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vM(t)&&(n.ns=t.namespace);const i=[];return Qn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class _M{constructor(){this.counters_={}}incrementCounter(e,n=1){Ti(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gP(this.counters_)}}const dd={},pd={};function Ug(t){const e=t.toString();return dd[e]||(dd[e]=new _M),dd[e]}function bM(t,e){const n=t.toString();return pd[n]||(pd[n]=e()),pd[n]}class wM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ba(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const W_="start",EM="close",SM="pLPCommand",CM="pRTLPCB",vE="id",_E="pw",bE="ser",xM="cb",AM="seg",kM="ts",TM="d",IM="dframe",wE=1870,EE=30,PM=wE-EE,OM=25e3,MM=3e4;class sa{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=du(e),this.stats_=Ug(n),this.urlFn=l=>(this.appCheckToken&&(l[Jd]=this.appCheckToken),yE(n,mE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MM)),aM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wg((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===W_)this.id=a,this.password=l;else if(o===EM)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[W_]="t",r[bE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aE]=$g,this.transportSessionId&&(r[lE]=this.transportSessionId),this.lastSessionId&&(r[hE]=this.lastSessionId),this.applicationId&&(r[dE]=this.applicationId),this.appCheckToken&&(r[Jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&fE.test(location.hostname)&&(r[uE]=cE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sa.forceAllow_=!0}static forceDisallow(){sa.forceDisallow_=!0}static isAvailable(){return sa.forceAllow_?!0:!sa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uM()&&!cM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=V1(n),i=sE(r,PM);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[IM]="t",r[vE]=e,r[_E]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Rn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wg{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iM(),window[SM+this.uniqueCallbackIdentifier]=e,window[CM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wg.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Gn("frame writing exception"),a.stack&&Gn(a.stack),Gn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vE]=this.myID,e[_E]=this.myPW,e[bE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EE+r.length<=wE;){const o=this.pendingSegs.shift();r=r+"&"+AM+i+"="+o.seg+"&"+kM+i+"="+o.ts+"&"+TM+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(OM)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const DM=16384,RM=45e3;let Jc=null;typeof MozWebSocket<"u"?Jc=MozWebSocket:typeof WebSocket<"u"&&(Jc=WebSocket);class Gr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=du(this.connId),this.stats_=Ug(n),this.connURL=Gr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[aE]=$g,typeof location<"u"&&location.hostname&&fE.test(location.hostname)&&(o[uE]=cE),n&&(o[lE]=n),r&&(o[hE]=r),i&&(o[Jd]=i),s&&(o[dE]=s),yE(e,pE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,po.set("previous_websocket_failure",!0);try{let r;OP(),this.mySock=new Jc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jc!==null&&!Gr.forceDisallow_}static previouslyFailed(){return po.isInMemoryStorage||po.get("previous_websocket_failure")===!0}markConnectionHealthy(){po.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ql(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sE(n,DM);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gr.responsesRequiredToBeHealthy=2;Gr.healthyTimeout=3e4;class Kl{static get ALL_TRANSPORTS(){return[sa,Gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gr&&Gr.isAvailable();let r=n&&!Gr.previouslyFailed();if(e.webSocketOnly&&(n||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gr];else{const i=this.transports_=[];for(const s of Kl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Kl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Kl.globalTransportInitialized_=!1;const NM=6e4,LM=5e3,FM=10*1024,BM=100*1024,md="t",V_="d",jM="s",H_="r",$M="e",Y_="o",q_="a",G_="n",z_="p",UM="h";class WM{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=du("c:"+this.id+":"),this.transportManager_=new Kl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Tl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(md in e){const n=e[md];n===q_?this.upgradeIfSecondaryHealthy_():n===H_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Y_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:z_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:q_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:G_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nl(md,e);if(V_ in e){const r=e[V_];if(n===UM){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===G_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jM?this.onConnectionShutdown_(r):n===H_?this.onReset_(r):n===$M?Xd("Server Error: "+r):n===Y_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$g!==r&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Tl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:z_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(po.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class CE{constructor(e){this.allowedEvents_=e,this.listeners_={},$e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Zc extends CE{static getInstance(){return new Zc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const K_=32,Q_=768;class zt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ot(){return new zt("")}function _t(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rs(t){return t.pieces_.length-t.pieceNum_}function rn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new zt(t.pieces_,e)}function Vg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ql(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new zt(e,0)}function gn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof zt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new zt(n,0)}function Et(t){return t.pieceNum_>=t.pieces_.length}function dr(t,e){const n=_t(t),r=_t(e);if(n===null)return e;if(n===r)return dr(rn(t),rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function HM(t,e){const n=Ql(t,0),r=Ql(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Po(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Hg(t,e){if(Rs(t)!==Rs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Rs(t)>Rs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class YM{constructor(e,n){this.errorPrefix_=n,this.parts_=Ql(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wf(this.parts_[r]);AE(this)}}function qM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wf(e),AE(t)}function GM(t){const e=t.parts_.pop();t.byteLength_-=Wf(e),t.parts_.length>0&&(t.byteLength_-=1)}function AE(t){if(t.byteLength_>Q_)throw new Error(t.errorPrefix_+"has a key path longer than "+Q_+" bytes ("+t.byteLength_+").");if(t.parts_.length>K_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+K_+") or object contains a cycle "+lo(t))}function lo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class Yg extends CE{static getInstance(){return new Yg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return $e(e==="visible","Unknown event type: "+e),[this.visible_]}}const rl=1e3,zM=300*1e3,X_=30*1e3,KM=1.3,QM=3e4,XM="server_kill",J_=3;class zi extends SE{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zi.nextPersistentConnectionId_++,this.log_=du("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=zM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Rn(s)),$e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new cu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$e(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;zi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ti(e,"w")){const r=Ca(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||BP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=X_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=FP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xd("Unrecognized action received from server: "+Rn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QM&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(f){$e(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Gn("getToken() completed but was canceled"):(Gn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new WM(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,d=>{pr(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(XM)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&pr(f),l())}}}interrupt(e){Gn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],k_(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>jg(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new zt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Gn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=J_&&(this.reconnectDelay_=X_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Gn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=J_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nE.replace(/\./g,"-")]=1,G1()?e["framework.cordova"]=1:PP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zc.getInstance().currentlyOnline();return k_(this.interruptReasons_)&&e}}zi.nextPersistentConnectionId_=0;zi.nextConnectionId_=0;class bt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new bt(e,n)}}class Vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new bt(xa,e),i=new bt(xa,n);return this.compare(r,i)!==0}minPost(){return bt.MIN}}let Ku;class kE extends Vf{static get __EMPTY_NODE(){return Ku}static set __EMPTY_NODE(e){Ku=e}compare(e,n){return Po(e.name,n.name)}isDefinedOn(e){throw La("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return bt.MIN}maxPost(){return new bt(xo,Ku)}makePost(e,n){return $e(typeof e=="string","KeyIndex indexValue must always be a string."),new bt(e,Ku)}toString(){return".key"}}const ga=new kE;class Qu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??gr.EMPTY_NODE,this.right=s??gr.EMPTY_NODE}copy(e,n,r,i,s){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class JM{copy(e,n,r,i,s){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gr{constructor(e,n=gr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qu(this.root_,null,this.comparator_,!0,e)}}gr.EMPTY_NODE=new JM;function ZM(t,e){return Po(t.name,e.name)}function qg(t,e){return Po(t,e)}let Zd;function eD(t){Zd=t}const TE=function(t){return typeof t=="number"?"number:"+oE(t):"string:"+t},IE=function(t){if(t.isLeafNode()){const e=t.val();$e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ti(e,".sv"),"Priority must be a string or number.")}else $e(t===Zd||t.isEmpty(),"priority of unexpected type.");$e(t===Zd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Z_;class $n{static set __childrenNodeConstructor(e){Z_=e}static get __childrenNodeConstructor(){return Z_}constructor(e,n=$n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),IE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:_t(e)===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_t(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($e(r!==".priority"||Rs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$n.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+TE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oE(this.value_):e+=this.value_,this.lazyHash_=iE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $n.__childrenNodeConstructor?-1:($e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$n.VALUE_TYPE_ORDER.indexOf(n),s=$n.VALUE_TYPE_ORDER.indexOf(r);return $e(i>=0,"Unknown leaf type: "+n),$e(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$n.VALUE_TYPE_ORDER=["object","boolean","number","string"];let PE,OE;function tD(t){PE=t}function nD(t){OE=t}class rD extends Vf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Po(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return bt.MIN}maxPost(){return new bt(xo,new $n("[PRIORITY-POST]",OE))}makePost(e,n){const r=PE(e);return new bt(n,new $n("[PRIORITY-POST]",r))}toString(){return".priority"}}const yn=new rD;const iD=Math.log(2);class sD{constructor(e){const n=s=>parseInt(Math.log(s)/iD,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ef=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let f,h;if(c===0)return null;if(c===1)return f=t[l],h=n?n(f):f,new Un(h,f.node,Un.BLACK,null,null);{const d=parseInt(c/2,10)+l,p=i(l,d),g=i(d+1,u);return f=t[d],h=n?n(f):f,new Un(h,f.node,Un.BLACK,p,g)}},s=function(l){let u=null,c=null,f=t.length;const h=function(p,g){const _=f-p,y=f;f-=p;const m=i(_+1,y),b=t[_],S=n?n(b):b;d(new Un(S,b.node,g,null,m))},d=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,Un.BLACK):(h(_,Un.BLACK),h(_,Un.RED))}return c},o=new sD(t.length),a=s(o);return new gr(r||e,a)};let gd;const Qo={};class Yi{static get Default(){return $e(Qo&&yn,"ChildrenNode.ts has not been loaded"),gd=gd||new Yi({".priority":Qo},{".priority":yn}),gd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gr?n:null}hasIndex(e){return Ti(this.indexSet_,e.toString())}addIndex(e,n){$e(e!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(bt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ef(r,e.getCompare()):a=Qo;const l=e.toString(),u={...this.indexSet_};u[l]=e;const c={...this.indexes_};return c[l]=a,new Yi(c,u)}addToIndexes(e,n){const r=zc(this.indexes_,(i,s)=>{const o=Ca(this.indexSet_,s);if($e(o,"Missing index implementation for "+s),i===Qo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(bt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ef(a,o.getCompare())}else return Qo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new bt(e.name,a))),l.insert(e,e.node)}});return new Yi(r,this.indexSet_)}removeFromIndexes(e,n){const r=zc(this.indexes_,i=>{if(i===Qo)return i;{const s=n.get(e.name);return s?i.remove(new bt(e.name,s)):i}});return new Yi(r,this.indexSet_)}}let il;class ot{static get EMPTY_NODE(){return il||(il=new ot(new gr(qg),null,Yi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&IE(this.priorityNode_),this.children_.isEmpty()&&$e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||il}updatePriority(e){return this.children_.isEmpty()?this:new ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?il:n}}getChild(e){const n=_t(e);return n===null?this:this.getImmediateChild(n).getChild(rn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new bt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?il:this.priorityNode_;return new ot(i,o,s)}}updateChild(e,n){const r=_t(e);if(r===null)return n;{$e(_t(e)!==".priority"||Rs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(rn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(yn,(o,a)=>{n[o]=a.val(e),r++,s&&ot.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+TE(this.getPriority().val())+":"),this.forEachChild(yn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":iE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new bt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new bt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new bt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,bt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,bt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pu?-1:0}withIndex(e){if(e===ga||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ga||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yn),i=n.getIterator(yn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ga?null:this.indexMap_.get(e.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oD extends ot{constructor(){super(new gr(qg),ot.EMPTY_NODE,Yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ot.EMPTY_NODE}isEmpty(){return!1}}const pu=new oD;Object.defineProperties(bt,{MIN:{value:new bt(xa,ot.EMPTY_NODE)},MAX:{value:new bt(xo,pu)}});kE.__EMPTY_NODE=ot.EMPTY_NODE;$n.__childrenNodeConstructor=ot;eD(pu);nD(pu);const aD=!0;function Dn(t,e=null){if(t===null)return ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $n(n,Dn(e))}if(!(t instanceof Array)&&aD){const n=[];let r=!1;if(Qn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new bt(o,l)))}}),n.length===0)return ot.EMPTY_NODE;const s=ef(n,ZM,o=>o.name,qg);if(r){const o=ef(n,yn.getCompare());return new ot(s,Dn(e),new Yi({".priority":o},{".priority":yn}))}else return new ot(s,Dn(e),Yi.Default)}else{let n=ot.EMPTY_NODE;return Qn(t,(r,i)=>{if(Ti(t,r)&&r.substring(0,1)!=="."){const s=Dn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Dn(e))}}tD(Dn);class lD extends Vf{constructor(e){super(),this.indexPath_=e,$e(!Et(e)&&_t(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Po(e.name,n.name):s}makePost(e,n){const r=Dn(e),i=ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new bt(n,i)}maxPost(){const e=ot.EMPTY_NODE.updateChild(this.indexPath_,pu);return new bt(xo,e)}toString(){return Ql(this.indexPath_,0).join("/")}}class uD extends Vf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Po(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return bt.MIN}maxPost(){return bt.MAX}makePost(e,n){const r=Dn(e);return new bt(n,r)}toString(){return".value"}}const cD=new uD;function ME(t){return{type:"value",snapshotNode:t}}function Aa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class Gg{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){$e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Xl(n,a)):$e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Aa(n,r)):o.trackChildChange(Jl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(yn,(i,s)=>{n.hasChild(i)||r.trackChildChange(Xl(i,s))}),n.isLeafNode()||n.forEachChild(yn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Jl(i,s,o))}else r.trackChildChange(Aa(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ot.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zl{constructor(e){this.indexedFilter_=new Gg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zl.getStartPost_(e),this.endPost_=Zl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new bt(n,r))||(r=ot.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ot.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ot.EMPTY_NODE);const s=this;return n.forEachChild(yn,(o,a)=>{s.matches(new bt(o,a))||(i=i.updateImmediateChild(o,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class hD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new bt(n,r))||(r=ot.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ot.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ot.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,d)=>f(d,h)}else o=this.index_.getCompare();const a=e;$e(a.numChildren()===this.limit_,"");const l=new bt(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const d=h==null?1:o(h,l);if(c&&!r.isEmpty()&&d>=0)return s?.trackChildChange(Jl(n,r,f)),a.updateImmediateChild(n,r);{s?.trackChildChange(Xl(n,f));const g=a.updateImmediateChild(n,ot.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Aa(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Xl(u.name,u.node)),s.trackChildChange(Aa(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ot.EMPTY_NODE)):e}}class zg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xa}hasEnd(){return this.endSet_}getIndexEndValue(){return $e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yn}copy(){const e=new zg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dD(t){return t.loadsAllData()?new Gg(t.getIndex()):t.hasLimit()?new hD(t):new Zl(t)}function eb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yn?n="$priority":t.index_===cD?n="$value":t.index_===ga?n="$key":($e(t.index_ instanceof lD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Rn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Rn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Rn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Rn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Rn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yn&&(e.i=t.index_.toString()),e}class tf extends SE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=du("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=tf.getListenId_(e,r),a={};this.listens_[o]=a;const l=eb(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),Ca(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=tf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=eb(e._queryParams),r=e._path.toString(),i=new cu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jP(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ql(a.responseText)}catch{pr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class pD{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function nf(){return{value:null,children:new Map}}function DE(t,e,n){if(Et(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_t(e);t.children.has(r)||t.children.set(r,nf());const i=t.children.get(r);e=rn(e),DE(i,e,n)}}function ep(t,e,n){t.value!==null?n(e,t.value):mD(t,(r,i)=>{const s=new zt(e.toString()+"/"+r);ep(i,s,n)})}function mD(t,e){t.children.forEach((n,r)=>{e(r,n)})}class gD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Qn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}const nb=10*1e3,yD=30*1e3,vD=300*1e3;class _D{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gD(e);const r=nb+(yD-nb)*Math.random();Tl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qn(e,(i,s)=>{s>0&&Ti(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Tl(this.reportStats_.bind(this),Math.floor(Math.random()*2*vD))}}var Kr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kr||(Kr={}));function Kg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class rf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Kr.ACK_USER_WRITE,this.source=Kg()}operationForChild(e){if(Et(this.path)){if(this.affectedTree.value!=null)return $e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new zt(e));return new rf(Ot(),n,this.revert)}}else return $e(_t(this.path)===e,"operationForChild called for unrelated child."),new rf(rn(this.path),this.affectedTree,this.revert)}}class eu{constructor(e,n){this.source=e,this.path=n,this.type=Kr.LISTEN_COMPLETE}operationForChild(e){return Et(this.path)?new eu(this.source,Ot()):new eu(this.source,rn(this.path))}}class Ao{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Kr.OVERWRITE}operationForChild(e){return Et(this.path)?new Ao(this.source,Ot(),this.snap.getImmediateChild(e)):new Ao(this.source,rn(this.path),this.snap)}}class ka{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Kr.MERGE}operationForChild(e){if(Et(this.path)){const n=this.children.subtree(new zt(e));return n.isEmpty()?null:n.value?new Ao(this.source,Ot(),n.value):new ka(this.source,Ot(),n)}else return $e(_t(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ka(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ns{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Et(e))return this.isFullyInitialized()&&!this.filtered_;const n=_t(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wD(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(fD(o.childName,o.snapshotNode))}),sl(t,i,"child_removed",e,r,n),sl(t,i,"child_added",e,r,n),sl(t,i,"child_moved",s,r,n),sl(t,i,"child_changed",e,r,n),sl(t,i,"value",e,r,n),i}function sl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>SD(t,a,l)),o.forEach(a=>{const l=ED(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function ED(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function SD(t,e,n){if(e.childName==null||n.childName==null)throw La("Should only compare child_ events.");const r=new bt(e.childName,e.snapshotNode),i=new bt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Hf(t,e){return{eventCache:t,serverCache:e}}function Il(t,e,n,r){return Hf(new Ns(e,n,r),t.serverCache)}function RE(t,e,n,r){return Hf(t.eventCache,new Ns(e,n,r))}function sf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ko(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let yd;const CD=()=>(yd||(yd=new gr(lM)),yd);class en{static fromObject(e){let n=new en(null);return Qn(e,(r,i)=>{n=n.set(new zt(r),i)}),n}constructor(e,n=CD()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ot(),value:this.value};if(Et(e))return null;{const r=_t(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(rn(e),n);return s!=null?{path:gn(new zt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Et(e))return this;{const n=_t(e),r=this.children.get(n);return r!==null?r.subtree(rn(e)):new en(null)}}set(e,n){if(Et(e))return new en(n,this.children);{const r=_t(e),s=(this.children.get(r)||new en(null)).set(rn(e),n),o=this.children.insert(r,s);return new en(this.value,o)}}remove(e){if(Et(e))return this.children.isEmpty()?new en(null):new en(null,this.children);{const n=_t(e),r=this.children.get(n);if(r){const i=r.remove(rn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new en(null):new en(this.value,s)}else return this}}get(e){if(Et(e))return this.value;{const n=_t(e),r=this.children.get(n);return r?r.get(rn(e)):null}}setTree(e,n){if(Et(e))return n;{const r=_t(e),s=(this.children.get(r)||new en(null)).setTree(rn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new en(this.value,o)}}fold(e){return this.fold_(Ot(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(gn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ot(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Et(e))return null;{const s=_t(e),o=this.children.get(s);return o?o.findOnPath_(rn(e),gn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ot(),n)}foreachOnPath_(e,n,r){if(Et(e))return this;{this.value&&r(n,this.value);const i=_t(e),s=this.children.get(i);return s?s.foreachOnPath_(rn(e),gn(n,i),r):new en(null)}}foreach(e){this.foreach_(Ot(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(gn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Jr{constructor(e){this.writeTree_=e}static empty(){return new Jr(new en(null))}}function Pl(t,e,n){if(Et(e))return new Jr(new en(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dr(i,e);return s=s.updateChild(o,n),new Jr(t.writeTree_.set(i,s))}else{const i=new en(n),s=t.writeTree_.setTree(e,i);return new Jr(s)}}}function tp(t,e,n){let r=t;return Qn(n,(i,s)=>{r=Pl(r,gn(e,i),s)}),r}function rb(t,e){if(Et(e))return Jr.empty();{const n=t.writeTree_.setTree(e,new en(null));return new Jr(n)}}function np(t,e){return Oo(t,e)!=null}function Oo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dr(n.path,e)):null}function ib(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yn,(r,i)=>{e.push(new bt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new bt(r,i.value))}),e}function Os(t,e){if(Et(e))return t;{const n=Oo(t,e);return n!=null?new Jr(new en(n)):new Jr(t.writeTree_.subtree(e))}}function rp(t){return t.writeTree_.isEmpty()}function Ta(t,e){return NE(Ot(),t.writeTree_,e)}function NE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($e(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=NE(gn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(gn(t,".priority"),r)),n}}function Yf(t,e){return jE(e,t)}function xD(t,e,n,r,i){$e(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pl(t.visibleWrites,e,n)),t.lastWriteId=r}function AD(t,e,n,r){$e(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tp(t.visibleWrites,e,n),t.lastWriteId=r}function kD(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function TD(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$e(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ID(a,r.path)?i=!1:Lr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return PD(t),!0;if(r.snap)t.visibleWrites=rb(t.visibleWrites,r.path);else{const a=r.children;Qn(a,l=>{t.visibleWrites=rb(t.visibleWrites,gn(r.path,l))})}return!0}else return!1}function ID(t,e){if(t.snap)return Lr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lr(gn(t.path,n),e))return!0;return!1}function PD(t){t.visibleWrites=LE(t.allWrites,OD,Ot()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function OD(t){return t.visible}function LE(t,e,n){let r=Jr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Lr(n,o)?(a=dr(n,o),r=Pl(r,a,s.snap)):Lr(o,n)&&(a=dr(o,n),r=Pl(r,Ot(),s.snap.getChild(a)));else if(s.children){if(Lr(n,o))a=dr(n,o),r=tp(r,a,s.children);else if(Lr(o,n))if(a=dr(o,n),Et(a))r=tp(r,Ot(),s.children);else{const l=Ca(s.children,_t(a));if(l){const u=l.getChild(rn(a));r=Pl(r,Ot(),u)}}}else throw La("WriteRecord should have .snap or .children")}}return r}function FE(t,e,n,r,i){if(!r&&!i){const s=Oo(t.visibleWrites,e);if(s!=null)return s;{const o=Os(t.visibleWrites,e);if(rp(o))return n;if(n==null&&!np(o,Ot()))return null;{const a=n||ot.EMPTY_NODE;return Ta(o,a)}}}else{const s=Os(t.visibleWrites,e);if(!i&&rp(s))return n;if(!i&&n==null&&!np(s,Ot()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Lr(u.path,e)||Lr(e,u.path))},a=LE(t.allWrites,o,e),l=n||ot.EMPTY_NODE;return Ta(a,l)}}}function MD(t,e,n){let r=ot.EMPTY_NODE;const i=Oo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(yn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Os(t.visibleWrites,e);return n.forEachChild(yn,(o,a)=>{const l=Ta(Os(s,new zt(o)),a);r=r.updateImmediateChild(o,l)}),ib(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Os(t.visibleWrites,e);return ib(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function DD(t,e,n,r,i){$e(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=gn(e,n);if(np(t.visibleWrites,s))return null;{const o=Os(t.visibleWrites,s);return rp(o)?i.getChild(n):Ta(o,i.getChild(n))}}function RD(t,e,n,r){const i=gn(e,n),s=Oo(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Os(t.visibleWrites,i);return Ta(o,r.getNode().getImmediateChild(n))}else return null}function ND(t,e){return Oo(t.visibleWrites,e)}function LD(t,e,n,r,i,s,o){let a;const l=Os(t.visibleWrites,e),u=Oo(l,Ot());if(u!=null)a=u;else if(n!=null)a=Ta(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],f=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let d=h.getNext();for(;d&&c.length<i;)f(d,r)!==0&&c.push(d),d=h.getNext();return c}else return[]}function FD(){return{visibleWrites:Jr.empty(),allWrites:[],lastWriteId:-1}}function of(t,e,n,r){return FE(t.writeTree,t.treePath,e,n,r)}function Jg(t,e){return MD(t.writeTree,t.treePath,e)}function sb(t,e,n,r){return DD(t.writeTree,t.treePath,e,n,r)}function af(t,e){return ND(t.writeTree,gn(t.treePath,e))}function BD(t,e,n,r,i,s){return LD(t.writeTree,t.treePath,e,n,r,i,s)}function Zg(t,e,n){return RD(t.writeTree,t.treePath,e,n)}function BE(t,e){return jE(gn(t.treePath,e),t.writeTree)}function jE(t,e){return{treePath:t,writeTree:e}}class jD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$e(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Jl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Xl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Aa(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Jl(r,e.snapshotNode,i.oldSnap));else throw La("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class $D{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $E=new $D;class e0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ko(this.viewCache_),s=BD(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function UD(t){return{filter:t}}function WD(t,e){$e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function VD(t,e,n,r,i){const s=new jD;let o,a;if(n.type===Kr.OVERWRITE){const u=n;u.source.fromUser?o=ip(t,e,u.path,u.snap,r,i,s):($e(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Et(u.path),o=lf(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Kr.MERGE){const u=n;u.source.fromUser?o=YD(t,e,u.path,u.children,r,i,s):($e(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=sp(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Kr.ACK_USER_WRITE){const u=n;u.revert?o=zD(t,e,u.path,r,i,s):o=qD(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Kr.LISTEN_COMPLETE)o=GD(t,e,n.path,r,s);else throw La("Unknown operation type: "+n.type);const l=s.getChanges();return HD(e,o,l),{viewCache:o,changes:l}}function HD(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ME(sf(e)))}}function UE(t,e,n,r,i,s){const o=e.eventCache;if(af(r,n)!=null)return e;{let a,l;if(Et(n))if($e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ko(e),c=u instanceof ot?u:ot.EMPTY_NODE,f=Jg(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=of(r,ko(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=_t(n);if(u===".priority"){$e(Rs(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const f=sb(r,n,c,l);f!=null?a=t.filter.updatePriority(c,f):a=o.getNode()}else{const c=rn(n);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=sb(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(u).updateChild(c,h):f=o.getNode().getImmediateChild(u)}else f=Zg(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,c,i,s):a=o.getNode()}}return Il(e,a,o.isFullyInitialized()||Et(n),t.filter.filtersNodes())}}function lf(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Et(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),d,null)}else{const d=_t(n);if(!l.isCompleteForPath(n)&&Rs(n)>1)return e;const p=rn(n),_=l.getNode().getImmediateChild(d).updateChild(p,r);d===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),d,_,p,$E,null)}const f=RE(e,u,l.isFullyInitialized()||Et(n),c.filtersNodes()),h=new e0(i,f,s);return UE(t,f,n,i,h,a)}function ip(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new e0(i,e,s);if(Et(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Il(e,u,!0,t.filter.filtersNodes());else{const f=_t(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Il(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=rn(n),d=a.getNode().getImmediateChild(f);let p;if(Et(h))p=r;else{const g=c.getCompleteChild(f);g!=null?Vg(h)===".priority"&&g.getChild(xE(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=ot.EMPTY_NODE}if(d.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),f,p,h,c,o);l=Il(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ob(t,e){return t.eventCache.isCompleteForChild(e)}function YD(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=gn(n,l);ob(e,_t(c))&&(a=ip(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=gn(n,l);ob(e,_t(c))||(a=ip(t,a,c,u,i,s,o))}),a}function ab(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function sp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Et(n)?u=r:u=new en(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(c.hasChild(f)){const d=e.serverCache.getNode().getImmediateChild(f),p=ab(t,d,h);l=lf(t,l,new zt(f),p,i,s,o,a)}}),u.children.inorderTraversal((f,h)=>{const d=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!c.hasChild(f)&&!d){const p=e.serverCache.getNode().getImmediateChild(f),g=ab(t,p,h);l=lf(t,l,new zt(f),g,i,s,o,a)}}),l}function qD(t,e,n,r,i,s,o){if(af(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Et(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return lf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Et(n)){let u=new en(null);return l.getNode().forEachChild(ga,(c,f)=>{u=u.set(new zt(c),f)}),sp(t,e,n,u,i,s,a,o)}else return e}else{let u=new en(null);return r.foreach((c,f)=>{const h=gn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),sp(t,e,n,u,i,s,a,o)}}function GD(t,e,n,r,i){const s=e.serverCache,o=RE(e,s.getNode(),s.isFullyInitialized()||Et(n),s.isFiltered());return UE(t,o,n,r,$E,i)}function zD(t,e,n,r,i,s){let o;if(af(r,n)!=null)return e;{const a=new e0(r,e,i),l=e.eventCache.getNode();let u;if(Et(n)||_t(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=of(r,ko(e));else{const f=e.serverCache.getNode();$e(f instanceof ot,"serverChildren would be complete if leaf node"),c=Jg(r,f)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=_t(n);let f=Zg(r,c,e.serverCache);f==null&&e.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=t.filter.updateChild(l,c,f,rn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ot.EMPTY_NODE,rn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=of(r,ko(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||af(r,Ot())!=null,Il(e,u,o,t.filter.filtersNodes())}}class KD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Gg(r.getIndex()),s=dD(r);this.processor_=UD(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ot.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(ot.EMPTY_NODE,a.getNode(),null),c=new Ns(l,o.isFullyInitialized(),i.filtersNodes()),f=new Ns(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Hf(f,c),this.eventGenerator_=new bD(this.query_)}get query(){return this.query_}}function QD(t){return t.viewCache_.serverCache.getNode()}function XD(t){return sf(t.viewCache_)}function JD(t,e){const n=ko(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Et(e)&&!n.getImmediateChild(_t(e)).isEmpty())?n.getChild(e):null}function lb(t){return t.eventRegistrations_.length===0}function ZD(t,e){t.eventRegistrations_.push(e)}function ub(t,e,n){const r=[];if(n){$e(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function cb(t,e,n,r){e.type===Kr.MERGE&&e.source.queryId!==null&&($e(ko(t.viewCache_),"We should always have a full cache before handling merges"),$e(sf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=VD(t.processor_,i,e,n,r);return WD(t.processor_,s.viewCache),$e(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,WE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function eR(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yn,(s,o)=>{r.push(Aa(s,o))}),n.isFullyInitialized()&&r.push(ME(n.getNode())),WE(t,r,n.getNode(),e)}function WE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return wD(t.eventGenerator_,e,n,i)}let uf;class VE{constructor(){this.views=new Map}}function tR(t){$e(!uf,"__referenceConstructor has already been defined"),uf=t}function nR(){return $e(uf,"Reference.ts has not been loaded"),uf}function rR(t){return t.views.size===0}function t0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $e(s!=null,"SyncTree gave us an op for an invalid query."),cb(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(cb(o,e,n,r));return s}}function HE(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=of(n,i?r:null),l=!1;a?l=!0:r instanceof ot?(a=Jg(n,r),l=!1):(a=ot.EMPTY_NODE,l=!1);const u=Hf(new Ns(a,l,!1),new Ns(r,i,!1));return new KD(e,u)}return o}function iR(t,e,n,r,i,s){const o=HE(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ZD(o,n),eR(o,n)}function sR(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ls(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(ub(u,n,r)),lb(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(ub(l,n,r)),lb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ls(t)&&s.push(new(nR())(e._repo,e._path)),{removed:s,events:o}}function YE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ms(t,e){let n=null;for(const r of t.views.values())n=n||JD(r,e);return n}function qE(t,e){if(e._queryParams.loadsAllData())return qf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function GE(t,e){return qE(t,e)!=null}function Ls(t){return qf(t)!=null}function qf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let cf;function oR(t){$e(!cf,"__referenceConstructor has already been defined"),cf=t}function aR(){return $e(cf,"Reference.ts has not been loaded"),cf}let lR=1;class fb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_=FD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zE(t,e,n,r,i){return xD(t.pendingWriteTree_,e,n,r,i),i?ja(t,new Ao(Kg(),e,n)):[]}function uR(t,e,n,r){AD(t.pendingWriteTree_,e,n,r);const i=en.fromObject(n);return ja(t,new ka(Kg(),e,i))}function xs(t,e,n=!1){const r=kD(t.pendingWriteTree_,e);if(TD(t.pendingWriteTree_,e)){let s=new en(null);return r.snap!=null?s=s.set(Ot(),!0):Qn(r.children,o=>{s=s.set(new zt(o),!0)}),ja(t,new rf(r.path,s,n))}else return[]}function mu(t,e,n){return ja(t,new Ao(Qg(),e,n))}function cR(t,e,n){const r=en.fromObject(n);return ja(t,new ka(Qg(),e,r))}function fR(t,e){return ja(t,new eu(Qg(),e))}function hR(t,e,n){const r=r0(t,n);if(r){const i=i0(r),s=i.path,o=i.queryId,a=dr(s,e),l=new eu(Xg(o),a);return s0(t,s,l)}else return[]}function ff(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||GE(o,e))){const l=sR(o,e,n,r);rR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,d)=>Ls(d));if(c&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const d=mR(h);for(let p=0;p<d.length;++p){const g=d[p],_=g.query,y=JE(t,g);t.listenProvider_.startListening(Ol(_),tu(t,_),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ol(e),null):u.forEach(h=>{const d=t.queryToTagMap.get(Gf(h));t.listenProvider_.stopListening(Ol(h),d)}))}gR(t,u)}return a}function KE(t,e,n,r){const i=r0(t,r);if(i!=null){const s=i0(i),o=s.path,a=s.queryId,l=dr(o,e),u=new Ao(Xg(a),l,n);return s0(t,o,u)}else return[]}function dR(t,e,n,r){const i=r0(t,r);if(i){const s=i0(i),o=s.path,a=s.queryId,l=dr(o,e),u=en.fromObject(n),c=new ka(Xg(a),l,u);return s0(t,o,c)}else return[]}function op(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,d)=>{const p=dr(h,i);s=s||Ms(d,p),o=o||Ls(d)});let a=t.syncPointTree_.get(i);a?(o=o||Ls(a),s=s||Ms(a,Ot())):(a=new VE,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ot.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,p)=>{const g=Ms(p,Ot());g&&(s=s.updateImmediateChild(d,g))}));const u=GE(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Gf(e);$e(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const d=yR();t.queryToTagMap.set(h,d),t.tagToQueryMap.set(d,h)}const c=Yf(t.pendingWriteTree_,i);let f=iR(a,e,n,c,s,l);if(!u&&!o&&!r){const h=qE(a,e);f=f.concat(vR(t,e,h))}return f}function n0(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=dr(o,e),u=Ms(a,l);if(u)return u});return FE(i,e,s,n,!0)}function pR(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const f=dr(u,n);r=r||Ms(c,f)});let i=t.syncPointTree_.get(n);i?r=r||Ms(i,Ot()):(i=new VE,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Ns(r,!0,!1):null,a=Yf(t.pendingWriteTree_,e._path),l=HE(i,e,a,s?o.getNode():ot.EMPTY_NODE,s);return XD(l)}function ja(t,e){return QE(e,t.syncPointTree_,null,Yf(t.pendingWriteTree_,Ot()))}function QE(t,e,n,r){if(Et(t.path))return XE(t,e,n,r);{const i=e.get(Ot());n==null&&i!=null&&(n=Ms(i,Ot()));let s=[];const o=_t(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=BE(r,o);s=s.concat(QE(a,l,u,c))}return i&&(s=s.concat(t0(i,t,r,n))),s}}function XE(t,e,n,r){const i=e.get(Ot());n==null&&i!=null&&(n=Ms(i,Ot()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=BE(r,o),c=t.operationForChild(o);c&&(s=s.concat(XE(c,a,l,u)))}),i&&(s=s.concat(t0(i,t,r,n))),s}function JE(t,e){const n=e.query,r=tu(t,n);return{hashFn:()=>(QD(e)||ot.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?hR(t,n._path,r):fR(t,n._path);{const s=fM(i,n);return ff(t,n,null,s)}}}}function tu(t,e){const n=Gf(e);return t.queryToTagMap.get(n)}function Gf(t){return t._path.toString()+"$"+t._queryIdentifier}function r0(t,e){return t.tagToQueryMap.get(e)}function i0(t){const e=t.indexOf("$");return $e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new zt(t.substr(0,e))}}function s0(t,e,n){const r=t.syncPointTree_.get(e);$e(r,"Missing sync point for query tag that we're tracking");const i=Yf(t.pendingWriteTree_,e);return t0(r,n,i,null)}function mR(t){return t.fold((e,n,r)=>{if(n&&Ls(n))return[qf(n)];{let i=[];return n&&(i=YE(n)),Qn(r,(s,o)=>{i=i.concat(o)}),i}})}function Ol(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aR())(t._repo,t._path):t}function gR(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Gf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function yR(){return lR++}function vR(t,e,n){const r=e._path,i=tu(t,e),s=JE(t,n),o=t.listenProvider_.startListening(Ol(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)$e(!Ls(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,f)=>{if(!Et(u)&&c&&Ls(c))return[qf(c).query];{let h=[];return c&&(h=h.concat(YE(c).map(d=>d.query))),Qn(f,(d,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ol(c),tu(t,c))}}return o}class o0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new o0(n)}node(){return this.node_}}class a0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=gn(this.path_,e);return new a0(this.syncTree_,n)}node(){return n0(this.syncTree_,this.path_)}}const _R=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hb=function(t,e,n){if(!t||typeof t!="object")return t;if($e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wR(t[".sv"],e);$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bR=function(t,e,n){if(t==="timestamp")return n.timestamp;$e(!1,"Unexpected server value: "+t)},wR=function(t,e,n){t.hasOwnProperty("increment")||$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$e(!1,"Unexpected increment value: "+r);const i=e.node();if($e(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},ZE=function(t,e,n,r){return l0(e,new a0(n,t),r)},eS=function(t,e,n){return l0(t,new o0(e),n)};function l0(t,e,n){const r=t.getPriority().val(),i=hb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=hb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $n(a,Dn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $n(i))),o.forEachChild(yn,(a,l)=>{const u=l0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class u0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function c0(t,e){let n=e instanceof zt?e:new zt(e),r=t,i=_t(n);for(;i!==null;){const s=Ca(r.node.children,i)||{children:{},childCount:0};r=new u0(i,r,s),n=rn(n),i=_t(n)}return r}function $a(t){return t.node.value}function tS(t,e){t.node.value=e,ap(t)}function nS(t){return t.node.childCount>0}function ER(t){return $a(t)===void 0&&!nS(t)}function zf(t,e){Qn(t.node.children,(n,r)=>{e(new u0(n,t,r))})}function rS(t,e,n,r){n&&e(t),zf(t,i=>{rS(i,e,!0)})}function SR(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gu(t){return new zt(t.parent===null?t.name:gu(t.parent)+"/"+t.name)}function ap(t){t.parent!==null&&CR(t.parent,t.name,t)}function CR(t,e,n){const r=ER(n),i=Ti(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ap(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ap(t))}const xR=/[\[\].#$\/\u0000-\u001F\u007F]/,AR=/[\[\].#$\u0000-\u001F\u007F]/,vd=10*1024*1024,f0=function(t){return typeof t=="string"&&t.length!==0&&!xR.test(t)},iS=function(t){return typeof t=="string"&&t.length!==0&&!AR.test(t)},kR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iS(t)},TR=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Bg(t)||t&&typeof t=="object"&&Ti(t,".sv")},IR=function(t,e,n,r){Kf(Uf(t,"value"),e,n)},Kf=function(t,e,n){const r=n instanceof zt?new YM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lo(r));if(typeof e=="function")throw new Error(t+"contains a function "+lo(r)+" with contents = "+e.toString());if(Bg(e))throw new Error(t+"contains "+e.toString()+" "+lo(r));if(typeof e=="string"&&e.length>vd/3&&Wf(e)>vd)throw new Error(t+"contains a string greater than "+vd+" utf8 bytes "+lo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!f0(o)))throw new Error(t+" contains an invalid key ("+o+") "+lo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qM(r,o),Kf(t,a,r),GM(r)}),i&&s)throw new Error(t+' contains ".value" child '+lo(r)+" in addition to actual children.")}},PR=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ql(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!f0(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(HM);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Lr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},OR=function(t,e,n,r){const i=Uf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Qn(e,(o,a)=>{const l=new zt(o);if(Kf(i,a,gn(n,l)),Vg(l)===".priority"&&!TR(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),PR(i,s)},sS=function(t,e,n,r){if(!iS(n))throw new Error(Uf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MR=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sS(t,e,n)},DR=function(t,e){if(_t(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!f0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kR(n))throw new Error(Uf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class NR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qf(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Hg(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function oS(t,e,n){Qf(t,n),aS(t,r=>Hg(r,e))}function $r(t,e,n){Qf(t,n),aS(t,r=>Lr(r,e)||Lr(e,r))}function aS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(LR(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();kl&&Gn("event: "+n.toString()),Ba(r)}}}const FR="repo_interrupt",BR=25;class jR{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nf(),this.transactionQueueTree_=new u0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $R(t,e,n){if(t.stats_=Ug(t.repoInfo_),t.forceRestClient_||mM())t.server_=new tf(t.repoInfo_,(r,i,s,o)=>{db(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zi(t.repoInfo_,e,(r,i,s,o)=>{db(t,r,i,s,o)},r=>{pb(t,r)},r=>{WR(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bM(t.repoInfo_,()=>new _D(t.stats_,t.server_)),t.infoData_=new pD,t.infoSyncTree_=new fb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),h0(t,"connected",!1),t.serverSyncTree_=new fb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);$r(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function UR(t){const n=t.infoData_.getNode(new zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Xf(t){return _R({timestamp:UR(t)})}function db(t,e,n,r,i){t.dataUpdateCount++;const s=new zt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=zc(n,u=>Dn(u));o=dR(t.serverSyncTree_,s,l,i)}else{const l=Dn(n);o=KE(t.serverSyncTree_,s,l,i)}else if(r){const l=zc(n,u=>Dn(u));o=cR(t.serverSyncTree_,s,l)}else{const l=Dn(n);o=mu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ia(t,s)),$r(t.eventQueue_,a,o)}function pb(t,e){h0(t,"connected",e),e===!1&&qR(t)}function WR(t,e){Qn(e,(n,r)=>{h0(t,n,r)})}function h0(t,e,n){const r=new zt("/.info/"+e),i=Dn(n);t.infoData_.updateSnapshot(r,i);const s=mu(t.infoSyncTree_,r,i);$r(t.eventQueue_,r,s)}function d0(t){return t.nextWriteId_++}function VR(t,e,n){const r=pR(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Dn(i).withIndex(e._queryParams.getIndex());op(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=mu(t.serverSyncTree_,e._path,s);else{const a=tu(t.serverSyncTree_,e);o=KE(t.serverSyncTree_,e._path,s,a)}return $r(t.eventQueue_,e._path,o),ff(t.serverSyncTree_,e,n,null,!0),s},i=>(yu(t,"get for query "+Rn(e)+" failed: "+i),Promise.reject(new Error(i))))}function HR(t,e,n,r,i){yu(t,"set",{path:e.toString(),value:n,priority:r});const s=Xf(t),o=Dn(n,r),a=n0(t.serverSyncTree_,e),l=eS(o,a,s),u=d0(t),c=zE(t.serverSyncTree_,e,l,u,!0);Qf(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,d)=>{const p=h==="ok";p||pr("set at "+e+" failed: "+h);const g=xs(t.serverSyncTree_,u,!p);$r(t.eventQueue_,e,g),lp(t,i,h,d)});const f=m0(t,e);Ia(t,f),$r(t.eventQueue_,f,[])}function YR(t,e,n,r){yu(t,"update",{path:e.toString(),value:n});let i=!0;const s=Xf(t),o={};if(Qn(n,(a,l)=>{i=!1,o[a]=ZE(gn(e,a),Dn(l),t.serverSyncTree_,s)}),i)Gn("update() called with empty data.  Don't do anything."),lp(t,r,"ok",void 0);else{const a=d0(t),l=uR(t.serverSyncTree_,e,o,a);Qf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const f=u==="ok";f||pr("update at "+e+" failed: "+u);const h=xs(t.serverSyncTree_,a,!f),d=h.length>0?Ia(t,e):e;$r(t.eventQueue_,d,h),lp(t,r,u,c)}),Qn(n,u=>{const c=m0(t,gn(e,u));Ia(t,c)}),$r(t.eventQueue_,e,[])}}function qR(t){yu(t,"onDisconnectEvents");const e=Xf(t),n=nf();ep(t.onDisconnect_,Ot(),(i,s)=>{const o=ZE(i,s,t.serverSyncTree_,e);DE(n,i,o)});let r=[];ep(n,Ot(),(i,s)=>{r=r.concat(mu(t.serverSyncTree_,i,s));const o=m0(t,i);Ia(t,o)}),t.onDisconnect_=nf(),$r(t.eventQueue_,Ot(),r)}function GR(t,e,n){let r;_t(e._path)===".info"?r=op(t.infoSyncTree_,e,n):r=op(t.serverSyncTree_,e,n),oS(t.eventQueue_,e._path,r)}function zR(t,e,n){let r;_t(e._path)===".info"?r=ff(t.infoSyncTree_,e,n):r=ff(t.serverSyncTree_,e,n),oS(t.eventQueue_,e._path,r)}function KR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FR)}function yu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gn(n,...e)}function lp(t,e,n,r){e&&Ba(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function lS(t,e,n){return n0(t.serverSyncTree_,e,n)||ot.EMPTY_NODE}function p0(t,e=t.transactionQueueTree_){if(e||Jf(t,e),$a(e)){const n=cS(t,e);$e(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&QR(t,gu(e),n)}else nS(e)&&zf(e,n=>{p0(t,n)})}function QR(t,e,n){const r=n.map(u=>u.currentWriteId),i=lS(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];$e(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=dr(e,c.path);s=s.updateChild(f,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{yu(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(xs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Jf(t,c0(t.transactionQueueTree_,e)),p0(t,t.transactionQueueTree_),$r(t.eventQueue_,e,c);for(let h=0;h<f.length;h++)Ba(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{pr("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Ia(t,e)}},o)}function Ia(t,e){const n=uS(t,e),r=gu(n),i=cS(t,n);return XR(t,i,r),r}function XR(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=dr(n,l.path);let c=!1,f;if($e(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(xs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=BR)c=!0,f="maxretry",i=i.concat(xs(t.serverSyncTree_,l.currentWriteId,!0));else{const h=lS(t,l.path,o);l.currentInputSnapshot=h;const d=e[a].update(h.val());if(d!==void 0){Kf("transaction failed: Data returned ",d,l.path);let p=Dn(d);typeof d=="object"&&d!=null&&Ti(d,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,y=Xf(t),m=eS(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=d0(t),o.splice(o.indexOf(_),1),i=i.concat(zE(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(xs(t.serverSyncTree_,_,!0))}else c=!0,f="nodata",i=i.concat(xs(t.serverSyncTree_,l.currentWriteId,!0))}$r(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Jf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ba(r[a]);p0(t,t.transactionQueueTree_)}function uS(t,e){let n,r=t.transactionQueueTree_;for(n=_t(e);n!==null&&$a(r)===void 0;)r=c0(r,n),e=rn(e),n=_t(e);return r}function cS(t,e){const n=[];return fS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function fS(t,e,n){const r=$a(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zf(e,i=>{fS(t,i,n)})}function Jf(t,e){const n=$a(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tS(e,n.length>0?n:void 0)}zf(e,r=>{Jf(t,r)})}function m0(t,e){const n=gu(uS(t,e)),r=c0(t.transactionQueueTree_,e);return SR(r,i=>{_d(t,i)}),_d(t,r),rS(r,i=>{_d(t,i)}),n}function _d(t,e){const n=$a(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($e(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($e(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tS(e,void 0):n.length=s+1,$r(t.eventQueue_,gu(e),i);for(let o=0;o<r.length;o++)Ba(r[o])}}function JR(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ZR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pr(`Invalid query segment '${n}' in query '${t}'`)}return e}const mb=function(t,e){const n=eN(t),r=n.namespace;n.domain==="firebase.com"&&es(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oM();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new zt(n.pathString)}},eN=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(c,f)),c<f&&(i=JR(t.substring(c,f)));const h=ZR(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class tN{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rn(this.snapshot.exportVal())}}class nN{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class g0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Et(this._path)?null:Vg(this._path)}get ref(){return new ss(this._repo,this._path)}get _queryIdentifier(){const e=tb(this._queryParams),n=jg(e);return n==="{}"?"default":n}get _queryObject(){return tb(this._queryParams)}isEqual(e){if(e=Fa(e),!(e instanceof g0))return!1;const n=this._repo===e._repo,r=Hg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+VM(this._path)}}class ss extends g0{constructor(e,n){super(e,n,new zg,!1)}get parent(){const e=xE(this._path);return e===null?null:new ss(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new zt(e),r=up(this.ref,e);return new nu(this._node.getChild(n),r,yn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new nu(i,up(this.ref,r),yn)))}hasChild(e){const n=new zt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ki(t,e){return t=Fa(t),t._checkNotDeleted("ref"),e!==void 0?up(t._root,e):t._root}function up(t,e){return t=Fa(t),_t(t._path)===null?MR("child","path",e):sS("child","path",e),new ss(t._repo,gn(t._path,e))}function cp(t,e){t=Fa(t),DR("set",t._path),IR("set",e,t._path);const n=new cu;return HR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rN(t,e){OR("update",e,t._path);const n=new cu;return YR(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ru(t){t=Fa(t);const e=new hS(()=>{}),n=new Zf(e);return VR(t._repo,t,n).then(r=>new nu(r,new ss(t._repo,t._path),t._queryParams.getIndex()))}class Zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new tN("value",this,new nu(e.snapshotNode,new ss(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nN(this,e,n):null}matches(e){return e instanceof Zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function iN(t,e,n,r,i){const s=new hS(n,void 0),o=new Zf(s);return GR(t._repo,t,o),()=>zR(t._repo,t,o)}function sN(t,e,n,r){return iN(t,"value",e)}tR(ss);oR(ss);const oN="FIREBASE_DATABASE_EMULATOR_HOST",fp={};let aN=!1;function lN(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Lg(s);t.repoInfo_=new gE(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function uN(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=mb(s,i),a=o.repoInfo,l;typeof process<"u"&&F_&&(l=F_[oN]),l?(s=`http://${l}?ns=${a.namespace}`,o=mb(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new yM(t.name,t.options,e);RR("Invalid Firebase Database URL",o),Et(o.path)||es("Database URL must point to the root of a Firebase Database (not including a child path).");const c=fN(a,t,u,new gM(t,n));return new hN(c,t)}function cN(t,e){const n=fp[e];(!n||n[t.key]!==t)&&es(`Database ${e}(${t.repoInfo_}) has already been deleted.`),KR(t),delete n[t.key]}function fN(t,e,n,r){let i=fp[e.name];i||(i={},fp[e.name]=i);let s=i[t.toURLString()];return s&&es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new jR(t,aN,n,r),i[t.toURLString()]=s,s}class hN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($R(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ss(this._repo,Ot())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&es("Cannot call "+e+" on a deleted database.")}}function eh(t=VO(),e){const n=BO(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=SP("database");r&&dN(n,...r)}return n}function dN(t,e,n,r={}){t=Fa(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Kc(r,s.repoInfo_.emulatorOptions))return;es("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new uc(uc.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:xP(r.mockUserToken,t.app.options.projectId);o=new uc(a)}Lg(e)&&(CP(e),TP("Database",!0)),lN(s,i,r,o)}function pN(t){eM(WO),Xc(new Gl("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pa(B_,j_,t),pa(B_,j_,"esm2020")}zi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pN();const dS=Na("login",{state:()=>({email:"",password:"",name:"",lastLog:null,safeEmail:""}),actions:{async loginCredentials(t,e){this.email=t,this.password=e,console.log("Login credentials saved:",this.email,this.password);const n=eh();this.safeEmail=this.email.replace(/\./g,",").replace(/@/g,"_");const r=Ki(n,`users/${this.safeEmail}`);try{const i=await ru(r);if(i.exists()){if(i.val().password!==this.password)return console.error("Incorrect password for email:",this.email),!1;{console.log("User logged in successfully:",this.email),console.log("User data:",this.safeEmail);const s=new Date().toISOString();return await rN(r,{lastLog:s}),this.lastLog=s,this.name=i.val().name||"",console.log("Updated lastLog:",s),console.log("User name:",this.name),!0}}else return console.error("No user found with email:",this.email),!1}catch(i){return console.error("Firebase error:",i),!1}}}}),mN="/PharmAssist/assets/bg-Du4u4sVZ.jpg",Us=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},gN={class:"form-page"},yN={class:"card auth-card"},vN={class:"switch"},_N=["src"],bN={__name:"login",setup(t){const e=$1(),n=Ne(""),r=Ne("");let i=!1,s=dS();async function o(){i=await s.loginCredentials(n.value,r.value),i&&e.push("/dashboard/home")}return(a,l)=>{const u=$l("router-link");return ke(),Be("div",gN,[ue("div",yN,[l[5]||(l[5]=Og('<span class="logo-section" data-v-1c0b76a7><div class="logo-container" data-v-1c0b76a7><img src="'+Rg+'" alt="Logo" data-v-1c0b76a7></div><span class="logo-name" data-v-1c0b76a7>PharmAssist</span></span><span class="login-title" data-v-1c0b76a7>Welcome Back</span><span class="titleDesc" data-v-1c0b76a7>Login to access the dashboard</span>',3)),ue("form",{onSubmit:Ci(o,["prevent"])},[Mn(ue("input",{type:"email","onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),placeholder:"Email",required:""},null,512),[[Sr,n.value]]),Mn(ue("input",{type:"password","onUpdate:modelValue":l[1]||(l[1]=c=>r.value=c),placeholder:"Password",required:""},null,512),[[Sr,r.value]]),l[2]||(l[2]=ue("button",{type:"submit"},"Login",-1))],32),ue("p",vN,[l[4]||(l[4]=Pt(" Don't have an account? ",-1)),dt(u,{to:"/register",class:"signup"},{default:st(()=>[...l[3]||(l[3]=[Pt("Sign Up",-1)])]),_:1})])]),ue("img",{src:H(mN),alt:"Background",class:"background-image"},null,8,_N)])}}},wN=Us(bN,[["__scopeId","data-v-1c0b76a7"]]),pS=Na("profile",{state:()=>({user:{name:"",email:"",password:""}}),actions:{saveProfile(t){this.user={...t}},async saveToFirebase(){const t=eh(),e=this.user.email.replace(/\./g,",").replace(/@/g,"_");return await cp(Ki(t,`users/${e}`),{name:this.user.name,email:this.user.email,password:this.user.password}),console.log("User saved:",this.user.email),!0}}}),EN={class:"form-container"},SN={class:"card scrollable"},CN={class:"switch-mode"},xN={__name:"register",setup(t){const e=pS(),n=Ne(""),r=Ne(""),i=Ne(""),s=Ne("");Ne(""),Ne(""),Ne(""),Ne(""),Ne(""),Ne(""),Ne(""),Ne(""),Ne("");const o=async()=>{if(i.value!==s.value){alert("Passwords do not match!");return}const a={name:n.value,email:r.value,password:i.value};e.saveProfile(a),await e.saveToFirebase()&&alert("Registration successful!"),n.value="",r.value="",i.value="",s.value=""};return(a,l)=>{const u=$l("router-link");return ke(),Be("div",EN,[ue("div",SN,[l[7]||(l[7]=ue("span",{class:"logo-section"},[ue("div",{class:"logo-container"},[ue("img",{src:Rg,alt:"Logo"})]),ue("span",{class:"logo-name"},"PharmAssist")],-1)),l[8]||(l[8]=ue("h3",null,"Create New Account",-1)),ue("form",{onSubmit:Ci(o,["prevent"])},[Mn(ue("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),placeholder:"Full Name",required:""},null,512),[[Sr,n.value]]),Mn(ue("input",{type:"email","onUpdate:modelValue":l[1]||(l[1]=c=>r.value=c),placeholder:"Email",required:""},null,512),[[Sr,r.value]]),Mn(ue("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=c=>i.value=c),placeholder:"Password",required:""},null,512),[[Sr,i.value]]),Mn(ue("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=c=>s.value=c),placeholder:"Confirm Password",required:""},null,512),[[Sr,s.value]]),l[4]||(l[4]=ue("button",{type:"submit"},"Sign Up",-1))],32),ue("p",CN,[l[6]||(l[6]=Pt(" Already have an account? ",-1)),dt(u,{to:"/login",class:"login"},{default:st(()=>[...l[5]||(l[5]=[Pt("Login",-1)])]),_:1})])])])}}},AN=Us(xN,[["__scopeId","data-v-9ae65625"]]),kN={},TN={class:"dashboard-wrapper"},IN={class:"header"},PN={class:"navlink-wrapper"},ON={class:"navlink-container"},MN={class:"navlink"},DN={class:"logoutbtn"},RN={class:"content-area"};function NN(t,e){const n=$l("router-link"),r=$l("router-view");return ke(),Be("div",TN,[ue("span",IN,[e[5]||(e[5]=ue("div",{class:"left-header"},[ue("div",{class:"logo-container"},[ue("img",{src:Rg,alt:"Logo"})]),ue("span",{class:"logo-name"},"PharmAssist")],-1)),ue("nav",PN,[ue("ul",ON,[ue("span",MN,[ue("li",null,[dt(n,{to:"/dashboard/home"},{default:st(()=>[...e[0]||(e[0]=[Pt("Dashboard",-1)])]),_:1})]),ue("li",null,[dt(n,{to:"/dashboard/editmedication"},{default:st(()=>[...e[1]||(e[1]=[Pt("Schedule Medicine",-1)])]),_:1})]),ue("li",null,[dt(n,{to:"/dashboard/medhistory"},{default:st(()=>[...e[2]||(e[2]=[Pt("Medication History",-1)])]),_:1})]),ue("li",null,[dt(n,{to:"/dashboard/editprofile"},{default:st(()=>[...e[3]||(e[3]=[Pt("Account",-1)])]),_:1})])]),ue("span",DN,[ue("li",null,[dt(n,{to:"/login"},{default:st(()=>[...e[4]||(e[4]=[Pt("Logout",-1)])]),_:1})])])])])]),ue("main",RN,[dt(r)])])}const LN=Us(kN,[["render",NN],["__scopeId","data-v-533081d3"]]),FN="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%202.66663V5.33329'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.57324%206.57336L8.45324%208.45336'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.6667%2016H29.3334'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.4266%206.57336L23.5466%208.45336'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21.2625%2016.8667C21.4266%2015.8727%2021.3058%2014.8526%2020.9141%2013.9244C20.5224%2012.9962%2019.8758%2012.1979%2019.0492%2011.622C18.2226%2011.0461%2017.2498%2010.7161%2016.2434%2010.6702C15.237%2010.6243%2014.2381%2010.8644%2013.3625%2011.3627'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.3333%2029.3333H9.33328C8.07191%2029.3331%206.83649%2028.975%205.77051%2028.3006C4.70453%2027.6263%203.85174%2026.6633%203.31118%2025.5237C2.77062%2024.384%202.56448%2023.1143%202.71669%2021.8622C2.8689%2020.61%203.37323%2019.4267%204.17109%2018.4498C4.96895%2017.4728%206.02761%2016.7422%207.22411%2016.3429C8.4206%2015.9436%209.70584%2015.8919%2010.9305%2016.1938C12.1552%2016.4958%2013.2691%2017.139%2014.1429%2018.0487C15.0166%2018.9585%2015.6143%2020.0974%2015.8666%2021.3333H17.3333C18.3941%2021.3333%2019.4116%2021.7548%2020.1617%2022.5049C20.9119%2023.2551%2021.3333%2024.2725%2021.3333%2025.3333C21.3333%2026.3942%2020.9119%2027.4116%2020.1617%2028.1618C19.4116%2028.9119%2018.3941%2029.3333%2017.3333%2029.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var BN="firebase",jN="12.7.0";pa(BN,jN,"app");const $N={apiKey:"AIzaSyC7PsuW8k7vx2Y9IpBzRG2ZK_OSVe9VcOk",authDomain:"fir-postman-19d34.firebaseapp.com",databaseURL:"https://fir-postman-19d34-default-rtdb.firebaseio.com",projectId:"fir-postman-19d34",storageBucket:"fir-postman-19d34.firebasestorage.app",messagingSenderId:"807089944328",appId:"1:807089944328:web:a41f9e0d4acda44ec45ebd",measurementId:"G-PC9LN0P852"},UN=Z1($N),ya=eh(UN),WN=Na("medicine",{state:()=>({medicines:{daily:{},weekly:{}}}),actions:{listenMedicines(){const t=Ki(ya,"medicine");sN(t,e=>{e.exists()&&(this.medicines=e.val())})},async saveMedicine(t,e,n,r,i,s){const a=Ki(ya,`medicine/${t==="daily"?"weekly":"daily"}/${e}`);await cp(a,null),await cp(Ki(ya,`medicine/${t}/${e}`),{medicine:n,time:r,dose:i,lastTaken:s})}}});function VN(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function HN(t){if(!t)return!1;const e=new Date,[n,r]=t.split(":").map(Number),i=new Date;return i.setHours(n,r,0,0),e>i}function YN(t){if(!t)return null;const e=new Date,[n,r]=t.split(":").map(Number),i=new Date;if(i.setHours(n,r,0,0),i<=e)return null;const s=i-e,o=Math.floor(s/(1e3*60*60)),a=Math.floor(s%(1e3*60*60)/(1e3*60));return o>0?`${o}h ${a}m`:`${a}m`}const mS=Na("handleSchedule",{state:()=>({box1medicine:null,box1dose:0,box1shed:null,box1schedtype:null,box1status:"empty",box2medicine:null,box2dose:0,box2shed:null,box2schedtype:null,box2status:"empty",box3medicine:null,box3dose:0,box3shed:null,box3schedtype:null,box3status:"empty",box4medicine:null,box4dose:0,box4shed:null,box4schedtype:null,box4status:"empty",medremain:0,upcomingshed:null,last7days:[]}),actions:{async fetchBoxes(){const t=["box1","box2","box3","box4"],e=["daily","weekly"];this.medremain=0,this.upcomingshed=null;let n=null;for(const s of t){let o=null,a=0,l=null,u="empty",c=null,f=!1;for(const h of e){const d=await ru(Ki(ya,`medicine/${h}/${s}`));if(!d.exists())continue;f=!0,c=h;const p=d.val(),g=new Date,_=p.lastTaken?new Date(p.lastTaken):null;if(h==="daily"&&(_&&VN(_,g)?u="taken":HN(p.time)?u="missed":u="pending"),h==="weekly"&&(_?u=(g-_)/864e5<7?"taken":"missed":u="pending"),o||(o=p.medicine||null),!a&&p.dose&&(a=p.dose),!l&&p.time&&(l=p.time),u==="pending"&&p.time){const[y,m]=p.time.split(":").map(Number),b=new Date;b.setHours(y,m,0,0);const S=b-g;S>0&&(n===null||S<n)&&(n=S,this.upcomingshed=YN(p.time))}}(!f||!o)&&(u="empty",c=null),this[`${s}medicine`]=o,this[`${s}dose`]=a,this[`${s}shed`]=l,this[`${s}schedtype`]=c,this[`${s}status`]=u,(u==="pending"||u==="missed")&&this.medremain++}const r=new Date,i=[];for(let s=6;s>=0;s--){const o=new Date(r);o.setDate(r.getDate()-s);const a=o.toISOString().split("T")[0],l=await ru(Ki(ya,`records/${a}`));let u="missed";if(l.exists()){const c=l.val(),f=Object.values(c).filter(h=>h.lastTaken).length;f>=3?u="completed":f>=1?u="incomplete":u="missed"}i.push({date:a,status:u})}this.last7days=i,console.log("Upcoming scheduled time:",this.upcomingshed)}}}),qN="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206V12L16%2014'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",GN="data:image/svg+xml,%3csvg%20width='18'%20height='13'%20viewBox='0%200%2018%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%201L6%2012L1%207'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",gb="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%201L1%2013M12.5%2013L1%201'%20stroke='%23BE3939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",zN="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23D6D3D1'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23D6D3D1'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",yb="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23A84545'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23A84545'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",KN="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0001%2027.3333L27.3334%2014C27.9565%2013.3894%2028.4523%2012.6614%2028.7922%2011.858C29.1321%2011.0546%2029.3094%2010.1918%2029.3138%209.31949C29.3182%208.44717%2029.1497%207.58263%2028.8179%206.77585C28.4861%205.96908%2027.9976%205.23609%2027.3808%204.61925C26.764%204.00242%2026.031%203.51399%2025.2242%203.18219C24.4174%202.8504%2023.5529%202.68184%2022.6806%202.68624C21.8082%202.69065%2020.9454%202.86794%2020.1421%203.20786C19.3387%203.54779%2018.6107%204.0436%2018.0001%204.66663L4.66675%2018C4.04372%2018.6105%203.54791%2019.3386%203.20798%2020.1419C2.86806%2020.9453%202.69077%2021.8081%202.68636%2022.6804C2.68196%2023.5528%202.85052%2024.4173%203.18232%2025.2241C3.51411%2026.0308%204.00254%2026.7638%204.61937%2027.3807C5.23621%2027.9975%205.9692%2028.4859%206.77598%2028.8177C7.58275%2029.1495%208.44729%2029.3181%209.31961%2029.3137C10.1919%2029.3093%2011.0547%2029.132%2011.8581%2028.7921C12.6615%2028.4521%2013.3895%2027.9563%2014.0001%2027.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%2011.3334L20.6666%2020.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",QN="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21%200H3C2.20435%200%201.44129%200.316071%200.87868%200.87868C0.316071%201.44129%200%202.20435%200%203V21C0%2021.7956%200.316071%2022.5587%200.87868%2023.1213C1.44129%2023.6839%202.20435%2024%203%2024H21C21.7956%2024%2022.5587%2023.6839%2023.1213%2023.1213C23.6839%2022.5587%2024%2021.7956%2024%2021V3C24%202.20435%2023.6839%201.44129%2023.1213%200.87868C22.5587%200.316071%2021.7956%200%2021%200ZM1.5%205.7855C1.5%205.076%202.172%204.5%203%204.5H21C21.828%204.5%2022.5%205.076%2022.5%205.7855V21.2145C22.5%2021.924%2021.828%2022.5%2021%2022.5H3C2.172%2022.5%201.5%2021.924%201.5%2021.2145V5.7855Z'%20fill='%23F59E0B'/%3e%3cpath%20d='M18%2010.5C18.3978%2010.5%2018.7794%2010.342%2019.0607%2010.0607C19.342%209.77936%2019.5%209.39782%2019.5%209C19.5%208.60218%2019.342%208.22064%2019.0607%207.93934C18.7794%207.65804%2018.3978%207.5%2018%207.5C17.6022%207.5%2017.2206%207.65804%2016.9393%207.93934C16.658%208.22064%2016.5%208.60218%2016.5%209C16.5%209.39782%2016.658%209.77936%2016.9393%2010.0607C17.2206%2010.342%2017.6022%2010.5%2018%2010.5Z'%20fill='%23F59E0B'/%3e%3c/svg%3e",XN="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_19_94)'%3e%3cpath%20d='M10.0001%2018.3333C14.6025%2018.3333%2018.3334%2014.6023%2018.3334%209.99996C18.3334%205.39759%2014.6025%201.66663%2010.0001%201.66663C5.39771%201.66663%201.66675%205.39759%201.66675%209.99996C1.66675%2014.6023%205.39771%2018.3333%2010.0001%2018.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205V10L13.3333%2011.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19_94'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",JN="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206V12L16%2014'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ZN="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23ECFDF5'/%3e%3cpath%20d='M26%2016V26.54C26.7626%2026.9803%2027.3586%2027.6599%2027.6955%2028.4734C28.0325%2029.2869%2028.0916%2030.1888%2027.8637%2031.0394C27.6358%2031.8899%2027.1336%2032.6415%2026.435%2033.1775C25.7365%2033.7136%2024.8805%2034.0041%2024%2034.0041C23.1195%2034.0041%2022.2635%2033.7136%2021.565%2033.1775C20.8664%2032.6415%2020.3642%2031.8899%2020.1363%2031.0394C19.9084%2030.1888%2019.9675%2029.2869%2020.3045%2028.4734C20.6415%2027.6599%2021.2374%2026.9803%2022%2026.54V16C22%2015.4696%2022.2107%2014.9609%2022.5858%2014.5858C22.9609%2014.2107%2023.4696%2014%2024%2014C24.5304%2014%2025.0391%2014.2107%2025.4142%2014.5858C25.7893%2014.9609%2026%2015.4696%2026%2016Z'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",e6="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23EFF6FF'/%3e%3cpath%20d='M18.3465%2017.274C19.8458%2015.942%2021.7579%2015.2063%2023.7375%2015.2C27.7725%2015.2%2031.122%2018.2909%2031.4865%2022.2766C33.8745%2022.6243%2035.7375%2024.6844%2035.7375%2027.2128C35.7375%2029.9884%2033.4906%2032.2%2030.768%2032.2H17.409C14.2995%2032.2%2011.7375%2029.6747%2011.7375%2026.5096C11.7375%2023.785%2013.6365%2021.5286%2016.1505%2020.9568C16.365%2019.623%2017.1975%2018.294%2018.3465%2017.274ZM19.326%2018.4439C18.1905%2019.453%2017.5965%2020.6693%2017.5965%2021.6213V22.3137L16.929%2022.3894C14.8335%2022.6259%2013.2375%2024.3985%2013.2375%2026.5096C13.2375%2028.7768%2015.0825%2030.6545%2017.409%2030.6545H30.768C32.7076%2030.6545%2034.2375%2029.0905%2034.2375%2027.2128C34.2375%2025.3335%2032.7076%2023.7695%2030.768%2023.7695H30.018V22.9968C30.0196%2019.5659%2027.2295%2016.7454%2023.7375%2016.7454C22.1174%2016.7521%2020.5528%2017.355%2019.326%2018.4454V18.4439Z'%20fill='%233B82F6'/%3e%3c/svg%3e",t6="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2024C0%2010.7452%2010.7452%200%2024%200C37.2548%200%2048%2010.7452%2048%2024C48%2037.2548%2037.2548%2048%2024%2048C10.7452%2048%200%2037.2548%200%2024Z'%20fill='%23FFFBEB'/%3e%3cpath%20d='M33.2749%2012.2H15.2749C14.4793%2012.2%2013.7162%2012.516%2013.1536%2013.0786C12.591%2013.6412%2012.2749%2014.4043%2012.2749%2015.2V33.2C12.2749%2033.9956%2012.591%2034.7587%2013.1536%2035.3213C13.7162%2035.8839%2014.4793%2036.2%2015.2749%2036.2H33.2749C34.0706%2036.2%2034.8336%2035.8839%2035.3962%2035.3213C35.9588%2034.7587%2036.2749%2033.9956%2036.2749%2033.2V15.2C36.2749%2014.4043%2035.9588%2013.6412%2035.3962%2013.0786C34.8336%2012.516%2034.0706%2012.2%2033.2749%2012.2ZM13.7749%2017.9855C13.7749%2017.276%2014.4469%2016.7%2015.2749%2016.7H33.2749C34.1029%2016.7%2034.7749%2017.276%2034.7749%2017.9855V33.4145C34.7749%2034.124%2034.1029%2034.7%2033.2749%2034.7H15.2749C14.4469%2034.7%2013.7749%2034.124%2013.7749%2033.4145V17.9855Z'%20fill='%23F59E0B'/%3e%3cpath%20d='M30.2749%2022.7C30.6727%2022.7%2031.0543%2022.5419%2031.3356%2022.2606C31.6169%2021.9793%2031.7749%2021.5978%2031.7749%2021.2C31.7749%2020.8021%2031.6169%2020.4206%2031.3356%2020.1393C31.0543%2019.858%2030.6727%2019.7%2030.2749%2019.7C29.8771%2019.7%2029.4955%2019.858%2029.2142%2020.1393C28.9329%2020.4206%2028.7749%2020.8021%2028.7749%2021.2C28.7749%2021.5978%2028.9329%2021.9793%2029.2142%2022.2606C29.4955%2022.5419%2029.8771%2022.7%2030.2749%2022.7Z'%20fill='%23F59E0B'/%3e%3c/svg%3e",n6="data:image/svg+xml,%3csvg%20width='18'%20height='13'%20viewBox='0%200%2018%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%201L6%2012L1%207'%20stroke='%23059669'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",r6="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_19_115)'%3e%3cpath%20d='M10.0001%2018.3333C14.6025%2018.3333%2018.3334%2014.6023%2018.3334%209.99996C18.3334%205.39759%2014.6025%201.66663%2010.0001%201.66663C5.39771%201.66663%201.66675%205.39759%201.66675%209.99996C1.66675%2014.6023%205.39771%2018.3333%2010.0001%2018.3333Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205V10L13.3333%2011.6667'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19_115'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",i6="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%200.5C12.1421%200.5%2015.5%203.85786%2015.5%208C15.5%2012.1421%2012.1421%2015.5%208%2015.5C3.85786%2015.5%200.5%2012.1421%200.5%208C0.5%203.85786%203.85786%200.5%208%200.5Z'%20fill='%23F5F5F4'/%3e%3cpath%20d='M8%200.5C12.1421%200.5%2015.5%203.85786%2015.5%208C15.5%2012.1421%2012.1421%2015.5%208%2015.5C3.85786%2015.5%200.5%2012.1421%200.5%208C0.5%203.85786%203.85786%200.5%208%200.5Z'%20stroke='%23D6D3D1'/%3e%3c/svg%3e",s6="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5%201V8C11.5%2010.2091%209.70914%2012%207.5%2012H1'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",o6="data:image/svg+xml,%3csvg%20width='20'%20height='18'%20viewBox='0%200%2020%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%209.32H17.3462M10.8077%201L18%209.32L10.8077%2017'%20stroke='%231E40AF'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e";var y0=Object.defineProperty,a6=Object.getOwnPropertyDescriptor,l6=Object.getOwnPropertyNames,u6=Object.prototype.hasOwnProperty,vr=(t,e)=>()=>(t&&(e=t(t=0)),e),De=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ua=(t,e)=>{for(var n in e)y0(t,n,{get:e[n],enumerable:!0})},c6=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of l6(e))!u6.call(t,i)&&i!==n&&y0(t,i,{get:()=>e[i],enumerable:!(r=a6(e,i))||r.enumerable});return t},Kt=t=>c6(y0({},"__esModule",{value:!0}),t),Te=vr(()=>{}),nn={};Ua(nn,{_debugEnd:()=>Yp,_debugProcess:()=>Hp,_events:()=>om,_eventsCount:()=>am,_exiting:()=>Pp,_fatalExceptions:()=>Up,_getActiveHandles:()=>ES,_getActiveRequests:()=>wS,_kill:()=>Dp,_linkedBinding:()=>_S,_maxListeners:()=>sm,_preload_modules:()=>rm,_rawDebug:()=>kp,_startProfilerIdleNotifier:()=>qp,_stopProfilerIdleNotifier:()=>Gp,_tickCallback:()=>Vp,abort:()=>Xp,addListener:()=>lm,allowedNodeEnvironmentFlags:()=>jp,arch:()=>dp,argv:()=>gp,argv0:()=>nm,assert:()=>SS,binding:()=>wp,browser:()=>Ap,chdir:()=>Cp,config:()=>Op,cpuUsage:()=>fl,cwd:()=>Sp,debugPort:()=>tm,default:()=>_0,dlopen:()=>bS,domain:()=>Ip,emit:()=>dm,emitWarning:()=>bp,env:()=>mp,execArgv:()=>yp,execPath:()=>em,exit:()=>Fp,features:()=>$p,hasUncaughtExceptionCaptureCallback:()=>CS,hrtime:()=>cc,kill:()=>Lp,listeners:()=>AS,memoryUsage:()=>Np,moduleLoadList:()=>Tp,nextTick:()=>yS,off:()=>cm,on:()=>Fi,once:()=>um,openStdin:()=>Bp,pid:()=>Jp,platform:()=>pp,ppid:()=>Zp,prependListener:()=>pm,prependOnceListener:()=>mm,reallyExit:()=>Mp,release:()=>xp,removeAllListeners:()=>hm,removeListener:()=>fm,resourceUsage:()=>Rp,setSourceMapsEnabled:()=>im,setUncaughtExceptionCaptureCallback:()=>Wp,stderr:()=>Kp,stdin:()=>Qp,stdout:()=>zp,title:()=>hp,umask:()=>Ep,uptime:()=>xS,version:()=>vp,versions:()=>_p});function v0(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function f6(){!wo||!mo||(wo=!1,mo.length?yi=mo.concat(yi):Ml=-1,yi.length&&gS())}function gS(){if(!wo){var t=setTimeout(f6,0);wo=!0;for(var e=yi.length;e;){for(mo=yi,yi=[];++Ml<e;)mo&&mo[Ml].run();Ml=-1,e=yi.length}mo=null,wo=!1,clearTimeout(t)}}function yS(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];yi.push(new vS(t,e)),yi.length===1&&!wo&&setTimeout(gS,0)}function vS(t,e){this.fun=t,this.array=e}function Jn(){}function _S(t){v0("_linkedBinding")}function bS(t){v0("dlopen")}function wS(){return[]}function ES(){return[]}function SS(t,e){if(!t)throw new Error(e||"assertion error")}function CS(){return!1}function xS(){return Ui.now()/1e3}function cc(t){var e=Math.floor((Date.now()-Ui.now())*.001),n=Ui.now()*.001,r=Math.floor(n)+e,i=Math.floor(n%1*1e9);return t&&(r=r-t[0],i=i-t[1],i<0&&(r--,i+=fc)),[r,i]}function Fi(){return _0}function AS(t){return[]}var yi,wo,mo,Ml,hp,dp,pp,mp,gp,yp,vp,_p,bp,wp,Ep,Sp,Cp,xp,Ap,kp,Tp,Ip,Pp,Op,Mp,Dp,fl,Rp,Np,Lp,Fp,Bp,jp,$p,Up,Wp,Vp,Hp,Yp,qp,Gp,zp,Kp,Qp,Xp,Jp,Zp,em,tm,nm,rm,im,Ui,bd,fc,sm,om,am,lm,um,cm,fm,hm,dm,pm,mm,_0,h6=vr(()=>{Te(),Pe(),Ie(),yi=[],wo=!1,Ml=-1,vS.prototype.run=function(){this.fun.apply(null,this.array)},hp="browser",dp="x64",pp="browser",mp={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},gp=["/usr/bin/node"],yp=[],vp="v16.8.0",_p={},bp=function(t,e){console.warn((e?e+": ":"")+t)},wp=function(t){v0("binding")},Ep=function(t){return 0},Sp=function(){return"/"},Cp=function(t){},xp={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ap=!0,kp=Jn,Tp=[],Ip={},Pp=!1,Op={},Mp=Jn,Dp=Jn,fl=function(){return{}},Rp=fl,Np=fl,Lp=Jn,Fp=Jn,Bp=Jn,jp={},$p={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Up=Jn,Wp=Jn,Vp=Jn,Hp=Jn,Yp=Jn,qp=Jn,Gp=Jn,zp=void 0,Kp=void 0,Qp=void 0,Xp=Jn,Jp=2,Zp=1,em="/bin/usr/node",tm=9229,nm="node",rm=[],im=Jn,Ui={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ui.now===void 0&&(bd=Date.now(),Ui.timing&&Ui.timing.navigationStart&&(bd=Ui.timing.navigationStart),Ui.now=()=>Date.now()-bd),fc=1e9,cc.bigint=function(t){var e=cc(t);return typeof BigInt>"u"?e[0]*fc+e[1]:BigInt(e[0]*fc)+BigInt(e[1])},sm=10,om={},am=0,lm=Fi,um=Fi,cm=Fi,fm=Fi,hm=Fi,dm=Jn,pm=Fi,mm=Fi,_0={version:vp,versions:_p,arch:dp,platform:pp,browser:Ap,release:xp,_rawDebug:kp,moduleLoadList:Tp,binding:wp,_linkedBinding:_S,_events:om,_eventsCount:am,_maxListeners:sm,on:Fi,addListener:lm,once:um,off:cm,removeListener:fm,removeAllListeners:hm,emit:dm,prependListener:pm,prependOnceListener:mm,listeners:AS,domain:Ip,_exiting:Pp,config:Op,dlopen:bS,uptime:xS,_getActiveRequests:wS,_getActiveHandles:ES,reallyExit:Mp,_kill:Dp,cpuUsage:fl,resourceUsage:Rp,memoryUsage:Np,kill:Lp,exit:Fp,openStdin:Bp,allowedNodeEnvironmentFlags:jp,assert:SS,features:$p,_fatalExceptions:Up,setUncaughtExceptionCaptureCallback:Wp,hasUncaughtExceptionCaptureCallback:CS,emitWarning:bp,nextTick:yS,_tickCallback:Vp,_debugProcess:Hp,_debugEnd:Yp,_startProfilerIdleNotifier:qp,_stopProfilerIdleNotifier:Gp,stdout:zp,stdin:Qp,stderr:Kp,abort:Xp,umask:Ep,chdir:Cp,cwd:Sp,env:mp,title:hp,argv:gp,execArgv:yp,pid:Jp,ppid:Zp,execPath:em,debugPort:tm,hrtime:cc,argv0:nm,_preload_modules:rm,setSourceMapsEnabled:im}}),Ie=vr(()=>{h6()});function d6(){if(gm)return ta;gm=!0,ta.byteLength=a,ta.toByteArray=u,ta.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=p);var _=g===p?0:4-g%4;return[g,_]}function a(d){var p=o(d),g=p[0],_=p[1];return(g+_)*3/4-_}function l(d,p,g){return(p+g)*3/4-g}function u(d){var p,g=o(d),_=g[0],y=g[1],m=new n(l(d,_,y)),b=0,S=y>0?_-4:_,E;for(E=0;E<S;E+=4)p=e[d.charCodeAt(E)]<<18|e[d.charCodeAt(E+1)]<<12|e[d.charCodeAt(E+2)]<<6|e[d.charCodeAt(E+3)],m[b++]=p>>16&255,m[b++]=p>>8&255,m[b++]=p&255;return y===2&&(p=e[d.charCodeAt(E)]<<2|e[d.charCodeAt(E+1)]>>4,m[b++]=p&255),y===1&&(p=e[d.charCodeAt(E)]<<10|e[d.charCodeAt(E+1)]<<4|e[d.charCodeAt(E+2)]>>2,m[b++]=p>>8&255,m[b++]=p&255),m}function c(d){return t[d>>18&63]+t[d>>12&63]+t[d>>6&63]+t[d&63]}function f(d,p,g){for(var _,y=[],m=p;m<g;m+=3)_=(d[m]<<16&16711680)+(d[m+1]<<8&65280)+(d[m+2]&255),y.push(c(_));return y.join("")}function h(d){for(var p,g=d.length,_=g%3,y=[],m=16383,b=0,S=g-_;b<S;b+=m)y.push(f(d,b,b+m>S?S:b+m));return _===1?(p=d[g-1],y.push(t[p>>2]+t[p<<4&63]+"==")):_===2&&(p=(d[g-2]<<8)+d[g-1],y.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),y.join("")}return ta}function p6(){return ym?hl:(ym=!0,hl.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+t[e+f],f+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+f],f+=h,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(d?-1:1)*o*Math.pow(2,s-r)},hl.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+d]=o&255,d+=p,o/=256,u-=8);t[n+d-p]|=g*128},hl)}function m6(){if(vm)return vs;vm=!0;let t=d6(),e=p6(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vs.Buffer=o,vs.SlowBuffer=y,vs.INSPECT_MAX_BYTES=50;let r=2147483647;vs.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let w=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(w,A),w.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(w){if(w>r)throw new RangeError('The value "'+w+'" is invalid for option "size"');let A=new Uint8Array(w);return Object.setPrototypeOf(A,o.prototype),A}function o(w,A,F){if(typeof w=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(w)}return a(w,A,F)}o.poolSize=8192;function a(w,A,F){if(typeof w=="string")return f(w,A);if(ArrayBuffer.isView(w))return d(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(U(w,ArrayBuffer)||w&&U(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(w,SharedArrayBuffer)||w&&U(w.buffer,SharedArrayBuffer)))return p(w,A,F);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let de=w.valueOf&&w.valueOf();if(de!=null&&de!==w)return o.from(de,A,F);let _e=g(w);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return o.from(w[Symbol.toPrimitive]("string"),A,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}o.from=function(w,A,F){return a(w,A,F)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function u(w,A,F){return l(w),w<=0?s(w):A!==void 0?typeof F=="string"?s(w).fill(A,F):s(w).fill(A):s(w)}o.alloc=function(w,A,F){return u(w,A,F)};function c(w){return l(w),s(w<0?0:_(w)|0)}o.allocUnsafe=function(w){return c(w)},o.allocUnsafeSlow=function(w){return c(w)};function f(w,A){if((typeof A!="string"||A==="")&&(A="utf8"),!o.isEncoding(A))throw new TypeError("Unknown encoding: "+A);let F=m(w,A)|0,de=s(F),_e=de.write(w,A);return _e!==F&&(de=de.slice(0,_e)),de}function h(w){let A=w.length<0?0:_(w.length)|0,F=s(A);for(let de=0;de<A;de+=1)F[de]=w[de]&255;return F}function d(w){if(U(w,Uint8Array)){let A=new Uint8Array(w);return p(A.buffer,A.byteOffset,A.byteLength)}return h(w)}function p(w,A,F){if(A<0||w.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<A+(F||0))throw new RangeError('"length" is outside of buffer bounds');let de;return A===void 0&&F===void 0?de=new Uint8Array(w):F===void 0?de=new Uint8Array(w,A):de=new Uint8Array(w,A,F),Object.setPrototypeOf(de,o.prototype),de}function g(w){if(o.isBuffer(w)){let A=_(w.length)|0,F=s(A);return F.length===0||w.copy(F,0,0,A),F}if(w.length!==void 0)return typeof w.length!="number"||Q(w.length)?s(0):h(w);if(w.type==="Buffer"&&Array.isArray(w.data))return h(w.data)}function _(w){if(w>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return w|0}function y(w){return+w!=w&&(w=0),o.alloc(+w)}o.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==o.prototype},o.compare=function(w,A){if(U(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),U(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),!o.isBuffer(w)||!o.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===A)return 0;let F=w.length,de=A.length;for(let _e=0,xe=Math.min(F,de);_e<xe;++_e)if(w[_e]!==A[_e]){F=w[_e],de=A[_e];break}return F<de?-1:de<F?1:0},o.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(w,A){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return o.alloc(0);let F;if(A===void 0)for(A=0,F=0;F<w.length;++F)A+=w[F].length;let de=o.allocUnsafe(A),_e=0;for(F=0;F<w.length;++F){let xe=w[F];if(U(xe,Uint8Array))_e+xe.length>de.length?(o.isBuffer(xe)||(xe=o.from(xe)),xe.copy(de,_e)):Uint8Array.prototype.set.call(de,xe,_e);else if(o.isBuffer(xe))xe.copy(de,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=xe.length}return de};function m(w,A){if(o.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||U(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);let F=w.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&F===0)return 0;let _e=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return M(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return z(w).length;default:if(_e)return de?-1:M(w).length;A=(""+A).toLowerCase(),_e=!0}}o.byteLength=m;function b(w,A,F){let de=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,A>>>=0,F<=A))return"";for(w||(w="utf8");;)switch(w){case"hex":return re(this,A,F);case"utf8":case"utf-8":return ee(this,A,F);case"ascii":return fe(this,A,F);case"latin1":case"binary":return q(this,A,F);case"base64":return D(this,A,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,A,F);default:if(de)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),de=!0}}o.prototype._isBuffer=!0;function S(w,A,F){let de=w[A];w[A]=w[F],w[F]=de}o.prototype.swap16=function(){let w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<w;A+=2)S(this,A,A+1);return this},o.prototype.swap32=function(){let w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<w;A+=4)S(this,A,A+3),S(this,A+1,A+2);return this},o.prototype.swap64=function(){let w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<w;A+=8)S(this,A,A+7),S(this,A+1,A+6),S(this,A+2,A+5),S(this,A+3,A+4);return this},o.prototype.toString=function(){let w=this.length;return w===0?"":arguments.length===0?ee(this,0,w):b.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(w){if(!o.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:o.compare(this,w)===0},o.prototype.inspect=function(){let w="",A=vs.INSPECT_MAX_BYTES;return w=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(w+=" ... "),"<Buffer "+w+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(w,A,F,de,_e){if(U(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),!o.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(A===void 0&&(A=0),F===void 0&&(F=w?w.length:0),de===void 0&&(de=0),_e===void 0&&(_e=this.length),A<0||F>w.length||de<0||_e>this.length)throw new RangeError("out of range index");if(de>=_e&&A>=F)return 0;if(de>=_e)return-1;if(A>=F)return 1;if(A>>>=0,F>>>=0,de>>>=0,_e>>>=0,this===w)return 0;let xe=_e-de,Re=F-A,ye=Math.min(xe,Re),Ce=this.slice(de,_e),Ue=w.slice(A,F);for(let He=0;He<ye;++He)if(Ce[He]!==Ue[He]){xe=Ce[He],Re=Ue[He];break}return xe<Re?-1:Re<xe?1:0};function E(w,A,F,de,_e){if(w.length===0)return-1;if(typeof F=="string"?(de=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Q(F)&&(F=_e?0:w.length-1),F<0&&(F=w.length+F),F>=w.length){if(_e)return-1;F=w.length-1}else if(F<0)if(_e)F=0;else return-1;if(typeof A=="string"&&(A=o.from(A,de)),o.isBuffer(A))return A.length===0?-1:x(w,A,F,de,_e);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(w,A,F):Uint8Array.prototype.lastIndexOf.call(w,A,F):x(w,[A],F,de,_e);throw new TypeError("val must be string, number or Buffer")}function x(w,A,F,de,_e){let xe=1,Re=w.length,ye=A.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(w.length<2||A.length<2)return-1;xe=2,Re/=2,ye/=2,F/=2}function Ce(He,tt){return xe===1?He[tt]:He.readUInt16BE(tt*xe)}let Ue;if(_e){let He=-1;for(Ue=F;Ue<Re;Ue++)if(Ce(w,Ue)===Ce(A,He===-1?0:Ue-He)){if(He===-1&&(He=Ue),Ue-He+1===ye)return He*xe}else He!==-1&&(Ue-=Ue-He),He=-1}else for(F+ye>Re&&(F=Re-ye),Ue=F;Ue>=0;Ue--){let He=!0;for(let tt=0;tt<ye;tt++)if(Ce(w,Ue+tt)!==Ce(A,tt)){He=!1;break}if(He)return Ue}return-1}o.prototype.includes=function(w,A,F){return this.indexOf(w,A,F)!==-1},o.prototype.indexOf=function(w,A,F){return E(this,w,A,F,!0)},o.prototype.lastIndexOf=function(w,A,F){return E(this,w,A,F,!1)};function C(w,A,F,de){F=Number(F)||0;let _e=w.length-F;de?(de=Number(de),de>_e&&(de=_e)):de=_e;let xe=A.length;de>xe/2&&(de=xe/2);let Re;for(Re=0;Re<de;++Re){let ye=parseInt(A.substr(Re*2,2),16);if(Q(ye))return Re;w[F+Re]=ye}return Re}function k(w,A,F,de){return W(M(A,w.length-F),w,F,de)}function R(w,A,F,de){return W(V(A),w,F,de)}function j(w,A,F,de){return W(z(A),w,F,de)}function K(w,A,F,de){return W(O(A,w.length-F),w,F,de)}o.prototype.write=function(w,A,F,de){if(A===void 0)de="utf8",F=this.length,A=0;else if(F===void 0&&typeof A=="string")de=A,F=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(F)?(F=F>>>0,de===void 0&&(de="utf8")):(de=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let _e=this.length-A;if((F===void 0||F>_e)&&(F=_e),w.length>0&&(F<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let xe=!1;for(;;)switch(de){case"hex":return C(this,w,A,F);case"utf8":case"utf-8":return k(this,w,A,F);case"ascii":case"latin1":case"binary":return R(this,w,A,F);case"base64":return j(this,w,A,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,w,A,F);default:if(xe)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),xe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(w,A,F){return A===0&&F===w.length?t.fromByteArray(w):t.fromByteArray(w.slice(A,F))}function ee(w,A,F){F=Math.min(w.length,F);let de=[],_e=A;for(;_e<F;){let xe=w[_e],Re=null,ye=xe>239?4:xe>223?3:xe>191?2:1;if(_e+ye<=F){let Ce,Ue,He,tt;switch(ye){case 1:xe<128&&(Re=xe);break;case 2:Ce=w[_e+1],(Ce&192)===128&&(tt=(xe&31)<<6|Ce&63,tt>127&&(Re=tt));break;case 3:Ce=w[_e+1],Ue=w[_e+2],(Ce&192)===128&&(Ue&192)===128&&(tt=(xe&15)<<12|(Ce&63)<<6|Ue&63,tt>2047&&(tt<55296||tt>57343)&&(Re=tt));break;case 4:Ce=w[_e+1],Ue=w[_e+2],He=w[_e+3],(Ce&192)===128&&(Ue&192)===128&&(He&192)===128&&(tt=(xe&15)<<18|(Ce&63)<<12|(Ue&63)<<6|He&63,tt>65535&&tt<1114112&&(Re=tt))}}Re===null?(Re=65533,ye=1):Re>65535&&(Re-=65536,de.push(Re>>>10&1023|55296),Re=56320|Re&1023),de.push(Re),_e+=ye}return Z(de)}let te=4096;function Z(w){let A=w.length;if(A<=te)return String.fromCharCode.apply(String,w);let F="",de=0;for(;de<A;)F+=String.fromCharCode.apply(String,w.slice(de,de+=te));return F}function fe(w,A,F){let de="";F=Math.min(w.length,F);for(let _e=A;_e<F;++_e)de+=String.fromCharCode(w[_e]&127);return de}function q(w,A,F){let de="";F=Math.min(w.length,F);for(let _e=A;_e<F;++_e)de+=String.fromCharCode(w[_e]);return de}function re(w,A,F){let de=w.length;(!A||A<0)&&(A=0),(!F||F<0||F>de)&&(F=de);let _e="";for(let xe=A;xe<F;++xe)_e+=he[w[xe]];return _e}function me(w,A,F){let de=w.slice(A,F),_e="";for(let xe=0;xe<de.length-1;xe+=2)_e+=String.fromCharCode(de[xe]+de[xe+1]*256);return _e}o.prototype.slice=function(w,A){let F=this.length;w=~~w,A=A===void 0?F:~~A,w<0?(w+=F,w<0&&(w=0)):w>F&&(w=F),A<0?(A+=F,A<0&&(A=0)):A>F&&(A=F),A<w&&(A=w);let de=this.subarray(w,A);return Object.setPrototypeOf(de,o.prototype),de};function ie(w,A,F){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+A>F)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(w,A,F){w=w>>>0,A=A>>>0,F||ie(w,A,this.length);let de=this[w],_e=1,xe=0;for(;++xe<A&&(_e*=256);)de+=this[w+xe]*_e;return de},o.prototype.readUintBE=o.prototype.readUIntBE=function(w,A,F){w=w>>>0,A=A>>>0,F||ie(w,A,this.length);let de=this[w+--A],_e=1;for(;A>0&&(_e*=256);)de+=this[w+--A]*_e;return de},o.prototype.readUint8=o.prototype.readUInt8=function(w,A){return w=w>>>0,A||ie(w,1,this.length),this[w]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(w,A){return w=w>>>0,A||ie(w,2,this.length),this[w]|this[w+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(w,A){return w=w>>>0,A||ie(w,2,this.length),this[w]<<8|this[w+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},o.prototype.readBigUInt64LE=le(function(w){w=w>>>0,P(w,"offset");let A=this[w],F=this[w+7];(A===void 0||F===void 0)&&I(w,this.length-8);let de=A+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,_e=this[++w]+this[++w]*2**8+this[++w]*2**16+F*2**24;return BigInt(de)+(BigInt(_e)<<BigInt(32))}),o.prototype.readBigUInt64BE=le(function(w){w=w>>>0,P(w,"offset");let A=this[w],F=this[w+7];(A===void 0||F===void 0)&&I(w,this.length-8);let de=A*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],_e=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+F;return(BigInt(de)<<BigInt(32))+BigInt(_e)}),o.prototype.readIntLE=function(w,A,F){w=w>>>0,A=A>>>0,F||ie(w,A,this.length);let de=this[w],_e=1,xe=0;for(;++xe<A&&(_e*=256);)de+=this[w+xe]*_e;return _e*=128,de>=_e&&(de-=Math.pow(2,8*A)),de},o.prototype.readIntBE=function(w,A,F){w=w>>>0,A=A>>>0,F||ie(w,A,this.length);let de=A,_e=1,xe=this[w+--de];for(;de>0&&(_e*=256);)xe+=this[w+--de]*_e;return _e*=128,xe>=_e&&(xe-=Math.pow(2,8*A)),xe},o.prototype.readInt8=function(w,A){return w=w>>>0,A||ie(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},o.prototype.readInt16LE=function(w,A){w=w>>>0,A||ie(w,2,this.length);let F=this[w]|this[w+1]<<8;return F&32768?F|4294901760:F},o.prototype.readInt16BE=function(w,A){w=w>>>0,A||ie(w,2,this.length);let F=this[w+1]|this[w]<<8;return F&32768?F|4294901760:F},o.prototype.readInt32LE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},o.prototype.readInt32BE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},o.prototype.readBigInt64LE=le(function(w){w=w>>>0,P(w,"offset");let A=this[w],F=this[w+7];(A===void 0||F===void 0)&&I(w,this.length-8);let de=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(F<<24);return(BigInt(de)<<BigInt(32))+BigInt(A+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),o.prototype.readBigInt64BE=le(function(w){w=w>>>0,P(w,"offset");let A=this[w],F=this[w+7];(A===void 0||F===void 0)&&I(w,this.length-8);let de=(A<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(de)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+F)}),o.prototype.readFloatLE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),e.read(this,w,!0,23,4)},o.prototype.readFloatBE=function(w,A){return w=w>>>0,A||ie(w,4,this.length),e.read(this,w,!1,23,4)},o.prototype.readDoubleLE=function(w,A){return w=w>>>0,A||ie(w,8,this.length),e.read(this,w,!0,52,8)},o.prototype.readDoubleBE=function(w,A){return w=w>>>0,A||ie(w,8,this.length),e.read(this,w,!1,52,8)};function X(w,A,F,de,_e,xe){if(!o.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>_e||A<xe)throw new RangeError('"value" argument is out of bounds');if(F+de>w.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(w,A,F,de){if(w=+w,A=A>>>0,F=F>>>0,!de){let Re=Math.pow(2,8*F)-1;X(this,w,A,F,Re,0)}let _e=1,xe=0;for(this[A]=w&255;++xe<F&&(_e*=256);)this[A+xe]=w/_e&255;return A+F},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(w,A,F,de){if(w=+w,A=A>>>0,F=F>>>0,!de){let Re=Math.pow(2,8*F)-1;X(this,w,A,F,Re,0)}let _e=F-1,xe=1;for(this[A+_e]=w&255;--_e>=0&&(xe*=256);)this[A+_e]=w/xe&255;return A+F},o.prototype.writeUint8=o.prototype.writeUInt8=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,1,255,0),this[A]=w&255,A+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,2,65535,0),this[A]=w&255,this[A+1]=w>>>8,A+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,2,65535,0),this[A]=w>>>8,this[A+1]=w&255,A+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,4,4294967295,0),this[A+3]=w>>>24,this[A+2]=w>>>16,this[A+1]=w>>>8,this[A]=w&255,A+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,4,4294967295,0),this[A]=w>>>24,this[A+1]=w>>>16,this[A+2]=w>>>8,this[A+3]=w&255,A+4};function ne(w,A,F,de,_e){Y(A,de,_e,w,F,7);let xe=Number(A&BigInt(4294967295));w[F++]=xe,xe=xe>>8,w[F++]=xe,xe=xe>>8,w[F++]=xe,xe=xe>>8,w[F++]=xe;let Re=Number(A>>BigInt(32)&BigInt(4294967295));return w[F++]=Re,Re=Re>>8,w[F++]=Re,Re=Re>>8,w[F++]=Re,Re=Re>>8,w[F++]=Re,F}function pe(w,A,F,de,_e){Y(A,de,_e,w,F,7);let xe=Number(A&BigInt(4294967295));w[F+7]=xe,xe=xe>>8,w[F+6]=xe,xe=xe>>8,w[F+5]=xe,xe=xe>>8,w[F+4]=xe;let Re=Number(A>>BigInt(32)&BigInt(4294967295));return w[F+3]=Re,Re=Re>>8,w[F+2]=Re,Re=Re>>8,w[F+1]=Re,Re=Re>>8,w[F]=Re,F+8}o.prototype.writeBigUInt64LE=le(function(w,A=0){return ne(this,w,A,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=le(function(w,A=0){return pe(this,w,A,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(w,A,F,de){if(w=+w,A=A>>>0,!de){let ye=Math.pow(2,8*F-1);X(this,w,A,F,ye-1,-ye)}let _e=0,xe=1,Re=0;for(this[A]=w&255;++_e<F&&(xe*=256);)w<0&&Re===0&&this[A+_e-1]!==0&&(Re=1),this[A+_e]=(w/xe>>0)-Re&255;return A+F},o.prototype.writeIntBE=function(w,A,F,de){if(w=+w,A=A>>>0,!de){let ye=Math.pow(2,8*F-1);X(this,w,A,F,ye-1,-ye)}let _e=F-1,xe=1,Re=0;for(this[A+_e]=w&255;--_e>=0&&(xe*=256);)w<0&&Re===0&&this[A+_e+1]!==0&&(Re=1),this[A+_e]=(w/xe>>0)-Re&255;return A+F},o.prototype.writeInt8=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,1,127,-128),w<0&&(w=255+w+1),this[A]=w&255,A+1},o.prototype.writeInt16LE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,2,32767,-32768),this[A]=w&255,this[A+1]=w>>>8,A+2},o.prototype.writeInt16BE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,2,32767,-32768),this[A]=w>>>8,this[A+1]=w&255,A+2},o.prototype.writeInt32LE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,4,2147483647,-2147483648),this[A]=w&255,this[A+1]=w>>>8,this[A+2]=w>>>16,this[A+3]=w>>>24,A+4},o.prototype.writeInt32BE=function(w,A,F){return w=+w,A=A>>>0,F||X(this,w,A,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[A]=w>>>24,this[A+1]=w>>>16,this[A+2]=w>>>8,this[A+3]=w&255,A+4},o.prototype.writeBigInt64LE=le(function(w,A=0){return ne(this,w,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=le(function(w,A=0){return pe(this,w,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(w,A,F,de,_e,xe){if(F+de>w.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function ge(w,A,F,de,_e){return A=+A,F=F>>>0,_e||ve(w,A,F,4),e.write(w,A,F,de,23,4),F+4}o.prototype.writeFloatLE=function(w,A,F){return ge(this,w,A,!0,F)},o.prototype.writeFloatBE=function(w,A,F){return ge(this,w,A,!1,F)};function Ee(w,A,F,de,_e){return A=+A,F=F>>>0,_e||ve(w,A,F,8),e.write(w,A,F,de,52,8),F+8}o.prototype.writeDoubleLE=function(w,A,F){return Ee(this,w,A,!0,F)},o.prototype.writeDoubleBE=function(w,A,F){return Ee(this,w,A,!1,F)},o.prototype.copy=function(w,A,F,de){if(!o.isBuffer(w))throw new TypeError("argument should be a Buffer");if(F||(F=0),!de&&de!==0&&(de=this.length),A>=w.length&&(A=w.length),A||(A=0),de>0&&de<F&&(de=F),de===F||w.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),w.length-A<de-F&&(de=w.length-A+F);let _e=de-F;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,F,de):Uint8Array.prototype.set.call(w,this.subarray(F,de),A),_e},o.prototype.fill=function(w,A,F,de){if(typeof w=="string"){if(typeof A=="string"?(de=A,A=0,F=this.length):typeof F=="string"&&(de=F,F=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!o.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(w.length===1){let xe=w.charCodeAt(0);(de==="utf8"&&xe<128||de==="latin1")&&(w=xe)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(A<0||this.length<A||this.length<F)throw new RangeError("Out of range index");if(F<=A)return this;A=A>>>0,F=F===void 0?this.length:F>>>0,w||(w=0);let _e;if(typeof w=="number")for(_e=A;_e<F;++_e)this[_e]=w;else{let xe=o.isBuffer(w)?w:o.from(w,de),Re=xe.length;if(Re===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(_e=0;_e<F-A;++_e)this[_e+A]=xe[_e%Re]}return this};let J={};function G(w,A,F){J[w]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(w,A){return`The "${w}" argument must be of type number. Received type ${typeof A}`},TypeError),G("ERR_OUT_OF_RANGE",function(w,A,F){let de=`The value of "${w}" is out of range.`,_e=F;return Number.isInteger(F)&&Math.abs(F)>2**32?_e=oe(String(F)):typeof F=="bigint"&&(_e=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(_e=oe(_e)),_e+="n"),de+=` It must be ${A}. Received ${_e}`,de},RangeError);function oe(w){let A="",F=w.length,de=w[0]==="-"?1:0;for(;F>=de+4;F-=3)A=`_${w.slice(F-3,F)}${A}`;return`${w.slice(0,F)}${A}`}function L(w,A,F){P(A,"offset"),(w[A]===void 0||w[A+F]===void 0)&&I(A,w.length-(F+1))}function Y(w,A,F,de,_e,xe){if(w>F||w<A){let Re=typeof A=="bigint"?"n":"",ye;throw A===0||A===BigInt(0)?ye=`>= 0${Re} and < 2${Re} ** ${(xe+1)*8}${Re}`:ye=`>= -(2${Re} ** ${(xe+1)*8-1}${Re}) and < 2 ** ${(xe+1)*8-1}${Re}`,new J.ERR_OUT_OF_RANGE("value",ye,w)}L(de,_e,xe)}function P(w,A){if(typeof w!="number")throw new J.ERR_INVALID_ARG_TYPE(A,"number",w)}function I(w,A,F){throw Math.floor(w)!==w?(P(w,F),new J.ERR_OUT_OF_RANGE("offset","an integer",w)):A<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,w)}let B=/[^+/0-9A-Za-z-_]/g;function N(w){if(w=w.split("=")[0],w=w.trim().replace(B,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function M(w,A){A=A||1/0;let F,de=w.length,_e=null,xe=[];for(let Re=0;Re<de;++Re){if(F=w.charCodeAt(Re),F>55295&&F<57344){if(!_e){if(F>56319){(A-=3)>-1&&xe.push(239,191,189);continue}else if(Re+1===de){(A-=3)>-1&&xe.push(239,191,189);continue}_e=F;continue}if(F<56320){(A-=3)>-1&&xe.push(239,191,189),_e=F;continue}F=(_e-55296<<10|F-56320)+65536}else _e&&(A-=3)>-1&&xe.push(239,191,189);if(_e=null,F<128){if((A-=1)<0)break;xe.push(F)}else if(F<2048){if((A-=2)<0)break;xe.push(F>>6|192,F&63|128)}else if(F<65536){if((A-=3)<0)break;xe.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((A-=4)<0)break;xe.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return xe}function V(w){let A=[];for(let F=0;F<w.length;++F)A.push(w.charCodeAt(F)&255);return A}function O(w,A){let F,de,_e,xe=[];for(let Re=0;Re<w.length&&!((A-=2)<0);++Re)F=w.charCodeAt(Re),de=F>>8,_e=F%256,xe.push(_e),xe.push(de);return xe}function z(w){return t.toByteArray(N(w))}function W(w,A,F,de){let _e;for(_e=0;_e<de&&!(_e+F>=A.length||_e>=w.length);++_e)A[_e+F]=w[_e];return _e}function U(w,A){return w instanceof A||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===A.name}function Q(w){return w!==w}let he=(function(){let w="0123456789abcdef",A=new Array(256);for(let F=0;F<16;++F){let de=F*16;for(let _e=0;_e<16;++_e)A[de+_e]=w[F]+w[_e]}return A})();function le(w){return typeof BigInt>"u"?Oe:w}function Oe(){throw new Error("BigInt not supported")}return vs}var ta,gm,hl,ym,vs,vm,g6=vr(()=>{Te(),Pe(),Ie(),ta={},gm=!1,hl={},ym=!1,vs={},vm=!1}),Vn={};Ua(Vn,{Buffer:()=>hf,INSPECT_MAX_BYTES:()=>kS,default:()=>Bi,kMaxLength:()=>TS});var Bi,hf,kS,TS,Hn=vr(()=>{Te(),Pe(),Ie(),g6(),Bi=m6(),Bi.Buffer,Bi.SlowBuffer,Bi.INSPECT_MAX_BYTES,Bi.kMaxLength,hf=Bi.Buffer,kS=Bi.INSPECT_MAX_BYTES,TS=Bi.kMaxLength}),Pe=vr(()=>{Hn()}),hn=De((t,e)=>{Te(),Pe(),Ie();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let s=0;s<r.length;s++)i+=`    ${r[s].stack}
`;super(i),this.name="AggregateError",this.errors=r}};e.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,i){return r.includes(i)},ArrayPrototypeIndexOf(r,i){return r.indexOf(i)},ArrayPrototypeJoin(r,i){return r.join(i)},ArrayPrototypeMap(r,i){return r.map(i)},ArrayPrototypePop(r,i){return r.pop(i)},ArrayPrototypePush(r,i){return r.push(i)},ArrayPrototypeSlice(r,i,s){return r.slice(i,s)},Error,FunctionPrototypeCall(r,i,...s){return r.call(i,...s)},FunctionPrototypeSymbolHasInstance(r,i){return Function.prototype[Symbol.hasInstance].call(r,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,i){return Object.defineProperties(r,i)},ObjectDefineProperty(r,i,s){return Object.defineProperty(r,i,s)},ObjectGetOwnPropertyDescriptor(r,i){return Object.getOwnPropertyDescriptor(r,i)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,i){return Object.setPrototypeOf(r,i)},Promise,PromisePrototypeCatch(r,i){return r.catch(i)},PromisePrototypeThen(r,i,s){return r.then(i,s)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,i){return r.test(i)},SafeSet:Set,String,StringPrototypeSlice(r,i,s){return r.slice(i,s)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,i,s){return r.set(i,s)},Boolean,Uint8Array}}),IS=De((t,e)=>{Te(),Pe(),Ie(),e.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[i,s]){let o=r.shift();return s==="f"?o.toFixed(6):s==="j"?JSON.stringify(o):s==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),mr=De((t,e)=>{Te(),Pe(),Ie();var{format:n,inspect:r}=IS(),{AggregateError:i}=hn(),s=globalThis.AggregateError||i,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function f(m,b){if(!m)throw new c.ERR_INTERNAL_ASSERTION(b)}function h(m){let b="",S=m.length,E=m[0]==="-"?1:0;for(;S>=E+4;S-=3)b=`_${m.slice(S-3,S)}${b}`;return`${m.slice(0,S)}${b}`}function d(m,b,S){if(typeof b=="function")return f(b.length<=S.length,`Code: ${m}; The provided arguments length (${S.length}) does not match the required ones (${b.length}).`),b(...S);let E=(b.match(/%[dfijoOs]/g)||[]).length;return f(E===S.length,`Code: ${m}; The provided arguments length (${S.length}) does not match the required ones (${E}).`),S.length===0?b:n(b,...S)}function p(m,b,S){S||(S=Error);class E extends S{constructor(...C){super(d(m,b,C))}toString(){return`${this.name} [${m}]: ${this.message}`}}Object.defineProperties(E.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${m}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),E.prototype.code=m,E.prototype[o]=!0,c[m]=E}function g(m){let b=u+m.name;return Object.defineProperty(m,"name",{value:b}),m}function _(m,b){if(m&&b&&m!==b){if(Array.isArray(b.errors))return b.errors.push(m),b;let S=new s([b,m],b.message);return S.code=b.code,S}return m||b}var y=class extends Error{constructor(m="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",b);super(m,b),this.code="ABORT_ERR",this.name="AbortError"}};p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(m,b,S)=>{f(typeof m=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let E="The ";m.endsWith(" argument")?E+=`${m} `:E+=`"${m}" ${m.includes(".")?"property":"argument"} `,E+="must be ";let x=[],C=[],k=[];for(let j of b)f(typeof j=="string","All expected entries have to be of type string"),a.includes(j)?x.push(j.toLowerCase()):l.test(j)?C.push(j):(f(j!=="object",'The value "object" should be written as "Object"'),k.push(j));if(C.length>0){let j=x.indexOf("object");j!==-1&&(x.splice(x,j,1),C.push("Object"))}if(x.length>0){switch(x.length){case 1:E+=`of type ${x[0]}`;break;case 2:E+=`one of type ${x[0]} or ${x[1]}`;break;default:{let j=x.pop();E+=`one of type ${x.join(", ")}, or ${j}`}}(C.length>0||k.length>0)&&(E+=" or ")}if(C.length>0){switch(C.length){case 1:E+=`an instance of ${C[0]}`;break;case 2:E+=`an instance of ${C[0]} or ${C[1]}`;break;default:{let j=C.pop();E+=`an instance of ${C.join(", ")}, or ${j}`}}k.length>0&&(E+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(E+="an "),E+=`${k[0]}`;break;case 2:E+=`one of ${k[0]} or ${k[1]}`;break;default:{let j=k.pop();E+=`one of ${k.join(", ")}, or ${j}`}}if(S==null)E+=`. Received ${S}`;else if(typeof S=="function"&&S.name)E+=`. Received function ${S.name}`;else if(typeof S=="object"){var R;if((R=S.constructor)!==null&&R!==void 0&&R.name)E+=`. Received an instance of ${S.constructor.name}`;else{let j=r(S,{depth:-1});E+=`. Received ${j}`}}else{let j=r(S,{colors:!1});j.length>25&&(j=`${j.slice(0,25)}...`),E+=`. Received type ${typeof S} (${j})`}return E},TypeError),p("ERR_INVALID_ARG_VALUE",(m,b,S="is invalid")=>{let E=r(b);return E.length>128&&(E=E.slice(0,128)+"..."),`The ${m.includes(".")?"property":"argument"} '${m}' ${S}. Received ${E}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(m,b,S)=>{var E;let x=S!=null&&(E=S.constructor)!==null&&E!==void 0&&E.name?`instance of ${S.constructor.name}`:`type ${typeof S}`;return`Expected ${m} to be returned from the "${b}" function but got ${x}.`},TypeError),p("ERR_MISSING_ARGS",(...m)=>{f(m.length>0,"At least one arg needs to be specified");let b,S=m.length;switch(m=(Array.isArray(m)?m:[m]).map(E=>`"${E}"`).join(" or "),S){case 1:b+=`The ${m[0]} argument`;break;case 2:b+=`The ${m[0]} and ${m[1]} arguments`;break;default:{let E=m.pop();b+=`The ${m.join(", ")}, and ${E} arguments`}break}return`${b} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(m,b,S)=>{f(b,'Missing "range" argument');let E;if(Number.isInteger(S)&&Math.abs(S)>2**32)E=h(String(S));else if(typeof S=="bigint"){E=String(S);let x=BigInt(2)**BigInt(32);(S>x||S<-x)&&(E=h(E)),E+="n"}else E=r(S);return`The value of "${m}" is out of range. It must be ${b}. Received ${E}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:g(_),hideStackFrames:g,codes:c}}),iu=De((t,e)=>{Te(),Pe(),Ie();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=n,e.exports.AbortSignal=r,e.exports.default=n}),Ws={};Ua(Ws,{EventEmitter:()=>PS,default:()=>na,defaultMaxListeners:()=>OS,init:()=>MS,listenerCount:()=>DS,on:()=>RS,once:()=>NS});function y6(){if(_m)return dl;_m=!0;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,E,x){return Function.prototype.apply.call(S,E,x)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(S){return S!==S};function s(){s.init.call(this)}dl=s,dl.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(S){return S._maxListeners===void 0?s.defaultMaxListeners:S._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(S){for(var E=[],x=1;x<arguments.length;x++)E.push(arguments[x]);var C=S==="error",k=this._events;if(k!==void 0)C=C&&k.error===void 0;else if(!C)return!1;if(C){var R;if(E.length>0&&(R=E[0]),R instanceof Error)throw R;var j=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw j.context=R,j}var K=k[S];if(K===void 0)return!1;if(typeof K=="function")e(K,this,E);else for(var D=K.length,ee=p(K,D),x=0;x<D;++x)e(ee[x],this,E);return!0};function u(S,E,x,C){var k,R,j;if(a(x),R=S._events,R===void 0?(R=S._events=Object.create(null),S._eventsCount=0):(R.newListener!==void 0&&(S.emit("newListener",E,x.listener?x.listener:x),R=S._events),j=R[E]),j===void 0)j=R[E]=x,++S._eventsCount;else if(typeof j=="function"?j=R[E]=C?[x,j]:[j,x]:C?j.unshift(x):j.push(x),k=l(S),k>0&&j.length>k&&!j.warned){j.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=S,K.type=E,K.count=j.length,r(K)}return S}s.prototype.addListener=function(S,E){return u(this,S,E,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(S,E){return u(this,S,E,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,E,x){var C={fired:!1,wrapFn:void 0,target:S,type:E,listener:x},k=c.bind(C);return k.listener=x,C.wrapFn=k,k}s.prototype.once=function(S,E){return a(E),this.on(S,f(this,S,E)),this},s.prototype.prependOnceListener=function(S,E){return a(E),this.prependListener(S,f(this,S,E)),this},s.prototype.removeListener=function(S,E){var x,C,k,R,j;if(a(E),C=this._events,C===void 0)return this;if(x=C[S],x===void 0)return this;if(x===E||x.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete C[S],C.removeListener&&this.emit("removeListener",S,x.listener||E));else if(typeof x!="function"){for(k=-1,R=x.length-1;R>=0;R--)if(x[R]===E||x[R].listener===E){j=x[R].listener,k=R;break}if(k<0)return this;k===0?x.shift():g(x,k),x.length===1&&(C[S]=x[0]),C.removeListener!==void 0&&this.emit("removeListener",S,j||E)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(S){var E,x,C;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[S]),this;if(arguments.length===0){var k=Object.keys(x),R;for(C=0;C<k.length;++C)R=k[C],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=x[S],typeof E=="function")this.removeListener(S,E);else if(E!==void 0)for(C=E.length-1;C>=0;C--)this.removeListener(S,E[C]);return this};function h(S,E,x){var C=S._events;if(C===void 0)return[];var k=C[E];return k===void 0?[]:typeof k=="function"?x?[k.listener||k]:[k]:x?_(k):p(k,k.length)}s.prototype.listeners=function(S){return h(this,S,!0)},s.prototype.rawListeners=function(S){return h(this,S,!1)},s.listenerCount=function(S,E){return typeof S.listenerCount=="function"?S.listenerCount(E):d.call(S,E)},s.prototype.listenerCount=d;function d(S){var E=this._events;if(E!==void 0){var x=E[S];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(S,E){for(var x=new Array(E),C=0;C<E;++C)x[C]=S[C];return x}function g(S,E){for(;E+1<S.length;E++)S[E]=S[E+1];S.pop()}function _(S){for(var E=new Array(S.length),x=0;x<E.length;++x)E[x]=S[x].listener||S[x];return E}function y(S,E){return new Promise(function(x,C){function k(j){S.removeListener(E,R),C(j)}function R(){typeof S.removeListener=="function"&&S.removeListener("error",k),x([].slice.call(arguments))}b(S,E,R,{once:!0}),E!=="error"&&m(S,k,{once:!0})})}function m(S,E,x){typeof S.on=="function"&&b(S,"error",E,x)}function b(S,E,x,C){if(typeof S.on=="function")C.once?S.once(E,x):S.on(E,x);else if(typeof S.addEventListener=="function")S.addEventListener(E,function k(R){C.once&&S.removeEventListener(E,k),x(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return dl}var dl,_m,na,PS,OS,MS,DS,RS,NS,Mo=vr(()=>{Te(),Pe(),Ie(),dl={},_m=!1,na=y6(),na.once,na.once=function(t,e){return new Promise((n,r)=>{function i(...o){s!==void 0&&t.removeListener("error",s),n(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,i),r(o)},t.once("error",s)),t.once(e,i)})},na.on=function(t,e){let n=[],r=[],i=null,s=!1,o={async next(){let u=n.shift();if(u)return createIterResult(u,!1);if(i){let c=Promise.reject(i);return i=null,c}return s?createIterResult(void 0,!0):new Promise((c,f)=>r.push({resolve:c,reject:f}))},async return(){t.removeListener(e,a),t.removeListener("error",l),s=!0;for(let u of r)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,t.removeListener(e,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),o;function a(...u){let c=r.shift();c?c.resolve(createIterResult(u,!1)):n.push(u)}function l(u){s=!0;let c=r.shift();c?c.reject(u):i=u,o.return()}},{EventEmitter:PS,defaultMaxListeners:OS,init:MS,listenerCount:DS,on:RS,once:NS}=na}),yr=De((t,e)=>{Te(),Pe(),Ie();var n=(Hn(),Kt(Vn)),{format:r,inspect:i}=IS(),{codes:{ERR_INVALID_ARG_TYPE:s}}=mr(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:l}=hn(),u=globalThis.AbortSignal||iu().AbortSignal,c=globalThis.AbortController||iu().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||n.Blob,d=typeof h<"u"?function(_){return _ instanceof h}:function(_){return!1},p=(_,y)=>{if(_!==void 0&&(_===null||typeof _!="object"||!("aborted"in _)))throw new s(y,"AbortSignal",_)},g=(_,y)=>{if(typeof _!="function")throw new s(y,"Function",_)};e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(_){let y=!1;return function(...m){y||(y=!0,_.apply(this,m))}},createDeferredPromise:function(){let _,y;return{promise:new Promise((m,b)=>{_=m,y=b}),resolve:_,reject:y}},promisify(_){return new Promise((y,m)=>{_((b,...S)=>b?m(b):y(...S))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(_){return _ instanceof f},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:d,deprecate(_,y){return _},addAbortListener:(Mo(),Kt(Ws)).addAbortListener||function(_,y){if(_===void 0)throw new s("signal","AbortSignal",_);p(_,"signal"),g(y,"listener");let m;return _.aborted?queueMicrotask(()=>y()):(_.addEventListener("abort",y,{__proto__:null,once:!0,[o]:!0}),m=()=>{_.removeEventListener("abort",y)}),{__proto__:null,[l](){var b;(b=m)===null||b===void 0||b()}}},AbortSignalAny:u.any||function(_){if(_.length===1)return _[0];let y=new c,m=()=>y.abort();return _.forEach(b=>{p(b,"signals"),b.addEventListener("abort",m,{once:!0})}),y.signal.addEventListener("abort",()=>{_.forEach(b=>b.removeEventListener("abort",m))},{once:!0}),y.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),vu=De((t,e)=>{Te(),Pe(),Ie();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:d,StringPrototypeToUpperCase:p,StringPrototypeTrim:g}=hn(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:E}}=mr(),{normalizeEncoding:x}=yr(),{isAsyncFunction:C,isArrayBufferView:k}=yr().types,R={};function j(U){return U===(U|0)}function K(U){return U===U>>>0}var D=/^[0-7]+$/,ee="must be a 32-bit unsigned integer or an octal string";function te(U,Q,he){if(typeof U>"u"&&(U=he),typeof U=="string"){if(h(D,U)===null)throw new b(Q,U,ee);U=c(U,8)}return q(U,Q),U}var Z=_((U,Q,he=u,le=l)=>{if(typeof U!="number")throw new m(Q,"number",U);if(!o(U))throw new S(Q,"an integer",U);if(U<he||U>le)throw new S(Q,`>= ${he} && <= ${le}`,U)}),fe=_((U,Q,he=-2147483648,le=2147483647)=>{if(typeof U!="number")throw new m(Q,"number",U);if(!o(U))throw new S(Q,"an integer",U);if(U<he||U>le)throw new S(Q,`>= ${he} && <= ${le}`,U)}),q=_((U,Q,he=!1)=>{if(typeof U!="number")throw new m(Q,"number",U);if(!o(U))throw new S(Q,"an integer",U);let le=he?1:0,Oe=4294967295;if(U<le||U>Oe)throw new S(Q,`>= ${le} && <= ${Oe}`,U)});function re(U,Q){if(typeof U!="string")throw new m(Q,"string",U)}function me(U,Q,he=void 0,le){if(typeof U!="number")throw new m(Q,"number",U);if(he!=null&&U<he||le!=null&&U>le||(he!=null||le!=null)&&a(U))throw new S(Q,`${he!=null?`>= ${he}`:""}${he!=null&&le!=null?" && ":""}${le!=null?`<= ${le}`:""}`,U)}var ie=_((U,Q,he)=>{if(!r(he,U)){let le="must be one of: "+i(s(he,Oe=>typeof Oe=="string"?`'${Oe}'`:d(Oe)),", ");throw new b(Q,U,le)}});function X(U,Q){if(typeof U!="boolean")throw new m(Q,"boolean",U)}function ne(U,Q,he){return U==null||!f(U,Q)?he:U[Q]}var pe=_((U,Q,he=null)=>{let le=ne(he,"allowArray",!1),Oe=ne(he,"allowFunction",!1);if(!ne(he,"nullable",!1)&&U===null||!le&&n(U)||typeof U!="object"&&(!Oe||typeof U!="function"))throw new m(Q,"Object",U)}),ve=_((U,Q)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new m(Q,"a dictionary",U)}),ge=_((U,Q,he=0)=>{if(!n(U))throw new m(Q,"Array",U);if(U.length<he){let le=`must be longer than ${he}`;throw new b(Q,U,le)}});function Ee(U,Q){ge(U,Q);for(let he=0;he<U.length;he++)re(U[he],`${Q}[${he}]`)}function J(U,Q){ge(U,Q);for(let he=0;he<U.length;he++)X(U[he],`${Q}[${he}]`)}function G(U,Q){ge(U,Q);for(let he=0;he<U.length;he++){let le=U[he],Oe=`${Q}[${he}]`;if(le==null)throw new m(Oe,"AbortSignal",le);I(le,Oe)}}function oe(U,Q="signal"){if(re(U,Q),R[U]===void 0)throw R[p(U)]!==void 0?new E(U+" (signals must use all capital letters)"):new E(U)}var L=_((U,Q="buffer")=>{if(!k(U))throw new m(Q,["Buffer","TypedArray","DataView"],U)});function Y(U,Q){let he=x(Q),le=U.length;if(he==="hex"&&le%2!==0)throw new b("encoding",Q,`is invalid for data of length ${le}`)}function P(U,Q="Port",he=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&g(U).length===0||+U!==+U>>>0||U>65535||U===0&&!he)throw new y(Q,U,he);return U|0}var I=_((U,Q)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new m(Q,"AbortSignal",U)}),B=_((U,Q)=>{if(typeof U!="function")throw new m(Q,"Function",U)}),N=_((U,Q)=>{if(typeof U!="function"||C(U))throw new m(Q,"Function",U)}),M=_((U,Q)=>{if(U!==void 0)throw new m(Q,"undefined",U)});function V(U,Q,he){if(!r(he,U))throw new m(Q,`('${i(he,"|")}')`,U)}var O=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function z(U,Q){if(typeof U>"u"||!h(O,U))throw new b(Q,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function W(U){if(typeof U=="string")return z(U,"hints"),U;if(n(U)){let Q=U.length,he="";if(Q===0)return he;for(let le=0;le<Q;le++){let Oe=U[le];z(Oe,"hints"),he+=Oe,le!==Q-1&&(he+=", ")}return he}throw new b("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:j,isUint32:K,parseFileMode:te,validateArray:ge,validateStringArray:Ee,validateBooleanArray:J,validateAbortSignalArray:G,validateBoolean:X,validateBuffer:L,validateDictionary:ve,validateEncoding:Y,validateFunction:B,validateInt32:fe,validateInteger:Z,validateNumber:me,validateObject:pe,validateOneOf:ie,validatePlainFunction:N,validatePort:P,validateSignalName:oe,validateString:re,validateUint32:q,validateUndefined:M,validateUnion:V,validateAbortSignal:I,validateLinkHeaderValue:W}}),Do=De((t,e)=>{Te(),Pe(),Ie();var n=e.exports={},r,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=s}catch{r=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(y){if(r===setTimeout)return setTimeout(y,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(y,0);try{return r(y,0)}catch{try{return r.call(null,y,0)}catch{return r.call(this,y,0)}}}function l(y){if(i===clearTimeout)return clearTimeout(y);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(y);try{return i(y)}catch{try{return i.call(null,y)}catch{return i.call(this,y)}}}var u=[],c=!1,f,h=-1;function d(){!c||!f||(c=!1,f.length?u=f.concat(u):h=-1,u.length&&p())}function p(){if(!c){var y=a(d);c=!0;for(var m=u.length;m;){for(f=u,u=[];++h<m;)f&&f[h].run();h=-1,m=u.length}f=null,c=!1,l(y)}}n.nextTick=function(y){var m=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)m[b-1]=arguments[b];u.push(new g(y,m)),u.length===1&&!c&&a(p)};function g(y,m){this.fun=y,this.array=m}g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function _(){}n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(y){return[]},n.binding=function(y){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(y){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),os=De((t,e)=>{Te(),Pe(),Ie();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:i}=hn(),s=i("nodejs.stream.destroyed"),o=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),u=i("nodejs.stream.disturbed"),c=i("nodejs.webstream.isClosedPromise"),f=i("nodejs.webstream.controllerErrorFunction");function h(ne,pe=!1){var ve;return!!(ne&&typeof ne.pipe=="function"&&typeof ne.on=="function"&&(!pe||typeof ne.pause=="function"&&typeof ne.resume=="function")&&(!ne._writableState||((ve=ne._readableState)===null||ve===void 0?void 0:ve.readable)!==!1)&&(!ne._writableState||ne._readableState))}function d(ne){var pe;return!!(ne&&typeof ne.write=="function"&&typeof ne.on=="function"&&(!ne._readableState||((pe=ne._writableState)===null||pe===void 0?void 0:pe.writable)!==!1))}function p(ne){return!!(ne&&typeof ne.pipe=="function"&&ne._readableState&&typeof ne.on=="function"&&typeof ne.write=="function")}function g(ne){return ne&&(ne._readableState||ne._writableState||typeof ne.write=="function"&&typeof ne.on=="function"||typeof ne.pipe=="function"&&typeof ne.on=="function")}function _(ne){return!!(ne&&!g(ne)&&typeof ne.pipeThrough=="function"&&typeof ne.getReader=="function"&&typeof ne.cancel=="function")}function y(ne){return!!(ne&&!g(ne)&&typeof ne.getWriter=="function"&&typeof ne.abort=="function")}function m(ne){return!!(ne&&!g(ne)&&typeof ne.readable=="object"&&typeof ne.writable=="object")}function b(ne){return _(ne)||y(ne)||m(ne)}function S(ne,pe){return ne==null?!1:pe===!0?typeof ne[n]=="function":pe===!1?typeof ne[r]=="function":typeof ne[n]=="function"||typeof ne[r]=="function"}function E(ne){if(!g(ne))return null;let pe=ne._writableState,ve=ne._readableState,ge=pe||ve;return!!(ne.destroyed||ne[s]||ge!=null&&ge.destroyed)}function x(ne){if(!d(ne))return null;if(ne.writableEnded===!0)return!0;let pe=ne._writableState;return pe!=null&&pe.errored?!1:typeof pe?.ended!="boolean"?null:pe.ended}function C(ne,pe){if(!d(ne))return null;if(ne.writableFinished===!0)return!0;let ve=ne._writableState;return ve!=null&&ve.errored?!1:typeof ve?.finished!="boolean"?null:!!(ve.finished||pe===!1&&ve.ended===!0&&ve.length===0)}function k(ne){if(!h(ne))return null;if(ne.readableEnded===!0)return!0;let pe=ne._readableState;return!pe||pe.errored?!1:typeof pe?.ended!="boolean"?null:pe.ended}function R(ne,pe){if(!h(ne))return null;let ve=ne._readableState;return ve!=null&&ve.errored?!1:typeof ve?.endEmitted!="boolean"?null:!!(ve.endEmitted||pe===!1&&ve.ended===!0&&ve.length===0)}function j(ne){return ne&&ne[a]!=null?ne[a]:typeof ne?.readable!="boolean"?null:E(ne)?!1:h(ne)&&ne.readable&&!R(ne)}function K(ne){return ne&&ne[l]!=null?ne[l]:typeof ne?.writable!="boolean"?null:E(ne)?!1:d(ne)&&ne.writable&&!x(ne)}function D(ne,pe){return g(ne)?E(ne)?!0:!(pe?.readable!==!1&&j(ne)||pe?.writable!==!1&&K(ne)):null}function ee(ne){var pe,ve;return g(ne)?ne.writableErrored?ne.writableErrored:(pe=(ve=ne._writableState)===null||ve===void 0?void 0:ve.errored)!==null&&pe!==void 0?pe:null:null}function te(ne){var pe,ve;return g(ne)?ne.readableErrored?ne.readableErrored:(pe=(ve=ne._readableState)===null||ve===void 0?void 0:ve.errored)!==null&&pe!==void 0?pe:null:null}function Z(ne){if(!g(ne))return null;if(typeof ne.closed=="boolean")return ne.closed;let pe=ne._writableState,ve=ne._readableState;return typeof pe?.closed=="boolean"||typeof ve?.closed=="boolean"?pe?.closed||ve?.closed:typeof ne._closed=="boolean"&&fe(ne)?ne._closed:null}function fe(ne){return typeof ne._closed=="boolean"&&typeof ne._defaultKeepAlive=="boolean"&&typeof ne._removedConnection=="boolean"&&typeof ne._removedContLen=="boolean"}function q(ne){return typeof ne._sent100=="boolean"&&fe(ne)}function re(ne){var pe;return typeof ne._consuming=="boolean"&&typeof ne._dumped=="boolean"&&((pe=ne.req)===null||pe===void 0?void 0:pe.upgradeOrConnect)===void 0}function me(ne){if(!g(ne))return null;let pe=ne._writableState,ve=ne._readableState,ge=pe||ve;return!ge&&q(ne)||!!(ge&&ge.autoDestroy&&ge.emitClose&&ge.closed===!1)}function ie(ne){var pe;return!!(ne&&((pe=ne[u])!==null&&pe!==void 0?pe:ne.readableDidRead||ne.readableAborted))}function X(ne){var pe,ve,ge,Ee,J,G,oe,L,Y,P;return!!(ne&&((pe=(ve=(ge=(Ee=(J=(G=ne[o])!==null&&G!==void 0?G:ne.readableErrored)!==null&&J!==void 0?J:ne.writableErrored)!==null&&Ee!==void 0?Ee:(oe=ne._readableState)===null||oe===void 0?void 0:oe.errorEmitted)!==null&&ge!==void 0?ge:(L=ne._writableState)===null||L===void 0?void 0:L.errorEmitted)!==null&&ve!==void 0?ve:(Y=ne._readableState)===null||Y===void 0?void 0:Y.errored)!==null&&pe!==void 0?pe:!((P=ne._writableState)===null||P===void 0)&&P.errored))}e.exports={isDestroyed:E,kIsDestroyed:s,isDisturbed:ie,kIsDisturbed:u,isErrored:X,kIsErrored:o,isReadable:j,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:f,kIsWritable:l,isClosed:Z,isDuplexNodeStream:p,isFinished:D,isIterable:S,isReadableNodeStream:h,isReadableStream:_,isReadableEnded:k,isReadableFinished:R,isReadableErrored:te,isNodeStream:g,isWebStream:b,isWritable:K,isWritableNodeStream:d,isWritableStream:y,isWritableEnded:x,isWritableFinished:C,isWritableErrored:ee,isServerRequest:re,isServerResponse:q,willEmitClose:me,isTransformStream:m}}),Vs=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{AbortError:r,codes:i}=mr(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=i,{kEmptyObject:a,once:l}=yr(),{validateAbortSignal:u,validateFunction:c,validateObject:f,validateBoolean:h}=vu(),{Promise:d,PromisePrototypeThen:p,SymbolDispose:g}=hn(),{isClosed:_,isReadable:y,isReadableNodeStream:m,isReadableStream:b,isReadableFinished:S,isReadableErrored:E,isWritable:x,isWritableNodeStream:C,isWritableStream:k,isWritableFinished:R,isWritableErrored:j,isNodeStream:K,willEmitClose:D,kIsClosedPromise:ee}=os(),te;function Z(ie){return ie.setHeader&&typeof ie.abort=="function"}var fe=()=>{};function q(ie,X,ne){var pe,ve;if(arguments.length===2?(ne=X,X=a):X==null?X=a:f(X,"options"),c(ne,"callback"),u(X.signal,"options.signal"),ne=l(ne),b(ie)||k(ie))return re(ie,X,ne);if(!K(ie))throw new s("stream",["ReadableStream","WritableStream","Stream"],ie);let ge=(pe=X.readable)!==null&&pe!==void 0?pe:m(ie),Ee=(ve=X.writable)!==null&&ve!==void 0?ve:C(ie),J=ie._writableState,G=ie._readableState,oe=()=>{ie.writable||P()},L=D(ie)&&m(ie)===ge&&C(ie)===Ee,Y=R(ie,!1),P=()=>{Y=!0,ie.destroyed&&(L=!1),!(L&&(!ie.readable||ge))&&(!ge||I)&&ne.call(ie)},I=S(ie,!1),B=()=>{I=!0,ie.destroyed&&(L=!1),!(L&&(!ie.writable||Ee))&&(!Ee||Y)&&ne.call(ie)},N=U=>{ne.call(ie,U)},M=_(ie),V=()=>{M=!0;let U=j(ie)||E(ie);if(U&&typeof U!="boolean")return ne.call(ie,U);if(ge&&!I&&m(ie,!0)&&!S(ie,!1))return ne.call(ie,new o);if(Ee&&!Y&&!R(ie,!1))return ne.call(ie,new o);ne.call(ie)},O=()=>{M=!0;let U=j(ie)||E(ie);if(U&&typeof U!="boolean")return ne.call(ie,U);ne.call(ie)},z=()=>{ie.req.on("finish",P)};Z(ie)?(ie.on("complete",P),L||ie.on("abort",V),ie.req?z():ie.on("request",z)):Ee&&!J&&(ie.on("end",oe),ie.on("close",oe)),!L&&typeof ie.aborted=="boolean"&&ie.on("aborted",V),ie.on("end",B),ie.on("finish",P),X.error!==!1&&ie.on("error",N),ie.on("close",V),M?n.nextTick(V):J!=null&&J.errorEmitted||G!=null&&G.errorEmitted?L||n.nextTick(O):(!ge&&(!L||y(ie))&&(Y||x(ie)===!1)||!Ee&&(!L||x(ie))&&(I||y(ie)===!1)||G&&ie.req&&ie.aborted)&&n.nextTick(O);let W=()=>{ne=fe,ie.removeListener("aborted",V),ie.removeListener("complete",P),ie.removeListener("abort",V),ie.removeListener("request",z),ie.req&&ie.req.removeListener("finish",P),ie.removeListener("end",oe),ie.removeListener("close",oe),ie.removeListener("finish",P),ie.removeListener("end",B),ie.removeListener("error",N),ie.removeListener("close",V)};if(X.signal&&!M){let U=()=>{let Q=ne;W(),Q.call(ie,new r(void 0,{cause:X.signal.reason}))};if(X.signal.aborted)n.nextTick(U);else{te=te||yr().addAbortListener;let Q=te(X.signal,U),he=ne;ne=l((...le)=>{Q[g](),he.apply(ie,le)})}}return W}function re(ie,X,ne){let pe=!1,ve=fe;if(X.signal)if(ve=()=>{pe=!0,ne.call(ie,new r(void 0,{cause:X.signal.reason}))},X.signal.aborted)n.nextTick(ve);else{te=te||yr().addAbortListener;let Ee=te(X.signal,ve),J=ne;ne=l((...G)=>{Ee[g](),J.apply(ie,G)})}let ge=(...Ee)=>{pe||n.nextTick(()=>ne.apply(ie,Ee))};return p(ie[ee].promise,ge,ge),fe}function me(ie,X){var ne;let pe=!1;return X===null&&(X=a),(ne=X)!==null&&ne!==void 0&&ne.cleanup&&(h(X.cleanup,"cleanup"),pe=X.cleanup),new d((ve,ge)=>{let Ee=q(ie,X,J=>{pe&&Ee(),J?ge(J):ve()})})}e.exports=q,e.exports.finished=me}),Wa=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=mr(),{Symbol:o}=hn(),{kIsDestroyed:a,isDestroyed:l,isFinished:u,isServerRequest:c}=os(),f=o("kDestroy"),h=o("kConstruct");function d(D,ee,te){D&&(D.stack,ee&&!ee.errored&&(ee.errored=D),te&&!te.errored&&(te.errored=D))}function p(D,ee){let te=this._readableState,Z=this._writableState,fe=Z||te;return Z!=null&&Z.destroyed||te!=null&&te.destroyed?(typeof ee=="function"&&ee(),this):(d(D,Z,te),Z&&(Z.destroyed=!0),te&&(te.destroyed=!0),fe.constructed?g(this,D,ee):this.once(f,function(q){g(this,r(q,D),ee)}),this)}function g(D,ee,te){let Z=!1;function fe(q){if(Z)return;Z=!0;let re=D._readableState,me=D._writableState;d(q,me,re),me&&(me.closed=!0),re&&(re.closed=!0),typeof te=="function"&&te(q),q?n.nextTick(_,D,q):n.nextTick(y,D)}try{D._destroy(ee||null,fe)}catch(q){fe(q)}}function _(D,ee){m(D,ee),y(D)}function y(D){let ee=D._readableState,te=D._writableState;te&&(te.closeEmitted=!0),ee&&(ee.closeEmitted=!0),(te!=null&&te.emitClose||ee!=null&&ee.emitClose)&&D.emit("close")}function m(D,ee){let te=D._readableState,Z=D._writableState;Z!=null&&Z.errorEmitted||te!=null&&te.errorEmitted||(Z&&(Z.errorEmitted=!0),te&&(te.errorEmitted=!0),D.emit("error",ee))}function b(){let D=this._readableState,ee=this._writableState;D&&(D.constructed=!0,D.closed=!1,D.closeEmitted=!1,D.destroyed=!1,D.errored=null,D.errorEmitted=!1,D.reading=!1,D.ended=D.readable===!1,D.endEmitted=D.readable===!1),ee&&(ee.constructed=!0,ee.destroyed=!1,ee.closed=!1,ee.closeEmitted=!1,ee.errored=null,ee.errorEmitted=!1,ee.finalCalled=!1,ee.prefinished=!1,ee.ended=ee.writable===!1,ee.ending=ee.writable===!1,ee.finished=ee.writable===!1)}function S(D,ee,te){let Z=D._readableState,fe=D._writableState;if(fe!=null&&fe.destroyed||Z!=null&&Z.destroyed)return this;Z!=null&&Z.autoDestroy||fe!=null&&fe.autoDestroy?D.destroy(ee):ee&&(ee.stack,fe&&!fe.errored&&(fe.errored=ee),Z&&!Z.errored&&(Z.errored=ee),te?n.nextTick(m,D,ee):m(D,ee))}function E(D,ee){if(typeof D._construct!="function")return;let te=D._readableState,Z=D._writableState;te&&(te.constructed=!1),Z&&(Z.constructed=!1),D.once(h,ee),!(D.listenerCount(h)>1)&&n.nextTick(x,D)}function x(D){let ee=!1;function te(Z){if(ee){S(D,Z??new i);return}ee=!0;let fe=D._readableState,q=D._writableState,re=q||fe;fe&&(fe.constructed=!0),q&&(q.constructed=!0),re.destroyed?D.emit(f,Z):Z?S(D,Z,!0):n.nextTick(C,D)}try{D._construct(Z=>{n.nextTick(te,Z)})}catch(Z){n.nextTick(te,Z)}}function C(D){D.emit(h)}function k(D){return D?.setHeader&&typeof D.abort=="function"}function R(D){D.emit("close")}function j(D,ee){D.emit("error",ee),n.nextTick(R,D)}function K(D,ee){!D||l(D)||(!ee&&!u(D)&&(ee=new s),c(D)?(D.socket=null,D.destroy(ee)):k(D)?D.abort():k(D.req)?D.req.abort():typeof D.destroy=="function"?D.destroy(ee):typeof D.close=="function"?D.close():ee?n.nextTick(j,D,ee):n.nextTick(R,D),D.destroyed||(D[a]=!0))}e.exports={construct:E,destroyer:K,destroy:p,undestroy:b,errorOrDestroy:S}}),b0=De((t,e)=>{Te(),Pe(),Ie();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=hn(),{EventEmitter:i}=(Mo(),Kt(Ws));function s(a){i.call(this,a)}r(s.prototype,i.prototype),r(s,i),s.prototype.pipe=function(a,l){let u=this;function c(y){a.writable&&a.write(y)===!1&&u.pause&&u.pause()}u.on("data",c);function f(){u.readable&&u.resume&&u.resume()}a.on("drain",f),!a._isStdio&&(!l||l.end!==!1)&&(u.on("end",d),u.on("close",p));let h=!1;function d(){h||(h=!0,a.end())}function p(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function g(y){_(),i.listenerCount(this,"error")===0&&this.emit("error",y)}o(u,"error",g),o(a,"error",g);function _(){u.removeListener("data",c),a.removeListener("drain",f),u.removeListener("end",d),u.removeListener("close",p),u.removeListener("error",g),a.removeListener("error",g),u.removeListener("end",_),u.removeListener("close",_),a.removeListener("close",_)}return u.on("end",_),u.on("close",_),a.on("close",_),a.emit("pipe",u),a};function o(a,l,u){if(typeof a.prependListener=="function")return a.prependListener(l,u);!a._events||!a._events[l]?a.on(l,u):n(a._events[l])?a._events[l].unshift(u):a._events[l]=[u,a._events[l]]}e.exports={Stream:s,prependListener:o}}),th=De((t,e)=>{Te(),Pe(),Ie();var{SymbolDispose:n}=hn(),{AbortError:r,codes:i}=mr(),{isNodeStream:s,isWebStream:o,kControllerErrorFunction:a}=os(),l=Vs(),{ERR_INVALID_ARG_TYPE:u}=i,c,f=(h,d)=>{if(typeof h!="object"||!("aborted"in h))throw new u(d,"AbortSignal",h)};e.exports.addAbortSignal=function(h,d){if(f(h,"signal"),!s(d)&&!o(d))throw new u("stream",["ReadableStream","WritableStream","Stream"],d);return e.exports.addAbortSignalNoValidate(h,d)},e.exports.addAbortSignalNoValidate=function(h,d){if(typeof h!="object"||!("aborted"in h))return d;let p=s(d)?()=>{d.destroy(new r(void 0,{cause:h.reason}))}:()=>{d[a](new r(void 0,{cause:h.reason}))};if(h.aborted)p();else{c=c||yr().addAbortListener;let g=c(h,p);l(d,g[n])}return d}}),v6=De((t,e)=>{Te(),Pe(),Ie();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:i,Uint8Array:s}=hn(),{Buffer:o}=(Hn(),Kt(Vn)),{inspect:a}=yr();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=l+u.data;return c}concat(l){if(this.length===0)return o.alloc(0);let u=o.allocUnsafe(l>>>0),c=this.head,f=0;for(;c;)i(u,c.data,f),f+=c.data.length,c=c.next;return u}consume(l,u){let c=this.head.data;if(l<c.length){let f=c.slice(0,l);return this.head.data=c.slice(l),f}return l===c.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[r](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",c=this.head,f=0;do{let h=c.data;if(l>h.length)u+=h,l-=h.length;else{l===h.length?(u+=h,++f,c.next?this.head=c.next:this.head=this.tail=null):(u+=n(h,0,l),this.head=c,c.data=n(h,l));break}++f}while((c=c.next)!==null);return this.length-=f,u}_getBuffer(l){let u=o.allocUnsafe(l),c=l,f=this.head,h=0;do{let d=f.data;if(l>d.length)i(u,d,c-l),l-=d.length;else{l===d.length?(i(u,d,c-l),++h,f.next?this.head=f.next:this.head=this.tail=null):(i(u,new s(d.buffer,d.byteOffset,l),c-l),this.head=f,f.data=d.slice(l));break}++h}while((f=f.next)!==null);return this.length-=h,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return a(this,{...u,depth:0,customInspect:!1})}}}),nh=De((t,e)=>{Te(),Pe(),Ie();var{MathFloor:n,NumberIsInteger:r}=hn(),{validateInteger:i}=vu(),{ERR_INVALID_ARG_VALUE:s}=mr().codes,o=16*1024,a=16;function l(h,d,p){return h.highWaterMark!=null?h.highWaterMark:d?h[p]:null}function u(h){return h?a:o}function c(h,d){i(d,"value",0),h?a=d:o=d}function f(h,d,p,g){let _=l(d,g,p);if(_!=null){if(!r(_)||_<0){let y=g?`options.${p}`:"options.highWaterMark";throw new s(y,_)}return n(_)}return u(h.objectMode)}e.exports={getHighWaterMark:f,getDefaultHighWaterMark:u,setDefaultHighWaterMark:c}}),_6=De((t,e)=>{Te(),Pe(),Ie();var n=(Hn(),Kt(Vn)),r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}),b6=De(t=>{Te(),Pe(),Ie();var e=_6().Buffer,n=e.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var b;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(b)return;m=(""+m).toLowerCase(),b=!0}}function i(m){var b=r(m);if(typeof b!="string"&&(e.isEncoding===n||!n(m)))throw new Error("Unknown encoding: "+m);return b||m}t.StringDecoder=s;function s(m){this.encoding=i(m);var b;switch(this.encoding){case"utf16le":this.text=h,this.end=d,b=4;break;case"utf8":this.fillLast=u,b=4;break;case"base64":this.text=p,this.end=g,b=3;break;default:this.write=_,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(b)}s.prototype.write=function(m){if(m.length===0)return"";var b,S;if(this.lastNeed){if(b=this.fillLast(m),b===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<m.length?b?b+this.text(m,S):this.text(m,S):b||""},s.prototype.end=f,s.prototype.text=c,s.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function o(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,b,S){var E=b.length-1;if(E<S)return 0;var x=o(b[E]);return x>=0?(x>0&&(m.lastNeed=x-1),x):--E<S||x===-2?0:(x=o(b[E]),x>=0?(x>0&&(m.lastNeed=x-2),x):--E<S||x===-2?0:(x=o(b[E]),x>=0?(x>0&&(x===2?x=0:m.lastNeed=x-3),x):0))}function l(m,b,S){if((b[0]&192)!==128)return m.lastNeed=0,"";if(m.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return m.lastNeed=1,"";if(m.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return m.lastNeed=2,""}}function u(m){var b=this.lastTotal-this.lastNeed,S=l(this,m);if(S!==void 0)return S;if(this.lastNeed<=m.length)return m.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,b,0,m.length),this.lastNeed-=m.length}function c(m,b){var S=a(this,m,b);if(!this.lastNeed)return m.toString("utf8",b);this.lastTotal=S;var E=m.length-(S-this.lastNeed);return m.copy(this.lastChar,0,E),m.toString("utf8",b,E)}function f(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+"":b}function h(m,b){if((m.length-b)%2===0){var S=m.toString("utf16le",b);if(S){var E=S.charCodeAt(S.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",b,m.length-1)}function d(m){var b=m&&m.length?this.write(m):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,S)}return b}function p(m,b){var S=(m.length-b)%3;return S===0?m.toString("base64",b):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",b,m.length-S))}function g(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function _(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}}),LS=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{PromisePrototypeThen:r,SymbolAsyncIterator:i,SymbolIterator:s}=hn(),{Buffer:o}=(Hn(),Kt(Vn)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=mr().codes;function u(c,f,h){let d;if(typeof f=="string"||f instanceof o)return new c({objectMode:!0,...h,read(){this.push(f),this.push(null)}});let p;if(f&&f[i])p=!0,d=f[i]();else if(f&&f[s])p=!1,d=f[s]();else throw new a("iterable",["Iterable"],f);let g=new c({objectMode:!0,highWaterMark:1,...h}),_=!1;g._read=function(){_||(_=!0,m())},g._destroy=function(b,S){r(y(b),()=>n.nextTick(S,b),E=>n.nextTick(S,E||b))};async function y(b){let S=b!=null,E=typeof d.throw=="function";if(S&&E){let{value:x,done:C}=await d.throw(b);if(await x,C)return}if(typeof d.return=="function"){let{value:x}=await d.return();await x}}async function m(){for(;;){try{let{value:b,done:S}=p?await d.next():d.next();if(S)g.push(null);else{let E=b&&typeof b.then=="function"?await b:b;if(E===null)throw _=!1,new l;if(g.push(E))continue;_=!1}}catch(b){g.destroy(b)}break}}return g}e.exports=u}),rh=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{ArrayPrototypeIndexOf:r,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:c,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:d,Symbol:p}=hn();e.exports=le,le.ReadableState=he;var{EventEmitter:g}=(Mo(),Kt(Ws)),{Stream:_,prependListener:y}=b0(),{Buffer:m}=(Hn(),Kt(Vn)),{addAbortSignal:b}=th(),S=Vs(),E=yr().debuglog("stream",ae=>{E=ae}),x=v6(),C=Wa(),{getHighWaterMark:k,getDefaultHighWaterMark:R}=nh(),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:K,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_OUT_OF_RANGE:ee,ERR_STREAM_PUSH_AFTER_EOF:te,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Z},AbortError:fe}=mr(),{validateObject:q}=vu(),re=p("kPaused"),{StringDecoder:me}=b6(),ie=LS();u(le.prototype,_.prototype),u(le,_);var X=()=>{},{errorOrDestroy:ne}=C,pe=1,ve=2,ge=4,Ee=8,J=16,G=32,oe=64,L=128,Y=256,P=512,I=1024,B=2048,N=4096,M=8192,V=16384,O=32768,z=65536,W=1<<17,U=1<<18;function Q(ae){return{enumerable:!1,get(){return(this.state&ae)!==0},set(ce){ce?this.state|=ae:this.state&=~ae}}}a(he.prototype,{objectMode:Q(pe),ended:Q(ve),endEmitted:Q(ge),reading:Q(Ee),constructed:Q(J),sync:Q(G),needReadable:Q(oe),emittedReadable:Q(L),readableListening:Q(Y),resumeScheduled:Q(P),errorEmitted:Q(I),emitClose:Q(B),autoDestroy:Q(N),destroyed:Q(M),closed:Q(V),closeEmitted:Q(O),multiAwaitDrain:Q(z),readingMore:Q(W),dataEmitted:Q(U)});function he(ae,ce,Fe){typeof Fe!="boolean"&&(Fe=ce instanceof ts()),this.state=B|N|J|G,ae&&ae.objectMode&&(this.state|=pe),Fe&&ae&&ae.readableObjectMode&&(this.state|=pe),this.highWaterMark=ae?k(this,ae,"readableHighWaterMark",Fe):R(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[re]=null,ae&&ae.emitClose===!1&&(this.state&=~B),ae&&ae.autoDestroy===!1&&(this.state&=~N),this.errored=null,this.defaultEncoding=ae&&ae.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ae&&ae.encoding&&(this.decoder=new me(ae.encoding),this.encoding=ae.encoding)}function le(ae){if(!(this instanceof le))return new le(ae);let ce=this instanceof ts();this._readableState=new he(ae,this,ce),ae&&(typeof ae.read=="function"&&(this._read=ae.read),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.construct=="function"&&(this._construct=ae.construct),ae.signal&&!ce&&b(ae.signal,this)),_.call(this,ae),C.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}le.prototype.destroy=C.destroy,le.prototype._undestroy=C.undestroy,le.prototype._destroy=function(ae,ce){ce(ae)},le.prototype[g.captureRejectionSymbol]=function(ae){this.destroy(ae)},le.prototype[h]=function(){let ae;return this.destroyed||(ae=this.readableEnded?null:new fe,this.destroy(ae)),new c((ce,Fe)=>S(this,Ve=>Ve&&Ve!==ae?Fe(Ve):ce(null)))},le.prototype.push=function(ae,ce){return Oe(this,ae,ce,!1)},le.prototype.unshift=function(ae,ce){return Oe(this,ae,ce,!0)};function Oe(ae,ce,Fe,Ve){E("readableAddChunk",ce);let ze=ae._readableState,un;if((ze.state&pe)===0&&(typeof ce=="string"?(Fe=Fe||ze.defaultEncoding,ze.encoding!==Fe&&(Ve&&ze.encoding?ce=m.from(ce,Fe).toString(ze.encoding):(ce=m.from(ce,Fe),Fe=""))):ce instanceof m?Fe="":_._isUint8Array(ce)?(ce=_._uint8ArrayToBuffer(ce),Fe=""):ce!=null&&(un=new K("chunk",["string","Buffer","Uint8Array"],ce))),un)ne(ae,un);else if(ce===null)ze.state&=~Ee,_e(ae,ze);else if((ze.state&pe)!==0||ce&&ce.length>0)if(Ve)if((ze.state&ge)!==0)ne(ae,new Z);else{if(ze.destroyed||ze.errored)return!1;w(ae,ze,ce,!0)}else if(ze.ended)ne(ae,new te);else{if(ze.destroyed||ze.errored)return!1;ze.state&=~Ee,ze.decoder&&!Fe?(ce=ze.decoder.write(ce),ze.objectMode||ce.length!==0?w(ae,ze,ce,!1):ye(ae,ze)):w(ae,ze,ce,!1)}else Ve||(ze.state&=~Ee,ye(ae,ze));return!ze.ended&&(ze.length<ze.highWaterMark||ze.length===0)}function w(ae,ce,Fe,Ve){ce.flowing&&ce.length===0&&!ce.sync&&ae.listenerCount("data")>0?((ce.state&z)!==0?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null,ce.dataEmitted=!0,ae.emit("data",Fe)):(ce.length+=ce.objectMode?1:Fe.length,Ve?ce.buffer.unshift(Fe):ce.buffer.push(Fe),(ce.state&oe)!==0&&xe(ae)),ye(ae,ce)}le.prototype.isPaused=function(){let ae=this._readableState;return ae[re]===!0||ae.flowing===!1},le.prototype.setEncoding=function(ae){let ce=new me(ae);this._readableState.decoder=ce,this._readableState.encoding=this._readableState.decoder.encoding;let Fe=this._readableState.buffer,Ve="";for(let ze of Fe)Ve+=ce.write(ze);return Fe.clear(),Ve!==""&&Fe.push(Ve),this._readableState.length=Ve.length,this};var A=1073741824;function F(ae){if(ae>A)throw new ee("size","<= 1GiB",ae);return ae--,ae|=ae>>>1,ae|=ae>>>2,ae|=ae>>>4,ae|=ae>>>8,ae|=ae>>>16,ae++,ae}function de(ae,ce){return ae<=0||ce.length===0&&ce.ended?0:(ce.state&pe)!==0?1:s(ae)?ce.flowing&&ce.length?ce.buffer.first().length:ce.length:ae<=ce.length?ae:ce.ended?ce.length:0}le.prototype.read=function(ae){E("read",ae),ae===void 0?ae=NaN:i(ae)||(ae=o(ae,10));let ce=this._readableState,Fe=ae;if(ae>ce.highWaterMark&&(ce.highWaterMark=F(ae)),ae!==0&&(ce.state&=~L),ae===0&&ce.needReadable&&((ce.highWaterMark!==0?ce.length>=ce.highWaterMark:ce.length>0)||ce.ended))return E("read: emitReadable",ce.length,ce.ended),ce.length===0&&ce.ended?Bn(this):xe(this),null;if(ae=de(ae,ce),ae===0&&ce.ended)return ce.length===0&&Bn(this),null;let Ve=(ce.state&oe)!==0;if(E("need readable",Ve),(ce.length===0||ce.length-ae<ce.highWaterMark)&&(Ve=!0,E("length less than watermark",Ve)),ce.ended||ce.reading||ce.destroyed||ce.errored||!ce.constructed)Ve=!1,E("reading, ended or constructing",Ve);else if(Ve){E("do read"),ce.state|=Ee|G,ce.length===0&&(ce.state|=oe);try{this._read(ce.highWaterMark)}catch(un){ne(this,un)}ce.state&=~G,ce.reading||(ae=de(Fe,ce))}let ze;return ae>0?ze=kn(ae,ce):ze=null,ze===null?(ce.needReadable=ce.length<=ce.highWaterMark,ae=0):(ce.length-=ae,ce.multiAwaitDrain?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null),ce.length===0&&(ce.ended||(ce.needReadable=!0),Fe!==ae&&ce.ended&&Bn(this)),ze!==null&&!ce.errorEmitted&&!ce.closeEmitted&&(ce.dataEmitted=!0,this.emit("data",ze)),ze};function _e(ae,ce){if(E("onEofChunk"),!ce.ended){if(ce.decoder){let Fe=ce.decoder.end();Fe&&Fe.length&&(ce.buffer.push(Fe),ce.length+=ce.objectMode?1:Fe.length)}ce.ended=!0,ce.sync?xe(ae):(ce.needReadable=!1,ce.emittedReadable=!0,Re(ae))}}function xe(ae){let ce=ae._readableState;E("emitReadable",ce.needReadable,ce.emittedReadable),ce.needReadable=!1,ce.emittedReadable||(E("emitReadable",ce.flowing),ce.emittedReadable=!0,n.nextTick(Re,ae))}function Re(ae){let ce=ae._readableState;E("emitReadable_",ce.destroyed,ce.length,ce.ended),!ce.destroyed&&!ce.errored&&(ce.length||ce.ended)&&(ae.emit("readable"),ce.emittedReadable=!1),ce.needReadable=!ce.flowing&&!ce.ended&&ce.length<=ce.highWaterMark,Qt(ae)}function ye(ae,ce){!ce.readingMore&&ce.constructed&&(ce.readingMore=!0,n.nextTick(Ce,ae,ce))}function Ce(ae,ce){for(;!ce.reading&&!ce.ended&&(ce.length<ce.highWaterMark||ce.flowing&&ce.length===0);){let Fe=ce.length;if(E("maybeReadMore read 0"),ae.read(0),Fe===ce.length)break}ce.readingMore=!1}le.prototype._read=function(ae){throw new D("_read()")},le.prototype.pipe=function(ae,ce){let Fe=this,Ve=this._readableState;Ve.pipes.length===1&&(Ve.multiAwaitDrain||(Ve.multiAwaitDrain=!0,Ve.awaitDrainWriters=new f(Ve.awaitDrainWriters?[Ve.awaitDrainWriters]:[]))),Ve.pipes.push(ae),E("pipe count=%d opts=%j",Ve.pipes.length,ce);let ze=(!ce||ce.end!==!1)&&ae!==n.stdout&&ae!==n.stderr?Tn:Pn;Ve.endEmitted?n.nextTick(ze):Fe.once("end",ze),ae.on("unpipe",un);function un(kt,Tt){E("onunpipe"),kt===Fe&&Tt&&Tt.hasUnpiped===!1&&(Tt.hasUnpiped=!0,Je())}function Tn(){E("onend"),ae.end()}let Se,je=!1;function Je(){E("cleanup"),ae.removeListener("close",In),ae.removeListener("finish",Xn),Se&&ae.removeListener("drain",Se),ae.removeListener("error",Cn),ae.removeListener("unpipe",un),Fe.removeListener("end",Tn),Fe.removeListener("end",Pn),Fe.removeListener("data",Bt),je=!0,Se&&Ve.awaitDrainWriters&&(!ae._writableState||ae._writableState.needDrain)&&Se()}function rt(){je||(Ve.pipes.length===1&&Ve.pipes[0]===ae?(E("false write response, pause",0),Ve.awaitDrainWriters=ae,Ve.multiAwaitDrain=!1):Ve.pipes.length>1&&Ve.pipes.includes(ae)&&(E("false write response, pause",Ve.awaitDrainWriters.size),Ve.awaitDrainWriters.add(ae)),Fe.pause()),Se||(Se=Ue(Fe,ae),ae.on("drain",Se))}Fe.on("data",Bt);function Bt(kt){E("ondata");let Tt=ae.write(kt);E("dest.write",Tt),Tt===!1&&rt()}function Cn(kt){if(E("onerror",kt),Pn(),ae.removeListener("error",Cn),ae.listenerCount("error")===0){let Tt=ae._writableState||ae._readableState;Tt&&!Tt.errorEmitted?ne(ae,kt):ae.emit("error",kt)}}y(ae,"error",Cn);function In(){ae.removeListener("finish",Xn),Pn()}ae.once("close",In);function Xn(){E("onfinish"),ae.removeListener("close",In),Pn()}ae.once("finish",Xn);function Pn(){E("unpipe"),Fe.unpipe(ae)}return ae.emit("pipe",Fe),ae.writableNeedDrain===!0?rt():Ve.flowing||(E("pipe resume"),Fe.resume()),ae};function Ue(ae,ce){return function(){let Fe=ae._readableState;Fe.awaitDrainWriters===ce?(E("pipeOnDrain",1),Fe.awaitDrainWriters=null):Fe.multiAwaitDrain&&(E("pipeOnDrain",Fe.awaitDrainWriters.size),Fe.awaitDrainWriters.delete(ce)),(!Fe.awaitDrainWriters||Fe.awaitDrainWriters.size===0)&&ae.listenerCount("data")&&ae.resume()}}le.prototype.unpipe=function(ae){let ce=this._readableState,Fe={hasUnpiped:!1};if(ce.pipes.length===0)return this;if(!ae){let ze=ce.pipes;ce.pipes=[],this.pause();for(let un=0;un<ze.length;un++)ze[un].emit("unpipe",this,{hasUnpiped:!1});return this}let Ve=r(ce.pipes,ae);return Ve===-1?this:(ce.pipes.splice(Ve,1),ce.pipes.length===0&&this.pause(),ae.emit("unpipe",this,Fe),this)},le.prototype.on=function(ae,ce){let Fe=_.prototype.on.call(this,ae,ce),Ve=this._readableState;return ae==="data"?(Ve.readableListening=this.listenerCount("readable")>0,Ve.flowing!==!1&&this.resume()):ae==="readable"&&!Ve.endEmitted&&!Ve.readableListening&&(Ve.readableListening=Ve.needReadable=!0,Ve.flowing=!1,Ve.emittedReadable=!1,E("on readable",Ve.length,Ve.reading),Ve.length?xe(this):Ve.reading||n.nextTick(tt,this)),Fe},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(ae,ce){let Fe=_.prototype.removeListener.call(this,ae,ce);return ae==="readable"&&n.nextTick(He,this),Fe},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(ae){let ce=_.prototype.removeAllListeners.apply(this,arguments);return(ae==="readable"||ae===void 0)&&n.nextTick(He,this),ce};function He(ae){let ce=ae._readableState;ce.readableListening=ae.listenerCount("readable")>0,ce.resumeScheduled&&ce[re]===!1?ce.flowing=!0:ae.listenerCount("data")>0?ae.resume():ce.readableListening||(ce.flowing=null)}function tt(ae){E("readable nexttick read 0"),ae.read(0)}le.prototype.resume=function(){let ae=this._readableState;return ae.flowing||(E("resume"),ae.flowing=!ae.readableListening,nt(this,ae)),ae[re]=!1,this};function nt(ae,ce){ce.resumeScheduled||(ce.resumeScheduled=!0,n.nextTick(Ke,ae,ce))}function Ke(ae,ce){E("resume",ce.reading),ce.reading||ae.read(0),ce.resumeScheduled=!1,ae.emit("resume"),Qt(ae),ce.flowing&&!ce.reading&&ae.read(0)}le.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[re]=!0,this};function Qt(ae){let ce=ae._readableState;for(E("flow",ce.flowing);ce.flowing&&ae.read()!==null;);}le.prototype.wrap=function(ae){let ce=!1;ae.on("data",Ve=>{!this.push(Ve)&&ae.pause&&(ce=!0,ae.pause())}),ae.on("end",()=>{this.push(null)}),ae.on("error",Ve=>{ne(this,Ve)}),ae.on("close",()=>{this.destroy()}),ae.on("destroy",()=>{this.destroy()}),this._read=()=>{ce&&ae.resume&&(ce=!1,ae.resume())};let Fe=l(ae);for(let Ve=1;Ve<Fe.length;Ve++){let ze=Fe[Ve];this[ze]===void 0&&typeof ae[ze]=="function"&&(this[ze]=ae[ze].bind(ae))}return this},le.prototype[d]=function(){return Nt(this)},le.prototype.iterator=function(ae){return ae!==void 0&&q(ae,"options"),Nt(this,ae)};function Nt(ae,ce){typeof ae.read!="function"&&(ae=le.wrap(ae,{objectMode:!0}));let Fe=An(ae,ce);return Fe.stream=ae,Fe}async function*An(ae,ce){let Fe=X;function Ve(Tn){this===ae?(Fe(),Fe=X):Fe=Tn}ae.on("readable",Ve);let ze,un=S(ae,{writable:!1},Tn=>{ze=Tn?j(ze,Tn):null,Fe(),Fe=X});try{for(;;){let Tn=ae.destroyed?null:ae.read();if(Tn!==null)yield Tn;else{if(ze)throw ze;if(ze===null)return;await new c(Ve)}}}catch(Tn){throw ze=j(ze,Tn),ze}finally{(ze||ce?.destroyOnReturn!==!1)&&(ze===void 0||ae._readableState.autoDestroy)?C.destroyer(ae,null):(ae.off("readable",Ve),un())}}a(le.prototype,{readable:{__proto__:null,get(){let ae=this._readableState;return!!ae&&ae.readable!==!1&&!ae.destroyed&&!ae.errorEmitted&&!ae.endEmitted},set(ae){this._readableState&&(this._readableState.readable=!!ae)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ae){this._readableState&&(this._readableState.flowing=ae)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ae){this._readableState&&(this._readableState.destroyed=ae)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(he.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[re]!==!1},set(ae){this[re]=!!ae}}}),le._fromList=kn;function kn(ae,ce){if(ce.length===0)return null;let Fe;return ce.objectMode?Fe=ce.buffer.shift():!ae||ae>=ce.length?(ce.decoder?Fe=ce.buffer.join(""):ce.buffer.length===1?Fe=ce.buffer.first():Fe=ce.buffer.concat(ce.length),ce.buffer.clear()):Fe=ce.buffer.consume(ae,ce.decoder),Fe}function Bn(ae){let ce=ae._readableState;E("endReadable",ce.endEmitted),ce.endEmitted||(ce.ended=!0,n.nextTick(Sn,ce,ae))}function Sn(ae,ce){if(E("endReadableNT",ae.endEmitted,ae.length),!ae.errored&&!ae.closeEmitted&&!ae.endEmitted&&ae.length===0){if(ae.endEmitted=!0,ce.emit("end"),ce.writable&&ce.allowHalfOpen===!1)n.nextTick(us,ce);else if(ae.autoDestroy){let Fe=ce._writableState;(!Fe||Fe.autoDestroy&&(Fe.finished||Fe.writable===!1))&&ce.destroy()}}}function us(ae){ae.writable&&!ae.writableEnded&&!ae.destroyed&&ae.end()}le.from=function(ae,ce){return ie(le,ae,ce)};var ai;function Pi(){return ai===void 0&&(ai={}),ai}le.fromWeb=function(ae,ce){return Pi().newStreamReadableFromReadableStream(ae,ce)},le.toWeb=function(ae,ce){return Pi().newReadableStreamFromStreamReadable(ae,ce)},le.wrap=function(ae,ce){var Fe,Ve;return new le({objectMode:(Fe=(Ve=ae.readableObjectMode)!==null&&Ve!==void 0?Ve:ae.objectMode)!==null&&Fe!==void 0?Fe:!0,...ce,destroy(ze,un){C.destroyer(ae,ze),un(ze)}}).wrap(ae)}}),w0=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{ArrayPrototypeSlice:r,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:f}=hn();e.exports=q,q.WritableState=Z;var{EventEmitter:h}=(Mo(),Kt(Ws)),d=b0().Stream,{Buffer:p}=(Hn(),Kt(Vn)),g=Wa(),{addAbortSignal:_}=th(),{getHighWaterMark:y,getDefaultHighWaterMark:m}=nh(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:K}=mr().codes,{errorOrDestroy:D}=g;l(q.prototype,d.prototype),l(q,d);function ee(){}var te=c("kOnFinished");function Z(N,M,V){typeof V!="boolean"&&(V=M instanceof ts()),this.objectMode=!!(N&&N.objectMode),V&&(this.objectMode=this.objectMode||!!(N&&N.writableObjectMode)),this.highWaterMark=N?y(this,N,"writableHighWaterMark",V):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let O=!!(N&&N.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=N&&N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ne.bind(void 0,M),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,fe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!N||N.emitClose!==!1,this.autoDestroy=!N||N.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[te]=[]}function fe(N){N.buffered=[],N.bufferedIndex=0,N.allBuffers=!0,N.allNoop=!0}Z.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},o(Z.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function q(N){let M=this instanceof ts();if(!M&&!s(q,this))return new q(N);this._writableState=new Z(N,this,M),N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final),typeof N.construct=="function"&&(this._construct=N.construct),N.signal&&_(N.signal,this)),d.call(this,N),g.construct(this,()=>{let V=this._writableState;V.writing||Ee(this,V),L(this,V)})}o(q,f,{__proto__:null,value:function(N){return s(this,N)?!0:this!==q?!1:N&&N._writableState instanceof Z}}),q.prototype.pipe=function(){D(this,new x)};function re(N,M,V,O){let z=N._writableState;if(typeof V=="function")O=V,V=z.defaultEncoding;else{if(!V)V=z.defaultEncoding;else if(V!=="buffer"&&!p.isEncoding(V))throw new K(V);typeof O!="function"&&(O=ee)}if(M===null)throw new R;if(!z.objectMode)if(typeof M=="string")z.decodeStrings!==!1&&(M=p.from(M,V),V="buffer");else if(M instanceof p)V="buffer";else if(d._isUint8Array(M))M=d._uint8ArrayToBuffer(M),V="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],M);let W;return z.ending?W=new j:z.destroyed&&(W=new C("write")),W?(n.nextTick(O,W),D(N,W,!0),W):(z.pendingcb++,me(N,z,M,V,O))}q.prototype.write=function(N,M,V){return re(this,N,M,V)===!0},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){let N=this._writableState;N.corked&&(N.corked--,N.writing||Ee(this,N))},q.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=u(N)),!p.isEncoding(N))throw new K(N);return this._writableState.defaultEncoding=N,this};function me(N,M,V,O,z){let W=M.objectMode?1:V.length;M.length+=W;let U=M.length<M.highWaterMark;return U||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:V,encoding:O,callback:z}),M.allBuffers&&O!=="buffer"&&(M.allBuffers=!1),M.allNoop&&z!==ee&&(M.allNoop=!1)):(M.writelen=W,M.writecb=z,M.writing=!0,M.sync=!0,N._write(V,O,M.onwrite),M.sync=!1),U&&!M.errored&&!M.destroyed}function ie(N,M,V,O,z,W,U){M.writelen=O,M.writecb=U,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new C("write")):V?N._writev(z,M.onwrite):N._write(z,W,M.onwrite),M.sync=!1}function X(N,M,V,O){--M.pendingcb,O(V),ge(M),D(N,V)}function ne(N,M){let V=N._writableState,O=V.sync,z=V.writecb;if(typeof z!="function"){D(N,new E);return}V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0,M?(M.stack,V.errored||(V.errored=M),N._readableState&&!N._readableState.errored&&(N._readableState.errored=M),O?n.nextTick(X,N,V,M,z):X(N,V,M,z)):(V.buffered.length>V.bufferedIndex&&Ee(N,V),O?V.afterWriteTickInfo!==null&&V.afterWriteTickInfo.cb===z?V.afterWriteTickInfo.count++:(V.afterWriteTickInfo={count:1,cb:z,stream:N,state:V},n.nextTick(pe,V.afterWriteTickInfo)):ve(N,V,1,z))}function pe({stream:N,state:M,count:V,cb:O}){return M.afterWriteTickInfo=null,ve(N,M,V,O)}function ve(N,M,V,O){for(!M.ending&&!N.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,N.emit("drain"));V-- >0;)M.pendingcb--,O();M.destroyed&&ge(M),L(N,M)}function ge(N){if(N.writing)return;for(let z=N.bufferedIndex;z<N.buffered.length;++z){var M;let{chunk:W,callback:U}=N.buffered[z],Q=N.objectMode?1:W.length;N.length-=Q,U((M=N.errored)!==null&&M!==void 0?M:new C("write"))}let V=N[te].splice(0);for(let z=0;z<V.length;z++){var O;V[z]((O=N.errored)!==null&&O!==void 0?O:new C("end"))}fe(N)}function Ee(N,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;let{buffered:V,bufferedIndex:O,objectMode:z}=M,W=V.length-O;if(!W)return;let U=O;if(M.bufferProcessing=!0,W>1&&N._writev){M.pendingcb-=W-1;let Q=M.allNoop?ee:le=>{for(let Oe=U;Oe<V.length;++Oe)V[Oe].callback(le)},he=M.allNoop&&U===0?V:r(V,U);he.allBuffers=M.allBuffers,ie(N,M,!0,M.length,he,"",Q),fe(M)}else{do{let{chunk:Q,encoding:he,callback:le}=V[U];V[U++]=null;let Oe=z?1:Q.length;ie(N,M,!1,Oe,Q,he,le)}while(U<V.length&&!M.writing);U===V.length?fe(M):U>256?(V.splice(0,U),M.bufferedIndex=0):M.bufferedIndex=U}M.bufferProcessing=!1}q.prototype._write=function(N,M,V){if(this._writev)this._writev([{chunk:N,encoding:M}],V);else throw new S("_write()")},q.prototype._writev=null,q.prototype.end=function(N,M,V){let O=this._writableState;typeof N=="function"?(V=N,N=null,M=null):typeof M=="function"&&(V=M,M=null);let z;if(N!=null){let W=re(this,N,M);W instanceof i&&(z=W)}return O.corked&&(O.corked=1,this.uncork()),z||(!O.errored&&!O.ending?(O.ending=!0,L(this,O,!0),O.ended=!0):O.finished?z=new k("end"):O.destroyed&&(z=new C("end"))),typeof V=="function"&&(z||O.finished?n.nextTick(V,z):O[te].push(V)),this};function J(N){return N.ending&&!N.destroyed&&N.constructed&&N.length===0&&!N.errored&&N.buffered.length===0&&!N.finished&&!N.writing&&!N.errorEmitted&&!N.closeEmitted}function G(N,M){let V=!1;function O(z){if(V){D(N,z??E());return}if(V=!0,M.pendingcb--,z){let W=M[te].splice(0);for(let U=0;U<W.length;U++)W[U](z);D(N,z,M.sync)}else J(M)&&(M.prefinished=!0,N.emit("prefinish"),M.pendingcb++,n.nextTick(Y,N,M))}M.sync=!0,M.pendingcb++;try{N._final(O)}catch(z){O(z)}M.sync=!1}function oe(N,M){!M.prefinished&&!M.finalCalled&&(typeof N._final=="function"&&!M.destroyed?(M.finalCalled=!0,G(N,M)):(M.prefinished=!0,N.emit("prefinish")))}function L(N,M,V){J(M)&&(oe(N,M),M.pendingcb===0&&(V?(M.pendingcb++,n.nextTick((O,z)=>{J(z)?Y(O,z):z.pendingcb--},N,M)):J(M)&&(M.pendingcb++,Y(N,M))))}function Y(N,M){M.pendingcb--,M.finished=!0;let V=M[te].splice(0);for(let O=0;O<V.length;O++)V[O]();if(N.emit("finish"),M.autoDestroy){let O=N._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&N.destroy()}}a(q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(N){this._writableState&&(this._writableState.destroyed=N)}},writable:{__proto__:null,get(){let N=this._writableState;return!!N&&N.writable!==!1&&!N.destroyed&&!N.errored&&!N.ending&&!N.ended},set(N){this._writableState&&(this._writableState.writable=!!N)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let N=this._writableState;return N?!N.destroyed&&!N.ending&&N.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var P=g.destroy;q.prototype.destroy=function(N,M){let V=this._writableState;return!V.destroyed&&(V.bufferedIndex<V.buffered.length||V[te].length)&&n.nextTick(ge,V),P.call(this,N,M),this},q.prototype._undestroy=g.undestroy,q.prototype._destroy=function(N,M){M(N)},q.prototype[h.captureRejectionSymbol]=function(N){this.destroy(N)};var I;function B(){return I===void 0&&(I={}),I}q.fromWeb=function(N,M){return B().newStreamWritableFromWritableStream(N,M)},q.toWeb=function(N){return B().newWritableStreamFromStreamWritable(N)}}),w6=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),r=(Hn(),Kt(Vn)),{isReadable:i,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:c,isReadableStream:f,isWritableStream:h}=os(),d=Vs(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:_}}=mr(),{destroyer:y}=Wa(),m=ts(),b=rh(),S=w0(),{createDeferredPromise:E}=yr(),x=LS(),C=globalThis.Blob||r.Blob,k=typeof C<"u"?function(te){return te instanceof C}:function(te){return!1},R=globalThis.AbortController||iu().AbortController,{FunctionPrototypeCall:j}=hn(),K=class extends m{constructor(te){super(te),te?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),te?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function te(Z,fe){if(c(Z))return Z;if(l(Z))return ee({readable:Z});if(u(Z))return ee({writable:Z});if(a(Z))return ee({writable:!1,readable:!1});if(f(Z))return ee({readable:b.fromWeb(Z)});if(h(Z))return ee({writable:S.fromWeb(Z)});if(typeof Z=="function"){let{value:re,write:me,final:ie,destroy:X}=D(Z);if(o(re))return x(K,re,{objectMode:!0,write:me,final:ie,destroy:X});let ne=re?.then;if(typeof ne=="function"){let pe,ve=j(ne,re,ge=>{if(ge!=null)throw new _("nully","body",ge)},ge=>{y(pe,ge)});return pe=new K({objectMode:!0,readable:!1,write:me,final(ge){ie(async()=>{try{await ve,n.nextTick(ge,null)}catch(Ee){n.nextTick(ge,Ee)}})},destroy:X})}throw new _("Iterable, AsyncIterable or AsyncFunction",fe,re)}if(k(Z))return te(Z.arrayBuffer());if(o(Z))return x(K,Z,{objectMode:!0,writable:!1});if(f(Z?.readable)&&h(Z?.writable))return K.fromWeb(Z);if(typeof Z?.writable=="object"||typeof Z?.readable=="object"){let re=Z!=null&&Z.readable?l(Z?.readable)?Z?.readable:te(Z.readable):void 0,me=Z!=null&&Z.writable?u(Z?.writable)?Z?.writable:te(Z.writable):void 0;return ee({readable:re,writable:me})}let q=Z?.then;if(typeof q=="function"){let re;return j(q,Z,me=>{me!=null&&re.push(me),re.push(null)},me=>{y(re,me)}),re=new K({objectMode:!0,writable:!1,read(){}})}throw new g(fe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Z)};function D(te){let{promise:Z,resolve:fe}=E(),q=new R,re=q.signal;return{value:te((async function*(){for(;;){let me=Z;Z=null;let{chunk:ie,done:X,cb:ne}=await me;if(n.nextTick(ne),X)return;if(re.aborted)throw new p(void 0,{cause:re.reason});({promise:Z,resolve:fe}=E()),yield ie}})(),{signal:re}),write(me,ie,X){let ne=fe;fe=null,ne({chunk:me,done:!1,cb:X})},final(me){let ie=fe;fe=null,ie({done:!0,cb:me})},destroy(me,ie){q.abort(),ie(me)}}}function ee(te){let Z=te.readable&&typeof te.readable.read!="function"?b.wrap(te.readable):te.readable,fe=te.writable,q=!!i(Z),re=!!s(fe),me,ie,X,ne,pe;function ve(ge){let Ee=ne;ne=null,Ee?Ee(ge):ge&&pe.destroy(ge)}return pe=new K({readableObjectMode:!!(Z!=null&&Z.readableObjectMode),writableObjectMode:!!(fe!=null&&fe.writableObjectMode),readable:q,writable:re}),re&&(d(fe,ge=>{re=!1,ge&&y(Z,ge),ve(ge)}),pe._write=function(ge,Ee,J){fe.write(ge,Ee)?J():me=J},pe._final=function(ge){fe.end(),ie=ge},fe.on("drain",function(){if(me){let ge=me;me=null,ge()}}),fe.on("finish",function(){if(ie){let ge=ie;ie=null,ge()}})),q&&(d(Z,ge=>{q=!1,ge&&y(Z,ge),ve(ge)}),Z.on("readable",function(){if(X){let ge=X;X=null,ge()}}),Z.on("end",function(){pe.push(null)}),pe._read=function(){for(;;){let ge=Z.read();if(ge===null){X=pe._read;return}if(!pe.push(ge))return}}),pe._destroy=function(ge,Ee){!ge&&ne!==null&&(ge=new p),X=null,me=null,ie=null,ne===null?Ee(ge):(ne=Ee,y(fe,ge),y(Z,ge))},pe}}),ts=De((t,e)=>{Te(),Pe(),Ie();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:i,ObjectSetPrototypeOf:s}=hn();e.exports=l;var o=rh(),a=w0();s(l.prototype,o.prototype),s(l,o);{let h=i(a.prototype);for(let d=0;d<h.length;d++){let p=h[d];l.prototype[p]||(l.prototype[p]=a.prototype[p])}}function l(h){if(!(this instanceof l))return new l(h);o.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(l.prototype,{writable:{__proto__:null,...r(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(a.prototype,"writableLength")},writableFinished:{__proto__:null,...r(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});var u;function c(){return u===void 0&&(u={}),u}l.fromWeb=function(h,d){return c().newStreamDuplexFromReadableWritablePair(h,d)},l.toWeb=function(h){return c().newReadableWritablePairFromDuplex(h)};var f;l.from=function(h){return f||(f=w6()),f(h,"body")}}),FS=De((t,e)=>{Te(),Pe(),Ie();var{ObjectSetPrototypeOf:n,Symbol:r}=hn();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=mr().codes,s=ts(),{getHighWaterMark:o}=nh();n(l.prototype,s.prototype),n(l,s);var a=r("kCallback");function l(f){if(!(this instanceof l))return new l(f);let h=f?o(this,f,"readableHighWaterMark",!0):null;h===0&&(f={...f,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:f.writableHighWaterMark||0}),s.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function u(f){typeof this._flush=="function"&&!this.destroyed?this._flush((h,d)=>{if(h){f?f(h):this.destroy(h);return}d!=null&&this.push(d),this.push(null),f&&f()}):(this.push(null),f&&f())}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(f,h,d){throw new i("_transform()")},l.prototype._write=function(f,h,d){let p=this._readableState,g=this._writableState,_=p.length;this._transform(f,h,(y,m)=>{if(y){d(y);return}m!=null&&this.push(m),g.ended||_===p.length||p.length<p.highWaterMark?d():this[a]=d})},l.prototype._read=function(){if(this[a]){let f=this[a];this[a]=null,f()}}}),BS=De((t,e)=>{Te(),Pe(),Ie();var{ObjectSetPrototypeOf:n}=hn();e.exports=i;var r=FS();n(i.prototype,r.prototype),n(i,r);function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}i.prototype._transform=function(s,o,a){a(null,s)}}),E0=De((t,e)=>{Te(),Pe(),Ie();var n=Do(),{ArrayIsArray:r,Promise:i,SymbolAsyncIterator:s,SymbolDispose:o}=hn(),a=Vs(),{once:l}=yr(),u=Wa(),c=ts(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:y}=mr(),{validateFunction:m,validateAbortSignal:b}=vu(),{isIterable:S,isReadable:E,isReadableNodeStream:x,isNodeStream:C,isTransformStream:k,isWebStream:R,isReadableStream:j,isReadableFinished:K}=os(),D=globalThis.AbortController||iu().AbortController,ee,te,Z;function fe(ge,Ee,J){let G=!1;ge.on("close",()=>{G=!0});let oe=a(ge,{readable:Ee,writable:J},L=>{G=!L});return{destroy:L=>{G||(G=!0,u.destroyer(ge,L||new g("pipe")))},cleanup:oe}}function q(ge){return m(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}function re(ge){if(S(ge))return ge;if(x(ge))return me(ge);throw new h("val",["Readable","Iterable","AsyncIterable"],ge)}async function*me(ge){te||(te=rh()),yield*te.prototype[s].call(ge)}async function ie(ge,Ee,J,{end:G}){let oe,L=null,Y=B=>{if(B&&(oe=B),L){let N=L;L=null,N()}},P=()=>new i((B,N)=>{oe?N(oe):L=()=>{oe?N(oe):B()}});Ee.on("drain",Y);let I=a(Ee,{readable:!1},Y);try{Ee.writableNeedDrain&&await P();for await(let B of ge)Ee.write(B)||await P();G&&(Ee.end(),await P()),J()}catch(B){J(oe!==B?f(oe,B):B)}finally{I(),Ee.off("drain",Y)}}async function X(ge,Ee,J,{end:G}){k(Ee)&&(Ee=Ee.writable);let oe=Ee.getWriter();try{for await(let L of ge)await oe.ready,oe.write(L).catch(()=>{});await oe.ready,G&&await oe.close(),J()}catch(L){try{await oe.abort(L),J(L)}catch(Y){J(Y)}}}function ne(...ge){return pe(ge,l(q(ge)))}function pe(ge,Ee,J){if(ge.length===1&&r(ge[0])&&(ge=ge[0]),ge.length<2)throw new p("streams");let G=new D,oe=G.signal,L=J?.signal,Y=[];b(L,"options.signal");function P(){z(new y)}Z=Z||yr().addAbortListener;let I;L&&(I=Z(L,P));let B,N,M=[],V=0;function O(he){z(he,--V===0)}function z(he,le){var Oe;if(he&&(!B||B.code==="ERR_STREAM_PREMATURE_CLOSE")&&(B=he),!(!B&&!le)){for(;M.length;)M.shift()(B);(Oe=I)===null||Oe===void 0||Oe[o](),G.abort(),le&&(B||Y.forEach(w=>w()),n.nextTick(Ee,B,N))}}let W;for(let he=0;he<ge.length;he++){let le=ge[he],Oe=he<ge.length-1,w=he>0,A=Oe||J?.end!==!1,F=he===ge.length-1;if(C(le)){let de=function(_e){_e&&_e.name!=="AbortError"&&_e.code!=="ERR_STREAM_PREMATURE_CLOSE"&&O(_e)};if(A){let{destroy:_e,cleanup:xe}=fe(le,Oe,w);M.push(_e),E(le)&&F&&Y.push(xe)}le.on("error",de),E(le)&&F&&Y.push(()=>{le.removeListener("error",de)})}if(he===0)if(typeof le=="function"){if(W=le({signal:oe}),!S(W))throw new d("Iterable, AsyncIterable or Stream","source",W)}else S(le)||x(le)||k(le)?W=le:W=c.from(le);else if(typeof le=="function"){if(k(W)){var U;W=re((U=W)===null||U===void 0?void 0:U.readable)}else W=re(W);if(W=le(W,{signal:oe}),Oe){if(!S(W,!0))throw new d("AsyncIterable",`transform[${he-1}]`,W)}else{var Q;ee||(ee=BS());let de=new ee({objectMode:!0}),_e=(Q=W)===null||Q===void 0?void 0:Q.then;if(typeof _e=="function")V++,_e.call(W,ye=>{N=ye,ye!=null&&de.write(ye),A&&de.end(),n.nextTick(O)},ye=>{de.destroy(ye),n.nextTick(O,ye)});else if(S(W,!0))V++,ie(W,de,O,{end:A});else if(j(W)||k(W)){let ye=W.readable||W;V++,ie(ye,de,O,{end:A})}else throw new d("AsyncIterable or Promise","destination",W);W=de;let{destroy:xe,cleanup:Re}=fe(W,!1,!0);M.push(xe),F&&Y.push(Re)}}else if(C(le)){if(x(W)){V+=2;let de=ve(W,le,O,{end:A});E(le)&&F&&Y.push(de)}else if(k(W)||j(W)){let de=W.readable||W;V++,ie(de,le,O,{end:A})}else if(S(W))V++,ie(W,le,O,{end:A});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=le}else if(R(le)){if(x(W))V++,X(re(W),le,O,{end:A});else if(j(W)||S(W))V++,X(W,le,O,{end:A});else if(k(W))V++,X(W.readable,le,O,{end:A});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=le}else W=c.from(le)}return(oe!=null&&oe.aborted||L!=null&&L.aborted)&&n.nextTick(P),W}function ve(ge,Ee,J,{end:G}){let oe=!1;if(Ee.on("close",()=>{oe||J(new _)}),ge.pipe(Ee,{end:!1}),G){let L=function(){oe=!0,Ee.end()};K(ge)?n.nextTick(L):ge.once("end",L)}else J();return a(ge,{readable:!0,writable:!1},L=>{let Y=ge._readableState;L&&L.code==="ERR_STREAM_PREMATURE_CLOSE"&&Y&&Y.ended&&!Y.errored&&!Y.errorEmitted?ge.once("end",J).once("error",J):J(L)}),a(Ee,{readable:!1,writable:!0},J)}e.exports={pipelineImpl:pe,pipeline:ne}}),jS=De((t,e)=>{Te(),Pe(),Ie();var{pipeline:n}=E0(),r=ts(),{destroyer:i}=Wa(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:u,isWritableStream:c,isReadableStream:f}=os(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:p}}=mr(),g=Vs();e.exports=function(..._){if(_.length===0)throw new p("streams");if(_.length===1)return r.from(_[0]);let y=[..._];if(typeof _[0]=="function"&&(_[0]=r.from(_[0])),typeof _[_.length-1]=="function"){let D=_.length-1;_[D]=r.from(_[D])}for(let D=0;D<_.length;++D)if(!(!s(_[D])&&!l(_[D]))){if(D<_.length-1&&!(o(_[D])||f(_[D])||u(_[D])))throw new d(`streams[${D}]`,y[D],"must be readable");if(D>0&&!(a(_[D])||c(_[D])||u(_[D])))throw new d(`streams[${D}]`,y[D],"must be writable")}let m,b,S,E,x;function C(D){let ee=E;E=null,ee?ee(D):D?x.destroy(D):!K&&!j&&x.destroy()}let k=_[0],R=n(_,C),j=!!(a(k)||c(k)||u(k)),K=!!(o(R)||f(R)||u(R));if(x=new r({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(R!=null&&R.readableObjectMode),writable:j,readable:K}),j){if(s(k))x._write=function(ee,te,Z){k.write(ee,te)?Z():m=Z},x._final=function(ee){k.end(),b=ee},k.on("drain",function(){if(m){let ee=m;m=null,ee()}});else if(l(k)){let ee=(u(k)?k.writable:k).getWriter();x._write=async function(te,Z,fe){try{await ee.ready,ee.write(te).catch(()=>{}),fe()}catch(q){fe(q)}},x._final=async function(te){try{await ee.ready,ee.close().catch(()=>{}),b=te}catch(Z){te(Z)}}}let D=u(R)?R.readable:R;g(D,()=>{if(b){let ee=b;b=null,ee()}})}if(K){if(s(R))R.on("readable",function(){if(S){let D=S;S=null,D()}}),R.on("end",function(){x.push(null)}),x._read=function(){for(;;){let D=R.read();if(D===null){S=x._read;return}if(!x.push(D))return}};else if(l(R)){let D=(u(R)?R.readable:R).getReader();x._read=async function(){for(;;)try{let{value:ee,done:te}=await D.read();if(!x.push(ee))return;if(te){x.push(null);return}}catch{return}}}}return x._destroy=function(D,ee){!D&&E!==null&&(D=new h),S=null,m=null,b=null,E===null?ee(D):(E=ee,s(R)&&i(R,D))},x}}),E6=De((t,e)=>{Te(),Pe(),Ie();var n=globalThis.AbortController||iu().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=mr(),{validateAbortSignal:l,validateInteger:u,validateObject:c}=vu(),f=hn().Symbol("kWeak"),h=hn().Symbol("kResistStopPropagation"),{finished:d}=Vs(),p=jS(),{addAbortSignalNoValidate:g}=th(),{isWritable:_,isNodeStream:y}=os(),{deprecate:m}=yr(),{ArrayPrototypePush:b,Boolean:S,MathFloor:E,Number:x,NumberIsNaN:C,Promise:k,PromiseReject:R,PromiseResolve:j,PromisePrototypeThen:K,Symbol:D}=hn(),ee=D("kEmpty"),te=D("kEof");function Z(L,Y){if(Y!=null&&c(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),y(L)&&!_(L))throw new r("stream",L,"must be writable");let P=p(this,L);return Y!=null&&Y.signal&&g(Y.signal,P),P}function fe(L,Y){if(typeof L!="function")throw new i("fn",["Function","AsyncFunction"],L);Y!=null&&c(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal");let P=1;Y?.concurrency!=null&&(P=E(Y.concurrency));let I=P-1;return Y?.highWaterMark!=null&&(I=E(Y.highWaterMark)),u(P,"options.concurrency",1),u(I,"options.highWaterMark",0),I+=P,(async function*(){let B=yr().AbortSignalAny([Y?.signal].filter(S)),N=this,M=[],V={signal:B},O,z,W=!1,U=0;function Q(){W=!0,he()}function he(){U-=1,le()}function le(){z&&!W&&U<P&&M.length<I&&(z(),z=null)}async function Oe(){try{for await(let w of N){if(W)return;if(B.aborted)throw new a;try{if(w=L(w,V),w===ee)continue;w=j(w)}catch(A){w=R(A)}U+=1,K(w,he,Q),M.push(w),O&&(O(),O=null),!W&&(M.length>=I||U>=P)&&await new k(A=>{z=A})}M.push(te)}catch(w){let A=R(w);K(A,he,Q),M.push(A)}finally{W=!0,O&&(O(),O=null)}}Oe();try{for(;;){for(;M.length>0;){let w=await M[0];if(w===te)return;if(B.aborted)throw new a;w!==ee&&(yield w),M.shift(),le()}await new k(w=>{O=w})}}finally{W=!0,z&&(z(),z=null)}}).call(this)}function q(L=void 0){return L!=null&&c(L,"options"),L?.signal!=null&&l(L.signal,"options.signal"),(async function*(){let Y=0;for await(let I of this){var P;if(L!=null&&(P=L.signal)!==null&&P!==void 0&&P.aborted)throw new a({cause:L.signal.reason});yield[Y++,I]}}).call(this)}async function re(L,Y=void 0){for await(let P of ne.call(this,L,Y))return!0;return!1}async function me(L,Y=void 0){if(typeof L!="function")throw new i("fn",["Function","AsyncFunction"],L);return!await re.call(this,async(...P)=>!await L(...P),Y)}async function ie(L,Y){for await(let P of ne.call(this,L,Y))return P}async function X(L,Y){if(typeof L!="function")throw new i("fn",["Function","AsyncFunction"],L);async function P(I,B){return await L(I,B),ee}for await(let I of fe.call(this,P,Y));}function ne(L,Y){if(typeof L!="function")throw new i("fn",["Function","AsyncFunction"],L);async function P(I,B){return await L(I,B)?I:ee}return fe.call(this,P,Y)}var pe=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ve(L,Y,P){var I;if(typeof L!="function")throw new i("reducer",["Function","AsyncFunction"],L);P!=null&&c(P,"options"),P?.signal!=null&&l(P.signal,"options.signal");let B=arguments.length>1;if(P!=null&&(I=P.signal)!==null&&I!==void 0&&I.aborted){let z=new a(void 0,{cause:P.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(z)),z}let N=new n,M=N.signal;if(P!=null&&P.signal){let z={once:!0,[f]:this,[h]:!0};P.signal.addEventListener("abort",()=>N.abort(),z)}let V=!1;try{for await(let z of this){var O;if(V=!0,P!=null&&(O=P.signal)!==null&&O!==void 0&&O.aborted)throw new a;B?Y=await L(Y,z,{signal:M}):(Y=z,B=!0)}if(!V&&!B)throw new pe}finally{N.abort()}return Y}async function ge(L){L!=null&&c(L,"options"),L?.signal!=null&&l(L.signal,"options.signal");let Y=[];for await(let I of this){var P;if(L!=null&&(P=L.signal)!==null&&P!==void 0&&P.aborted)throw new a(void 0,{cause:L.signal.reason});b(Y,I)}return Y}function Ee(L,Y){let P=fe.call(this,L,Y);return(async function*(){for await(let I of P)yield*I}).call(this)}function J(L){if(L=x(L),C(L))return 0;if(L<0)throw new o("number",">= 0",L);return L}function G(L,Y=void 0){return Y!=null&&c(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),L=J(L),(async function*(){var P;if(Y!=null&&(P=Y.signal)!==null&&P!==void 0&&P.aborted)throw new a;for await(let B of this){var I;if(Y!=null&&(I=Y.signal)!==null&&I!==void 0&&I.aborted)throw new a;L--<=0&&(yield B)}}).call(this)}function oe(L,Y=void 0){return Y!=null&&c(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),L=J(L),(async function*(){var P;if(Y!=null&&(P=Y.signal)!==null&&P!==void 0&&P.aborted)throw new a;for await(let B of this){var I;if(Y!=null&&(I=Y.signal)!==null&&I!==void 0&&I.aborted)throw new a;if(L-- >0&&(yield B),L<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:m(q,"readable.asIndexedPairs will be removed in a future version."),drop:G,filter:ne,flatMap:Ee,map:fe,take:oe,compose:Z},e.exports.promiseReturningOperators={every:me,forEach:X,reduce:ve,toArray:ge,some:re,find:ie}}),$S=De((t,e)=>{Te(),Pe(),Ie();var{ArrayPrototypePop:n,Promise:r}=hn(),{isIterable:i,isNodeStream:s,isWebStream:o}=os(),{pipelineImpl:a}=E0(),{finished:l}=Vs();US();function u(...c){return new r((f,h)=>{let d,p,g=c[c.length-1];if(g&&typeof g=="object"&&!s(g)&&!i(g)&&!o(g)){let _=n(c);d=_.signal,p=_.end}a(c,(_,y)=>{_?h(_):f(y)},{signal:d,end:p})})}e.exports={finished:l,pipeline:u}}),US=De((t,e)=>{Te(),Pe(),Ie();var{Buffer:n}=(Hn(),Kt(Vn)),{ObjectDefineProperty:r,ObjectKeys:i,ReflectApply:s}=hn(),{promisify:{custom:o}}=yr(),{streamReturningOperators:a,promiseReturningOperators:l}=E6(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=mr(),c=jS(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=nh(),{pipeline:d}=E0(),{destroyer:p}=Wa(),g=Vs(),_=$S(),y=os(),m=e.exports=b0().Stream;m.isDestroyed=y.isDestroyed,m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.isWritable=y.isWritable,m.Readable=rh();for(let S of i(a)){let E=function(...C){if(new.target)throw u();return m.Readable.from(s(x,this,C))},x=a[S];r(E,"name",{__proto__:null,value:x.name}),r(E,"length",{__proto__:null,value:x.length}),r(m.Readable.prototype,S,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(let S of i(l)){let E=function(...C){if(new.target)throw u();return s(x,this,C)},x=l[S];r(E,"name",{__proto__:null,value:x.name}),r(E,"length",{__proto__:null,value:x.length}),r(m.Readable.prototype,S,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}m.Writable=w0(),m.Duplex=ts(),m.Transform=FS(),m.PassThrough=BS(),m.pipeline=d;var{addAbortSignal:b}=th();m.addAbortSignal=b,m.finished=g,m.destroy=p,m.compose=c,m.setDefaultHighWaterMark=f,m.getDefaultHighWaterMark=h,r(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),r(d,o,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),r(g,o,{__proto__:null,enumerable:!0,get(){return _.finished}}),m.Stream=m,m._isUint8Array=function(S){return S instanceof Uint8Array},m._uint8ArrayToBuffer=function(S){return n.from(S.buffer,S.byteOffset,S.byteLength)}}),Ro=De((t,e)=>{Te(),Pe(),Ie();var n=US(),r=$S(),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=n.Stream,e.exports.default=e.exports}),S6=De((t,e)=>{Te(),Pe(),Ie(),typeof Object.create=="function"?e.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),C6=De((t,e)=>{Te(),Pe(),Ie();var{Buffer:n}=(Hn(),Kt(Vn)),r=Symbol.for("BufferList");function i(s){if(!(this instanceof i))return new i(s);i._init.call(this,s)}i._init=function(s){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},i.prototype._new=function(s){return new i(s)},i.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},i.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},i.prototype.getBuffers=function(){return this._bufs},i.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},i.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},i.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||n.alloc(0);let u=!!s,c=this._offset(a),f=l-a,h=f,d=u&&o||0,p=c[1];if(a===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(s,d),d+=this._bufs[g].length;return s}if(h<=this._bufs[c[0]].length-p)return u?this._bufs[c[0]].copy(s,o,p,p+h):this._bufs[c[0]].slice(p,p+h);u||(s=n.allocUnsafe(f));for(let g=c[0];g<this._bufs.length;g++){let _=this._bufs[g].length-p;if(h>_)this._bufs[g].copy(s,d,p),d+=_;else{this._bufs[g].copy(s,d,p,p+h),d+=_;break}h-=_,p&&(p=0)}return s.length>d?s.slice(0,d):s},i.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),u=this._bufs.slice(a[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),a[1]!==0&&(u[0]=u[0].slice(a[1])),this._new(u)},i.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},i.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},i.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},i.prototype.append=function(s){return this._attach(s,i.prototype._appendBuffer)},i.prototype.prepend=function(s){return this._attach(s,i.prototype._prependBuffer,!0)},i.prototype._attach=function(s,o,a){if(s==null)return this;if(s.buffer)o.call(this,n.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s)){let[l,u]=a?[s.length-1,-1]:[0,1];for(let c=l;c>=0&&c<s.length;c+=u)this._attach(s[c],o,a)}else if(this._isBufferList(s)){let[l,u]=a?[s._bufs.length-1,-1]:[0,1];for(let c=l;c>=0&&c<s._bufs.length;c+=u)this._attach(s._bufs[c],o,a)}else typeof s=="number"&&(s=s.toString()),o.call(this,n.from(s));return this},i.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},i.prototype._prependBuffer=function(s){this._bufs.unshift(s),this.length+=s.length},i.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=n.from([s]):typeof s=="string"?s=n.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=n.from(s.buffer,s.byteOffset,s.byteLength):n.isBuffer(s)||(s=n.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),u=l[0],c=l[1];for(;u<this._bufs.length;u++){let f=this._bufs[u];for(;c<f.length;)if(f.length-c>=s.length){let h=f.indexOf(s,c);if(h!==-1)return this._reverseOffset([u,h]);c=f.length-s.length+1}else{let h=this._reverseOffset([u,c]);if(this._match(h,s))return h;c++}c=0}return-1},i.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},(function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?i.prototype[a]=function(l,u){return this.slice(l,l+u)[a](0,u)}:i.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)})(),i.prototype._isBufferList=function(s){return s instanceof i||i.isBufferList(s)},i.isBufferList=function(s){return s!=null&&s[r]},e.exports=i}),x6=De((t,e)=>{Te(),Pe(),Ie();var n=Ro().Duplex,r=S6(),i=C6();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}i._init.call(this,o),n.call(this)}r(s,n),Object.assign(s.prototype,i.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){n.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof i||s.isBufferList(o)},s.isBufferList=i.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=i}),A6=De((t,e)=>{Te(),Pe(),Ie();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=n}),WS=De((t,e)=>{Te(),Pe(),Ie();var n=e.exports,{Buffer:r}=(Hn(),Kt(Vn));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let s in n.requiredHeaderFlags){let o=n.requiredHeaderFlags[s];n.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+n.types[s]+" packet"}n.codes={};for(let s in n.types){let o=n.types[s];n.codes[o]=s}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let s in n.properties){let o=n.properties[s];n.propertiesCodes[o]=s}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let u=r.alloc(1);return u.writeUInt8(n.codes[s]<<n.CMD_SHIFT|(a?n.DUP_MASK:0)|o<<n.QOS_SHIFT|l,0,!0),u})))}n.PUBLISH_HEADER=i("publish"),n.SUBSCRIBE_HEADER=i("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=i("unsubscribe"),n.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(s=>r.from([s])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),k6=De((t,e)=>{Te(),Pe(),Ie();var n=1e3,r=n*60,i=r*60,s=i*24,o=s*7,a=s*365.25;e.exports=function(h,d){d=d||{};var p=typeof h;if(p==="string"&&h.length>0)return l(h);if(p==="number"&&isFinite(h))return d.long?c(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(d){var p=parseFloat(d[1]),g=(d[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*s;case"hours":case"hour":case"hrs":case"hr":case"h":return p*i;case"minutes":case"minute":case"mins":case"min":case"m":return p*r;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function u(h){var d=Math.abs(h);return d>=s?Math.round(h/s)+"d":d>=i?Math.round(h/i)+"h":d>=r?Math.round(h/r)+"m":d>=n?Math.round(h/n)+"s":h+"ms"}function c(h){var d=Math.abs(h);return d>=s?f(h,d,s,"day"):d>=i?f(h,d,i,"hour"):d>=r?f(h,d,r,"minute"):d>=n?f(h,d,n,"second"):h+" ms"}function f(h,d,p,g){var _=d>=p*1.5;return Math.round(h/p)+" "+g+(_?"s":"")}}),T6=De((t,e)=>{Te(),Pe(),Ie();function n(r){s.debug=s,s.default=s,s.coerce=f,s.disable=u,s.enable=a,s.enabled=c,s.humanize=k6(),s.destroy=h,Object.keys(r).forEach(d=>{s[d]=r[d]}),s.names=[],s.skips=[],s.formatters={};function i(d){let p=0;for(let g=0;g<d.length;g++)p=(p<<5)-p+d.charCodeAt(g),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=i;function s(d){let p,g=null,_,y;function m(...b){if(!m.enabled)return;let S=m,E=Number(new Date),x=E-(p||E);S.diff=x,S.prev=p,S.curr=E,p=E,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(k,R)=>{if(k==="%%")return"%";C++;let j=s.formatters[R];if(typeof j=="function"){let K=b[C];k=j.call(S,K),b.splice(C,1),C--}return k}),s.formatArgs.call(S,b),(S.log||s.log).apply(S,b)}return m.namespace=d,m.useColors=s.useColors(),m.color=s.selectColor(d),m.extend=o,m.destroy=s.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(_!==s.namespaces&&(_=s.namespaces,y=s.enabled(d)),y),set:b=>{g=b}}),typeof s.init=="function"&&s.init(m),m}function o(d,p){let g=s(this.namespace+(typeof p>"u"?":":p)+d);return g.log=this.log,g}function a(d){s.save(d),s.namespaces=d,s.names=[],s.skips=[];let p=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of p)g[0]==="-"?s.skips.push(g.slice(1)):s.names.push(g)}function l(d,p){let g=0,_=0,y=-1,m=0;for(;g<d.length;)if(_<p.length&&(p[_]===d[g]||p[_]==="*"))p[_]==="*"?(y=_,m=g,_++):(g++,_++);else if(y!==-1)_=y+1,m++,g=m;else return!1;for(;_<p.length&&p[_]==="*";)_++;return _===p.length}function u(){let d=[...s.names,...s.skips.map(p=>"-"+p)].join(",");return s.enable(""),d}function c(d){for(let p of s.skips)if(l(d,p))return!1;for(let p of s.names)if(l(d,p))return!0;return!1}function f(d){return d instanceof Error?d.stack||d.message:d}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}e.exports=n}),ns=De((t,e)=>{Te(),Pe(),Ie(),t.formatArgs=r,t.save=i,t.load=s,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(c++,h==="%c"&&(f=c))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof nn<"u"&&"env"in nn&&(l=nn.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=T6()(t);var{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),I6=De((t,e)=>{Te(),Pe(),Ie();var n=x6(),{EventEmitter:r}=(Mo(),Kt(Ws)),i=A6(),s=WS(),o=ns()("mqtt-packet:parser"),a=class bm extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof bm?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new bm().parser(u)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=n(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let f=u&15,h=s.requiredHeaderFlags[c];return h!=null&&f!==h?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&s.RETAIN_MASK)!==0,this.packet.qos=u>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),o("_parseLength %d",u.value),!!u}_parsePayload(){o("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return o("_parsePayload complete result: %s",u),u}_parseConnect(){o("_parseConnect");let u,c,f,h,d={},p=this.packet,g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse protocolId"));if(g!=="MQTT"&&g!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(p.protocolId=g,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.protocolVersion=this._list.readUInt8(this._pos),p.protocolVersion>=128&&(p.bridgeMode=!0,p.protocolVersion=p.protocolVersion-128),p.protocolVersion!==3&&p.protocolVersion!==4&&p.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));d.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,d.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,d.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let _=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),y=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(d.will)p.will={},p.will.retain=_,p.will.qos=y;else{if(_)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(y)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(p.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,p.keepalive=this._parseNum(),p.keepalive===-1)return this._emitError(new Error("Packet too short"));if(p.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(p.properties=b)}let m=this._parseString();if(m===null)return this._emitError(new Error("Packet too short"));if(p.clientId=m,o("_parseConnect: packet.clientId: %s",p.clientId),d.will){if(p.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(p.will.properties=b)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(p.will.topic=u,o("_parseConnect: packet.will.topic: %s",p.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));p.will.payload=c,o("_parseConnect: packet.will.paylaod: %s",p.will.payload)}if(d.username){if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse username"));p.username=h,o("_parseConnect: packet.username: %s",p.username)}if(d.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));p.password=f}return this.settings=p,o("_parseConnect: complete"),p}_parseConnack(){o("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(u.properties=f)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),o("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){o("_parseSubscribe");let u=this.packet,c,f,h,d,p,g,_;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(u.properties=y)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(h=f&s.SUBSCRIBE_OPTIONS_QOS_MASK,h>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(g=(f>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,p=(f>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,d=f>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,d>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));_={topic:c,qos:h},this.settings.protocolVersion===5?(_.nl=g,_.rap=p,_.rh=d):this.settings.bridgeMode&&(_.rh=0,_.rap=!0,_.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",_),u.subscriptions.push(_)}}}_parseSuback(){o("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){o("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),o("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),f=c+this._pos;if(c===-1||f>this._list.length||f>this.packet.length)return null;let h=this._list.toString("utf8",this._pos,f);return this._pos+=c,o("_parseString: result: %s",h),h}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let f=this._list.slice(this._pos,c);return this._pos+=u,o("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){o("_parseVarByteNum");let c=4,f=0,h=1,d=0,p=!1,g,_=this._pos?this._pos:0;for(;f<c&&_+f<this._list.length;){if(g=this._list.readUInt8(_+f++),d+=h*(g&s.VARBYTEINT_MASK),h*=128,(g&s.VARBYTEINT_FIN_MASK)===0){p=!0;break}if(this._list.length<=f)break}return!p&&f===c&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),_&&(this._pos+=f),p?u?p={bytes:f,value:d}:p=d:p=!1,o("_parseVarByteNum: result: %o",p),p}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",u),u}_parseByType(u){switch(o("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,f={};for(;this._pos<c;){let h=this._parseByte();if(!h)return this._emitError(new Error("Cannot parse property code type")),!1;let d=s.propertiesCodes[h];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){f[d]||(f[d]=Object.create(null));let p=this._parseByType(s.propertiesTypes[d]);if(f[d][p.name])if(Array.isArray(f[d][p.name]))f[d][p.name].push(p.value);else{let g=f[d][p.name];f[d][p.name]=[g],f[d][p.name].push(p.value)}else f[d][p.name]=p.value;continue}f[d]?Array.isArray(f[d])?f[d].push(this._parseByType(s.propertiesTypes[d])):(f[d]=[f[d]],f[d].push(this._parseByType(s.propertiesTypes[d]))):f[d]=this._parseByType(s.propertiesTypes[d])}return f}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(u){o("_emitError",u),this.error=u,this.emit("error",u)}};e.exports=a}),P6=De((t,e)=>{Te(),Pe(),Ie();var{Buffer:n}=(Hn(),Kt(Vn)),r=65536,i={},s=n.isBuffer(n.from([1,2]).subarray(0,1));function o(c){let f=n.allocUnsafe(2);return f.writeUInt8(c>>8,0),f.writeUInt8(c&255,1),f}function a(){for(let c=0;c<r;c++)i[c]=o(c)}function l(c){let f=0,h=0,d=n.allocUnsafe(4);do f=c%128|0,c=c/128|0,c>0&&(f=f|128),d.writeUInt8(f,h++);while(c>0&&h<4);return c>0&&(h=0),s?d.subarray(0,h):d.slice(0,h)}function u(c){let f=n.allocUnsafe(4);return f.writeUInt32BE(c,0),f}e.exports={cache:i,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:u}}),O6=De((t,e)=>{Te(),Pe(),Ie(),typeof nn>"u"||!nn.version||nn.version.indexOf("v0.")===0||nn.version.indexOf("v1.")===0&&nn.version.indexOf("v1.8.")!==0?e.exports={nextTick:n}:e.exports=nn;function n(r,i,s,o){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,u;switch(a){case 0:case 1:return nn.nextTick(r);case 2:return nn.nextTick(function(){r.call(null,i)});case 3:return nn.nextTick(function(){r.call(null,i,s)});case 4:return nn.nextTick(function(){r.call(null,i,s,o)});default:for(l=new Array(a-1),u=0;u<l.length;)l[u++]=arguments[u];return nn.nextTick(function(){r.apply(null,l)})}}}),VS=De((t,e)=>{Te(),Pe(),Ie();var n=WS(),{Buffer:r}=(Hn(),Kt(Vn)),i=r.allocUnsafe(0),s=r.from([0]),o=P6(),a=O6().nextTick,l=ns()("mqtt-packet:writeToStream"),u=o.cache,c=o.generateNumber,f=o.generateCache,h=o.genBufVariableByteInt,d=o.generate4ByteBuffer,p=q,g=!0;function _(J,G,oe){switch(l("generate called"),G.cork&&(G.cork(),a(y,G)),g&&(g=!1,f()),l("generate: packet.cmd: %s",J.cmd),J.cmd){case"connect":return m(J,G);case"connack":return b(J,G,oe);case"publish":return S(J,G,oe);case"puback":case"pubrec":case"pubrel":case"pubcomp":return E(J,G,oe);case"subscribe":return x(J,G,oe);case"suback":return C(J,G,oe);case"unsubscribe":return k(J,G,oe);case"unsuback":return R(J,G,oe);case"pingreq":case"pingresp":return j(J,G);case"disconnect":return K(J,G,oe);case"auth":return D(J,G,oe);default:return G.destroy(new Error("Unknown command")),!1}}Object.defineProperty(_,"cacheNumbers",{get(){return p===q},set(J){J?((!u||Object.keys(u).length===0)&&(g=!0),p=q):(g=!1,p=re)}});function y(J){J.uncork()}function m(J,G,oe){let L=J||{},Y=L.protocolId||"MQTT",P=L.protocolVersion||4,I=L.will,B=L.clean,N=L.keepalive||0,M=L.clientId||"",V=L.username,O=L.password,z=L.properties;B===void 0&&(B=!0);let W=0;if(typeof Y!="string"&&!r.isBuffer(Y))return G.destroy(new Error("Invalid protocolId")),!1;if(W+=Y.length+2,P!==3&&P!==4&&P!==5)return G.destroy(new Error("Invalid protocol version")),!1;if(W+=1,(typeof M=="string"||r.isBuffer(M))&&(M||P>=4)&&(M||B))W+=r.byteLength(M)+2;else{if(P<4)return G.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(B*1===0)return G.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof N!="number"||N<0||N>65535||N%1!==0)return G.destroy(new Error("Invalid keepalive")),!1;W+=2,W+=1;let U,Q;if(P===5){if(U=X(G,z),!U)return!1;W+=U.length}if(I){if(typeof I!="object")return G.destroy(new Error("Invalid will")),!1;if(!I.topic||typeof I.topic!="string")return G.destroy(new Error("Invalid will topic")),!1;if(W+=r.byteLength(I.topic)+2,W+=2,I.payload)if(I.payload.length>=0)typeof I.payload=="string"?W+=r.byteLength(I.payload):W+=I.payload.length;else return G.destroy(new Error("Invalid will payload")),!1;if(Q={},P===5){if(Q=X(G,I.properties),!Q)return!1;W+=Q.length}}let he=!1;if(V!=null)if(Ee(V))he=!0,W+=r.byteLength(V)+2;else return G.destroy(new Error("Invalid username")),!1;if(O!=null){if(!he)return G.destroy(new Error("Username is required to use password")),!1;if(Ee(O))W+=ge(O)+2;else return G.destroy(new Error("Invalid password")),!1}G.write(n.CONNECT_HEADER),te(G,W),ie(G,Y),L.bridgeMode&&(P+=128),G.write(P===131?n.VERSION131:P===132?n.VERSION132:P===4?n.VERSION4:P===5?n.VERSION5:n.VERSION3);let le=0;return le|=V!=null?n.USERNAME_MASK:0,le|=O!=null?n.PASSWORD_MASK:0,le|=I&&I.retain?n.WILL_RETAIN_MASK:0,le|=I&&I.qos?I.qos<<n.WILL_QOS_SHIFT:0,le|=I?n.WILL_FLAG_MASK:0,le|=B?n.CLEAN_SESSION_MASK:0,G.write(r.from([le])),p(G,N),P===5&&U.write(),ie(G,M),I&&(P===5&&Q.write(),Z(G,I.topic),ie(G,I.payload)),V!=null&&ie(G,V),O!=null&&ie(G,O),!0}function b(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=L===5?Y.reasonCode:Y.returnCode,I=Y.properties,B=2;if(typeof P!="number")return G.destroy(new Error("Invalid return code")),!1;let N=null;if(L===5){if(N=X(G,I),!N)return!1;B+=N.length}return G.write(n.CONNACK_HEADER),te(G,B),G.write(Y.sessionPresent?n.SESSIONPRESENT_HEADER:s),G.write(r.from([P])),N?.write(),!0}function S(J,G,oe){l("publish: packet: %o",J);let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.qos||0,I=Y.retain?n.RETAIN_MASK:0,B=Y.topic,N=Y.payload||i,M=Y.messageId,V=Y.properties,O=0;if(typeof B=="string")O+=r.byteLength(B)+2;else if(r.isBuffer(B))O+=B.length+2;else return G.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(N)?O+=N.length:O+=r.byteLength(N),P&&typeof M!="number")return G.destroy(new Error("Invalid messageId")),!1;P&&(O+=2);let z=null;if(L===5){if(z=X(G,V),!z)return!1;O+=z.length}return G.write(n.PUBLISH_HEADER[P][Y.dup?1:0][I?1:0]),te(G,O),p(G,ge(B)),G.write(B),P>0&&p(G,M),z?.write(),l("publish: payload: %o",N),G.write(N)}function E(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.cmd||"puback",I=Y.messageId,B=Y.dup&&P==="pubrel"?n.DUP_MASK:0,N=0,M=Y.reasonCode,V=Y.properties,O=L===5?3:2;if(P==="pubrel"&&(N=1),typeof I!="number")return G.destroy(new Error("Invalid messageId")),!1;let z=null;if(L===5&&typeof V=="object"){if(z=ne(G,V,oe,O),!z)return!1;O+=z.length}return G.write(n.ACKS[P][N][B][0]),O===3&&(O+=M!==0?1:-1),te(G,O),p(G,I),L===5&&O!==2&&G.write(r.from([M])),z!==null?z.write():O===4&&G.write(r.from([0])),!0}function x(J,G,oe){l("subscribe: packet: ");let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.dup?n.DUP_MASK:0,I=Y.messageId,B=Y.subscriptions,N=Y.properties,M=0;if(typeof I!="number")return G.destroy(new Error("Invalid messageId")),!1;M+=2;let V=null;if(L===5){if(V=X(G,N),!V)return!1;M+=V.length}if(typeof B=="object"&&B.length)for(let z=0;z<B.length;z+=1){let W=B[z].topic,U=B[z].qos;if(typeof W!="string")return G.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof U!="number")return G.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(L===5){if(typeof(B[z].nl||!1)!="boolean")return G.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(B[z].rap||!1)!="boolean")return G.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Q=B[z].rh||0;if(typeof Q!="number"||Q>2)return G.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}M+=r.byteLength(W)+2+1}else return G.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),G.write(n.SUBSCRIBE_HEADER[1][P?1:0][0]),te(G,M),p(G,I),V!==null&&V.write();let O=!0;for(let z of B){let W=z.topic,U=z.qos,Q=+z.nl,he=+z.rap,le=z.rh,Oe;Z(G,W),Oe=n.SUBSCRIBE_OPTIONS_QOS[U],L===5&&(Oe|=Q?n.SUBSCRIBE_OPTIONS_NL:0,Oe|=he?n.SUBSCRIBE_OPTIONS_RAP:0,Oe|=le?n.SUBSCRIBE_OPTIONS_RH[le]:0),O=G.write(r.from([Oe]))}return O}function C(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.messageId,I=Y.granted,B=Y.properties,N=0;if(typeof P!="number")return G.destroy(new Error("Invalid messageId")),!1;if(N+=2,typeof I=="object"&&I.length)for(let V=0;V<I.length;V+=1){if(typeof I[V]!="number")return G.destroy(new Error("Invalid qos vector")),!1;N+=1}else return G.destroy(new Error("Invalid qos vector")),!1;let M=null;if(L===5){if(M=ne(G,B,oe,N),!M)return!1;N+=M.length}return G.write(n.SUBACK_HEADER),te(G,N),p(G,P),M!==null&&M.write(),G.write(r.from(I))}function k(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.messageId,I=Y.dup?n.DUP_MASK:0,B=Y.unsubscriptions,N=Y.properties,M=0;if(typeof P!="number")return G.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof B=="object"&&B.length)for(let z=0;z<B.length;z+=1){if(typeof B[z]!="string")return G.destroy(new Error("Invalid unsubscriptions")),!1;M+=r.byteLength(B[z])+2}else return G.destroy(new Error("Invalid unsubscriptions")),!1;let V=null;if(L===5){if(V=X(G,N),!V)return!1;M+=V.length}G.write(n.UNSUBSCRIBE_HEADER[1][I?1:0][0]),te(G,M),p(G,P),V!==null&&V.write();let O=!0;for(let z=0;z<B.length;z++)O=Z(G,B[z]);return O}function R(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.messageId,I=Y.dup?n.DUP_MASK:0,B=Y.granted,N=Y.properties,M=Y.cmd,V=0,O=2;if(typeof P!="number")return G.destroy(new Error("Invalid messageId")),!1;if(L===5)if(typeof B=="object"&&B.length)for(let W=0;W<B.length;W+=1){if(typeof B[W]!="number")return G.destroy(new Error("Invalid qos vector")),!1;O+=1}else return G.destroy(new Error("Invalid qos vector")),!1;let z=null;if(L===5){if(z=ne(G,N,oe,O),!z)return!1;O+=z.length}return G.write(n.ACKS[M][V][I][0]),te(G,O),p(G,P),z!==null&&z.write(),L===5&&G.write(r.from(B)),!0}function j(J,G,oe){return G.write(n.EMPTY[J.cmd])}function K(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.reasonCode,I=Y.properties,B=L===5?1:0,N=null;if(L===5){if(N=ne(G,I,oe,B),!N)return!1;B+=N.length}return G.write(r.from([n.codes.disconnect<<4])),te(G,B),L===5&&G.write(r.from([P])),N!==null&&N.write(),!0}function D(J,G,oe){let L=oe?oe.protocolVersion:4,Y=J||{},P=Y.reasonCode,I=Y.properties,B=L===5?1:0;L!==5&&G.destroy(new Error("Invalid mqtt version for auth packet"));let N=ne(G,I,oe,B);return N?(B+=N.length,G.write(r.from([n.codes.auth<<4])),te(G,B),G.write(r.from([P])),N!==null&&N.write(),!0):!1}var ee={};function te(J,G){if(G>n.VARBYTEINT_MAX)return J.destroy(new Error(`Invalid variable byte integer: ${G}`)),!1;let oe=ee[G];return oe||(oe=h(G),G<16384&&(ee[G]=oe)),l("writeVarByteInt: writing to stream: %o",oe),J.write(oe)}function Z(J,G){let oe=r.byteLength(G);return p(J,oe),l("writeString: %s",G),J.write(G,"utf8")}function fe(J,G,oe){Z(J,G),Z(J,oe)}function q(J,G){return l("writeNumberCached: number: %d",G),l("writeNumberCached: %o",u[G]),J.write(u[G])}function re(J,G){let oe=c(G);return l("writeNumberGenerated: %o",oe),J.write(oe)}function me(J,G){let oe=d(G);return l("write4ByteNumber: %o",oe),J.write(oe)}function ie(J,G){typeof G=="string"?Z(J,G):G?(p(J,G.length),J.write(G)):p(J,0)}function X(J,G){if(typeof G!="object"||G.length!=null)return{length:1,write(){ve(J,{},0)}};let oe=0;function L(Y,P){let I=n.propertiesTypes[Y],B=0;switch(I){case"byte":{if(typeof P!="boolean")return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=2;break}case"int8":{if(typeof P!="number"||P<0||P>255)return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=2;break}case"binary":{if(P&&P===null)return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=1+r.byteLength(P)+2;break}case"int16":{if(typeof P!="number"||P<0||P>65535)return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=3;break}case"int32":{if(typeof P!="number"||P<0||P>4294967295)return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=5;break}case"var":{if(typeof P!="number"||P<0||P>268435455)return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=1+r.byteLength(h(P));break}case"string":{if(typeof P!="string")return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=3+r.byteLength(P.toString());break}case"pair":{if(typeof P!="object")return J.destroy(new Error(`Invalid ${Y}: ${P}`)),!1;B+=Object.getOwnPropertyNames(P).reduce((N,M)=>{let V=P[M];return Array.isArray(V)?N+=V.reduce((O,z)=>(O+=3+r.byteLength(M.toString())+2+r.byteLength(z.toString()),O),0):N+=3+r.byteLength(M.toString())+2+r.byteLength(P[M].toString()),N},0);break}default:return J.destroy(new Error(`Invalid property ${Y}: ${P}`)),!1}return B}if(G)for(let Y in G){let P=0,I=0,B=G[Y];if(B!==void 0){if(Array.isArray(B))for(let N=0;N<B.length;N++){if(I=L(Y,B[N]),!I)return!1;P+=I}else{if(I=L(Y,B),!I)return!1;P=I}if(!P)return!1;oe+=P}}return{length:r.byteLength(h(oe))+oe,write(){ve(J,G,oe)}}}function ne(J,G,oe,L){let Y=["reasonString","userProperties"],P=oe&&oe.properties&&oe.properties.maximumPacketSize?oe.properties.maximumPacketSize:0,I=X(J,G);if(P)for(;L+I.length>P;){let B=Y.shift();if(B&&G[B])delete G[B],I=X(J,G);else return!1}return I}function pe(J,G,oe){switch(n.propertiesTypes[G]){case"byte":{J.write(r.from([n.properties[G]])),J.write(r.from([+oe]));break}case"int8":{J.write(r.from([n.properties[G]])),J.write(r.from([oe]));break}case"binary":{J.write(r.from([n.properties[G]])),ie(J,oe);break}case"int16":{J.write(r.from([n.properties[G]])),p(J,oe);break}case"int32":{J.write(r.from([n.properties[G]])),me(J,oe);break}case"var":{J.write(r.from([n.properties[G]])),te(J,oe);break}case"string":{J.write(r.from([n.properties[G]])),Z(J,oe);break}case"pair":{Object.getOwnPropertyNames(oe).forEach(L=>{let Y=oe[L];Array.isArray(Y)?Y.forEach(P=>{J.write(r.from([n.properties[G]])),fe(J,L.toString(),P.toString())}):(J.write(r.from([n.properties[G]])),fe(J,L.toString(),Y.toString()))});break}default:return J.destroy(new Error(`Invalid property ${G} value: ${oe}`)),!1}}function ve(J,G,oe){te(J,oe);for(let L in G)if(Object.prototype.hasOwnProperty.call(G,L)&&G[L]!=null){let Y=G[L];if(Array.isArray(Y))for(let P=0;P<Y.length;P++)pe(J,L,Y[P]);else pe(J,L,Y)}}function ge(J){return J?J instanceof r?J.length:r.byteLength(J):0}function Ee(J){return typeof J=="string"||J instanceof r}e.exports=_}),M6=De((t,e)=>{Te(),Pe(),Ie();var n=VS(),{EventEmitter:r}=(Mo(),Kt(Ws)),{Buffer:i}=(Hn(),Kt(Vn));function s(a,l){let u=new o;return n(a,u,l),u.concat()}var o=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),u=this._array,c=0,f;for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?l[f]=u[f].length:l[f]=i.byteLength(u[f]),a+=l[f];let h=i.allocUnsafe(a);for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?(u[f].copy(h,c),c+=l[f]):(h.write(u[f],c),c+=l[f]);return h}destroy(a){a&&this.emit("error",a)}};e.exports=s}),D6=De(t=>{Te(),Pe(),Ie(),t.parser=I6().parser,t.generate=M6(),t.writeToStream=VS()}),R6=De((t,e)=>{Te(),Pe(),Ie(),e.exports=r;function n(s){return s instanceof hf?hf.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function r(s){if(s=s||{},s.circles)return i(s);let o=new Map;if(o.set(Date,f=>new Date(f)),o.set(Map,(f,h)=>new Map(l(Array.from(f),h))),o.set(Set,(f,h)=>new Set(l(Array.from(f),h))),s.constructorHandlers)for(let f of s.constructorHandlers)o.set(f[0],f[1]);let a=null;return s.proto?c:u;function l(f,h){let d=Object.keys(f),p=new Array(d.length);for(let g=0;g<d.length;g++){let _=d[g],y=f[_];typeof y!="object"||y===null?p[_]=y:y.constructor!==Object&&(a=o.get(y.constructor))?p[_]=a(y,h):ArrayBuffer.isView(y)?p[_]=n(y):p[_]=h(y)}return p}function u(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,u);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,u);let h={};for(let d in f){if(Object.hasOwnProperty.call(f,d)===!1)continue;let p=f[d];typeof p!="object"||p===null?h[d]=p:p.constructor!==Object&&(a=o.get(p.constructor))?h[d]=a(p,u):ArrayBuffer.isView(p)?h[d]=n(p):h[d]=u(p)}return h}function c(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,c);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,c);let h={};for(let d in f){let p=f[d];typeof p!="object"||p===null?h[d]=p:p.constructor!==Object&&(a=o.get(p.constructor))?h[d]=a(p,c):ArrayBuffer.isView(p)?h[d]=n(p):h[d]=c(p)}return h}}function i(s){let o=[],a=[],l=new Map;if(l.set(Date,d=>new Date(d)),l.set(Map,(d,p)=>new Map(c(Array.from(d),p))),l.set(Set,(d,p)=>new Set(c(Array.from(d),p))),s.constructorHandlers)for(let d of s.constructorHandlers)l.set(d[0],d[1]);let u=null;return s.proto?h:f;function c(d,p){let g=Object.keys(d),_=new Array(g.length);for(let y=0;y<g.length;y++){let m=g[y],b=d[m];if(typeof b!="object"||b===null)_[m]=b;else if(b.constructor!==Object&&(u=l.get(b.constructor)))_[m]=u(b,p);else if(ArrayBuffer.isView(b))_[m]=n(b);else{let S=o.indexOf(b);S!==-1?_[m]=a[S]:_[m]=p(b)}}return _}function f(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,f);if(d.constructor!==Object&&(u=l.get(d.constructor)))return u(d,f);let p={};o.push(d),a.push(p);for(let g in d){if(Object.hasOwnProperty.call(d,g)===!1)continue;let _=d[g];if(typeof _!="object"||_===null)p[g]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))p[g]=u(_,f);else if(ArrayBuffer.isView(_))p[g]=n(_);else{let y=o.indexOf(_);y!==-1?p[g]=a[y]:p[g]=f(_)}}return o.pop(),a.pop(),p}function h(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,h);if(d.constructor!==Object&&(u=l.get(d.constructor)))return u(d,h);let p={};o.push(d),a.push(p);for(let g in d){let _=d[g];if(typeof _!="object"||_===null)p[g]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))p[g]=u(_,h);else if(ArrayBuffer.isView(_))p[g]=n(_);else{let y=o.indexOf(_);y!==-1?p[g]=a[y]:p[g]=h(_)}}return o.pop(),a.pop(),p}}}),N6=De((t,e)=>{Te(),Pe(),Ie(),e.exports=R6()()}),L6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopic=e,t.validateTopics=n;function e(r){let i=r.split("/");for(let s=0;s<i.length;s++)if(i[s]!=="+"){if(i[s]==="#")return s===i.length-1;if(i[s].indexOf("+")!==-1||i[s].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let i=0;i<r.length;i++)if(!e(r[i]))return r[i];return null}}),HS=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=Ro(),n={objectMode:!0},r={clean:!0},i=class{options;_inflights;constructor(s){this.options=s||{},this.options={...r,...s},this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new e.Readable(n),o=[],a=!1,l=0;return this._inflights.forEach((u,c)=>{o.push(u)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=u=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=i}),F6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],n=(r,i,s)=>{r.log("handlePublish: packet %o",i),s=typeof s<"u"?s:r.noop;let o=i.topic.toString(),a=i.payload,{qos:l}=i,{messageId:u}=i,{options:c}=r;if(r.options.protocolVersion===5){let f;if(i.properties&&(f=i.properties.topicAlias),typeof f<"u")if(o.length===0)if(f>0&&f<=65535){let h=r.topicAliasRecv.getTopicByAlias(f);if(h)o=h,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,f);else{r.log("handlePublish :: unregistered topic alias. alias: %d",f),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",f),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(o,f))r.log("handlePublish :: registered topic: %s - alias: %d",o,f);else{r.log("handlePublish :: topic alias out of range. alias: %d",f),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(o,a,i,(f,h)=>{if(typeof f=="number"&&(h=f,f=null),f)return r.emit("error",f);if(e.indexOf(h)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));h?r._sendPacket({cmd:"pubrec",messageId:u,reasonCode:h},s):r.incomingStore.put(i,()=>{r._sendPacket({cmd:"pubrec",messageId:u},s)})});break}case 1:{c.customHandleAcks(o,a,i,(f,h)=>{if(typeof f=="number"&&(h=f,f=null),f)return r.emit("error",f);if(e.indexOf(h)===-1)return r.emit("error",new Error("Wrong reason code for puback"));h||r.emit("message",o,a,i),r.handleMessage(i,d=>{if(d)return s&&s(d);r._sendPacket({cmd:"puback",messageId:u,reasonCode:h},s)})});break}case 0:r.emit("message",o,a,i),r.handleMessage(i,s);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=n}),B6=De((t,e)=>{e.exports={version:"5.14.1"}}),Va=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.ErrorWithSubackPacket=t.ErrorWithReasonCode=void 0,t.applyMixin=r;var e=class YS extends Error{code;constructor(s,o){super(s),this.code=o,Object.setPrototypeOf(this,YS.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;var n=class qS extends Error{packet;constructor(s,o){super(s),this.packet=o,Object.setPrototypeOf(this,qS.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};t.ErrorWithSubackPacket=n;function r(i,s,o=!1){let a=[s];for(;;){let l=a[0],u=Object.getPrototypeOf(l);if(u?.prototype)a.unshift(u);else break}for(let l of a)for(let u of Object.getOwnPropertyNames(l.prototype))(o||u!=="constructor")&&Object.defineProperty(i.prototype,u,Object.getOwnPropertyDescriptor(l.prototype,u)??Object.create(null))}t.nextTick=typeof nn?.nextTick=="function"?nn.nextTick:i=>{setTimeout(i,0)},t.MQTTJS_VERSION=B6().version}),ih=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var e=Va();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,i)=>{let{messageId:s}=i,o=i.cmd,a=null,l=r.outgoing[s]?r.outgoing[s].cb:null,u=null;if(!l){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let c=i.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),r._removeOutgoingAndStoreMessage(s,()=>{l(u,i)})):r._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:s};let c=i.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),r._removeOutgoingAndStoreMessage(s,()=>{l(u,i)})):r._sendPacket(a);break}case"suback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s);let c=i.granted;for(let f=0;f<c.length;f++){let h=c[f];if((h&128)!==0){u=new Error(`Subscribe error: ${t.ReasonCodes[h]}`),u.code=h;let d=r.messageIdToTopic[s];d&&d.forEach(p=>{delete r._resubscribeTopics[p]})}}delete r.messageIdToTopic[s],r._invokeStoreProcessingQueue(),l(u,i);break}case"unsuback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s),r._invokeStoreProcessingQueue(),l(null,i);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};t.default=n}),j6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=Va(),n=ih(),r=(i,s)=>{let{options:o}=i,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let u=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);i.emit("error",u);return}i.handleAuth(s,(u,c)=>{if(u){i.emit("error",u);return}if(l===24)i.reconnecting=!1,i._sendPacket(c);else{let f=new e.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[l]}`,l);i.emit("error",f)}})};t.default=r}),$6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof nn=="object"&&nn?nn:{},i=(d,p,g,_)=>{typeof r.emitWarning=="function"?r.emitWarning(d,p,g,_):console.error(`[${g}] ${p}: ${d}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(g,_){this._onabort.push(_)}},s=class{constructor(){p()}signal=new o;abort(g){if(!this.signal.aborted){this.signal.reason=g,this.signal.aborted=!0;for(let _ of this.signal._onabort)_(g);this.signal.onabort?.(g)}}};let d=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",p=()=>{d&&(d=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",p))}}var a=d=>!n.has(d),l=d=>d&&d===Math.floor(d)&&d>0&&isFinite(d),u=d=>l(d)?d<=Math.pow(2,8)?Uint8Array:d<=Math.pow(2,16)?Uint16Array:d<=Math.pow(2,32)?Uint32Array:d<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(d){super(d),this.fill(0)}},f=class pl{heap;length;static#l=!1;static create(p){let g=u(p);if(!g)return[];pl.#l=!0;let _=new pl(p,g);return pl.#l=!1,_}constructor(p,g){if(!pl.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new g(p),this.length=0}push(p){this.heap[this.length++]=p}pop(){return this.heap[--this.length]}},h=class GS{#l;#f;#m;#g;#P;#O;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#r;#n;#e;#u;#h;#a;#s;#v;#o;#_;#b;#d;#w;#A;#c;static unsafeExposeInternals(p){return{starts:p.#b,ttls:p.#d,sizes:p.#_,keyMap:p.#r,keyList:p.#n,valList:p.#e,next:p.#u,prev:p.#h,get head(){return p.#a},get tail(){return p.#s},free:p.#v,isBackgroundFetch:g=>p.#t(g),backgroundFetch:(g,_,y,m)=>p.#R(g,_,y,m),moveToTail:g=>p.#I(g),indexes:g=>p.#E(g),rindexes:g=>p.#S(g),isStale:g=>p.#p(g)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#P}get memoMethod(){return this.#O}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(p){let{max:g=0,ttl:_,ttlResolution:y=1,ttlAutopurge:m,updateAgeOnGet:b,updateAgeOnHas:S,allowStale:E,dispose:x,disposeAfter:C,noDisposeOnSet:k,noUpdateTTL:R,maxSize:j=0,maxEntrySize:K=0,sizeCalculation:D,fetchMethod:ee,memoMethod:te,noDeleteOnFetchRejection:Z,noDeleteOnStaleGet:fe,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:re,ignoreFetchAbort:me}=p;if(g!==0&&!l(g))throw new TypeError("max option must be a nonnegative integer");let ie=g?u(g):Array;if(!ie)throw new Error("invalid max value: "+g);if(this.#l=g,this.#f=j,this.maxEntrySize=K||this.#f,this.sizeCalculation=D,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(te!==void 0&&typeof te!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#O=te,ee!==void 0&&typeof ee!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=ee,this.#A=!!ee,this.#r=new Map,this.#n=new Array(g).fill(void 0),this.#e=new Array(g).fill(void 0),this.#u=new ie(g),this.#h=new ie(g),this.#a=0,this.#s=0,this.#v=f.create(g),this.#i=0,this.#y=0,typeof x=="function"&&(this.#m=x),typeof C=="function"?(this.#g=C,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#w=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!k,this.noUpdateTTL=!!R,this.noDeleteOnFetchRejection=!!Z,this.allowStaleOnFetchRejection=!!q,this.allowStaleOnFetchAbort=!!re,this.ignoreFetchAbort=!!me,this.maxEntrySize!==0){if(this.#f!==0&&!l(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!E,this.noDeleteOnStaleGet=!!fe,this.updateAgeOnGet=!!b,this.updateAgeOnHas=!!S,this.ttlResolution=l(y)||y===0?y:1,this.ttlAutopurge=!!m,this.ttl=_||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let X="LRU_CACHE_UNBOUNDED";a(X)&&(n.add(X),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",X,GS))}}getRemainingTTL(p){return this.#r.has(p)?1/0:0}#N(){let p=new c(this.#l),g=new c(this.#l);this.#d=p,this.#b=g,this.#L=(m,b,S=e.now())=>{if(g[m]=b!==0?S:0,p[m]=b,b!==0&&this.ttlAutopurge){let E=setTimeout(()=>{this.#p(m)&&this.#C(this.#n[m],"expire")},b+1);E.unref&&E.unref()}},this.#k=m=>{g[m]=p[m]!==0?e.now():0},this.#x=(m,b)=>{if(p[b]){let S=p[b],E=g[b];if(!S||!E)return;m.ttl=S,m.start=E,m.now=_||y();let x=m.now-E;m.remainingTTL=S-x}};let _=0,y=()=>{let m=e.now();if(this.ttlResolution>0){_=m;let b=setTimeout(()=>_=0,this.ttlResolution);b.unref&&b.unref()}return m};this.getRemainingTTL=m=>{let b=this.#r.get(m);if(b===void 0)return 0;let S=p[b],E=g[b];if(!S||!E)return 1/0;let x=(_||y())-E;return S-x},this.#p=m=>{let b=g[m],S=p[m];return!!S&&!!b&&(_||y())-b>S}}#k=()=>{};#x=()=>{};#L=()=>{};#p=()=>!1;#U(){let p=new c(this.#l);this.#y=0,this.#_=p,this.#T=g=>{this.#y-=p[g],p[g]=0},this.#F=(g,_,y,m)=>{if(this.#t(_))return 0;if(!l(y))if(m){if(typeof m!="function")throw new TypeError("sizeCalculation must be a function");if(y=m(_,g),!l(y))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return y},this.#M=(g,_,y)=>{if(p[g]=_,this.#f){let m=this.#f-p[g];for(;this.#y>m;)this.#D(!0)}this.#y+=p[g],y&&(y.entrySize=_,y.totalCalculatedSize=this.#y)}}#T=p=>{};#M=(p,g,_)=>{};#F=(p,g,_,y)=>{if(_||y)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:p=this.allowStale}={}){if(this.#i)for(let g=this.#s;!(!this.#B(g)||((p||!this.#p(g))&&(yield g),g===this.#a));)g=this.#h[g]}*#S({allowStale:p=this.allowStale}={}){if(this.#i)for(let g=this.#a;!(!this.#B(g)||((p||!this.#p(g))&&(yield g),g===this.#s));)g=this.#u[g]}#B(p){return p!==void 0&&this.#r.get(this.#n[p])===p}*entries(){for(let p of this.#E())this.#e[p]!==void 0&&this.#n[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#n[p],this.#e[p]])}*rentries(){for(let p of this.#S())this.#e[p]!==void 0&&this.#n[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#n[p],this.#e[p]])}*keys(){for(let p of this.#E()){let g=this.#n[p];g!==void 0&&!this.#t(this.#e[p])&&(yield g)}}*rkeys(){for(let p of this.#S()){let g=this.#n[p];g!==void 0&&!this.#t(this.#e[p])&&(yield g)}}*values(){for(let p of this.#E())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}*rvalues(){for(let p of this.#S())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(p,g={}){for(let _ of this.#E()){let y=this.#e[_],m=this.#t(y)?y.__staleWhileFetching:y;if(m!==void 0&&p(m,this.#n[_],this))return this.get(this.#n[_],g)}}forEach(p,g=this){for(let _ of this.#E()){let y=this.#e[_],m=this.#t(y)?y.__staleWhileFetching:y;m!==void 0&&p.call(g,m,this.#n[_],this)}}rforEach(p,g=this){for(let _ of this.#S()){let y=this.#e[_],m=this.#t(y)?y.__staleWhileFetching:y;m!==void 0&&p.call(g,m,this.#n[_],this)}}purgeStale(){let p=!1;for(let g of this.#S({allowStale:!0}))this.#p(g)&&(this.#C(this.#n[g],"expire"),p=!0);return p}info(p){let g=this.#r.get(p);if(g===void 0)return;let _=this.#e[g],y=this.#t(_)?_.__staleWhileFetching:_;if(y===void 0)return;let m={value:y};if(this.#d&&this.#b){let b=this.#d[g],S=this.#b[g];if(b&&S){let E=b-(e.now()-S);m.ttl=E,m.start=Date.now()}}return this.#_&&(m.size=this.#_[g]),m}dump(){let p=[];for(let g of this.#E({allowStale:!0})){let _=this.#n[g],y=this.#e[g],m=this.#t(y)?y.__staleWhileFetching:y;if(m===void 0||_===void 0)continue;let b={value:m};if(this.#d&&this.#b){b.ttl=this.#d[g];let S=e.now()-this.#b[g];b.start=Math.floor(Date.now()-S)}this.#_&&(b.size=this.#_[g]),p.unshift([_,b])}return p}load(p){this.clear();for(let[g,_]of p){if(_.start){let y=Date.now()-_.start;_.start=e.now()-y}this.set(g,_.value,_)}}set(p,g,_={}){if(g===void 0)return this.delete(p),this;let{ttl:y=this.ttl,start:m,noDisposeOnSet:b=this.noDisposeOnSet,sizeCalculation:S=this.sizeCalculation,status:E}=_,{noUpdateTTL:x=this.noUpdateTTL}=_,C=this.#F(p,g,_.size||0,S);if(this.maxEntrySize&&C>this.maxEntrySize)return E&&(E.set="miss",E.maxEntrySizeExceeded=!0),this.#C(p,"set"),this;let k=this.#i===0?void 0:this.#r.get(p);if(k===void 0)k=this.#i===0?this.#s:this.#v.length!==0?this.#v.pop():this.#i===this.#l?this.#D(!1):this.#i,this.#n[k]=p,this.#e[k]=g,this.#r.set(p,k),this.#u[this.#s]=k,this.#h[k]=this.#s,this.#s=k,this.#i++,this.#M(k,C,E),E&&(E.set="add"),x=!1;else{this.#I(k);let R=this.#e[k];if(g!==R){if(this.#A&&this.#t(R)){R.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:j}=R;j!==void 0&&!b&&(this.#w&&this.#m?.(j,p,"set"),this.#c&&this.#o?.push([j,p,"set"]))}else b||(this.#w&&this.#m?.(R,p,"set"),this.#c&&this.#o?.push([R,p,"set"]));if(this.#T(k),this.#M(k,C,E),this.#e[k]=g,E){E.set="replace";let j=R&&this.#t(R)?R.__staleWhileFetching:R;j!==void 0&&(E.oldValue=j)}}else E&&(E.set="update")}if(y!==0&&!this.#d&&this.#N(),this.#d&&(x||this.#L(k,y,m),E&&this.#x(E,k)),!b&&this.#c&&this.#o){let R=this.#o,j;for(;j=R?.shift();)this.#g?.(...j)}return this}pop(){try{for(;this.#i;){let p=this.#e[this.#a];if(this.#D(!0),this.#t(p)){if(p.__staleWhileFetching)return p.__staleWhileFetching}else if(p!==void 0)return p}}finally{if(this.#c&&this.#o){let p=this.#o,g;for(;g=p?.shift();)this.#g?.(...g)}}}#D(p){let g=this.#a,_=this.#n[g],y=this.#e[g];return this.#A&&this.#t(y)?y.__abortController.abort(new Error("evicted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(y,_,"evict"),this.#c&&this.#o?.push([y,_,"evict"])),this.#T(g),p&&(this.#n[g]=void 0,this.#e[g]=void 0,this.#v.push(g)),this.#i===1?(this.#a=this.#s=0,this.#v.length=0):this.#a=this.#u[g],this.#r.delete(_),this.#i--,g}has(p,g={}){let{updateAgeOnHas:_=this.updateAgeOnHas,status:y}=g,m=this.#r.get(p);if(m!==void 0){let b=this.#e[m];if(this.#t(b)&&b.__staleWhileFetching===void 0)return!1;if(this.#p(m))y&&(y.has="stale",this.#x(y,m));else return _&&this.#k(m),y&&(y.has="hit",this.#x(y,m)),!0}else y&&(y.has="miss");return!1}peek(p,g={}){let{allowStale:_=this.allowStale}=g,y=this.#r.get(p);if(y===void 0||!_&&this.#p(y))return;let m=this.#e[y];return this.#t(m)?m.__staleWhileFetching:m}#R(p,g,_,y){let m=g===void 0?void 0:this.#e[g];if(this.#t(m))return m;let b=new s,{signal:S}=_;S?.addEventListener("abort",()=>b.abort(S.reason),{signal:b.signal});let E={signal:b.signal,options:_,context:y},x=(D,ee=!1)=>{let{aborted:te}=b.signal,Z=_.ignoreFetchAbort&&D!==void 0;if(_.status&&(te&&!ee?(_.status.fetchAborted=!0,_.status.fetchError=b.signal.reason,Z&&(_.status.fetchAbortIgnored=!0)):_.status.fetchResolved=!0),te&&!Z&&!ee)return k(b.signal.reason);let fe=j;return this.#e[g]===j&&(D===void 0?fe.__staleWhileFetching?this.#e[g]=fe.__staleWhileFetching:this.#C(p,"fetch"):(_.status&&(_.status.fetchUpdated=!0),this.set(p,D,E.options))),D},C=D=>(_.status&&(_.status.fetchRejected=!0,_.status.fetchError=D),k(D)),k=D=>{let{aborted:ee}=b.signal,te=ee&&_.allowStaleOnFetchAbort,Z=te||_.allowStaleOnFetchRejection,fe=Z||_.noDeleteOnFetchRejection,q=j;if(this.#e[g]===j&&(!fe||q.__staleWhileFetching===void 0?this.#C(p,"fetch"):te||(this.#e[g]=q.__staleWhileFetching)),Z)return _.status&&q.__staleWhileFetching!==void 0&&(_.status.returnedStale=!0),q.__staleWhileFetching;if(q.__returned===q)throw D},R=(D,ee)=>{let te=this.#P?.(p,m,E);te&&te instanceof Promise&&te.then(Z=>D(Z===void 0?void 0:Z),ee),b.signal.addEventListener("abort",()=>{(!_.ignoreFetchAbort||_.allowStaleOnFetchAbort)&&(D(void 0),_.allowStaleOnFetchAbort&&(D=Z=>x(Z,!0)))})};_.status&&(_.status.fetchDispatched=!0);let j=new Promise(R).then(x,C),K=Object.assign(j,{__abortController:b,__staleWhileFetching:m,__returned:void 0});return g===void 0?(this.set(p,K,{...E.options,status:void 0}),g=this.#r.get(p)):this.#e[g]=K,K}#t(p){if(!this.#A)return!1;let g=p;return!!g&&g instanceof Promise&&g.hasOwnProperty("__staleWhileFetching")&&g.__abortController instanceof s}async fetch(p,g={}){let{allowStale:_=this.allowStale,updateAgeOnGet:y=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,ttl:b=this.ttl,noDisposeOnSet:S=this.noDisposeOnSet,size:E=0,sizeCalculation:x=this.sizeCalculation,noUpdateTTL:C=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:R=this.allowStaleOnFetchRejection,ignoreFetchAbort:j=this.ignoreFetchAbort,allowStaleOnFetchAbort:K=this.allowStaleOnFetchAbort,context:D,forceRefresh:ee=!1,status:te,signal:Z}=g;if(!this.#A)return te&&(te.fetch="get"),this.get(p,{allowStale:_,updateAgeOnGet:y,noDeleteOnStaleGet:m,status:te});let fe={allowStale:_,updateAgeOnGet:y,noDeleteOnStaleGet:m,ttl:b,noDisposeOnSet:S,size:E,sizeCalculation:x,noUpdateTTL:C,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:K,ignoreFetchAbort:j,status:te,signal:Z},q=this.#r.get(p);if(q===void 0){te&&(te.fetch="miss");let re=this.#R(p,q,fe,D);return re.__returned=re}else{let re=this.#e[q];if(this.#t(re)){let ne=_&&re.__staleWhileFetching!==void 0;return te&&(te.fetch="inflight",ne&&(te.returnedStale=!0)),ne?re.__staleWhileFetching:re.__returned=re}let me=this.#p(q);if(!ee&&!me)return te&&(te.fetch="hit"),this.#I(q),y&&this.#k(q),te&&this.#x(te,q),re;let ie=this.#R(p,q,fe,D),X=ie.__staleWhileFetching!==void 0&&_;return te&&(te.fetch=me?"stale":"refresh",X&&me&&(te.returnedStale=!0)),X?ie.__staleWhileFetching:ie.__returned=ie}}async forceFetch(p,g={}){let _=await this.fetch(p,g);if(_===void 0)throw new Error("fetch() returned undefined");return _}memo(p,g={}){let _=this.#O;if(!_)throw new Error("no memoMethod provided to constructor");let{context:y,forceRefresh:m,...b}=g,S=this.get(p,b);if(!m&&S!==void 0)return S;let E=_(p,S,{options:b,context:y});return this.set(p,E,b),E}get(p,g={}){let{allowStale:_=this.allowStale,updateAgeOnGet:y=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,status:b}=g,S=this.#r.get(p);if(S!==void 0){let E=this.#e[S],x=this.#t(E);return b&&this.#x(b,S),this.#p(S)?(b&&(b.get="stale"),x?(b&&_&&E.__staleWhileFetching!==void 0&&(b.returnedStale=!0),_?E.__staleWhileFetching:void 0):(m||this.#C(p,"expire"),b&&_&&(b.returnedStale=!0),_?E:void 0)):(b&&(b.get="hit"),x?E.__staleWhileFetching:(this.#I(S),y&&this.#k(S),E))}else b&&(b.get="miss")}#j(p,g){this.#h[g]=p,this.#u[p]=g}#I(p){p!==this.#s&&(p===this.#a?this.#a=this.#u[p]:this.#j(this.#h[p],this.#u[p]),this.#j(this.#s,p),this.#s=p)}delete(p){return this.#C(p,"delete")}#C(p,g){let _=!1;if(this.#i!==0){let y=this.#r.get(p);if(y!==void 0)if(_=!0,this.#i===1)this.#$(g);else{this.#T(y);let m=this.#e[y];if(this.#t(m)?m.__abortController.abort(new Error("deleted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(m,p,g),this.#c&&this.#o?.push([m,p,g])),this.#r.delete(p),this.#n[y]=void 0,this.#e[y]=void 0,y===this.#s)this.#s=this.#h[y];else if(y===this.#a)this.#a=this.#u[y];else{let b=this.#h[y];this.#u[b]=this.#u[y];let S=this.#u[y];this.#h[S]=this.#h[y]}this.#i--,this.#v.push(y)}}if(this.#c&&this.#o?.length){let y=this.#o,m;for(;m=y?.shift();)this.#g?.(...m)}return _}clear(){return this.#$("delete")}#$(p){for(let g of this.#S({allowStale:!0})){let _=this.#e[g];if(this.#t(_))_.__abortController.abort(new Error("deleted"));else{let y=this.#n[g];this.#w&&this.#m?.(_,y,p),this.#c&&this.#o?.push([_,y,p])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#b&&(this.#d.fill(0),this.#b.fill(0)),this.#_&&this.#_.fill(0),this.#a=0,this.#s=0,this.#v.length=0,this.#y=0,this.#i=0,this.#c&&this.#o){let g=this.#o,_;for(;_=g?.shift();)this.#g?.(..._)}}};t.LRUCache=h}),as=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};t.ContainerIterator=e;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=n;var r=class extends n{};t.Container=r}),U6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=as(),n=class extends e.Base{constructor(i=[]){super(),this.S=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;t.default=r}),W6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=as(),n=class extends e.Base{constructor(i=[]){super(),this.j=0,this.q=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(i){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},r=n;t.default=r}),V6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=as(),n=class extends e.Base{constructor(i=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(i))this.C=o?[...i]:i;else{this.C=[];let l=this;i.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(i){let s=this.C[i];for(;i>0;){let o=i-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[i]=a,i=o}this.C[i]=s}k(i,s){let o=this.C[i];for(;i<s;){let a=i<<1|1,l=a+1,u=this.C[a];if(l<this.i&&this.v(u,this.C[l])>0&&(a=l,u=this.C[l]),this.v(u,o)>=0)break;this.C[i]=u,i=a}this.C[i]=o}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let s=this.C.indexOf(i);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(i){let s=this.C.indexOf(i);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;t.default=r}),S0=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=as(),n=class extends e.Container{},r=n;t.default=r}),ls=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),zS=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=as(),n=ls(),r=class extends e.ContainerIterator{constructor(i,s){super(s),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};t.RandomIterator=r}),H6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(S0()),n=zS();function r(a){return a&&a.t?a:{default:a}}var i=class KS extends n.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new KS(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let u=this;a.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==a&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(u).fill(l)),this.i+=u,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;t.default=o}),Y6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(S0()),n=as(),r=ls();function i(l){return l&&l.t?l:{default:l}}var s=class QS extends n.ContainerIterator{constructor(u,c,f,h){super(h),this.o=u,this.h=c,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=u}copy(){return new QS(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(c){u.pushBack(c)})}V(l){let{L:u,B:c}=l;u.B=c,c.L=u,l===this.p&&(this.p=c),l===this._&&(this._=u),this.i-=1}G(l,u){let c=u.B,f={l,L:u,B:c};u.B=f,c.L=f,u===this.h&&(this.p=f),c===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,r.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=u}insert(l,u,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(u);else if(l===this.i)for(;c--;)this.pushBack(u);else{let f=this.p;for(let d=1;d<l;++d)f=f.B;let h=f.B;for(this.i+=c;c--;)f.B={l:u,L:f},f.B.L=f,f=f.B;f.B=h,h.L=f}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new s(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,c=0;for(;c<<1<this.i;){let f=l.l;l.l=u.l,u.l=f,l=l.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(f){u.push(f)}),u.sort(l);let c=this.p;u.forEach(function(f){c.l=f,c=c.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(c){u.pushBack(c)});else{let c=this.p;l.forEach(function(f){for(;c!==u.h&&c.l<=f;)c=c.B;u.G(f,c.L)})}return this.i}forEach(l){let u=this.p,c=0;for(;u!==this.h;)l(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;t.default=a}),q6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(S0()),n=zS();function r(a){return a&&a.t?a:{default:a}}var i=class XS extends n.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new XS(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let h=0;h<this.P;++h)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let f=this;a.forEach(function(h){f.pushBack(h)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)a[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)a[a.length]=this.A[u];for(let u=0;u<this.R;++u)a[a.length]=this.A[u];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let u=0;u<l;++u)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,u=l%this.F,c=u-1,f=this.j+(l-u)/this.F;return u===0&&(f-=1),f%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.A[l][u]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(a);this.A[u][c]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;u--;)this.pushFront(l);else if(a===this.i)for(;u--;)this.pushBack(l);else{let c=[];for(let f=a;f<this.i;++f)c.push(this.getElementByPos(f));this.cut(a-1);for(let f=0;f<u;++f)this.pushBack(l);for(let f=0;f<c.length;++f)this.pushBack(c[f])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.R=l,this.N=u,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let c=a+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(a),this.popBack();let u=this;l.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let f=this.getElementByPos(c);f!==a&&l.push(f)}let u=l.length;for(let c=0;c<u;++c)this.setElementByPos(c,l[c]);return this.cut(u-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new i(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let u=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,u),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==l&&(l=c,this.setElementByPos(a++,c))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(a);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;t.default=o}),G6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(r,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=i}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let i=r.tt;for(;i.U===r;)r=i,i=r.tt;r=i}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let i=r.tt;for(;i.W===r;)r=i,i=r.tt;return r.W!==i?i:r}}te(){let r=this.tt,i=this.W,s=i.U;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.U=this,this.tt=i,this.W=s,s&&(s.tt=this),i}se(){let r=this.tt,i=this.U,s=i.W;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.W=this,this.tt=i,this.U=s,s&&(s.tt=this),i}};t.TreeNode=e;var n=class extends e{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=n}),JS=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=G6(),n=as(),r=ls(),i=class extends n.Container{constructor(o=function(l,u){return l<u?-1:l>u?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=e.TreeNodeEnableIndex,this.M=function(l,u,c){let f=this.ne(l,u,c);if(f){let h=f.tt;for(;h!==this.h;)h.rt+=1,h=h.tt;let d=this.he(f);if(d){let{parentNode:p,grandParent:g,curNode:_}=d;p.ie(),g.ie(),_.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=e.TreeNode,this.M=function(l,u,c){let f=this.ne(l,u,c);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let u=this.v(o.u,a);if(u<0)o=o.W;else if(u>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let u=this.v(o.u,a);if(u<0)l=o,o=o.W;else if(u>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,f=this.v(c.u,o);if(f===0){c.l=a;return}else if(f>0)c.U=new this.re(o,a),c.U.tt=c,u=c.U,this.h.U=u;else{let h=this.h.W,d=this.v(h.u,o);if(d===0){h.l=a;return}else if(d<0)h.W=new this.re(o,a),h.W.tt=h,u=h.W,this.h.W=u;else{if(l!==void 0){let p=l.o;if(p!==this.h){let g=this.v(p.u,o);if(g===0){p.l=a;return}else if(g>0){let _=p.L(),y=this.v(_.u,o);if(y===0){_.l=a;return}else y<0&&(u=new this.re(o,a),_.W===void 0?(_.W=u,u.tt=_):(p.U=u,u.tt=p))}}}if(u===void 0)for(u=this.Y;;){let p=this.v(u.u,o);if(p>0){if(u.U===void 0){u.U=new this.re(o,a),u.U.tt=u,u=u.U;break}u=u.U}else if(p<0){if(u.W===void 0){u.W=new this.re(o,a),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=a;return}}}}return this.i+=1,u}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let u=l.L().u;if(this.v(u,a)>=0)return!1;let c=l.B().u;return this.v(c,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(u){return o===a?(l.V(u),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,r.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let u of this){if(l===o){a=u;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=i;t.default=s}),ZS=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=as(),n=ls(),r=class extends e.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},i=r;t.default=i}),z6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(JS()),n=i(ZS()),r=ls();function i(l){return l&&l.t?l:{default:l}}var s=class eC extends n.default{constructor(u,c,f,h){super(u,c,h),this.container=f}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new eC(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],u,c){super(u,c);let f=this;l.forEach(function(h){f.insert(h)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new s(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new s(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new s(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new s(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new s(u,this.h,this)}union(l){let u=this;return l.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),K6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(JS()),n=i(ZS()),r=ls();function i(l){return l&&l.t?l:{default:l}}var s=class tC extends n.default{constructor(u,c,f,h){super(u,c,h),this.container=f}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,h){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=h,!0}})}copy(){return new tC(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],u,c){super(u,c);let f=this;l.forEach(function(h){f.setElement(h[0],h[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new s(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new s(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new s(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new s(u,this.h,this)}setElement(l,u,c){return this.M(l,u,c)}find(l){let u=this.I(this.Y,l);return new s(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),nC=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),rC=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=as(),n=i(nC()),r=ls();function i(a){return a&&a.t?a:{default:a}}var s=class extends e.ContainerIterator{constructor(a,l,u){super(u),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var o=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:u}=a;l.B=u,u.L=l,a===this.p&&(this.p=u),a===this._&&(this._=l),this.i-=1}M(a,l,u){u===void 0&&(u=(0,n.default)(a));let c;if(u){let f=a[this.HASH_TAG];if(f!==void 0)return this.H[f].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:a,l,L:this._,B:this.h},this.H.push(c)}else{let f=this.g[a];if(f)return f.l=l,this.i;c={u:a,l,L:this._,B:this.h},this.g[a]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(a,l){if(l===void 0&&(l=(0,n.default)(a)),l){let u=a[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let u;if(l===void 0&&(l=(0,n.default)(a)),l){let c=a[this.HASH_TAG];if(c===void 0)return!1;delete a[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[a],u===void 0)return!1;delete this.g[a]}return this.V(u),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,r.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};t.HashContainer=o}),Q6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=rC(),n=ls(),r=class iC extends e.HashContainerIterator{constructor(a,l,u,c){super(a,l,c),this.container=u}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new iC(this.o,this.h,this.container,this.iteratorType)}},i=class extends e.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new r(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=i;t.default=s}),X6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=rC(),n=i(nC()),r=ls();function i(l){return l&&l.t?l:{default:l}}var s=class sC extends e.HashContainerIterator{constructor(u,c,f,h){super(u,c,h),this.container=f}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,h){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=h,!0}})}copy(){return new sC(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,c){return this.M(l,u,c)}getElementByKey(l,u){if(u===void 0&&(u=(0,n.default)(l)),u){let f=l[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let c=this.I(l,u);return new s(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;t.default=a}),J6=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return i.default}});var e=f(U6()),n=f(W6()),r=f(V6()),i=f(H6()),s=f(Y6()),o=f(q6()),a=f(z6()),l=f(K6()),u=f(Q6()),c=f(X6());function f(h){return h&&h.t?h:{default:h}}}),Z6=De((t,e)=>{Te(),Pe(),Ie();var n=J6().OrderedSet,r=ns()("number-allocator:trace"),i=ns()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new n([],(u,c)=>u.compare(c)),r("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,u=a.pointer.high,c=l;return c+1<=u?this.ss.updateKeyByIterator(a,new s(l+1,u)):this.ss.eraseElementByPos(0),r("alloc():"+c),c},o.prototype.use=function(a){let l=new s(a,a),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let c=u.pointer.low,f=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),r("use():"+a),!0):c>a?!1:c===a?(this.ss.updateKeyByIterator(u,new s(c+1,f)),r("use():"+a),!0):f===a?(this.ss.updateKeyByIterator(u,new s(c,f-1)),r("use():"+a),!0):(this.ss.updateKeyByIterator(u,new s(a+1,f)),this.ss.insert(new s(c,a-1)),r("use():"+a),!0)}return r("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){i("free():"+a+" is out of range");return}let l=new s(a,a),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let c=u.pointer.high;u.pointer.high+1===a?this.ss.updateKeyByIterator(u,new s(c,a)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(a+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new s(a,c))}else this.ss.insert(l);else{let c=u.pointer.low,f=u.pointer.high;u.pre();let h=u.pointer.low;u.pointer.high+1===a?a+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new s(h,f))):this.ss.updateKeyByIterator(u,new s(h,a)):a+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new s(a,f))):this.ss.insert(l)}r("free():"+a)},o.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},e.exports=o}),oC=De((t,e)=>{Te(),Pe(),Ie();var n=Z6();e.exports.NumberAllocator=n}),e5=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=$6(),n=oC(),r=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(i){i>0&&(this.aliasToTopic=new e.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,i),this.topicToAlias[i]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let s=this.topicToAlias[i];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=r}),t5=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var n=ih(),r=e(e5()),i=Va(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,u=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new r.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(u===0)o.reconnecting=!1,o._onConnect(a);else if(u>0){let c=new i.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[u]}`,u);o.emit("error",c),o.options.reconnectOnConnackError&&o._cleanUp(!0)}};t.default=s}),n5=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=(n,r,i)=>{n.log("handling pubrel packet");let s=typeof i<"u"?i:n.noop,{messageId:o}=r,a={cmd:"pubcomp",messageId:o};n.incomingStore.get(r,(l,u)=>{l?n._sendPacket(a,s):(n.emit("message",u.topic,u.payload,u),n.handleMessage(u,c=>{if(c)return s(c);n.incomingStore.del(u,n.noop),n._sendPacket(a,s)}))})};t.default=e}),r5=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(F6()),r=e(j6()),i=e(t5()),s=e(ih()),o=e(n5()),a=(l,u,c)=>{let{options:f}=l;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,n.default)(l,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,u),c();break;case"pubrel":l.reschedulePing(),(0,o.default)(l,u,c);break;case"connack":(0,i.default)(l,u),c();break;case"auth":l.reschedulePing(),(0,r.default)(l,u),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",u),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};t.default=a}),aC=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};t.default=e}),i5=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{aliasToTopic;max;length;constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};t.default=e}),s5=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var n=e((Mo(),Kt(Ws))),r=Va(),i=class{};t.TypedEventEmitter=i,(0,r.applyMixin)(i,n.default)}),sh=De((t,e)=>{Te(),Pe(),Ie();function n(r){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,n(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),o5=De((t,e)=>{Te(),Pe(),Ie();var n=sh().default;function r(i,s){if(n(i)!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(n(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),a5=De((t,e)=>{Te(),Pe(),Ie();var n=sh().default,r=o5();function i(s){var o=r(s,"string");return n(o)=="symbol"?o:o+""}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),l5=De((t,e)=>{Te(),Pe(),Ie();var n=a5();function r(i,s,o){return(s=n(s))in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),u5=De((t,e)=>{Te(),Pe(),Ie();function n(r){if(Array.isArray(r))return r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),c5=De((t,e)=>{Te(),Pe(),Ie();function n(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var o,a,l,u,c=[],f=!0,h=!1;try{if(l=(s=s.call(r)).next,i===0){if(Object(s)!==s)return;f=!1}else for(;!(f=(o=l.call(s)).done)&&(c.push(o.value),c.length!==i);f=!0);}catch(d){h=!0,a=d}finally{try{if(!f&&s.return!=null&&(u=s.return(),Object(u)!==u))return}finally{if(h)throw a}}return c}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),f5=De((t,e)=>{Te(),Pe(),Ie();function n(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,o=Array(i);s<i;s++)o[s]=r[s];return o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),h5=De((t,e)=>{Te(),Pe(),Ie();var n=f5();function r(i,s){if(i){if(typeof i=="string")return n(i,s);var o={}.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(i):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(i,s):void 0}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),d5=De((t,e)=>{Te(),Pe(),Ie();function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),p5=De((t,e)=>{Te(),Pe(),Ie();var n=u5(),r=c5(),i=h5(),s=d5();function o(a,l){return n(a)||r(a,l)||i(a,l)||s()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),lC=De((t,e)=>{Te(),Pe(),Ie(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))})(t,function(n){var r=function(d){return function(p){var g=d(p);return p.add(g),g}},i=function(d){return function(p,g){return d.set(p,g),g}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(d,p){return function(g){var _=p.get(g),y=_===void 0?g.size:_<a?_+1:0;if(!g.has(y))return d(g,y);if(g.size<o){for(;g.has(y);)y=Math.floor(Math.random()*a);return d(g,y)}if(g.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;g.has(y);)y=Math.floor(Math.random()*s);return d(g,y)}},u=new WeakMap,c=i(u),f=l(c,u),h=r(f);n.addUniqueNumber=h,n.generateUniqueNumber=f})}),m5=De((t,e)=>{Te(),Pe(),Ie();function n(i,s,o,a,l,u,c){try{var f=i[u](c),h=f.value}catch(d){return void o(d)}f.done?s(h):Promise.resolve(h).then(a,l)}function r(i){return function(){var s=this,o=arguments;return new Promise(function(a,l){var u=i.apply(s,o);function c(h){n(u,a,l,c,f,"next",h)}function f(h){n(u,a,l,c,f,"throw",h)}c(void 0)})}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),uC=De((t,e)=>{Te(),Pe(),Ie();function n(r,i){this.v=r,this.k=i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),cC=De((t,e)=>{Te(),Pe(),Ie();function n(r,i,s,o){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}e.exports=n=function(l,u,c,f){function h(d,p){n(l,d,function(g){return this._invoke(d,p,g)})}u?a?a(l,u,{value:c,enumerable:!f,configurable:!f,writable:!f}):l[u]=c:(h("next",0),h("throw",1),h("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,n(r,i,s,o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),fC=De((t,e)=>{Te(),Pe(),Ie();var n=cC();function r(){var i,s,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",l=o.toStringTag||"@@toStringTag";function u(y,m,b,S){var E=m&&m.prototype instanceof f?m:f,x=Object.create(E.prototype);return n(x,"_invoke",(function(C,k,R){var j,K,D,ee=0,te=R||[],Z=!1,fe={p:0,n:0,v:i,a:q,f:q.bind(i,4),d:function(re,me){return j=re,K=0,D=i,fe.n=me,c}};function q(re,me){for(K=re,D=me,s=0;!Z&&ee&&!ie&&s<te.length;s++){var ie,X=te[s],ne=fe.p,pe=X[2];re>3?(ie=pe===me)&&(D=X[(K=X[4])?5:(K=3,3)],X[4]=X[5]=i):X[0]<=ne&&((ie=re<2&&ne<X[1])?(K=0,fe.v=me,fe.n=X[1]):ne<pe&&(ie=re<3||X[0]>me||me>pe)&&(X[4]=re,X[5]=me,fe.n=pe,K=0))}if(ie||re>1)return c;throw Z=!0,me}return function(re,me,ie){if(ee>1)throw TypeError("Generator is already running");for(Z&&me===1&&q(me,ie),K=me,D=ie;(s=K<2?i:D)||!Z;){j||(K?K<3?(K>1&&(fe.n=-1),q(K,D)):fe.n=D:fe.v=D);try{if(ee=2,j){if(K||(re="next"),s=j[re]){if(!(s=s.call(j,D)))throw TypeError("iterator result is not an object");if(!s.done)return s;D=s.value,K<2&&(K=0)}else K===1&&(s=j.return)&&s.call(j),K<2&&(D=TypeError("The iterator does not provide a '"+re+"' method"),K=1);j=i}else if((s=(Z=fe.n<0)?D:C.call(k,fe))!==c)break}catch(X){j=i,K=1,D=X}finally{ee=1}}return{value:s,done:Z}}})(y,b,S),!0),x}var c={};function f(){}function h(){}function d(){}s=Object.getPrototypeOf;var p=[][a]?s(s([][a]())):(n(s={},a,function(){return this}),s),g=d.prototype=f.prototype=Object.create(p);function _(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,d):(y.__proto__=d,n(y,l,"GeneratorFunction")),y.prototype=Object.create(g),y}return h.prototype=d,n(g,"constructor",d),n(d,"constructor",h),h.displayName="GeneratorFunction",n(d,l,"GeneratorFunction"),n(g),n(g,l,"Generator"),n(g,a,function(){return this}),n(g,"toString",function(){return"[object Generator]"}),(e.exports=r=function(){return{w:u,m:_}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),hC=De((t,e)=>{Te(),Pe(),Ie();var n=uC(),r=cC();function i(s,o){function a(u,c,f,h){try{var d=s[u](c),p=d.value;return p instanceof n?o.resolve(p.v).then(function(g){a("next",g,f,h)},function(g){a("throw",g,f,h)}):o.resolve(p).then(function(g){d.value=g,f(d)},function(g){return a("throw",g,f,h)})}catch(g){h(g)}}var l;this.next||(r(i.prototype),r(i.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(u,c,f){function h(){return new o(function(d,p){a(u,f,d,p)})}return l=l?l.then(h,h):h()},!0)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),dC=De((t,e)=>{Te(),Pe(),Ie();var n=fC(),r=hC();function i(s,o,a,l,u){return new r(n().w(s,o,a,l),u||Promise)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),g5=De((t,e)=>{Te(),Pe(),Ie();var n=dC();function r(i,s,o,a,l){var u=n(i,s,o,a,l);return u.next().then(function(c){return c.done?c.value:u.next()})}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),y5=De((t,e)=>{Te(),Pe(),Ie();function n(r){var i=Object(r),s=[];for(var o in i)s.unshift(o);return function a(){for(;s.length;)if((o=s.pop())in i)return a.value=o,a.done=!1,a;return a.done=!0,a}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),v5=De((t,e)=>{Te(),Pe(),Ie();var n=sh().default;function r(i){if(i!=null){var s=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],o=0;if(s)return s.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}}}throw new TypeError(n(i)+" is not iterable")}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),_5=De((t,e)=>{Te(),Pe(),Ie();var n=uC(),r=fC(),i=g5(),s=dC(),o=hC(),a=y5(),l=v5();function u(){var c=r(),f=c.m(u),h=(Object.getPrototypeOf?Object.getPrototypeOf(f):f.__proto__).constructor;function d(_){var y=typeof _=="function"&&_.constructor;return!!y&&(y===h||(y.displayName||y.name)==="GeneratorFunction")}var p={throw:1,return:2,break:3,continue:3};function g(_){var y,m;return function(b){y||(y={stop:function(){return m(b.a,2)},catch:function(){return b.v},abrupt:function(S,E){return m(b.a,p[S],E)},delegateYield:function(S,E,x){return y.resultName=E,m(b.d,l(S),x)},finish:function(S){return m(b.f,S)}},m=function(S,E,x){b.p=y.prev,b.n=y.next;try{return S(E,x)}finally{y.next=b.n}}),y.resultName&&(y[y.resultName]=b.v,y.resultName=void 0),y.sent=b.v,y.next=b.n;try{return _.call(this,y)}finally{b.p=y.prev,b.n=y.next}}}return(e.exports=u=function(){return{wrap:function(_,y,m,b){return c.w(g(_),y,m,b&&b.reverse())},isGeneratorFunction:d,mark:c.m,awrap:function(_,y){return new n(_,y)},AsyncIterator:o,async:function(_,y,m,b,S){return(d(y)?s:i)(g(_),y,m,b,S)},keys:a,values:l}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}),b5=De((t,e)=>{Te(),Pe(),Ie();var n=_5()();e.exports=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}),w5=De((t,e)=>{Te(),Pe(),Ie(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,l5(),p5(),lC(),m5(),b5()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.brokerFactory={},n._defineProperty,n._slicedToArray,n.fastUniqueNumbers,n._asyncToGenerator,n._regeneratorRuntime))})(t,function(n,r,i,s,o,a){var l=function(m){return typeof m.start=="function"},u=new WeakMap;function c(m,b){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(m);b&&(E=E.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),S.push.apply(S,E)}return S}function f(m){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?c(Object(S),!0).forEach(function(E){r(m,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):c(Object(S)).forEach(function(E){Object.defineProperty(m,E,Object.getOwnPropertyDescriptor(S,E))})}return m}var h=function(m){return f(f({},m),{},{connect:function(b){var S=b.call;return o(a.mark(function E(){var x,C,k,R;return a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return x=new MessageChannel,C=x.port1,k=x.port2,j.next=1,S("connect",{port:C},[C]);case 1:return R=j.sent,u.set(k,R),j.abrupt("return",k);case 2:case"end":return j.stop()}},E)}))},disconnect:function(b){var S=b.call;return(function(){var E=o(a.mark(function x(C){var k;return a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(k=u.get(C),k!==void 0){R.next=1;break}throw new Error("The given port is not connected.");case 1:return R.next=2,S("disconnect",{portId:k});case 2:case"end":return R.stop()}},x)}));return function(x){return E.apply(this,arguments)}})()},isSupported:function(b){var S=b.call;return function(){return S("isSupported")}}})};function d(m,b){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(m);b&&(E=E.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),S.push.apply(S,E)}return S}function p(m){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?d(Object(S),!0).forEach(function(E){r(m,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):d(Object(S)).forEach(function(E){Object.defineProperty(m,E,Object.getOwnPropertyDescriptor(S,E))})}return m}var g=new WeakMap,_=function(m){if(g.has(m))return g.get(m);var b=new Map;return g.set(m,b),b},y=function(m){var b=h(m);return function(S){var E=_(S);S.addEventListener("message",function(te){var Z=te.data,fe=Z.id;if(fe!==null&&E.has(fe)){var q=E.get(fe),re=q.reject,me=q.resolve;E.delete(fe),Z.error===void 0?me(Z.result):re(new Error(Z.error.message))}}),l(S)&&S.start();for(var x=function(te){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(q,re){var me=s.generateUniqueNumber(E);E.set(me,{reject:re,resolve:q}),Z===null?S.postMessage({id:me,method:te},fe):S.postMessage({id:me,method:te,params:Z},fe)})},C=function(te,Z){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];S.postMessage({id:null,method:te,params:Z},fe)},k={},R=0,j=Object.entries(b);R<j.length;R++){var K=i(j[R],2),D=K[0],ee=K[1];k=p(p({},k),{},r({},D,ee({call:x,notify:C})))}return p({},k)}};n.createBroker=y})}),E5=De((t,e)=>{Te(),Pe(),Ie(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,sh(),w5(),lC()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n._typeof,n.brokerFactory,n.fastUniqueNumbers))})(t,function(n,r,i,s){var o=new Map([[0,null]]),a=new Map([[0,null]]),l=i.createBroker({clearInterval:function(c){var f=c.call;return function(h){r(o.get(h))==="symbol"&&(o.set(h,null),f("clear",{timerId:h,timerType:"interval"}).then(function(){o.delete(h)}))}},clearTimeout:function(c){var f=c.call;return function(h){r(a.get(h))==="symbol"&&(a.set(h,null),f("clear",{timerId:h,timerType:"timeout"}).then(function(){a.delete(h)}))}},setInterval:function(c){var f=c.call;return function(h){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length,g=new Array(p>2?p-2:0),_=2;_<p;_++)g[_-2]=arguments[_];var y=Symbol(),m=s.generateUniqueNumber(o);o.set(m,y);var b=function(){return f("set",{delay:d,now:performance.timeOrigin+performance.now(),timerId:m,timerType:"interval"}).then(function(){var S=o.get(m);if(S===void 0)throw new Error("The timer is in an undefined state.");S===y&&(h.apply(void 0,g),o.get(m)===y&&b())})};return b(),m}},setTimeout:function(c){var f=c.call;return function(h){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length,g=new Array(p>2?p-2:0),_=2;_<p;_++)g[_-2]=arguments[_];var y=Symbol(),m=s.generateUniqueNumber(a);return a.set(m,y),f("set",{delay:d,now:performance.timeOrigin+performance.now(),timerId:m,timerType:"timeout"}).then(function(){var b=a.get(m);if(b===void 0)throw new Error("The timer is in an undefined state.");b===y&&(a.delete(m),h.apply(void 0,g))}),m}}}),u=function(c){var f=new Worker(c);return l(f)};n.load=u,n.wrap=l})}),S5=De((t,e)=>{Te(),Pe(),Ie(),(function(n,r){typeof t=="object"&&typeof e<"u"?r(t,E5()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))})(t,function(n,r){var i=function(f,h){var d=null;return function(){if(d!==null)return d;var p=new Blob([h],{type:"application/javascript; charset=utf-8"}),g=URL.createObjectURL(p);return d=f(g),setTimeout(function(){return URL.revokeObjectURL(g)}),d}},s=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=i(r.load,s),a=function(f){return o().clearInterval(f)},l=function(f){return o().clearTimeout(f)},u=function(){var f;return(f=o()).setInterval.apply(f,arguments)},c=function(){var f;return(f=o()).setTimeout.apply(f,arguments)};n.clearInterval=a,n.clearTimeout=l,n.setInterval=u,n.setTimeout=c})}),oh=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var e=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&nn?.versions?!Object.prototype.hasOwnProperty.call(nn.versions,"electron"):typeof window.document<"u":!1,n=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=e()||n()||r();t.isWebWorker=n(),t.isReactNativeBrowser=r(),t.default=i}),C5=De(t=>{Te(),Pe(),Ie();var e=t&&t.__createBinding||(Object.create?function(u,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,h,d)}:function(u,c,f,h){h===void 0&&(h=f),u[h]=c[f]}),n=t&&t.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),r=t&&t.__importStar||(function(){var u=function(c){return u=Object.getOwnPropertyNames||function(f){var h=[];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(h[h.length]=d);return h},u(c)};return function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h=u(c),d=0;d<h.length;d++)h[d]!=="default"&&e(f,c,h[d]);return n(f,c),f}})();Object.defineProperty(t,"__esModule",{value:!0});var i=S5(),s=r(oh()),o={set:i.setInterval,clear:i.clearInterval},a={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},l=u=>{switch(u){case"native":return a;case"worker":return o;default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?o:a}};t.default=l}),pC=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(C5()),r=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,s){this.client=i,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,n.default)(s),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=r}),wm=De(t=>{Te(),Pe(),Ie();var e=t&&t.__createBinding||(Object.create?function(E,x,C,k){k===void 0&&(k=C);var R=Object.getOwnPropertyDescriptor(x,C);(!R||("get"in R?!x.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return x[C]}}),Object.defineProperty(E,k,R)}:function(E,x,C,k){k===void 0&&(k=C),E[k]=x[C]}),n=t&&t.__setModuleDefault||(Object.create?function(E,x){Object.defineProperty(E,"default",{enumerable:!0,value:x})}:function(E,x){E.default=x}),r=t&&t.__importStar||(function(){var E=function(x){return E=Object.getOwnPropertyNames||function(C){var k=[];for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(k[k.length]=R);return k},E(x)};return function(x){if(x&&x.__esModule)return x;var C={};if(x!=null)for(var k=E(x),R=0;R<k.length;R++)k[R]!=="default"&&e(C,x,k[R]);return n(C,x),C}})(),i=t&&t.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(D6()),o=Ro(),a=i(N6()),l=i(ns()),u=r(L6()),c=i(HS()),f=i(r5()),h=i(aC()),d=i(i5()),p=Va(),g=s5(),_=i(pC()),y=r(oh()),m=globalThis.setImmediate||((...E)=>{let x=E.shift();(0,p.nextTick)(()=>{x(...E)})}),b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},S=class Em extends g.TypedEventEmitter{static VERSION=p.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(x,C){super(),this.options=C||{};for(let k in b)typeof this.options[k]>"u"?this.options[k]=b[k]:this.options[k]=C[k];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Em.VERSION),y.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",y.default?"browser":"node"),this.log("MqttClient :: options.protocol",C.protocol),this.log("MqttClient :: options.protocolVersion",C.protocolVersion),this.log("MqttClient :: options.username",C.username),this.log("MqttClient :: options.keepalive",C.keepalive),this.log("MqttClient :: options.reconnectPeriod",C.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",C.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",C.properties?C.properties.topicAliasMaximum:void 0),this.options.clientId=typeof C.clientId=="string"?C.clientId:Em.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=C.protocolVersion===5&&C.customHandleAcks?C.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=x,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new h.default:this.options.messageIdProvider,this.outgoingStore=C.outgoingStore||new c.default,this.incomingStore=C.incomingStore||new c.default,this.queueQoSZero=C.queueQoSZero===void 0?!0:C.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,C.properties&&C.properties.topicAliasMaximum>0&&(C.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new d.default(C.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,R=()=>{let j=k.shift();this.log("deliver :: entry %o",j);let K=null;if(!j){this._resubscribe();return}K=j.packet,this.log("deliver :: call _sendPacket for %o",K);let D=!0;K.messageId&&K.messageId!==0&&(this.messageIdProvider.register(K.messageId)||(D=!1)),D?this._sendPacket(K,ee=>{j.cb&&j.cb(ee),R()}):(this.log("messageId: %d has already used. The message is skipped and removed.",K.messageId),R())};this.log("connect :: sending queued packets"),R()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(x,C){C()}handleMessage(x,C){C()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let x=new o.Writable,C=s.default.parser(this.options),k=null,R=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),C.on("packet",te=>{this.log("parser :: on packet push to packets array."),R.push(te)});let j=()=>{this.log("work :: getting next packet in queue");let te=R.shift();if(te)this.log("work :: packet pulled from queue"),(0,f.default)(this,te,K);else{this.log("work :: no packets in queue");let Z=k;k=null,this.log("work :: done flag is %s",!!Z),Z&&Z()}},K=()=>{if(R.length)(0,p.nextTick)(j);else{let te=k;k=null,te()}};x._write=(te,Z,fe)=>{k=fe,this.log("writable stream :: parsing buffer"),C.parse(te),j()};let D=te=>{this.log("streamErrorHandler :: error",te.message),te.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",te)):this.noop(te)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(x),this.stream.on("error",D),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ee={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ee.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(ee.properties||(ee.properties={}),this.topicAliasRecv&&(ee.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ee),C.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let te={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(te)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(x,C,k,R){this.log("publish :: message `%s` to topic `%s`",C,x);let{options:j}=this;typeof k=="function"&&(R=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:K,retain:D,dup:ee,properties:te,cbStorePut:Z}=k;if(this._checkDisconnecting(R))return this;let fe=()=>{let q=0;if((K===1||K===2)&&(q=this._nextId(),q===null))return this.log("No messageId left"),!1;let re={cmd:"publish",topic:x,payload:C,qos:K,retain:D,messageId:q,dup:ee};switch(j.protocolVersion===5&&(re.properties=te),this.log("publish :: qos",K),K){case 1:case 2:this.outgoing[re.messageId]={volatile:!1,cb:R||this.noop},this.log("MqttClient:publish: packet cmd: %s",re.cmd),this._sendPacket(re,void 0,Z);break;default:this.log("MqttClient:publish: packet cmd: %s",re.cmd),this._sendPacket(re,R,Z);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!fe())&&this._storeProcessingQueue.push({invoke:fe,cbStorePut:k.cbStorePut,callback:R}),this}publishAsync(x,C,k){return new Promise((R,j)=>{this.publish(x,C,k,(K,D)=>{K?j(K):R(D)})})}subscribe(x,C,k){let R=this.options.protocolVersion;typeof C=="function"&&(k=C),k=k||this.noop;let j=!1,K=[];typeof x=="string"?(x=[x],K=x):Array.isArray(x)?K=x:typeof x=="object"&&(j=x.resubscribe,delete x.resubscribe,K=Object.keys(x));let D=u.validateTopics(K);if(D!==null)return m(k,new Error(`Invalid topic ${D}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let ee={qos:0};R===5&&(ee.nl=!1,ee.rap=!1,ee.rh=0),C={...ee,...C};let{properties:te}=C,Z=[],fe=(me,ie)=>{if(ie=ie||C,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,me)||this._resubscribeTopics[me].qos<ie.qos||j){let X={topic:me,qos:ie.qos};R===5&&(X.nl=ie.nl,X.rap=ie.rap,X.rh=ie.rh,X.properties=te),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",X.topic,X.qos),Z.push(X)}};if(Array.isArray(x)?x.forEach(me=>{this.log("subscribe: array topic %s",me),fe(me)}):Object.keys(x).forEach(me=>{this.log("subscribe: object topic %s, %o",me,x[me]),fe(me,x[me])}),!Z.length)return k(null,[]),this;let q=(me,ie)=>{let X={cmd:"subscribe",subscriptions:me,messageId:ie};if(te&&(X.properties=te),this.options.resubscribe){this.log("subscribe :: resubscribe true");let pe=[];me.forEach(ve=>{if(this.options.reconnectPeriod>0){let ge={qos:ve.qos};R===5&&(ge.nl=ve.nl||!1,ge.rap=ve.rap||!1,ge.rh=ve.rh||0,ge.properties=ve.properties),this._resubscribeTopics[ve.topic]=ge,pe.push(ve.topic)}}),this.messageIdToTopic[X.messageId]=pe}let ne=new Promise((pe,ve)=>{this.outgoing[X.messageId]={volatile:!0,cb(ge,Ee){if(!ge){let{granted:J}=Ee;for(let G=0;G<J.length;G+=1)me[G].qos=J[G]}ge?ve(new p.ErrorWithSubackPacket(ge.message,Ee)):pe(Ee)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(X),ne},re=()=>{let me=this.options.subscribeBatchSize??Z.length,ie=[];for(let X=0;X<Z.length;X+=me){let ne=Z.slice(X,X+me),pe=this._nextId();if(pe===null)return this.log("No messageId left"),!1;ie.push(q(ne,pe))}return Promise.all(ie).then(X=>{k(null,Z,X.at(-1))}).catch(X=>{k(X,Z,X.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!re())&&this._storeProcessingQueue.push({invoke:re,callback:k}),this}subscribeAsync(x,C){return new Promise((k,R)=>{this.subscribe(x,C,(j,K)=>{j?R(j):k(K)})})}unsubscribe(x,C,k){typeof x=="string"&&(x=[x]),typeof C=="function"&&(k=C),k=k||this.noop;let R=u.validateTopics(x);if(R!==null)return m(k,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(k))return this;let j=()=>{let K=this._nextId();if(K===null)return this.log("No messageId left"),!1;let D={cmd:"unsubscribe",messageId:K,unsubscriptions:[]};return typeof x=="string"?D.unsubscriptions=[x]:Array.isArray(x)&&(D.unsubscriptions=x),this.options.resubscribe&&D.unsubscriptions.forEach(ee=>{delete this._resubscribeTopics[ee]}),typeof C=="object"&&C.properties&&(D.properties=C.properties),this.outgoing[D.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(D),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!j())&&this._storeProcessingQueue.push({invoke:j,callback:k}),this}unsubscribeAsync(x,C){return new Promise((k,R)=>{this.unsubscribe(x,C,(j,K)=>{j?R(j):k(K)})})}end(x,C,k){this.log("end :: (%s)",this.options.clientId),(x==null||typeof x!="boolean")&&(k=k||C,C=x,x=!1),typeof C!="object"&&(k=k||C,C=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let R=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(K=>{this.outgoingStore.close(D=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let ee=K||D;this.log("end :: closeStores: invoking callback with args"),k(ee)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},j=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,x),this._cleanUp(x,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,p.nextTick)(R)},C)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!x&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,j,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),j()),this)}endAsync(x,C){return new Promise((k,R)=>{this.end(x,C,j=>{j?R(j):k()})})}removeOutgoingMessage(x){if(this.outgoing[x]){let{cb:C}=this.outgoing[x];this._removeOutgoingAndStoreMessage(x,()=>{C(new Error("Message removed"))})}return this}reconnect(x){this.log("client reconnect");let C=()=>{x?(this.options.incomingStore=x.incomingStore,this.options.outgoingStore=x.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=C:C(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(x=>{this.outgoing[x].volatile&&typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(x=>{typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_removeTopicAliasAndRecoverTopicName(x){let C;x.properties&&(C=x.properties.topicAlias);let k=x.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",C,k),k.length===0){if(typeof C>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(C),typeof k>"u")return new Error("Unregistered Topic Alias");x.topic=k}C&&delete x.properties.topicAlias}_checkDisconnecting(x){return this.disconnecting&&(x&&x!==this.noop?x(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(x,C,k={}){if(C&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",C)),this.log("_cleanUp :: forced? %s",x),x)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let R={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(R,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),m(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),C&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",C),C())}_storeAndSend(x,C,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",x.cmd);let R=x,j;if(R.cmd==="publish"&&(R=(0,a.default)(x),j=this._removeTopicAliasAndRecoverTopicName(R),j))return C&&C(j);this.outgoingStore.put(R,K=>{if(K)return C&&C(K);k(),this._writePacket(x,C)})}_applyTopicAlias(x){if(this.options.protocolVersion===5&&x.cmd==="publish"){let C;x.properties&&(C=x.properties.topicAlias);let k=x.topic.toString();if(this.topicAliasSend)if(C){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,C),!this.topicAliasSend.put(k,C)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,C),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(C=this.topicAliasSend.getAliasByTopic(k),C?(x.topic="",x.properties={...x.properties,topicAlias:C},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,C)):(C=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,C),x.properties={...x.properties,topicAlias:C},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,C))):this.options.autoUseTopicAlias&&(C=this.topicAliasSend.getAliasByTopic(k),C&&(x.topic="",x.properties={...x.properties,topicAlias:C},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,C))));else if(C)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,C),new Error("Sending Topic Alias out of range")}}_noop(x){this.log("noop ::",x)}_writePacket(x,C){this.log("_writePacket :: packet: %O",x),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",x),this.log("_writePacket :: writing to stream");let k=s.default.writeToStream(x,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&C&&C!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",C)):C&&(this.log("_writePacket :: invoking cb"),C())}_sendPacket(x,C,k,R){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,C=C||this.noop;let j=this._applyTopicAlias(x);if(j){C(j);return}if(!this.connected){if(x.cmd==="auth"){this._writePacket(x,C);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(x,C,k);return}if(R){this._writePacket(x,C);return}switch(x.cmd){case"publish":break;case"pubrel":this._storeAndSend(x,C,k);return;default:this._writePacket(x,C);return}switch(x.qos){case 2:case 1:this._storeAndSend(x,C,k);break;default:this._writePacket(x,C);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(x,C,k){this.log("_storePacket :: packet: %o",x),this.log("_storePacket :: cb? %s",!!C),k=k||this.noop;let R=x;if(R.cmd==="publish"){R=(0,a.default)(x);let K=this._removeTopicAliasAndRecoverTopicName(R);if(K)return C&&C(K)}let j=R.qos||0;j===0&&this.queueQoSZero||R.cmd!=="publish"?this.queue.push({packet:R,cb:C}):j>0?(C=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoingStore.put(R,K=>{if(K)return C&&C(K);k()})):C&&C(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new _.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(x=!1){this.keepaliveManager&&this.options.keepalive&&(x||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let x=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&x.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let C=0;C<x.length;C++){let k={};k[x[C]]=this._resubscribeTopics[x[C]],k.resubscribe=!0,this.subscribe(k,{properties:k[x[C]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(x){if(this.disconnected){this.emit("connect",x);return}this.connackPacket=x,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let C=()=>{let k=this.outgoingStore.createStream(),R=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),j()},j=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",R),k.on("error",D=>{j(),this._flushStoreProcessingQueue(),this.removeListener("close",R),this.emit("error",D)});let K=()=>{if(!k)return;let D=k.read(1),ee;if(!D){k.once("readable",K);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[D.messageId]){K();return}!this.disconnecting&&!this.reconnectTimer?(ee=this.outgoing[D.messageId]?this.outgoing[D.messageId].cb:null,this.outgoing[D.messageId]={volatile:!1,cb(te,Z){ee&&ee(te,Z),K()}},this._packetIdsDuringStoreProcessing[D.messageId]=!0,this.messageIdProvider.register(D.messageId)?this._sendPacket(D,void 0,void 0,!0):this.log("messageId: %d has already used.",D.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let D=!0;for(let ee in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ee]){D=!1;break}this.removeListener("close",R),D?(j(),this._invokeAllStoreProcessingQueue(),this.emit("connect",x)):C()}),K()};C()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let x=this._storeProcessingQueue[0];if(x&&x.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let x of this._storeProcessingQueue)x.cbStorePut&&x.cbStorePut(new Error("Connection closed")),x.callback&&x.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(x,C){delete this.outgoing[x],this.outgoingStore.del({messageId:x},(k,R)=>{C(k,R),this.messageIdProvider.deallocate(x),this._invokeStoreProcessingQueue()})}};t.default=S}),x5=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=oC(),n=class{numberAllocator;lastId;constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};t.default=n});function A5(){if(Sm)return hc;Sm=!0;let t=2147483647,e=36,n=1,r=26,i=38,s=700,o=72,a=128,l="-",u=/^xn--/,c=/[^\0-\x7F]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=e-n,p=Math.floor,g=String.fromCharCode;function _(j){throw new RangeError(h[j])}function y(j,K){let D=[],ee=j.length;for(;ee--;)D[ee]=K(j[ee]);return D}function m(j,K){let D=j.split("@"),ee="";D.length>1&&(ee=D[0]+"@",j=D[1]),j=j.replace(f,".");let te=j.split("."),Z=y(te,K).join(".");return ee+Z}function b(j){let K=[],D=0,ee=j.length;for(;D<ee;){let te=j.charCodeAt(D++);if(te>=55296&&te<=56319&&D<ee){let Z=j.charCodeAt(D++);(Z&64512)==56320?K.push(((te&1023)<<10)+(Z&1023)+65536):(K.push(te),D--)}else K.push(te)}return K}let S=j=>String.fromCodePoint(...j),E=function(j){return j>=48&&j<58?26+(j-48):j>=65&&j<91?j-65:j>=97&&j<123?j-97:e},x=function(j,K){return j+22+75*(j<26)-((K!=0)<<5)},C=function(j,K,D){let ee=0;for(j=D?p(j/s):j>>1,j+=p(j/K);j>d*r>>1;ee+=e)j=p(j/d);return p(ee+(d+1)*j/(j+i))},k=function(j){let K=[],D=j.length,ee=0,te=a,Z=o,fe=j.lastIndexOf(l);fe<0&&(fe=0);for(let q=0;q<fe;++q)j.charCodeAt(q)>=128&&_("not-basic"),K.push(j.charCodeAt(q));for(let q=fe>0?fe+1:0;q<D;){let re=ee;for(let ie=1,X=e;;X+=e){q>=D&&_("invalid-input");let ne=E(j.charCodeAt(q++));ne>=e&&_("invalid-input"),ne>p((t-ee)/ie)&&_("overflow"),ee+=ne*ie;let pe=X<=Z?n:X>=Z+r?r:X-Z;if(ne<pe)break;let ve=e-pe;ie>p(t/ve)&&_("overflow"),ie*=ve}let me=K.length+1;Z=C(ee-re,me,re==0),p(ee/me)>t-te&&_("overflow"),te+=p(ee/me),ee%=me,K.splice(ee++,0,te)}return String.fromCodePoint(...K)},R=function(j){let K=[];j=b(j);let D=j.length,ee=a,te=0,Z=o;for(let re of j)re<128&&K.push(g(re));let fe=K.length,q=fe;for(fe&&K.push(l);q<D;){let re=t;for(let ie of j)ie>=ee&&ie<re&&(re=ie);let me=q+1;re-ee>p((t-te)/me)&&_("overflow"),te+=(re-ee)*me,ee=re;for(let ie of j)if(ie<ee&&++te>t&&_("overflow"),ie===ee){let X=te;for(let ne=e;;ne+=e){let pe=ne<=Z?n:ne>=Z+r?r:ne-Z;if(X<pe)break;let ve=X-pe,ge=e-pe;K.push(g(x(pe+ve%ge,0))),X=p(ve/ge)}K.push(g(x(X,0))),Z=C(te,me,q===fe),te=0,++q}++te,++ee}return K.join("")};return hc={version:"2.3.1",ucs2:{decode:b,encode:S},decode:k,encode:R,toASCII:function(j){return m(j,function(K){return c.test(K)?"xn--"+R(K):K})},toUnicode:function(j){return m(j,function(K){return u.test(K)?k(K.slice(4).toLowerCase()):K})}},hc}var hc,Sm,_s,k5=vr(()=>{Te(),Pe(),Ie(),hc={},Sm=!1,_s=A5(),_s.decode,_s.encode,_s.toASCII,_s.toUnicode,_s.ucs2,_s.version});function T5(){return xm||(xm=!0,Cm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;t[e]=r;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==r||s.enumerable!==!0)return!1}return!0}),Cm}function I5(){return km||(km=!0,Am=Error),Am}function P5(){return Im||(Im=!0,Tm=EvalError),Tm}function O5(){return Om||(Om=!0,Pm=RangeError),Pm}function M5(){return Dm||(Dm=!0,Mm=ReferenceError),Mm}function mC(){return Nm||(Nm=!0,Rm=SyntaxError),Rm}function _u(){return Fm||(Fm=!0,Lm=TypeError),Lm}function D5(){return jm||(jm=!0,Bm=URIError),Bm}function R5(){if($m)return dc;$m=!0;var t=typeof Symbol<"u"&&Symbol,e=T5();return dc=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dc}function N5(){if(Um)return pc;Um=!0;var t={__proto__:null,foo:{}},e=Object;return pc=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},pc}function L5(){if(Wm)return mc;Wm=!0;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(a,l){for(var u=[],c=0;c<a.length;c+=1)u[c]=a[c];for(var f=0;f<l.length;f+=1)u[f+a.length]=l[f];return u},s=function(a,l){for(var u=[],c=l,f=0;c<a.length;c+=1,f+=1)u[f]=a[c];return u},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return mc=function(a){var l=this;if(typeof l!="function"||e.apply(l)!==r)throw new TypeError(t+l);for(var u=s(arguments,1),c,f=function(){if(this instanceof c){var _=l.apply(this,i(u,arguments));return Object(_)===_?_:this}return l.apply(a,i(u,arguments))},h=n(0,l.length-u.length),d=[],p=0;p<h;p++)d[p]="$"+p;if(c=Function("binder","return function ("+o(d,",")+"){ return binder.apply(this,arguments); }")(f),l.prototype){var g=function(){};g.prototype=l.prototype,c.prototype=new g,g.prototype=null}return c},mc}function C0(){if(Vm)return gc;Vm=!0;var t=L5();return gc=Function.prototype.bind||t,gc}function F5(){if(Hm)return yc;Hm=!0;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=C0();return yc=n.call(t,e),yc}function Ha(){if(Ym)return vc;Ym=!0;var t,e=I5(),n=P5(),r=O5(),i=M5(),s=mC(),o=_u(),a=D5(),l=Function,u=function(q){try{return l('"use strict"; return ('+q+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var f=function(){throw new o},h=c?(function(){try{return arguments.callee,f}catch{try{return c(arguments,"callee").get}catch{return f}}})():f,d=R5()(),p=N5()(),g=Object.getPrototypeOf||(p?function(q){return q.__proto__}:null),_={},y=typeof Uint8Array>"u"||!g?t:g(Uint8Array),m={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":d&&g?g([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":_,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&g?g(g([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!g?t:g(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!g?t:g(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&g?g(""[Symbol.iterator]()):t,"%Symbol%":d?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":h,"%TypedArray%":y,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(g)try{null.error}catch(q){var b=g(g(q));m["%Error.prototype%"]=b}var S=function q(re){var me;if(re==="%AsyncFunction%")me=u("async function () {}");else if(re==="%GeneratorFunction%")me=u("function* () {}");else if(re==="%AsyncGeneratorFunction%")me=u("async function* () {}");else if(re==="%AsyncGenerator%"){var ie=q("%AsyncGeneratorFunction%");ie&&(me=ie.prototype)}else if(re==="%AsyncIteratorPrototype%"){var X=q("%AsyncGenerator%");X&&g&&(me=g(X.prototype))}return m[re]=me,me},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=C0(),C=F5(),k=x.call(Function.call,Array.prototype.concat),R=x.call(Function.apply,Array.prototype.splice),j=x.call(Function.call,String.prototype.replace),K=x.call(Function.call,String.prototype.slice),D=x.call(Function.call,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,te=/\\(\\)?/g,Z=function(q){var re=K(q,0,1),me=K(q,-1);if(re==="%"&&me!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(me==="%"&&re!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var ie=[];return j(q,ee,function(X,ne,pe,ve){ie[ie.length]=pe?j(ve,te,"$1"):ne||X}),ie},fe=function(q,re){var me=q,ie;if(C(E,me)&&(ie=E[me],me="%"+ie[0]+"%"),C(m,me)){var X=m[me];if(X===_&&(X=S(me)),typeof X>"u"&&!re)throw new o("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:ie,name:me,value:X}}throw new s("intrinsic "+q+" does not exist!")};return vc=function(q,re){if(typeof q!="string"||q.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof re!="boolean")throw new o('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,q)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=Z(q),ie=me.length>0?me[0]:"",X=fe("%"+ie+"%",re),ne=X.name,pe=X.value,ve=!1,ge=X.alias;ge&&(ie=ge[0],R(me,k([0,1],ge)));for(var Ee=1,J=!0;Ee<me.length;Ee+=1){var G=me[Ee],oe=K(G,0,1),L=K(G,-1);if((oe==='"'||oe==="'"||oe==="`"||L==='"'||L==="'"||L==="`")&&oe!==L)throw new s("property names with quotes must have matching quotes");if((G==="constructor"||!J)&&(ve=!0),ie+="."+G,ne="%"+ie+"%",C(m,ne))pe=m[ne];else if(pe!=null){if(!(G in pe)){if(!re)throw new o("base intrinsic for "+q+" exists, but the property is not available.");return}if(c&&Ee+1>=me.length){var Y=c(pe,G);J=!!Y,J&&"get"in Y&&!("originalValue"in Y.get)?pe=Y.get:pe=pe[G]}else J=C(pe,G),pe=pe[G];J&&!ve&&(m[ne]=pe)}}return pe},vc}function x0(){if(qm)return _c;qm=!0;var t=Ha(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return _c=e,_c}function gC(){if(Gm)return bc;Gm=!0;var t=Ha(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return bc=e,bc}function B5(){if(zm)return wc;zm=!0;var t=x0(),e=mC(),n=_u(),r=gC();return wc=function(i,s,o){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,f=!!r&&r(i,s);if(t)t(i,s,{configurable:u===null&&f?f.configurable:!u,enumerable:a===null&&f?f.enumerable:!a,value:o,writable:l===null&&f?f.writable:!l});else if(c||!a&&!l&&!u)i[s]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},wc}function j5(){if(Km)return Ec;Km=!0;var t=x0(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Ec=e,Ec}function $5(){if(Qm)return Sc;Qm=!0;var t=Ha(),e=B5(),n=j5()(),r=gC(),i=_u(),s=t("%Math.floor%");return Sc=function(o,a){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||s(a)!==a)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in o&&r){var f=r(o,"length");f&&!f.configurable&&(u=!1),f&&!f.writable&&(c=!1)}return(u||c||!l)&&(n?e(o,"length",a,!0,!0):e(o,"length",a)),o},Sc}function U5(){if(Xm)return ra;Xm=!0;var t=C0(),e=Ha(),n=$5(),r=_u(),i=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),o=e("%Reflect.apply%",!0)||t.call(s,i),a=x0(),l=e("%Math.max%");ra=function(c){if(typeof c!="function")throw new r("a function is required");var f=o(t,s,arguments);return n(f,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return o(t,i,arguments)};return a?a(ra,"apply",{value:u}):ra.apply=u,ra}function W5(){if(Jm)return Cc;Jm=!0;var t=Ha(),e=U5(),n=e(t("String.prototype.indexOf"));return Cc=function(r,i){var s=t(r,!!i);return typeof s=="function"&&n(r,".prototype.")>-1?e(s):s},Cc}var Cm,xm,Am,km,Tm,Im,Pm,Om,Mm,Dm,Rm,Nm,Lm,Fm,Bm,jm,dc,$m,pc,Um,mc,Wm,gc,Vm,yc,Hm,vc,Ym,_c,qm,bc,Gm,wc,zm,Ec,Km,Sc,Qm,ra,Xm,Cc,Jm,V5=vr(()=>{Te(),Pe(),Ie(),Cm={},xm=!1,Am={},km=!1,Tm={},Im=!1,Pm={},Om=!1,Mm={},Dm=!1,Rm={},Nm=!1,Lm={},Fm=!1,Bm={},jm=!1,dc={},$m=!1,pc={},Um=!1,mc={},Wm=!1,gc={},Vm=!1,yc={},Hm=!1,vc={},Ym=!1,_c={},qm=!1,bc={},Gm=!1,wc={},zm=!1,Ec={},Km=!1,Sc={},Qm=!1,ra={},Xm=!1,Cc={},Jm=!1});function A0(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function H5(){!Eo||!go||(Eo=!1,go.length?vi=go.concat(vi):Dl=-1,vi.length&&yC())}function yC(){if(!Eo){var t=setTimeout(H5,0);Eo=!0;for(var e=vi.length;e;){for(go=vi,vi=[];++Dl<e;)go&&go[Dl].run();Dl=-1,e=vi.length}go=null,Eo=!1,clearTimeout(t)}}function Y5(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];vi.push(new vC(t,e)),vi.length===1&&!Eo&&setTimeout(yC,0)}function vC(t,e){this.fun=t,this.array=e}function Zn(){}function q5(t){A0("_linkedBinding")}function G5(t){A0("dlopen")}function z5(){return[]}function K5(){return[]}function Q5(t,e){if(!t)throw new Error(e||"assertion error")}function X5(){return!1}function J5(){return Wi.now()/1e3}function wd(t){var e=Math.floor((Date.now()-Wi.now())*.001),n=Wi.now()*.001,r=Math.floor(n)+e,i=Math.floor(n%1*1e9);return t&&(r=r-t[0],i=i-t[1],i<0&&(r--,i+=xc)),[r,i]}function ms(){return k0}function Z5(t){return[]}var vi,Eo,go,Dl,vb,_b,bb,wb,Eb,Sb,Cb,xb,Ab,kb,Tb,Ib,Pb,Ob,Mb,Db,Rb,Nb,Lb,Fb,Bb,Xu,jb,$b,Ub,Wb,Vb,Hb,Yb,qb,Gb,zb,Kb,Qb,Xb,Jb,Zb,ew,tw,nw,rw,iw,sw,ow,aw,lw,uw,Wi,Ed,xc,cw,fw,hw,dw,pw,mw,gw,yw,vw,_w,bw,k0,_C=vr(()=>{Te(),Pe(),Ie(),vi=[],Eo=!1,Dl=-1,vC.prototype.run=function(){this.fun.apply(null,this.array)},vb="browser",_b="x64",bb="browser",wb={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Eb=["/usr/bin/node"],Sb=[],Cb="v16.8.0",xb={},Ab=function(t,e){console.warn((e?e+": ":"")+t)},kb=function(t){A0("binding")},Tb=function(t){return 0},Ib=function(){return"/"},Pb=function(t){},Ob={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Mb=Zn,Db=[],Rb={},Nb=!1,Lb={},Fb=Zn,Bb=Zn,Xu=function(){return{}},jb=Xu,$b=Xu,Ub=Zn,Wb=Zn,Vb=Zn,Hb={},Yb={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},qb=Zn,Gb=Zn,zb=Zn,Kb=Zn,Qb=Zn,Xb=Zn,Jb=Zn,Zb=void 0,ew=void 0,tw=void 0,nw=Zn,rw=2,iw=1,sw="/bin/usr/node",ow=9229,aw="node",lw=[],uw=Zn,Wi={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Wi.now===void 0&&(Ed=Date.now(),Wi.timing&&Wi.timing.navigationStart&&(Ed=Wi.timing.navigationStart),Wi.now=()=>Date.now()-Ed),xc=1e9,wd.bigint=function(t){var e=wd(t);return typeof BigInt>"u"?e[0]*xc+e[1]:BigInt(e[0]*xc)+BigInt(e[1])},cw=10,fw={},hw=0,dw=ms,pw=ms,mw=ms,gw=ms,yw=ms,vw=Zn,_w=ms,bw=ms,k0={version:Cb,versions:xb,arch:_b,platform:bb,release:Ob,_rawDebug:Mb,moduleLoadList:Db,binding:kb,_linkedBinding:q5,_events:fw,_eventsCount:hw,_maxListeners:cw,on:ms,addListener:dw,once:pw,off:mw,removeListener:gw,removeAllListeners:yw,emit:vw,prependListener:_w,prependOnceListener:bw,listeners:Z5,domain:Rb,_exiting:Nb,config:Lb,dlopen:G5,uptime:J5,_getActiveRequests:z5,_getActiveHandles:K5,reallyExit:Fb,_kill:Bb,cpuUsage:Xu,resourceUsage:jb,memoryUsage:$b,kill:Ub,exit:Wb,openStdin:Vb,allowedNodeEnvironmentFlags:Hb,assert:Q5,features:Yb,_fatalExceptions:qb,setUncaughtExceptionCaptureCallback:Gb,hasUncaughtExceptionCaptureCallback:X5,emitWarning:Ab,nextTick:Y5,_tickCallback:zb,_debugProcess:Kb,_debugEnd:Qb,_startProfilerIdleNotifier:Xb,_stopProfilerIdleNotifier:Jb,stdout:Zb,stdin:tw,stderr:ew,abort:nw,umask:Tb,chdir:Pb,cwd:Ib,env:wb,title:vb,argv:Eb,execArgv:Sb,pid:rw,ppid:iw,execPath:sw,debugPort:ow,hrtime:wd,argv0:aw,_preload_modules:lw,setSourceMapsEnabled:uw}});function e4(){if(Zm)return Ac;Zm=!0;var t=k0;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,o){for(var a="",l=0,u=-1,c=0,f,h=0;h<=s.length;++h){if(h<s.length)f=s.charCodeAt(h);else{if(f===47)break;f=47}if(f===47){if(!(u===h-1||c===1))if(u!==h-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var d=a.lastIndexOf("/");if(d!==a.length-1){d===-1?(a="",l=0):(a=a.slice(0,d),l=a.length-1-a.lastIndexOf("/")),u=h,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,c=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(u+1,h):a=s.slice(u+1,h),l=h-u-1;u=h,c=0}else f===46&&c!==-1?++c:c=-1}return a}function r(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=t.cwd()),u=a),e(u),u.length!==0&&(s=u+"/"+s,o=u.charCodeAt(0)===47)}return s=n(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=n(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,u=l-a,c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var f=o.length,h=f-c,d=u<h?u:h,p=-1,g=0;g<=d;++g){if(g===d){if(h>d){if(o.charCodeAt(c+g)===47)return o.slice(c+g+1);if(g===0)return o.slice(c+g)}else u>d&&(s.charCodeAt(a+g)===47?p=g:g===0&&(p=0));break}var _=s.charCodeAt(a+g),y=o.charCodeAt(c+g);if(_!==y)break;_===47&&(p=g)}var m="";for(g=a+p+1;g<=l;++g)(g===l||s.charCodeAt(g)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+o.slice(c+p):(c+=p,o.charCodeAt(c)===47&&++c,o.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,u=!0,c=s.length-1;c>=1;--c)if(o=s.charCodeAt(c),o===47){if(!u){l=c;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,u=!0,c;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,h=-1;for(c=s.length-1;c>=0;--c){var d=s.charCodeAt(c);if(d===47){if(!u){a=c+1;break}}else h===-1&&(u=!1,h=c+1),f>=0&&(d===o.charCodeAt(f)?--f===-1&&(l=c):(f=-1,l=h))}return a===l?l=h:l===-1&&(l=s.length),s.slice(a,l)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!u){a=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,u=!0,c=0,f=s.length-1;f>=0;--f){var h=s.charCodeAt(f);if(h===47){if(!u){a=f+1;break}continue}l===-1&&(u=!1,l=f+1),h===46?o===-1?o=f:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return r("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,u;l?(o.root="/",u=1):u=0;for(var c=-1,f=0,h=-1,d=!0,p=s.length-1,g=0;p>=u;--p){if(a=s.charCodeAt(p),a===47){if(!d){f=p+1;break}continue}h===-1&&(d=!1,h=p+1),a===46?c===-1?c=p:g!==1&&(g=1):c!==-1&&(g=-1)}return c===-1||h===-1||g===0||g===1&&c===h-1&&c===f+1?h!==-1&&(f===0&&l?o.base=o.name=s.slice(1,h):o.base=o.name=s.slice(f,h)):(f===0&&l?(o.name=s.slice(1,c),o.base=s.slice(1,h)):(o.name=s.slice(f,c),o.base=s.slice(f,h)),o.ext=s.slice(c,h)),f>0?o.dir=s.slice(0,f-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Ac=i,Ac}var Ac,Zm,eg,t4=vr(()=>{Te(),Pe(),Ie(),_C(),Ac={},Zm=!1,eg=e4()}),bC={};Ua(bC,{URL:()=>PC,Url:()=>xC,default:()=>er,fileURLToPath:()=>EC,format:()=>AC,parse:()=>IC,pathToFileURL:()=>SC,resolve:()=>kC,resolveObject:()=>TC});function n4(){if(tg)return kc;tg=!0;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,r=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,f=c?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,d=h?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,g=Object.prototype.toString,_=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,S=String.prototype.toUpperCase,E=String.prototype.toLowerCase,x=RegExp.prototype.test,C=Array.prototype.concat,k=Array.prototype.join,R=Array.prototype.slice,j=Math.floor,K=typeof BigInt=="function"?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,te=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Z=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===te||!0)?Symbol.toStringTag:null,fe=Object.prototype.propertyIsEnumerable,q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ye){return ye.__proto__}:null);function re(ye,Ce){if(ye===1/0||ye===-1/0||ye!==ye||ye&&ye>-1e3&&ye<1e3||x.call(/e/,Ce))return Ce;var Ue=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ye=="number"){var He=ye<0?-j(-ye):j(ye);if(He!==ye){var tt=String(He),nt=m.call(Ce,tt.length+1);return b.call(tt,Ue,"$&_")+"."+b.call(b.call(nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(Ce,Ue,"$&_")}var me=CC,ie=me.custom,X=Y(ie)?ie:null;kc=function ye(Ce,Ue,He,tt){var nt=Ue||{};if(B(nt,"quoteStyle")&&nt.quoteStyle!=="single"&&nt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(B(nt,"maxStringLength")&&(typeof nt.maxStringLength=="number"?nt.maxStringLength<0&&nt.maxStringLength!==1/0:nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ke=B(nt,"customInspect")?nt.customInspect:!0;if(typeof Ke!="boolean"&&Ke!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(B(nt,"indent")&&nt.indent!==null&&nt.indent!=="	"&&!(parseInt(nt.indent,10)===nt.indent&&nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(B(nt,"numericSeparator")&&typeof nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Qt=nt.numericSeparator;if(typeof Ce>"u")return"undefined";if(Ce===null)return"null";if(typeof Ce=="boolean")return Ce?"true":"false";if(typeof Ce=="string")return le(Ce,nt);if(typeof Ce=="number"){if(Ce===0)return 1/0/Ce>0?"0":"-0";var Nt=String(Ce);return Qt?re(Ce,Nt):Nt}if(typeof Ce=="bigint"){var An=String(Ce)+"n";return Qt?re(Ce,An):An}var kn=typeof nt.depth>"u"?5:nt.depth;if(typeof He>"u"&&(He=0),He>=kn&&kn>0&&typeof Ce=="object")return ve(Ce)?"[Array]":"[Object]";var Bn=_e(nt,He);if(typeof tt>"u")tt=[];else if(V(tt,Ce)>=0)return"[Circular]";function Sn(In,Xn,Pn){if(Xn&&(tt=R.call(tt),tt.push(Xn)),Pn){var kt={depth:nt.depth};return B(nt,"quoteStyle")&&(kt.quoteStyle=nt.quoteStyle),ye(In,kt,He+1,tt)}return ye(In,nt,He+1,tt)}if(typeof Ce=="function"&&!Ee(Ce)){var us=M(Ce),ai=Re(Ce,Sn);return"[Function"+(us?": "+us:" (anonymous)")+"]"+(ai.length>0?" { "+k.call(ai,", ")+" }":"")}if(Y(Ce)){var Pi=te?b.call(String(Ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(Ce);return typeof Ce=="object"&&!te?w(Pi):Pi}if(he(Ce)){for(var ae="<"+E.call(String(Ce.nodeName)),ce=Ce.attributes||[],Fe=0;Fe<ce.length;Fe++)ae+=" "+ce[Fe].name+"="+ne(pe(ce[Fe].value),"double",nt);return ae+=">",Ce.childNodes&&Ce.childNodes.length&&(ae+="..."),ae+="</"+E.call(String(Ce.nodeName))+">",ae}if(ve(Ce)){if(Ce.length===0)return"[]";var Ve=Re(Ce,Sn);return Bn&&!de(Ve)?"["+xe(Ve,Bn)+"]":"[ "+k.call(Ve,", ")+" ]"}if(J(Ce)){var ze=Re(Ce,Sn);return!("cause"in Error.prototype)&&"cause"in Ce&&!fe.call(Ce,"cause")?"{ ["+String(Ce)+"] "+k.call(C.call("[cause]: "+Sn(Ce.cause),ze),", ")+" }":ze.length===0?"["+String(Ce)+"]":"{ ["+String(Ce)+"] "+k.call(ze,", ")+" }"}if(typeof Ce=="object"&&Ke){if(X&&typeof Ce[X]=="function"&&me)return me(Ce,{depth:kn-He});if(Ke!=="symbol"&&typeof Ce.inspect=="function")return Ce.inspect()}if(O(Ce)){var un=[];return r&&r.call(Ce,function(In,Xn){un.push(Sn(Xn,Ce,!0)+" => "+Sn(In,Ce))}),F("Map",n.call(Ce),un,Bn)}if(U(Ce)){var Tn=[];return a&&a.call(Ce,function(In){Tn.push(Sn(In,Ce))}),F("Set",o.call(Ce),Tn,Bn)}if(z(Ce))return A("WeakMap");if(Q(Ce))return A("WeakSet");if(W(Ce))return A("WeakRef");if(oe(Ce))return w(Sn(Number(Ce)));if(P(Ce))return w(Sn(K.call(Ce)));if(L(Ce))return w(p.call(Ce));if(G(Ce))return w(Sn(String(Ce)));if(typeof window<"u"&&Ce===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ce===globalThis||typeof Tc<"u"&&Ce===Tc)return"{ [object globalThis] }";if(!ge(Ce)&&!Ee(Ce)){var Se=Re(Ce,Sn),je=q?q(Ce)===Object.prototype:Ce instanceof Object||Ce.constructor===Object,Je=Ce instanceof Object?"":"null prototype",rt=!je&&Z&&Object(Ce)===Ce&&Z in Ce?m.call(N(Ce),8,-1):Je?"Object":"",Bt=je||typeof Ce.constructor!="function"?"":Ce.constructor.name?Ce.constructor.name+" ":"",Cn=Bt+(rt||Je?"["+k.call(C.call([],rt||[],Je||[]),": ")+"] ":"");return Se.length===0?Cn+"{}":Bn?Cn+"{"+xe(Se,Bn)+"}":Cn+"{ "+k.call(Se,", ")+" }"}return String(Ce)};function ne(ye,Ce,Ue){var He=(Ue.quoteStyle||Ce)==="double"?'"':"'";return He+ye+He}function pe(ye){return b.call(String(ye),/"/g,"&quot;")}function ve(ye){return N(ye)==="[object Array]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function ge(ye){return N(ye)==="[object Date]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function Ee(ye){return N(ye)==="[object RegExp]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function J(ye){return N(ye)==="[object Error]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function G(ye){return N(ye)==="[object String]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function oe(ye){return N(ye)==="[object Number]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function L(ye){return N(ye)==="[object Boolean]"&&(!Z||!(typeof ye=="object"&&Z in ye))}function Y(ye){if(te)return ye&&typeof ye=="object"&&ye instanceof Symbol;if(typeof ye=="symbol")return!0;if(!ye||typeof ye!="object"||!ee)return!1;try{return ee.call(ye),!0}catch{}return!1}function P(ye){if(!ye||typeof ye!="object"||!K)return!1;try{return K.call(ye),!0}catch{}return!1}var I=Object.prototype.hasOwnProperty||function(ye){return ye in(this||Tc)};function B(ye,Ce){return I.call(ye,Ce)}function N(ye){return g.call(ye)}function M(ye){if(ye.name)return ye.name;var Ce=y.call(_.call(ye),/^function\s*([\w$]+)/);return Ce?Ce[1]:null}function V(ye,Ce){if(ye.indexOf)return ye.indexOf(Ce);for(var Ue=0,He=ye.length;Ue<He;Ue++)if(ye[Ue]===Ce)return Ue;return-1}function O(ye){if(!n||!ye||typeof ye!="object")return!1;try{n.call(ye);try{o.call(ye)}catch{return!0}return ye instanceof Map}catch{}return!1}function z(ye){if(!u||!ye||typeof ye!="object")return!1;try{u.call(ye,u);try{f.call(ye,f)}catch{return!0}return ye instanceof WeakMap}catch{}return!1}function W(ye){if(!d||!ye||typeof ye!="object")return!1;try{return d.call(ye),!0}catch{}return!1}function U(ye){if(!o||!ye||typeof ye!="object")return!1;try{o.call(ye);try{n.call(ye)}catch{return!0}return ye instanceof Set}catch{}return!1}function Q(ye){if(!f||!ye||typeof ye!="object")return!1;try{f.call(ye,f);try{u.call(ye,u)}catch{return!0}return ye instanceof WeakSet}catch{}return!1}function he(ye){return!ye||typeof ye!="object"?!1:typeof HTMLElement<"u"&&ye instanceof HTMLElement?!0:typeof ye.nodeName=="string"&&typeof ye.getAttribute=="function"}function le(ye,Ce){if(ye.length>Ce.maxStringLength){var Ue=ye.length-Ce.maxStringLength,He="... "+Ue+" more character"+(Ue>1?"s":"");return le(m.call(ye,0,Ce.maxStringLength),Ce)+He}var tt=b.call(b.call(ye,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Oe);return ne(tt,"single",Ce)}function Oe(ye){var Ce=ye.charCodeAt(0),Ue={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ce];return Ue?"\\"+Ue:"\\x"+(Ce<16?"0":"")+S.call(Ce.toString(16))}function w(ye){return"Object("+ye+")"}function A(ye){return ye+" { ? }"}function F(ye,Ce,Ue,He){var tt=He?xe(Ue,He):k.call(Ue,", ");return ye+" ("+Ce+") {"+tt+"}"}function de(ye){for(var Ce=0;Ce<ye.length;Ce++)if(V(ye[Ce],`
`)>=0)return!1;return!0}function _e(ye,Ce){var Ue;if(ye.indent==="	")Ue="	";else if(typeof ye.indent=="number"&&ye.indent>0)Ue=k.call(Array(ye.indent+1)," ");else return null;return{base:Ue,prev:k.call(Array(Ce+1),Ue)}}function xe(ye,Ce){if(ye.length===0)return"";var Ue=`
`+Ce.prev+Ce.base;return Ue+k.call(ye,","+Ue)+`
`+Ce.prev}function Re(ye,Ce){var Ue=ve(ye),He=[];if(Ue){He.length=ye.length;for(var tt=0;tt<ye.length;tt++)He[tt]=B(ye,tt)?Ce(ye[tt],ye):""}var nt=typeof D=="function"?D(ye):[],Ke;if(te){Ke={};for(var Qt=0;Qt<nt.length;Qt++)Ke["$"+nt[Qt]]=nt[Qt]}for(var Nt in ye)B(ye,Nt)&&(Ue&&String(Number(Nt))===Nt&&Nt<ye.length||te&&Ke["$"+Nt]instanceof Symbol||(x.call(/[^\w$]/,Nt)?He.push(Ce(Nt,ye)+": "+Ce(ye[Nt],ye)):He.push(Nt+": "+Ce(ye[Nt],ye))));if(typeof D=="function")for(var An=0;An<nt.length;An++)fe.call(ye,nt[An])&&He.push("["+Ce(nt[An])+"]: "+Ce(ye[nt[An]],ye));return He}return kc}function r4(){if(ng)return Ic;ng=!0;var t=Ha(),e=W5(),n=n4(),r=_u(),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),f=e("Map.prototype.has",!0),h=function(_,y){for(var m=_,b;(b=m.next)!==null;m=b)if(b.key===y)return m.next=b.next,b.next=_.next,_.next=b,b},d=function(_,y){var m=h(_,y);return m&&m.value},p=function(_,y,m){var b=h(_,y);b?b.value=m:_.next={key:y,next:_.next,value:m}},g=function(_,y){return!!h(_,y)};return Ic=function(){var _,y,m,b={assert:function(S){if(!b.has(S))throw new r("Side channel does not contain "+n(S))},get:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(_)return o(_,S)}else if(s){if(y)return u(y,S)}else if(m)return d(m,S)},has:function(S){if(i&&S&&(typeof S=="object"||typeof S=="function")){if(_)return l(_,S)}else if(s){if(y)return f(y,S)}else if(m)return g(m,S);return!1},set:function(S,E){i&&S&&(typeof S=="object"||typeof S=="function")?(_||(_=new i),a(_,S,E)):s?(y||(y=new s),c(y,S,E)):(m||(m={key:{},next:null}),p(m,S,E))}};return b},Ic}function T0(){if(rg)return Pc;rg=!0;var t=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Pc={default:n.RFC3986,formatters:{RFC1738:function(r){return t.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},Pc}function wC(){if(ig)return Oc;ig=!0;var t=T0(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var _=[],y=0;y<256;++y)_.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return _})(),i=function(_){for(;_.length>1;){var y=_.pop(),m=y.obj[y.prop];if(n(m)){for(var b=[],S=0;S<m.length;++S)typeof m[S]<"u"&&b.push(m[S]);y.obj[y.prop]=b}}},s=function(_,y){for(var m=y&&y.plainObjects?Object.create(null):{},b=0;b<_.length;++b)typeof _[b]<"u"&&(m[b]=_[b]);return m},o=function _(y,m,b){if(!m)return y;if(typeof m!="object"){if(n(y))y.push(m);else if(y&&typeof y=="object")(b&&(b.plainObjects||b.allowPrototypes)||!e.call(Object.prototype,m))&&(y[m]=!0);else return[y,m];return y}if(!y||typeof y!="object")return[y].concat(m);var S=y;return n(y)&&!n(m)&&(S=s(y,b)),n(y)&&n(m)?(m.forEach(function(E,x){if(e.call(y,x)){var C=y[x];C&&typeof C=="object"&&E&&typeof E=="object"?y[x]=_(C,E,b):y.push(E)}else y[x]=E}),y):Object.keys(m).reduce(function(E,x){var C=m[x];return e.call(E,x)?E[x]=_(E[x],C,b):E[x]=C,E},S)},a=function(_,y){return Object.keys(y).reduce(function(m,b){return m[b]=y[b],m},_)},l=function(_,y,m){var b=_.replace(/\+/g," ");if(m==="iso-8859-1")return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},u=1024,c=function(_,y,m,b,S){if(_.length===0)return _;var E=_;if(typeof _=="symbol"?E=Symbol.prototype.toString.call(_):typeof _!="string"&&(E=String(_)),m==="iso-8859-1")return escape(E).replace(/%u[0-9a-f]{4}/gi,function(D){return"%26%23"+parseInt(D.slice(2),16)+"%3B"});for(var x="",C=0;C<E.length;C+=u){for(var k=E.length>=u?E.slice(C,C+u):E,R=[],j=0;j<k.length;++j){var K=k.charCodeAt(j);if(K===45||K===46||K===95||K===126||K>=48&&K<=57||K>=65&&K<=90||K>=97&&K<=122||S===t.RFC1738&&(K===40||K===41)){R[R.length]=k.charAt(j);continue}if(K<128){R[R.length]=r[K];continue}if(K<2048){R[R.length]=r[192|K>>6]+r[128|K&63];continue}if(K<55296||K>=57344){R[R.length]=r[224|K>>12]+r[128|K>>6&63]+r[128|K&63];continue}j+=1,K=65536+((K&1023)<<10|k.charCodeAt(j)&1023),R[R.length]=r[240|K>>18]+r[128|K>>12&63]+r[128|K>>6&63]+r[128|K&63]}x+=R.join("")}return x},f=function(_){for(var y=[{obj:{o:_},prop:"o"}],m=[],b=0;b<y.length;++b)for(var S=y[b],E=S.obj[S.prop],x=Object.keys(E),C=0;C<x.length;++C){var k=x[C],R=E[k];typeof R=="object"&&R!==null&&m.indexOf(R)===-1&&(y.push({obj:E,prop:k}),m.push(R))}return i(y),_},h=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},d=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},p=function(_,y){return[].concat(_,y)},g=function(_,y){if(n(_)){for(var m=[],b=0;b<_.length;b+=1)m.push(y(_[b]));return m}return y(_)};return Oc={arrayToObject:s,assign:a,combine:p,compact:f,decode:l,encode:c,isBuffer:d,isRegExp:h,maybeMap:g,merge:o},Oc}function i4(){if(sg)return Mc;sg=!0;var t=r4(),e=wC(),n=T0(),r=Object.prototype.hasOwnProperty,i={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,_){return g+"["+_+"]"},repeat:function(g){return g}},s=Array.isArray,o=Array.prototype.push,a=function(g,_){o.apply(g,s(_)?_:[_])},l=Date.prototype.toISOString,u=n.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:u,formatter:n.formatters[u],indices:!1,serializeDate:function(g){return l.call(g)},skipNulls:!1,strictNullHandling:!1},f=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},h={},d=function g(_,y,m,b,S,E,x,C,k,R,j,K,D,ee,te,Z,fe,q){for(var re=_,me=q,ie=0,X=!1;(me=me.get(h))!==void 0&&!X;){var ne=me.get(_);if(ie+=1,typeof ne<"u"){if(ne===ie)throw new RangeError("Cyclic object value");X=!0}typeof me.get(h)>"u"&&(ie=0)}if(typeof R=="function"?re=R(y,re):re instanceof Date?re=D(re):m==="comma"&&s(re)&&(re=e.maybeMap(re,function(N){return N instanceof Date?D(N):N})),re===null){if(E)return k&&!Z?k(y,c.encoder,fe,"key",ee):y;re=""}if(f(re)||e.isBuffer(re)){if(k){var pe=Z?y:k(y,c.encoder,fe,"key",ee);return[te(pe)+"="+te(k(re,c.encoder,fe,"value",ee))]}return[te(y)+"="+te(String(re))]}var ve=[];if(typeof re>"u")return ve;var ge;if(m==="comma"&&s(re))Z&&k&&(re=e.maybeMap(re,k)),ge=[{value:re.length>0?re.join(",")||null:void 0}];else if(s(R))ge=R;else{var Ee=Object.keys(re);ge=j?Ee.sort(j):Ee}var J=C?y.replace(/\./g,"%2E"):y,G=b&&s(re)&&re.length===1?J+"[]":J;if(S&&s(re)&&re.length===0)return G+"[]";for(var oe=0;oe<ge.length;++oe){var L=ge[oe],Y=typeof L=="object"&&typeof L.value<"u"?L.value:re[L];if(!(x&&Y===null)){var P=K&&C?L.replace(/\./g,"%2E"):L,I=s(re)?typeof m=="function"?m(G,P):G:G+(K?"."+P:"["+P+"]");q.set(_,ie);var B=t();B.set(h,q),a(ve,g(Y,I,m,b,S,E,x,C,m==="comma"&&Z&&s(re)?null:k,R,j,K,D,ee,te,Z,fe,B))}}return ve},p=function(g){if(!g)return c;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var _=g.charset||c.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=n.default;if(typeof g.format<"u"){if(!r.call(n.formatters,g.format))throw new TypeError("Unknown format option provided.");y=g.format}var m=n.formatters[y],b=c.filter;(typeof g.filter=="function"||s(g.filter))&&(b=g.filter);var S;if(g.arrayFormat in i?S=g.arrayFormat:"indices"in g?S=g.indices?"indices":"repeat":S=c.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var E=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:c.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:c.addQueryPrefix,allowDots:E,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:S,charset:_,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:c.charsetSentinel,commaRoundTrip:g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?c.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:c.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:c.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:c.encodeValuesOnly,filter:b,format:y,formatter:m,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:c.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:c.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:c.strictNullHandling}};return Mc=function(g,_){var y=g,m=p(_),b,S;typeof m.filter=="function"?(S=m.filter,y=S("",y)):s(m.filter)&&(S=m.filter,b=S);var E=[];if(typeof y!="object"||y===null)return"";var x=i[m.arrayFormat],C=x==="comma"&&m.commaRoundTrip;b||(b=Object.keys(y)),m.sort&&b.sort(m.sort);for(var k=t(),R=0;R<b.length;++R){var j=b[R];m.skipNulls&&y[j]===null||a(E,d(y[j],j,x,C,m.allowEmptyArrays,m.strictNullHandling,m.skipNulls,m.encodeDotInKeys,m.encode?m.encoder:null,m.filter,m.sort,m.allowDots,m.serializeDate,m.format,m.formatter,m.encodeValuesOnly,m.charset,k))}var K=E.join(m.delimiter),D=m.addQueryPrefix===!0?"?":"";return m.charsetSentinel&&(m.charset==="iso-8859-1"?D+="utf8=%26%2310003%3B&":D+="utf8=%E2%9C%93&"),K.length>0?D+K:""},Mc}function s4(){if(og)return Dc;og=!0;var t=wC(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(d,p){return String.fromCharCode(parseInt(p,10))})},s=function(h,d){return h&&typeof h=="string"&&d.comma&&h.indexOf(",")>-1?h.split(","):h},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(h,d){var p={__proto__:null},g=d.ignoreQueryPrefix?h.replace(/^\?/,""):h;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var _=d.parameterLimit===1/0?void 0:d.parameterLimit,y=g.split(d.delimiter,_),m=-1,b,S=d.charset;if(d.charsetSentinel)for(b=0;b<y.length;++b)y[b].indexOf("utf8=")===0&&(y[b]===a?S="utf-8":y[b]===o&&(S="iso-8859-1"),m=b,b=y.length);for(b=0;b<y.length;++b)if(b!==m){var E=y[b],x=E.indexOf("]="),C=x===-1?E.indexOf("="):x+1,k,R;C===-1?(k=d.decoder(E,r.decoder,S,"key"),R=d.strictNullHandling?null:""):(k=d.decoder(E.slice(0,C),r.decoder,S,"key"),R=t.maybeMap(s(E.slice(C+1),d),function(K){return d.decoder(K,r.decoder,S,"value")})),R&&d.interpretNumericEntities&&S==="iso-8859-1"&&(R=i(R)),E.indexOf("[]=")>-1&&(R=n(R)?[R]:R);var j=e.call(p,k);j&&d.duplicates==="combine"?p[k]=t.combine(p[k],R):(!j||d.duplicates==="last")&&(p[k]=R)}return p},u=function(h,d,p,g){for(var _=g?d:s(d,p),y=h.length-1;y>=0;--y){var m,b=h[y];if(b==="[]"&&p.parseArrays)m=p.allowEmptyArrays&&(_===""||p.strictNullHandling&&_===null)?[]:[].concat(_);else{m=p.plainObjects?Object.create(null):{};var S=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,E=p.decodeDotInKeys?S.replace(/%2E/g,"."):S,x=parseInt(E,10);!p.parseArrays&&E===""?m={0:_}:!isNaN(x)&&b!==E&&String(x)===E&&x>=0&&p.parseArrays&&x<=p.arrayLimit?(m=[],m[x]=_):E!=="__proto__"&&(m[E]=_)}_=m}return _},c=function(h,d,p,g){if(h){var _=p.allowDots?h.replace(/\.([^.[]+)/g,"[$1]"):h,y=/(\[[^[\]]*])/,m=/(\[[^[\]]*])/g,b=p.depth>0&&y.exec(_),S=b?_.slice(0,b.index):_,E=[];if(S){if(!p.plainObjects&&e.call(Object.prototype,S)&&!p.allowPrototypes)return;E.push(S)}for(var x=0;p.depth>0&&(b=m.exec(_))!==null&&x<p.depth;){if(x+=1,!p.plainObjects&&e.call(Object.prototype,b[1].slice(1,-1))&&!p.allowPrototypes)return;E.push(b[1])}if(b){if(p.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+p.depth+" and strictDepth is true");E.push("["+_.slice(b.index)+"]")}return u(E,d,p,g)}},f=function(h){if(!h)return r;if(typeof h.allowEmptyArrays<"u"&&typeof h.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof h.decodeDotInKeys<"u"&&typeof h.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(h.decoder!==null&&typeof h.decoder<"u"&&typeof h.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof h.charset<"u"&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=typeof h.charset>"u"?r.charset:h.charset,p=typeof h.duplicates>"u"?r.duplicates:h.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof h.allowDots>"u"?h.decodeDotInKeys===!0?!0:r.allowDots:!!h.allowDots;return{allowDots:g,allowEmptyArrays:typeof h.allowEmptyArrays=="boolean"?!!h.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof h.allowPrototypes=="boolean"?h.allowPrototypes:r.allowPrototypes,allowSparse:typeof h.allowSparse=="boolean"?h.allowSparse:r.allowSparse,arrayLimit:typeof h.arrayLimit=="number"?h.arrayLimit:r.arrayLimit,charset:d,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:r.charsetSentinel,comma:typeof h.comma=="boolean"?h.comma:r.comma,decodeDotInKeys:typeof h.decodeDotInKeys=="boolean"?h.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof h.decoder=="function"?h.decoder:r.decoder,delimiter:typeof h.delimiter=="string"||t.isRegExp(h.delimiter)?h.delimiter:r.delimiter,depth:typeof h.depth=="number"||h.depth===!1?+h.depth:r.depth,duplicates:p,ignoreQueryPrefix:h.ignoreQueryPrefix===!0,interpretNumericEntities:typeof h.interpretNumericEntities=="boolean"?h.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof h.parameterLimit=="number"?h.parameterLimit:r.parameterLimit,parseArrays:h.parseArrays!==!1,plainObjects:typeof h.plainObjects=="boolean"?h.plainObjects:r.plainObjects,strictDepth:typeof h.strictDepth=="boolean"?!!h.strictDepth:r.strictDepth,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:r.strictNullHandling}};return Dc=function(h,d){var p=f(d);if(h===""||h===null||typeof h>"u")return p.plainObjects?Object.create(null):{};for(var g=typeof h=="string"?l(h,p):h,_=p.plainObjects?Object.create(null):{},y=Object.keys(g),m=0;m<y.length;++m){var b=y[m],S=c(b,g[b],p,typeof h=="string");_=t.merge(_,S,p)}return p.allowSparse===!0?_:t.compact(_)},Dc}function o4(){if(ag)return Rc;ag=!0;var t=i4(),e=s4(),n=T0();return Rc={formats:n,parse:e,stringify:t},Rc}function a4(){if(lg)return bs;lg=!0;var t=_s;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),a=["'"].concat(o),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],c=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=o4();function y(E,x,C){if(E&&typeof E=="object"&&E instanceof e)return E;var k=new e;return k.parse(E,x,C),k}e.prototype.parse=function(E,x,C){if(typeof E!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var k=E.indexOf("?"),R=k!==-1&&k<E.indexOf("#")?"?":"#",j=E.split(R),K=/\\/g;j[0]=j[0].replace(K,"/"),E=j.join(R);var D=E;if(D=D.trim(),!C&&E.split("#").length===1){var ee=i.exec(D);if(ee)return this.path=D,this.href=D,this.pathname=ee[1],ee[2]?(this.search=ee[2],x?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):x&&(this.search="",this.query={}),this}var te=n.exec(D);if(te){te=te[0];var Z=te.toLowerCase();this.protocol=Z,D=D.substr(te.length)}if(C||te||D.match(/^\/\/[^@/]+@[^@/]+/)){var fe=D.substr(0,2)==="//";fe&&!(te&&p[te])&&(D=D.substr(2),this.slashes=!0)}if(!p[te]&&(fe||te&&!g[te])){for(var q=-1,re=0;re<u.length;re++){var me=D.indexOf(u[re]);me!==-1&&(q===-1||me<q)&&(q=me)}var ie,X;q===-1?X=D.lastIndexOf("@"):X=D.lastIndexOf("@",q),X!==-1&&(ie=D.slice(0,X),D=D.slice(X+1),this.auth=decodeURIComponent(ie)),q=-1;for(var re=0;re<l.length;re++){var me=D.indexOf(l[re]);me!==-1&&(q===-1||me<q)&&(q=me)}q===-1&&(q=D.length),this.host=D.slice(0,q),D=D.slice(q),this.parseHost(),this.hostname=this.hostname||"";var ne=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ne)for(var pe=this.hostname.split(/\./),re=0,ve=pe.length;re<ve;re++){var ge=pe[re];if(ge&&!ge.match(f)){for(var Ee="",J=0,G=ge.length;J<G;J++)ge.charCodeAt(J)>127?Ee+="x":Ee+=ge[J];if(!Ee.match(f)){var oe=pe.slice(0,re),L=pe.slice(re+1),Y=ge.match(h);Y&&(oe.push(Y[1]),L.unshift(Y[2])),L.length&&(D="/"+L.join(".")+D),this.hostname=oe.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),ne||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+P,this.href+=this.host,ne&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),D[0]!=="/"&&(D="/"+D))}if(!d[Z])for(var re=0,ve=a.length;re<ve;re++){var B=a[re];if(D.indexOf(B)!==-1){var N=encodeURIComponent(B);N===B&&(N=escape(B)),D=D.split(B).join(N)}}var M=D.indexOf("#");M!==-1&&(this.hash=D.substr(M),D=D.slice(0,M));var V=D.indexOf("?");if(V!==-1?(this.search=D.substr(V),this.query=D.substr(V+1),x&&(this.query=_.parse(this.query)),D=D.slice(0,V)):x&&(this.search="",this.query={}),D&&(this.pathname=D),g[Z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",O=this.search||"";this.path=P+O}return this.href=this.format(),this};function m(E){return typeof E=="string"&&(E=y(E)),E instanceof e?E.format():e.prototype.format.call(E)}e.prototype.format=function(){var E=this.auth||"";E&&(E=encodeURIComponent(E),E=E.replace(/%3A/i,":"),E+="@");var x=this.protocol||"",C=this.pathname||"",k=this.hash||"",R=!1,j="";this.host?R=E+this.host:this.hostname&&(R=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(R+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(j=_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var K=this.search||j&&"?"+j||"";return x&&x.substr(-1)!==":"&&(x+=":"),this.slashes||(!x||g[x])&&R!==!1?(R="//"+(R||""),C&&C.charAt(0)!=="/"&&(C="/"+C)):R||(R=""),k&&k.charAt(0)!=="#"&&(k="#"+k),K&&K.charAt(0)!=="?"&&(K="?"+K),C=C.replace(/[?#]/g,function(D){return encodeURIComponent(D)}),K=K.replace("#","%23"),x+R+C+K+k};function b(E,x){return y(E,!1,!0).resolve(x)}e.prototype.resolve=function(E){return this.resolveObject(y(E,!1,!0)).format()};function S(E,x){return E?y(E,!1,!0).resolveObject(x):x}return e.prototype.resolveObject=function(E){if(typeof E=="string"){var x=new e;x.parse(E,!1,!0),E=x}for(var C=new e,k=Object.keys(this),R=0;R<k.length;R++){var j=k[R];C[j]=this[j]}if(C.hash=E.hash,E.href==="")return C.href=C.format(),C;if(E.slashes&&!E.protocol){for(var K=Object.keys(E),D=0;D<K.length;D++){var ee=K[D];ee!=="protocol"&&(C[ee]=E[ee])}return g[C.protocol]&&C.hostname&&!C.pathname&&(C.pathname="/",C.path=C.pathname),C.href=C.format(),C}if(E.protocol&&E.protocol!==C.protocol){if(!g[E.protocol]){for(var te=Object.keys(E),Z=0;Z<te.length;Z++){var fe=te[Z];C[fe]=E[fe]}return C.href=C.format(),C}if(C.protocol=E.protocol,!E.host&&!p[E.protocol]){for(var ve=(E.pathname||"").split("/");ve.length&&!(E.host=ve.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),ve[0]!==""&&ve.unshift(""),ve.length<2&&ve.unshift(""),C.pathname=ve.join("/")}else C.pathname=E.pathname;if(C.search=E.search,C.query=E.query,C.host=E.host||"",C.auth=E.auth,C.hostname=E.hostname||E.host,C.port=E.port,C.pathname||C.search){var q=C.pathname||"",re=C.search||"";C.path=q+re}return C.slashes=C.slashes||E.slashes,C.href=C.format(),C}var me=C.pathname&&C.pathname.charAt(0)==="/",ie=E.host||E.pathname&&E.pathname.charAt(0)==="/",X=ie||me||C.host&&E.pathname,ne=X,pe=C.pathname&&C.pathname.split("/")||[],ve=E.pathname&&E.pathname.split("/")||[],ge=C.protocol&&!g[C.protocol];if(ge&&(C.hostname="",C.port=null,C.host&&(pe[0]===""?pe[0]=C.host:pe.unshift(C.host)),C.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(ve[0]===""?ve[0]=E.host:ve.unshift(E.host)),E.host=null),X=X&&(ve[0]===""||pe[0]==="")),ie)C.host=E.host||E.host===""?E.host:C.host,C.hostname=E.hostname||E.hostname===""?E.hostname:C.hostname,C.search=E.search,C.query=E.query,pe=ve;else if(ve.length)pe||(pe=[]),pe.pop(),pe=pe.concat(ve),C.search=E.search,C.query=E.query;else if(E.search!=null){if(ge){C.host=pe.shift(),C.hostname=C.host;var Ee=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;Ee&&(C.auth=Ee.shift(),C.hostname=Ee.shift(),C.host=C.hostname)}return C.search=E.search,C.query=E.query,(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.href=C.format(),C}if(!pe.length)return C.pathname=null,C.search?C.path="/"+C.search:C.path=null,C.href=C.format(),C;for(var J=pe.slice(-1)[0],G=(C.host||E.host||pe.length>1)&&(J==="."||J==="..")||J==="",oe=0,L=pe.length;L>=0;L--)J=pe[L],J==="."?pe.splice(L,1):J===".."?(pe.splice(L,1),oe++):oe&&(pe.splice(L,1),oe--);if(!X&&!ne)for(;oe--;oe)pe.unshift("..");X&&pe[0]!==""&&(!pe[0]||pe[0].charAt(0)!=="/")&&pe.unshift(""),G&&pe.join("/").substr(-1)!=="/"&&pe.push("");var Y=pe[0]===""||pe[0]&&pe[0].charAt(0)==="/";if(ge){C.hostname=Y?"":pe.length?pe.shift():"",C.host=C.hostname;var Ee=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;Ee&&(C.auth=Ee.shift(),C.hostname=Ee.shift(),C.host=C.hostname)}return X=X||C.host&&pe.length,X&&!Y&&pe.unshift(""),pe.length>0?C.pathname=pe.join("/"):(C.pathname=null,C.path=null),(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.auth=E.auth||C.auth,C.slashes=C.slashes||E.slashes,C.href=C.format(),C},e.prototype.parseHost=function(){var E=this.host,x=r.exec(E);x&&(x=x[0],x!==":"&&(this.port=x.substr(1)),E=E.substr(0,E.length-x.length)),E&&(this.hostname=E)},bs.parse=y,bs.resolve=b,bs.resolveObject=S,bs.format=m,bs.Url=e,bs}function EC(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return df?l4(t):u4(t)}function l4(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let i=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&i===102||n[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(NC,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,i=n[2];if(r<DC||r>RC||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function u4(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function SC(t){let e=eg.resolve(t),n=t.charCodeAt(t.length-1);(n===MC||df&&n===OC)&&e[e.length-1]!==eg.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(LC,"%25")),!df&&e.includes("\\")&&(e=e.replace(FC,"%5C")),e.includes(`
`)&&(e=e.replace(BC,"%0A")),e.includes("\r")&&(e=e.replace(jC,"%0D")),e.includes("	")&&(e=e.replace($C,"%09")),r.pathname=e,r}var CC,kc,tg,Tc,Ic,ng,Pc,rg,Oc,ig,Mc,sg,Dc,og,Rc,ag,bs,lg,er,ww,xC,AC,kC,TC,IC,PC,OC,MC,DC,RC,df,NC,LC,FC,BC,jC,$C,c4=vr(()=>{Te(),Pe(),Ie(),k5(),V5(),t4(),_C(),CC=Object.freeze(Object.create(null)),kc={},tg=!1,Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ic={},ng=!1,Pc={},rg=!1,Oc={},ig=!1,Mc={},sg=!1,Dc={},og=!1,Rc={},ag=!1,bs={},lg=!1,er=a4(),er.parse,er.resolve,er.resolveObject,er.format,er.Url,ww=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,er.URL=typeof URL<"u"?URL:null,er.pathToFileURL=SC,er.fileURLToPath=EC,xC=er.Url,AC=er.format,kC=er.resolve,TC=er.resolveObject,IC=er.parse,PC=er.URL,OC=92,MC=47,DC=97,RC=122,df=ww==="win32",NC=/\//g,LC=/%/g,FC=/\\/g,BC=/\n/g,jC=/\r/g,$C=/\t/g}),f4=De((t,e)=>{Te(),Pe(),Ie(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),I0=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=void 0,t.writev=r;var e=Ro(),n=(Hn(),Kt(Vn));function r(s,o){let a=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?a[l]=n.Buffer.from(s[l].chunk,"utf8"):a[l]=s[l].chunk;this._write(n.Buffer.concat(a),"binary",o)}var i=class extends e.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(s,o,a){super({objectMode:!0}),this.proxy=o,this.socket=a,this.writeQueue=[],s.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(s){this.proxy.read(s)}_write(s,o,a){this.isSocketOpen?this.writeToProxy(s,o,a):this.writeQueue.push({chunk:s,encoding:o,cb:a})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,o){this.writeQueue=[],this.proxy.destroy(),o(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,o,a){this.proxy.write(s,o)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:o,cb:a}=this.writeQueue.shift();this.writeToProxy(s,o,a)}}};t.BufferedDuplex=i}),Ju=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var n=(Hn(),Kt(Vn)),r=e(f4()),i=e(ns()),s=Ro(),o=e(oh()),a=I0(),l=(0,i.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(y,m){let b=`${y.protocol}://${y.hostname}:${y.port}${y.path}`;return typeof y.transformWsUrl=="function"&&(b=y.transformWsUrl(b,y,m)),b}function f(y){let m=y;return y.port||(y.protocol==="wss"?m.port=443:m.port=80),y.path||(m.path="/"),y.wsOptions||(m.wsOptions={}),!o.default&&!y.forceNativeWebSocket&&y.protocol==="wss"&&u.forEach(b=>{Object.prototype.hasOwnProperty.call(y,b)&&!Object.prototype.hasOwnProperty.call(y.wsOptions,b)&&(m.wsOptions[b]=y[b])}),m}function h(y){let m=f(y);if(m.hostname||(m.hostname=m.host),!m.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let b=new URL(document.URL);m.hostname=b.hostname,m.port||(m.port=Number(b.port))}return m.objectMode===void 0&&(m.objectMode=!(m.binary===!0||m.binary===void 0)),m}function d(y,m,b){l("createWebSocket"),l(`protocol: ${b.protocolId} ${b.protocolVersion}`);let S=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${m} and protocol: ${S}`);let E;return b.createWebsocket?E=b.createWebsocket(m,[S],b):E=new r.default(m,[S],b.wsOptions),E}function p(y,m){let b=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt",S=c(m,y),E;return m.createWebsocket?E=m.createWebsocket(S,[b],m):E=new WebSocket(S,[b]),E.binaryType="arraybuffer",E}var g=(y,m)=>{l("streamBuilder");let b=f(m);b.hostname=b.hostname||b.host||"localhost";let S=c(b,y),E=d(y,S,b),x=r.default.createWebSocketStream(E,b.wsOptions);return x.url=S,E.on("close",()=>{x.destroy()}),x};t.streamBuilder=g;var _=(y,m)=>{l("browserStreamBuilder");let b,S=h(m).browserBufferSize||1024*512,E=m.browserBufferTimeout||1e3,x=!m.objectMode,C=p(y,m),k=j(m,Z,fe);m.objectMode||(k._writev=a.writev.bind(k)),k.on("close",()=>{C.close()});let R=typeof C.addEventListener<"u";C.readyState===C.OPEN?(b=k,b.socket=C):(b=new a.BufferedDuplex(m,k,C),R?C.addEventListener("open",K):C.onopen=K),R?(C.addEventListener("close",D),C.addEventListener("error",ee),C.addEventListener("message",te)):(C.onclose=D,C.onerror=ee,C.onmessage=te);function j(q,re,me){let ie=new s.Transform({objectMode:q.objectMode});return ie._write=re,ie._flush=me,ie}function K(){l("WebSocket onOpen"),b instanceof a.BufferedDuplex&&b.socketReady()}function D(q){l("WebSocket onClose",q),b.end(),b.destroy()}function ee(q){l("WebSocket onError",q);let re=new Error("WebSocket error");re.event=q,b.destroy(re)}async function te(q){if(!k||!k.readable||!k.writable)return;let{data:re}=q;re instanceof ArrayBuffer?re=n.Buffer.from(re):re instanceof Blob?re=n.Buffer.from(await new Response(re).arrayBuffer()):re=n.Buffer.from(re,"utf8"),k.push(re)}function Z(q,re,me){if(C.bufferedAmount>S){setTimeout(Z,E,q,re,me);return}x&&typeof q=="string"&&(q=n.Buffer.from(q,"utf8"));try{C.send(q)}catch(ie){return me(ie)}me()}function fe(q){C.close(),q()}return b};t.browserStreamBuilder=_}),P0={};Ua(P0,{Server:()=>sn,Socket:()=>sn,Stream:()=>sn,_createServerHandle:()=>sn,_normalizeArgs:()=>sn,_setSimultaneousAccepts:()=>sn,connect:()=>sn,createConnection:()=>sn,createServer:()=>sn,default:()=>UC,isIP:()=>sn,isIPv4:()=>sn,isIPv6:()=>sn});function sn(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var UC,WC=vr(()=>{Te(),Pe(),Ie(),UC={_createServerHandle:sn,_normalizeArgs:sn,_setSimultaneousAccepts:sn,connect:sn,createConnection:sn,createServer:sn,isIP:sn,isIPv4:sn,isIPv6:sn,Server:sn,Socket:sn,Stream:sn}}),VC=De((t,e)=>{Te(),Pe(),Ie(),e.exports={}}),Ew=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var n=e((WC(),Kt(P0))),r=e(ns()),i=e(VC()),s=(0,r.default)("mqttjs:tcp"),o=(a,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,i.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:u,path:c}=l,f=l.hostname;return s("port %d and host %s",u,f),n.default.createConnection({port:u,host:f,path:c})};t.default=o}),HC={};Ua(HC,{default:()=>YC});var YC,h4=vr(()=>{Te(),Pe(),Ie(),YC={}}),Sw=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var n=(h4(),Kt(HC)),r=e((WC(),Kt(P0))),i=e(ns()),s=e(VC()),o=(0,i.default)("mqttjs:tls");function a(u){let{host:c,port:f,socksProxy:h,...d}=u;if(h!==void 0){let p=(0,s.default)(c,f,h,{timeout:u.socksTimeout});return(0,n.connect)({...d,socket:p})}return(0,n.connect)(u)}var l=(u,c)=>{c.port=c.port||8883,c.host=c.hostname||c.host||"localhost",r.default.isIP(c.host)===0&&(c.servername=c.host),c.rejectUnauthorized=c.rejectUnauthorized!==!1,delete c.path,o("port %d host %s rejectUnauthorized %b",c.port,c.host,c.rejectUnauthorized);let f=a(c);f.on("secureConnect",()=>{c.rejectUnauthorized&&!f.authorized?f.emit("error",new Error("TLS not authorized")):f.removeListener("error",h)});function h(d){c.rejectUnauthorized&&u.emit("error",d),f.end()}return f.on("error",h),f};t.default=l}),Cw=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Hn(),Kt(Vn)),n=Ro(),r=I0(),i,s,o;function a(){let h=new n.Transform;return h._write=(d,p,g)=>{i.send({data:d.buffer,success(){g()},fail(_){g(new Error(_))}})},h._flush=d=>{i.close({success(){d()}})},h}function l(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})}function u(h,d){let p=h.protocol==="wxs"?"wss":"ws",g=`${p}://${h.hostname}${h.path}`;return h.port&&h.port!==80&&h.port!==443&&(g=`${p}://${h.hostname}:${h.port}${h.path}`),typeof h.transformWsUrl=="function"&&(g=h.transformWsUrl(g,h,d)),g}function c(){i.onOpen(()=>{o.socketReady()}),i.onMessage(h=>{let{data:d}=h;d instanceof ArrayBuffer?d=e.Buffer.from(d):d=e.Buffer.from(d,"utf8"),s.push(d)}),i.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),i.onError(h=>{let d=new Error(h.errMsg);o.destroy(d)})}var f=(h,d)=>{if(d.hostname=d.hostname||d.host,!d.hostname)throw new Error("Could not determine host. Specify host manually.");let p=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt";l(d);let g=u(d,h);i=wx.connectSocket({url:g,protocols:[p]}),s=a(),o=new r.BufferedDuplex(d,s,i),o._destroy=(y,m)=>{i.close({success(){m&&m(y)}})};let _=o.destroy;return o.destroy=(y,m)=>(o.destroy=_,setTimeout(()=>{i.close({fail(){o._destroy(y,m)}})},0),o),c(),o};t.default=f}),xw=De(t=>{Te(),Pe(),Ie(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Hn(),Kt(Vn)),n=Ro(),r=I0(),i,s,o,a=!1;function l(){let d=new n.Transform;return d._write=(p,g,_)=>{i.sendSocketMessage({data:p.buffer,success(){_()},fail(){_(new Error)}})},d._flush=p=>{i.closeSocket({success(){p()}})},d}function u(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function c(d,p){let g=d.protocol==="alis"?"wss":"ws",_=`${g}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(_=`${g}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(_=d.transformWsUrl(_,d,p)),_}function f(){a||(a=!0,i.onSocketOpen(()=>{o.socketReady()}),i.onSocketMessage(d=>{if(typeof d.data=="string"){let p=e.Buffer.from(d.data,"base64");s.push(p)}else{let p=new FileReader;p.addEventListener("load",()=>{if(p.result instanceof ArrayBuffer){s.push(e.Buffer.from(p.result));return}s.push(e.Buffer.from(p.result,"utf-8"))}),p.readAsArrayBuffer(d.data)}}),i.onSocketClose(()=>{o.end(),o.destroy()}),i.onSocketError(d=>{o.destroy(d)}))}var h=(d,p)=>{if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");let g=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";u(p);let _=c(p,d);return i=p.my,i.connectSocket({url:_,protocols:g}),s=l(),o=new r.BufferedDuplex(p,s,i),f(),o};t.default=h}),d4=De(t=>{Te(),Pe(),Ie();var e=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=c;var n=e(ns()),r=e((c4(),Kt(bC))),i=e(wm()),s=e(oh());typeof nn?.nextTick!="function"&&(nn.nextTick=setImmediate);var o=(0,n.default)("mqttjs"),a=null;function l(f){let h;if(f.auth)if(h=f.auth.match(/^(.+):(.+)$/),h){let[,d,p]=h;f.username=d,f.password=p}else f.username=f.auth}function u(f,h){if(o("connecting to an MQTT broker..."),typeof f=="object"&&!h&&(h=f,f=""),h=h||{},f&&typeof f=="string"){let g=r.default.parse(f,!0),_={};if(g.port!=null&&(_.port=Number(g.port)),_.host=g.hostname,_.query=g.query,_.auth=g.auth,_.protocol=g.protocol,_.path=g.path,h={..._,...h},!h.protocol)throw new Error("Missing protocol");h.protocol=h.protocol.replace(/:$/,"")}if(h.unixSocket=h.unixSocket||h.protocol?.includes("+unix"),h.unixSocket?h.protocol=h.protocol.replace("+unix",""):!h.protocol?.startsWith("ws")&&!h.protocol?.startsWith("wx")&&delete h.path,l(h),h.query&&typeof h.query.clientId=="string"&&(h.clientId=h.query.clientId),s.default||h.unixSocket?h.socksProxy=void 0:h.socksProxy===void 0&&typeof nn<"u"&&(h.socksProxy=nn.env.MQTTJS_SOCKS_PROXY),h.cert&&h.key)if(h.protocol){if(["mqtts","wss","wxs","alis"].indexOf(h.protocol)===-1)switch(h.protocol){case"mqtt":h.protocol="mqtts";break;case"ws":h.protocol="wss";break;case"wx":h.protocol="wxs";break;case"ali":h.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${h.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!s.default&&!h.forceNativeWebSocket?(a.ws=Ju().streamBuilder,a.wss=Ju().streamBuilder,a.mqtt=Ew().default,a.tcp=Ew().default,a.ssl=Sw().default,a.tls=a.ssl,a.mqtts=Sw().default):(a.ws=Ju().browserStreamBuilder,a.wss=Ju().browserStreamBuilder,a.wx=Cw().default,a.wxs=Cw().default,a.ali=xw().default,a.alis=xw().default)),!a[h.protocol]){let g=["mqtts","wss"].indexOf(h.protocol)!==-1;h.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((_,y)=>g&&y%2===0?!1:typeof a[_]=="function")[0]}if(h.clean===!1&&!h.clientId)throw new Error("Missing clientId for unclean clients");h.protocol&&(h.defaultProtocol=h.protocol);function d(g){return h.servers&&((!g._reconnectCount||g._reconnectCount===h.servers.length)&&(g._reconnectCount=0),h.host=h.servers[g._reconnectCount].host,h.port=h.servers[g._reconnectCount].port,h.protocol=h.servers[g._reconnectCount].protocol?h.servers[g._reconnectCount].protocol:h.defaultProtocol,h.hostname=h.host,g._reconnectCount++),o("calling streambuilder for",h.protocol),a[h.protocol](g,h)}let p=new i.default(d,h);return p.on("error",()=>{}),p}function c(f,h,d=!0){return new Promise((p,g)=>{let _=u(f,h),y={connect:b=>{m(),p(_)},end:()=>{m(),p(_)},error:b=>{m(),_.end(),g(b)}};d===!1&&(y.close=()=>{y.error(new Error("Couldn't connect to server"))});function m(){Object.keys(y).forEach(b=>{_.off(b,y[b])})}Object.keys(y).forEach(b=>{_.on(b,y[b])})})}t.default=u}),Aw=De(t=>{Te(),Pe(),Ie();var e=t&&t.__createBinding||(Object.create?function(d,p,g,_){_===void 0&&(_=g);var y=Object.getOwnPropertyDescriptor(p,g);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(d,_,y)}:function(d,p,g,_){_===void 0&&(_=g),d[_]=p[g]}),n=t&&t.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),r=t&&t.__importStar||(function(){var d=function(p){return d=Object.getOwnPropertyNames||function(g){var _=[];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(_[_.length]=y);return _},d(p)};return function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var _=d(p),y=0;y<_.length;y++)_[y]!=="default"&&e(g,p,_[y]);return n(g,p),g}})(),i=t&&t.__exportStar||function(d,p){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&e(p,d,g)},s=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var o=s(wm());t.MqttClient=o.default;var a=s(aC());t.DefaultMessageIdProvider=a.default;var l=s(x5());t.UniqueMessageIdProvider=l.default;var u=s(HS());t.Store=u.default;var c=r(d4());t.connect=c.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var f=s(pC());t.KeepaliveManager=f.default,t.Client=o.default,i(wm(),t),i(Va(),t);var h=ih();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return h.ReasonCodes}})}),p4=De(t=>{Te(),Pe(),Ie();var e=t&&t.__createBinding||(Object.create?function(o,a,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,u,c)}:function(o,a,l,u){u===void 0&&(u=l),o[u]=a[l]}),n=t&&t.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),r=t&&t.__importStar||(function(){var o=function(a){return o=Object.getOwnPropertyNames||function(l){var u=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[u.length]=c);return u},o(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var u=o(a),c=0;c<u.length;c++)u[c]!=="default"&&e(l,a,u[c]);return n(l,a),l}})(),i=t&&t.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=r(Aw());t.default=s,i(Aw(),t)});const m4=p4();const g4=Na("handleTemphum",{state:()=>({temperature:"0 C",humidity:"0 %",tempStatus:"",humStatus:"",client:null}),actions:{connectMQTT(){this.client=m4.connect("wss://12c86034fa9b49dcad0c8f78f4bb580a.s1.eu.hivemq.cloud:8884/mqtt",{username:"NodeMCU",password:"Nodemcu123",clientId:"temphum_"+Math.random().toString(16).slice(2)}),this.client.on("connect",()=>{console.log("Connected to HiveMQ for TempHum!"),this.client.subscribe("home/esp/sensors")}),this.client.on("error",t=>{console.log("MQTT ERROR:",t.message)}),this.client.on("message",(t,e)=>{if(t!=="home/esp/sensors")return;const r=e.toString().split("|").map(i=>i.trim());r.length<2||(this.temperature=parseFloat(r[0]).toFixed(1)+" C",this.humidity=parseFloat(r[1]).toFixed(1)+" %",this.updateStatus())})},updateStatus(){const t=parseFloat(this.temperature),e=parseFloat(this.humidity);t<22?this.tempStatus="Cold":t<=28?this.tempStatus="Perfect":this.tempStatus="Hot",e<45?this.humStatus="Dry":e<=60?this.humStatus="Optimal range":this.humStatus="Humid"}}}),y4="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_184)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23ECFDF5'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%2310B981'/%3e%3cpath%20d='M34%2019L23%2030L18%2025'%20stroke='%2310B981'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_184'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_184'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_184'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",v4="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_196)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23F5F5F4'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%23D6D3D1'/%3e%3cpath%20d='M26.2131%2031.5931C25.3357%2031.5931%2024.5107%2031.4281%2023.7379%2031.0981C22.9692%2030.768%2022.2911%2030.3112%2021.7035%2029.7277C21.1199%2029.1401%2020.6611%2028.4619%2020.3271%2027.6932C19.997%2026.9245%2019.834%2026.0995%2019.8381%2025.2181C19.8421%2024.3367%2020.0091%2023.5116%2020.3391%2022.7429C20.6732%2021.9742%2021.132%2021.2981%2021.7156%2020.7145C22.2991%2020.1269%2022.9753%2019.6681%2023.744%2019.3381C24.5127%2019.0081%2025.3357%2018.8431%2026.2131%2018.8431C27.0945%2018.8431%2027.9195%2019.0081%2028.6882%2019.3381C29.4609%2019.6681%2030.1371%2020.1269%2030.7166%2020.7145C31.3002%2021.2981%2031.757%2021.9742%2032.087%2022.7429C32.417%2023.5116%2032.584%2024.3367%2032.5881%2025.2181C32.5921%2026.0995%2032.4291%2026.9245%2032.0991%2027.6932C31.7691%2028.4619%2031.3123%2029.1401%2030.7287%2029.7277C30.1451%2030.3112%2029.467%2030.768%2028.6942%2031.0981C27.9215%2031.4281%2027.0945%2031.5931%2026.2131%2031.5931ZM26.2131%2029.5828C26.8208%2029.5828%2027.3883%2029.4701%2027.9155%2029.2447C28.4467%2029.0193%2028.9116%2028.7074%2029.31%2028.309C29.7085%2027.9065%2030.0204%2027.4437%2030.2457%2026.9205C30.4711%2026.3933%2030.5818%2025.8278%2030.5778%2025.2241C30.5778%2024.6164%2030.4631%2024.0489%2030.2337%2023.5217C30.0083%2022.9905%2029.6964%2022.5256%2029.2979%2022.1272C28.8995%2021.7287%2028.4367%2021.4168%2027.9094%2021.1915C27.3822%2020.9661%2026.8168%2020.8534%2026.2131%2020.8534C25.6134%2020.8534%2025.05%2020.9661%2024.5227%2021.1915C23.9995%2021.4168%2023.5367%2021.7307%2023.1342%2022.1332C22.7358%2022.5316%2022.4219%2022.9965%2022.1925%2023.5277C21.9631%2024.055%2021.8484%2024.6204%2021.8484%2025.2241C21.8443%2025.8238%2021.955%2026.3872%2022.1804%2026.9145C22.4098%2027.4377%2022.7237%2027.9005%2023.1222%2028.303C23.5246%2028.7014%2023.9895%2029.0153%2024.5167%2029.2447C25.0439%2029.4701%2025.6094%2029.5828%2026.2131%2029.5828Z'%20fill='%23A8A29E'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_196'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_196'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_196'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",_4="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_19_220)'%3e%3cpath%20d='M2%2025C2%2011.7452%2012.7452%201%2026%201C39.2548%201%2050%2011.7452%2050%2025C50%2038.2548%2039.2548%2049%2026%2049C12.7452%2049%202%2038.2548%202%2025Z'%20fill='%23FFFBEB'/%3e%3cpath%20d='M26%201.5C38.9787%201.5%2049.5%2012.0213%2049.5%2025C49.5%2037.9787%2038.9787%2048.5%2026%2048.5C13.0213%2048.5%202.5%2037.9787%202.5%2025C2.5%2012.0213%2013.0213%201.5%2026%201.5Z'%20stroke='%23F59E0B'/%3e%3cpath%20d='M26%2035C31.5228%2035%2036%2030.5228%2036%2025C36%2019.4772%2031.5228%2015%2026%2015C20.4772%2015%2016%2019.4772%2016%2025C16%2030.5228%2020.4772%2035%2026%2035Z'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26%2019V25L30%2027'%20stroke='%23F59E0B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_19_220'%20x='0'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_19_220'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_19_220'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",b4={class:"feature-temphum"},w4={class:"temphum-holder"},E4={class:"temphum-content"},S4={style:{display:"column"}},C4={class:"temphum-content"},x4={style:{display:"column"}},A4={class:"temphum-content"},k4={style:{display:"column"}},T4={class:"feature-weekly"},I4={style:{display:"flex",gap:"5%","padding-left":"20px","background-color":"#ffffff"}},P4={class:"weekly-content"},O4=["src"],M4={class:"weekly-content"},D4=["src"],R4={class:"weekly-content"},N4=["src"],L4={class:"weekly-content"},F4=["src"],B4={class:"weekly-content"},j4=["src"],$4={class:"weekly-content"},U4=["src"],W4={class:"weekly-content"},V4=["src"],H4={__name:"homeExtension",setup(t){const e=g4(),n=mS(),r=Ne(""),i=Ne(""),s=Ne(""),o=Ne(""),a=Ne(""),l=Ne(""),u=Ne(""),c=Ne(""),f=Ne(""),h=Ne(""),d=Ne(""),p=Ne(""),g=Ne(""),_=Ne(""),y=Ne("");let m=null;function b(E){!E||E.length<7||(i.value=E[0].date,s.value=E[0].status,o.value=E[1].date,a.value=E[1].status,l.value=E[2].date,u.value=E[2].status,c.value=E[3].date,f.value=E[3].status,h.value=E[4].date,d.value=E[4].status,p.value=E[5].date,g.value=E[5].status,_.value=E[6].date,y.value=E[6].status)}function S(E){return E==="completed"?y4:E==="missed"?v4:_4}return ln(async()=>{e.connectMQTT(),await n.fetchBoxes(),r.value=n.upcomingshed,b(n.last7days),m=setInterval(()=>{r.value=n.upcomingshed,b(n.last7days)},3e3)}),ki(()=>{m&&clearInterval(m)}),(E,x)=>(ke(),Be("body",null,[ue("div",null,[x[9]||(x[9]=ue("h4",{class:"title"},"PharmAssist Serial Monitor",-1)),ue("div",b4,[x[6]||(x[6]=ue("div",{class:"feature-title"},[ue("img",{src:JN,alt:"temphum-icon",class:"icon"}),ue("h5",{style:{}},"Everything's working great")],-1)),ue("div",w4,[ue("div",E4,[x[1]||(x[1]=ue("img",{src:ZN,alt:"temp-icon",class:"temp-icon"},null,-1)),ue("div",S4,[x[0]||(x[0]=ue("p",null,"Temperature",-1)),ue("h5",null,Ze(H(e).temperature)+" - "+Ze(H(e).tempStatus),1)])]),ue("div",C4,[x[3]||(x[3]=ue("img",{src:e6,alt:"temp-icon",class:"temp-icon"},null,-1)),ue("div",x4,[x[2]||(x[2]=ue("p",null,"Humidity",-1)),ue("h5",null,Ze(H(e).humidity)+" - "+Ze(H(e).humStatus),1)])]),ue("div",A4,[x[5]||(x[5]=ue("img",{src:t6,alt:"temp-icon",class:"temp-icon"},null,-1)),ue("div",k4,[x[4]||(x[4]=ue("p",null,"Scheduled medication in",-1)),ue("h5",null,Ze(r.value),1)])])])]),x[10]||(x[10]=ue("h4",{class:"title"},"Your Weekly Medication Progress",-1)),ue("div",T4,[x[7]||(x[7]=ue("div",{class:"feature-title"},[ue("h5",null,"Your Week at a Glance")],-1)),ue("div",I4,[ue("div",P4,[ue("p",null,Ze(i.value),1),ue("img",{src:S(s.value),alt:"temp-icon",class:"temp-icon"},null,8,O4)]),ue("div",M4,[ue("p",null,Ze(o.value),1),ue("img",{src:S(a.value),alt:"temp-icon",class:"temp-icon"},null,8,D4)]),ue("div",R4,[ue("p",null,Ze(l.value),1),ue("img",{src:S(u.value),alt:"temp-icon",class:"temp-icon"},null,8,N4)]),ue("div",L4,[ue("p",null,Ze(c.value),1),ue("img",{src:S(f.value),alt:"temp-icon",class:"temp-icon"},null,8,F4)]),ue("div",B4,[ue("p",null,Ze(h.value),1),ue("img",{src:S(d.value),alt:"temp-icon",class:"temp-icon"},null,8,j4)]),ue("div",$4,[ue("p",null,Ze(p.value),1),ue("img",{src:S(g.value),alt:"temp-icon",class:"temp-icon"},null,8,U4)]),ue("div",W4,[ue("p",null,Ze(_.value),1),ue("img",{src:S(y.value),alt:"temp-icon",class:"temp-icon"},null,8,V4)])]),x[8]||(x[8]=Og('<div class="weekly-holder" data-v-f0958d39><div class="weekly-legend" data-v-f0958d39><img src="'+n6+'" alt="temp-icon" class="legend-icon" data-v-f0958d39><p data-v-f0958d39>Completed</p></div><div class="weekly-legend" data-v-f0958d39><img src="'+r6+'" alt="temp-icon" class="legend-icon" data-v-f0958d39><p data-v-f0958d39>Incomplete</p></div><div class="weekly-legend" data-v-f0958d39><img src="'+i6+'" alt="temp-icon" class="legend-icon" data-v-f0958d39><p data-v-f0958d39>Missed</p></div></div><div class="weekly-expand" data-v-f0958d39><img src="'+s6+'" alt="weekly-graph" data-v-f0958d39></div>',2))]),x[11]||(x[11]=ue("form",{action:"https://api.web3forms.com/submit",method:"POST",id:"form"},[ue("input",{type:"hidden",name:"access_key",value:"c0c02cbb-ab44-4de4-836d-fb5efaaf857a"}),ue("div",{class:"feature-messeges"},[ue("div",{class:"messeges-content"},[ue("h5",null,"Note for the Developers"),ue("input",{type:"hidden",name:"name",value:"Feedback"}),ue("input",{type:"hidden",name:"email",value:"lamuelbapilar@gmail.com"}),ue("input",{name:"message",placeholder:"Share your thoughts...",required:""})]),ue("div",{class:"messeges-button"},[ue("button",{type:"submit"},[ue("img",{src:o6,class:"messeges-img"}),Pt(" Send a message ")])])])],-1))])]))}},Y4=Us(H4,[["__scopeId","data-v-f0958d39"]]),q4={class:"overview-container"},G4={class:"overview-greetings"},z4={class:"schedule-container"},K4={class:"schedule-heading"},Q4={class:"medprogress-container"},X4={class:"medication-progress"},J4={class:"medication-container"},Z4={class:"medcards"},e8={class:"medcard-header"},t8={class:"medcard-alert-icon"},n8=["src"],r8={class:"medcard-alert-text"},i8={class:"pillcolor"},s8=["src"],o8={class:"medicine-name-container"},a8={class:"medicine-name"},l8={class:"medicine-description"},u8={class:"time-box-container"},c8={class:"time-box"},f8={class:"time-icon"},h8=["src"],d8={class:"time-text"},p8={class:"time-box"},m8={class:"compartment-icon"},g8=["src"],y8={class:"box-text"},v8={__name:"home",setup(t){const e=mS();let n=Ne(0);const r=Ne("#FFE6E6"),i=Ne("#ECFDF5"),s=Ne("#F3E9FF"),o=Ne("#BE3939"),a=Ne("#059669"),l=Ne("#1E40AF"),u=Ne(["before breakfast","with breakfast","after breakfast","before lunch","with lunch","after lunch","before dinner","with dinner","after dinner","before bedtime","every day","every week"]),c=Ne(["Compartment A","Compartment B","Compartment C","Compartment D"]),f=Ne(["Missed","Great Job!","Coming up next!"]),h=Ne(["Good morning","Good afternoon","Good evening"]),d=Ne([]);function p(y){return y==="daily"?u.value[10]:y==="weekly"?u.value[11]:""}function g(y){return y==="missed"?{status:f.value[0],background:r.value,textColor:o.value,statusIcon:gb,pillIcon:yb}:y==="taken"?{status:f.value[1],background:i.value,textColor:a.value,statusIcon:GN,pillIcon:zN}:y==="pending"?{status:f.value[2],background:s.value,textColor:l.value,statusIcon:qN,pillIcon:KN}:{status:f.value[3],background:r.value,textColor:o.value,statusIcon:gb,pillIcon:yb}}function _(){d.value=[{Name:e.box1medicine||"No medicine",supply:(e.box1dose||0)+" tablets",timeDesc:p(e.box1schedtype||"n/a"),scheduledTime:e.box1shed||"N/A",dose:"30mg",compartment:c.value[0],status:g(e.box1status||"n/a").status,statusIcon:g(e.box1status||"n/a").statusIcon,pillIcon:g(e.box1status||"n/a").pillIcon,background:g(e.box1status||"n/a").background,textColor:g(e.box1status||"n/a").textColor},{Name:e.box2medicine||"No medicine",supply:(e.box2dose||0)+" tablets",timeDesc:p(e.box2schedtype||"n/a"),scheduledTime:e.box2shed||"N/A",dose:"10mg",compartment:c.value[1],status:g(e.box2status||"n/a").status,statusIcon:g(e.box2status||"n/a").statusIcon,pillIcon:g(e.box2status||"n/a").pillIcon,background:g(e.box2status||"n/a").background,textColor:g(e.box2status||"n/a").textColor},{Name:e.box3medicine||"No medicine",supply:(e.box3dose||0)+" tablets",timeDesc:p(e.box3schedtype||"n/a"),scheduledTime:e.box3shed||"N/A",dose:"20mg",compartment:c.value[2],status:g(e.box3status||"n/a").status,statusIcon:g(e.box3status||"n/a").statusIcon,pillIcon:g(e.box3status||"n/a").pillIcon,background:g(e.box3status||"n/a").background,textColor:g(e.box3status||"n/a").textColor},{Name:e.box4medicine||"No medicine",supply:(e.box4dose||0)+" tablets",timeDesc:p(e.box4schedtype||"n/a"),scheduledTime:e.box4shed||"N/A",dose:"10mg",compartment:c.value[3],status:g(e.box4status||"n/a").status,statusIcon:g(e.box4status||"n/a").statusIcon,pillIcon:g(e.box4status||"n/a").pillIcon,background:g(e.box4status||"n/a").background,textColor:g(e.box4status||"n/a").textColor}],n.value=e.medremain}return ln(async()=>{e.medremain=0,await e.fetchBoxes(),_(),setInterval(async()=>{e.medremain=0,await e.fetchBoxes(),_()},5e3)}),(y,m)=>(ke(),Be(at,null,[ue("div",q4,[m[1]||(m[1]=ue("div",{class:"overview-content"},[ue("div",{class:"overview-icon"},[ue("img",{src:FN,alt:"Overview Logo"})]),ue("span",{class:"overview-heading"},"Weekly Overview")],-1)),ue("span",G4,[Pt(Ze(h.value[0])+", ",1),m[0]||(m[0]=ue("span",{class:"firstname"},"Lamuel!",-1))]),m[2]||(m[2]=ue("span",{class:"greetings-extension"},"Hope your day is going wonderfully.",-1))]),ue("div",z4,[ue("div",K4,[m[3]||(m[3]=ue("span",{class:"schedule-title"},"Your Daily Schedule",-1)),ue("span",Q4,[ue("span",X4,Ze(H(n))+" remaining ",1)])]),ue("div",J4,[ue("div",Z4,[(ke(!0),Be(at,null,Dt(d.value,b=>(ke(),Be("div",{class:"medcard",key:b.Name,style:Nn({borderLeftColor:b.textColor})},[ue("div",e8,[ue("div",{class:"medcard-alert-container",style:Nn({backgroundColor:b.background,color:b.textColor})},[ue("div",t8,[ue("img",{src:b.statusIcon},null,8,n8)]),ue("span",r8,Ze(b.status),1)],4),ue("div",i8,[ue("img",{src:b.pillIcon,alt:"pill icon"},null,8,s8)])]),ue("div",o8,[ue("div",a8,[ue("h3",null,Ze(b.Name),1),ue("p",null,Ze(b.supply)+" left",1)]),ue("span",l8," Take "+Ze(b.dose)+" "+Ze(b.timeDesc),1)]),ue("div",u8,[ue("div",c8,[ue("div",f8,[ue("img",{src:H(XN),alt:"time icon"},null,8,h8)]),ue("span",d8,Ze(b.scheduledTime),1)]),ue("div",p8,[ue("div",m8,[ue("img",{src:H(QN),alt:"compartment icon"},null,8,g8)]),ue("span",y8,Ze(b.compartment),1)])])],4))),128))])])]),dt(Y4)],64))}},_8=Us(v8,[["__scopeId","data-v-04d3002c"]]),b8={class:"container"},w8={class:"scheduler"},E8={class:"form-card"},S8={class:"display-card-wrapper"},C8={class:"display-card"},x8={class:"med-list"},A8={class:"med-box"},k8={class:"med-list"},T8={class:"med-box"},I8={__name:"editmedication",setup(t){const e=WN(),n=Ne(""),r=Ne(""),i=Ne(""),s=Ne(""),o=Ne(""),a=Ne(""),l=async()=>{await e.saveMedicine(n.value,r.value,i.value,s.value,o.value,a.value),n.value="",r.value="",i.value="",s.value="",o.value="",a.value=""};return ln(()=>{e.listenMedicines()}),(u,c)=>{const f=$l("newHome");return ke(),Be(at,null,[ue("div",b8,[c[20]||(c[20]=ue("div",{class:"form-header"},[ue("h2",null,"Setup medication Intakes"),ue("p",null,"Add, edit, and schedule your medicine all in one place")],-1)),ue("div",w8,[ue("div",E8,[c[9]||(c[9]=ue("h3",null,"Adjust Schedule",-1)),ue("form",{onSubmit:Ci(l,["prevent"])},[Mn(ue("select",{"onUpdate:modelValue":c[0]||(c[0]=h=>n.value=h),required:""},[...c[6]||(c[6]=[ue("option",{disabled:"",value:""},"Select Intake",-1),ue("option",{value:"daily"},"Daily",-1),ue("option",{value:"weekly"},"Weekly",-1)])],512),[[r_,n.value]]),Mn(ue("select",{"onUpdate:modelValue":c[1]||(c[1]=h=>r.value=h),required:""},[...c[7]||(c[7]=[Og('<option disabled value="" data-v-447ac968>Select compartment</option><option value="box1" data-v-447ac968>Compartment A</option><option value="box2" data-v-447ac968>Compartment B</option><option value="box3" data-v-447ac968>Compartment C</option><option value="box4" data-v-447ac968>Compartment D</option>',5)])],512),[[r_,r.value]]),Mn(ue("input",{type:"text","onUpdate:modelValue":c[2]||(c[2]=h=>i.value=h),placeholder:"Medicine name",required:""},null,512),[[Sr,i.value]]),Mn(ue("input",{type:"time","onUpdate:modelValue":c[3]||(c[3]=h=>s.value=h),required:""},null,512),[[Sr,s.value]]),Mn(ue("input",{type:"number","onUpdate:modelValue":c[4]||(c[4]=h=>o.value=h),placeholder:"Dose",min:"1",required:""},null,512),[[Sr,o.value]]),Mn(ue("input",{type:"date","onUpdate:modelValue":c[5]||(c[5]=h=>a.value=h),required:""},null,512),[[Sr,a.value]]),c[8]||(c[8]=ue("button",{type:"submit"},"Save",-1))],32)]),ue("div",S8,[ue("div",C8,[ue("div",x8,[c[14]||(c[14]=ue("h4",null,"Daily",-1)),(ke(!0),Be(at,null,Dt(H(e).medicines.daily,(h,d)=>(ke(),Be("div",{key:d,class:"med-item"},[ue("strong",A8,Ze(d.toUpperCase()),1),ue("p",null,[c[10]||(c[10]=ue("span",{class:"med-label"},"Medicine:",-1)),Pt(" "+Ze(h.medicine),1)]),ue("p",null,[c[11]||(c[11]=ue("span",{class:"med-label"},"Time:",-1)),Pt(" "+Ze(h.time),1)]),ue("p",null,[c[12]||(c[12]=ue("span",{class:"med-label"},"Dose left:",-1)),Pt(" "+Ze(h.dose),1)]),ue("p",null,[c[13]||(c[13]=ue("span",{class:"med-label"},"Last taken:",-1)),Pt(" "+Ze(h.lastTaken),1)])]))),128))]),ue("div",k8,[c[19]||(c[19]=ue("h4",null,"Weekly",-1)),(ke(!0),Be(at,null,Dt(H(e).medicines.weekly,(h,d)=>(ke(),Be("div",{key:d,class:"med-item"},[ue("strong",T8,Ze(d.toUpperCase()),1),ue("p",null,[c[15]||(c[15]=ue("span",{class:"med-label"},"Medicine:",-1)),Pt(" "+Ze(h.medicine),1)]),ue("p",null,[c[16]||(c[16]=ue("span",{class:"med-label"},"Time:",-1)),Pt(" "+Ze(h.time),1)]),ue("p",null,[c[17]||(c[17]=ue("span",{class:"med-label"},"Dose left:",-1)),Pt(" "+Ze(h.dose),1)]),ue("p",null,[c[18]||(c[18]=ue("span",{class:"med-label"},"Last taken:",-1)),Pt(" "+Ze(h.lastTaken),1)])]))),128))])])])])]),dt(f)],64)}}},P8=Us(I8,[["__scopeId","data-v-447ac968"]]),O8={class:"editprofile-container"},M8={class:"main-content"},D8={class:"formcontent"},R8={class:"name-field inputfield"},N8={class:"email-field inputfield"},L8={class:"password-field inputfield"},F8={class:"updated-details"},B8={class:"userdetails"},j8={class:"userdetails-title"},$8={class:"userdetails-title"},U8={class:"userdetails-title"},W8={__name:"editProfile",setup(t){const e=$1(),n=pS(),r=dS(),i=Ne("");ln(async()=>{if(!r.safeEmail){alert("Please login first"),await e.push("/login");return}const o=eh(),a=Ki(o,`users/${r.safeEmail}`),l=await ru(a);if(l.exists()){const u=l.val();n.saveProfile(u)}else alert("User data not found")});const s=async()=>{await n.saveToFirebase()?(alert("Profile updated successfully!"),i.value=""):alert("Update failed")};return(o,a)=>(ke(),Be("div",O8,[a[12]||(a[12]=ue("h3",null,"Manage Account Settings",-1)),a[13]||(a[13]=ue("p",{class:"description"},"Adjust and update your profile swiftly and quickly",-1)),ue("div",M8,[ue("div",D8,[a[7]||(a[7]=ue("h2",null,"Edit Profile",-1)),ue("form",{onSubmit:Ci(s,["prevent"])},[ue("span",R8,[a[3]||(a[3]=ue("span",null,"Name:",-1)),Mn(ue("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>H(n).user.name=l),placeholder:"Full Name"},null,512),[[Sr,H(n).user.name]])]),ue("span",N8,[a[4]||(a[4]=ue("span",null,"Email:",-1)),Mn(ue("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=l=>H(n).user.email=l),placeholder:"Email"},null,512),[[Sr,H(n).user.email]])]),ue("span",L8,[a[5]||(a[5]=ue("span",null,"Password:",-1)),Mn(ue("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=l=>H(n).user.password=l),placeholder:"Password"},null,512),[[Sr,H(n).user.password]])]),a[6]||(a[6]=ue("button",{type:"submit"},"Update Details",-1))],32)]),ue("div",F8,[ue("div",B8,[a[11]||(a[11]=ue("div",{class:"userdetails-header"},[ue("h2",null,"Profile Overview")],-1)),ue("p",j8,[a[8]||(a[8]=ue("strong",null,"Name:",-1)),Pt(" "+Ze(H(n).user.name),1)]),ue("p",$8,[a[9]||(a[9]=ue("strong",null,"Email:",-1)),Pt(" "+Ze(H(n).user.email),1)]),ue("p",U8,[a[10]||(a[10]=ue("strong",null,"Password:",-1)),Pt(" "+Ze(H(n).user.password?"********":""),1)])])])])]))}},V8=Us(W8,[["__scopeId","data-v-10d7c18c"]]),H8=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Y8=Object.prototype.toString,q8=t=>Y8.call(t)==="[object Object]",Zu=()=>{};function Sd(t){return Array.isArray(t)?t:[t]}function G8(t,e,n){return En(t,e,{...n,immediate:!0})}const qC=H8?window:void 0;function Cr(t){var e;const n=Ts(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function va(...t){const e=(r,i,s,o)=>(r.addEventListener(i,s,o),()=>r.removeEventListener(i,s,o)),n=Me(()=>{const r=Sd(Ts(t[0])).filter(i=>i!=null);return r.every(i=>typeof i!="string")?r:void 0});return G8(()=>{var r,i;return[(r=(i=n.value)===null||i===void 0?void 0:i.map(s=>Cr(s)))!==null&&r!==void 0?r:[qC].filter(s=>s!=null),Sd(Ts(n.value?t[1]:t[0])),Sd(H(n.value?t[2]:t[1])),Ts(n.value?t[3]:t[2])]},([r,i,s,o],a,l)=>{if(!r?.length||!i?.length||!s?.length)return;const u=q8(o)?{...o}:o,c=r.flatMap(f=>i.flatMap(h=>s.map(d=>e(f,h,d,u))));l(()=>{c.forEach(f=>f())})},{flush:"post"})}function z8(t,e,n={}){const{window:r=qC,ignore:i=[],capture:s=!0,detectIframe:o=!1,controls:a=!1}=n;if(!r)return a?{stop:Zu,cancel:Zu,trigger:Zu}:Zu;let l=!0;const u=_=>Ts(i).some(y=>{if(typeof y=="string")return Array.from(r.document.querySelectorAll(y)).some(m=>m===_.target||_.composedPath().includes(m));{const m=Cr(y);return m&&(_.target===m||_.composedPath().includes(m))}});function c(_){const y=Ts(_);return y&&y.$.subTree.shapeFlag===16}function f(_,y){const m=Ts(_),b=m.$.subTree&&m.$.subTree.children;return b==null||!Array.isArray(b)?!1:b.some(S=>S.el===y.target||y.composedPath().includes(S.el))}const h=_=>{const y=Cr(t);if(_.target!=null&&!(!(y instanceof Element)&&c(t)&&f(t,_))&&!(!y||y===_.target||_.composedPath().includes(y))){if("detail"in _&&_.detail===0&&(l=!u(_)),!l){l=!0;return}e(_)}};let d=!1;const p=[va(r,"click",_=>{d||(d=!0,setTimeout(()=>{d=!1},0),h(_))},{passive:!0,capture:s}),va(r,"pointerdown",_=>{const y=Cr(t);l=!u(_)&&!!(y&&!_.composedPath().includes(y))},{passive:!0}),o&&va(r,"blur",_=>{setTimeout(()=>{var y;const m=Cr(t);((y=r.document.activeElement)===null||y===void 0?void 0:y.tagName)==="IFRAME"&&!m?.contains(r.document.activeElement)&&e(_)},0)},{passive:!0})].filter(Boolean),g=()=>p.forEach(_=>_());return a?{stop:g,cancel:()=>{l=!1},trigger:_=>{l=!0,h(_),l=!1}}:g}function K8(t,e={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:i,onSwipeStart:s,passive:o=!0}=e,a=ti({x:0,y:0}),l=ti({x:0,y:0}),u=Me(()=>a.x-l.x),c=Me(()=>a.y-l.y),{max:f,abs:h}=Math,d=Me(()=>f(h(u.value),h(c.value))>=n),p=Of(!1),g=Me(()=>d.value?h(u.value)>h(c.value)?u.value>0?"left":"right":c.value>0?"up":"down":"none"),_=C=>[C.touches[0].clientX,C.touches[0].clientY],y=(C,k)=>{a.x=C,a.y=k},m=(C,k)=>{l.x=C,l.y=k},b={passive:o,capture:!o},S=C=>{p.value&&i?.(C,g.value),p.value=!1},E=[va(t,"touchstart",C=>{if(C.touches.length!==1)return;const[k,R]=_(C);y(k,R),m(k,R),s?.(C)},b),va(t,"touchmove",C=>{if(C.touches.length!==1)return;const[k,R]=_(C);m(k,R),b.capture&&!b.passive&&Math.abs(u.value)>Math.abs(c.value)&&C.preventDefault(),!p.value&&d.value&&(p.value=!0),p.value&&r?.(C)},b),va(t,["touchend","touchcancel"],S,b)];return{isSwiping:p,direction:g,coordsStart:a,coordsEnd:l,lengthX:u,lengthY:c,stop:()=>E.forEach(C=>C())}}const Pa=Math.min,So=Math.max,pf=Math.round,ec=Math.floor,Ei=t=>({x:t,y:t}),Q8={left:"right",right:"left",bottom:"top",top:"bottom"},X8={start:"end",end:"start"};function ug(t,e,n){return So(t,Pa(e,n))}function bu(t,e){return typeof t=="function"?t(e):t}function To(t){return t.split("-")[0]}function wu(t){return t.split("-")[1]}function GC(t){return t==="x"?"y":"x"}function O0(t){return t==="y"?"height":"width"}const J8=new Set(["top","bottom"]);function As(t){return J8.has(To(t))?"y":"x"}function M0(t){return GC(As(t))}function Z8(t,e,n){n===void 0&&(n=!1);const r=wu(t),i=M0(t),s=O0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mf(o)),[o,mf(o)]}function eL(t){const e=mf(t);return[cg(t),e,cg(e)]}function cg(t){return t.replace(/start|end/g,e=>X8[e])}const kw=["left","right"],Tw=["right","left"],tL=["top","bottom"],nL=["bottom","top"];function rL(t,e,n){switch(t){case"top":case"bottom":return n?e?Tw:kw:e?kw:Tw;case"left":case"right":return e?tL:nL;default:return[]}}function iL(t,e,n,r){const i=wu(t);let s=rL(To(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(cg)))),s}function mf(t){return t.replace(/left|right|bottom|top/g,e=>Q8[e])}function sL(t){return{top:0,right:0,bottom:0,left:0,...t}}function zC(t){return typeof t!="number"?sL(t):{top:t,right:t,bottom:t,left:t}}function gf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Iw(t,e,n){let{reference:r,floating:i}=t;const s=As(e),o=M0(e),a=O0(o),l=To(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(wu(e)){case"start":d[o]-=h*(n&&u?-1:1);break;case"end":d[o]+=h*(n&&u?-1:1);break}return d}const oL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=Iw(u,r,l),h=r,d={},p=0;for(let g=0;g<a.length;g++){const{name:_,fn:y}=a[g],{x:m,y:b,data:S,reset:E}=await y({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:u,platform:o,elements:{reference:t,floating:e}});c=m??c,f=b??f,d={...d,[_]:{...d[_],...S}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:c,y:f}=Iw(u,h,l)),g=-1)}return{x:c,y:f,placement:h,strategy:i,middlewareData:d}};async function KC(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=bu(e,t),p=zC(d),_=a[h?f==="floating"?"reference":"floating":f],y=gf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=gf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:b,strategy:l}):m);return{top:(y.top-E.top+p.top)/S.y,bottom:(E.bottom-y.bottom+p.bottom)/S.y,left:(y.left-E.left+p.left)/S.x,right:(E.right-y.right+p.right)/S.x}}const aL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=bu(t,e)||{};if(u==null)return{};const f=zC(c),h={x:n,y:r},d=M0(i),p=O0(d),g=await o.getDimensions(u),_=d==="y",y=_?"top":"left",m=_?"bottom":"right",b=_?"clientHeight":"clientWidth",S=s.reference[p]+s.reference[d]-h[d]-s.floating[p],E=h[d]-s.reference[d],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=x?x[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(x)))&&(C=a.floating[b]||s.floating[p]);const k=S/2-E/2,R=C/2-g[p]/2-1,j=Pa(f[y],R),K=Pa(f[m],R),D=j,ee=C-g[p]-K,te=C/2-g[p]/2+k,Z=ug(D,te,ee),fe=!l.arrow&&wu(i)!=null&&te!==Z&&s.reference[p]/2-(te<D?j:K)-g[p]/2<0,q=fe?te<D?te-D:te-ee:0;return{[d]:h[d]+q,data:{[d]:Z,centerOffset:te-Z-q,...fe&&{alignmentOffset:q}},reset:fe}}}),lL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,..._}=bu(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=To(i),m=As(a),b=To(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(b||!g?[mf(a)]:eL(a)),x=p!=="none";!h&&x&&E.push(...iL(a,g,p,S));const C=[a,...E],k=await KC(e,_),R=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&R.push(k[y]),f){const te=Z8(i,o,S);R.push(k[te[0]],k[te[1]])}if(j=[...j,{placement:i,overflows:R}],!R.every(te=>te<=0)){var K,D;const te=(((K=s.flip)==null?void 0:K.index)||0)+1,Z=C[te];if(Z&&(!(f==="alignment"?m!==As(Z):!1)||j.every(re=>As(re.placement)===m?re.overflows[0]>0:!0)))return{data:{index:te,overflows:j},reset:{placement:Z}};let fe=(D=j.filter(q=>q.overflows[0]<=0).sort((q,re)=>q.overflows[1]-re.overflows[1])[0])==null?void 0:D.placement;if(!fe)switch(d){case"bestFit":{var ee;const q=(ee=j.filter(re=>{if(x){const me=As(re.placement);return me===m||me==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(me=>me>0).reduce((me,ie)=>me+ie,0)]).sort((re,me)=>re[1]-me[1])[0])==null?void 0:ee[0];q&&(fe=q);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}},uL=new Set(["left","top"]);async function cL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=To(n),a=wu(n),l=As(n)==="y",u=uL.has(o)?-1:1,c=s&&l?-1:1,f=bu(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(d=a==="end"?p*-1:p),l?{x:d*c,y:h*u}:{x:h*u,y:d*c}}const fL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},hL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:m}=_;return{x:y,y:m}}},...l}=bu(t,e),u={x:n,y:r},c=await KC(e,l),f=As(To(i)),h=GC(f);let d=u[h],p=u[f];if(s){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=d+c[_],b=d-c[y];d=ug(m,d,b)}if(o){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=p+c[_],b=p-c[y];p=ug(m,p,b)}const g=a.fn({...e,[h]:d,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}};function ah(){return typeof window<"u"}function No(t){return D0(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ii(t){var e;return(e=(D0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function D0(t){return ah()?t instanceof Node||t instanceof Ar(t).Node:!1}function si(t){return ah()?t instanceof Element||t instanceof Ar(t).Element:!1}function xi(t){return ah()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function Pw(t){return!ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const dL=new Set(["inline","contents"]);function Eu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!dL.has(i)}const pL=new Set(["table","td","th"]);function mL(t){return pL.has(No(t))}const gL=[":popover-open",":modal"];function lh(t){return gL.some(e=>{try{return t.matches(e)}catch{return!1}})}const yL=["transform","translate","scale","rotate","perspective"],vL=["transform","translate","scale","rotate","perspective","filter"],_L=["paint","layout","strict","content"];function R0(t){const e=N0(),n=si(t)?oi(t):t;return yL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vL.some(r=>(n.willChange||"").includes(r))||_L.some(r=>(n.contain||"").includes(r))}function bL(t){let e=Fs(t);for(;xi(e)&&!Oa(e);){if(R0(e))return e;if(lh(e))return null;e=Fs(e)}return null}function N0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wL=new Set(["html","body","#document"]);function Oa(t){return wL.has(No(t))}function oi(t){return Ar(t).getComputedStyle(t)}function uh(t){return si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fs(t){if(No(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pw(t)&&t.host||Ii(t);return Pw(e)?e.host:e}function QC(t){const e=Fs(t);return Oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:xi(e)&&Eu(e)?e:QC(e)}function su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=QC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ar(i);if(s){const a=fg(o);return e.concat(o,o.visualViewport||[],Eu(i)?i:[],a&&n?su(a):[])}return e.concat(i,su(i,[],n))}function fg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XC(t){const e=oi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=pf(n)!==s||pf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function L0(t){return si(t)?t:t.contextElement}function _a(t){const e=L0(t);if(!xi(e))return Ei(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=XC(e);let o=(s?pf(n.width):n.width)/r,a=(s?pf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EL=Ei(0);function JC(t){const e=Ar(t);return!N0()||!e.visualViewport?EL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function Io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=L0(t);let o=Ei(1);e&&(r?si(r)&&(o=_a(r)):o=_a(t));const a=SL(s,n,r)?JC(s):Ei(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const h=Ar(s),d=r&&si(r)?Ar(r):r;let p=h,g=fg(p);for(;g&&r&&d!==p;){const _=_a(g),y=g.getBoundingClientRect(),m=oi(g),b=y.left+(g.clientLeft+parseFloat(m.paddingLeft))*_.x,S=y.top+(g.clientTop+parseFloat(m.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,f*=_.y,l+=b,u+=S,p=Ar(g),g=fg(p)}}return gf({width:c,height:f,x:l,y:u})}function ch(t,e){const n=uh(t).scrollLeft;return e?e.left+n:Io(Ii(t)).left+n}function ZC(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ch(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function CL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ii(r),a=e?lh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ei(1);const c=Ei(0),f=xi(r);if((f||!f&&!s)&&((No(r)!=="body"||Eu(o))&&(l=uh(r)),xi(r))){const d=Io(r);u=_a(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}const h=o&&!f&&!s?ZC(o,l):Ei(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function xL(t){return Array.from(t.getClientRects())}function AL(t){const e=Ii(t),n=uh(t),r=t.ownerDocument.body,i=So(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=So(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ch(t);const a=-n.scrollTop;return oi(r).direction==="rtl"&&(o+=So(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Ow=25;function kL(t,e){const n=Ar(t),r=Ii(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=N0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=ch(r);if(u<=0){const c=r.ownerDocument,f=c.body,h=getComputedStyle(f),d=c.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-d);p<=Ow&&(s-=p)}else u<=Ow&&(s+=u);return{width:s,height:o,x:a,y:l}}const TL=new Set(["absolute","fixed"]);function IL(t,e){const n=Io(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=xi(t)?_a(t):Ei(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Mw(t,e,n){let r;if(e==="viewport")r=kL(t,n);else if(e==="document")r=AL(Ii(t));else if(si(e))r=IL(e,n);else{const i=JC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gf(r)}function ex(t,e){const n=Fs(t);return n===e||!si(n)||Oa(n)?!1:oi(n).position==="fixed"||ex(n,e)}function PL(t,e){const n=e.get(t);if(n)return n;let r=su(t,[],!1).filter(a=>si(a)&&No(a)!=="body"),i=null;const s=oi(t).position==="fixed";let o=s?Fs(t):t;for(;si(o)&&!Oa(o);){const a=oi(o),l=R0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&TL.has(i.position)||Eu(o)&&!l&&ex(t,o))?r=r.filter(c=>c!==o):i=a,o=Fs(o)}return e.set(t,r),r}function OL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?lh(e)?[]:PL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=Mw(e,c,i);return u.top=So(f.top,u.top),u.right=Pa(f.right,u.right),u.bottom=Pa(f.bottom,u.bottom),u.left=So(f.left,u.left),u},Mw(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ML(t){const{width:e,height:n}=XC(t);return{width:e,height:n}}function DL(t,e,n){const r=xi(e),i=Ii(e),s=n==="fixed",o=Io(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ei(0);function u(){l.x=ch(i)}if(r||!r&&!s)if((No(e)!=="body"||Eu(i))&&(a=uh(e)),r){const d=Io(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?ZC(i,a):Ei(0),f=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:o.width,height:o.height}}function Cd(t){return oi(t).position==="static"}function Dw(t,e){if(!xi(t)||oi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ii(t)===n&&(n=n.ownerDocument.body),n}function tx(t,e){const n=Ar(t);if(lh(t))return n;if(!xi(t)){let i=Fs(t);for(;i&&!Oa(i);){if(si(i)&&!Cd(i))return i;i=Fs(i)}return n}let r=Dw(t,e);for(;r&&mL(r)&&Cd(r);)r=Dw(r,e);return r&&Oa(r)&&Cd(r)&&!R0(r)?n:r||bL(t)||n}const RL=async function(t){const e=this.getOffsetParent||tx,n=this.getDimensions,r=await n(t.floating);return{reference:DL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NL(t){return oi(t).direction==="rtl"}const LL={convertOffsetParentRelativeRectToViewportRelativeRect:CL,getDocumentElement:Ii,getClippingRect:OL,getOffsetParent:tx,getElementRects:RL,getClientRects:xL,getDimensions:ML,getScale:_a,isElement:si,isRTL:NL};function nx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FL(t,e){let n=null,r;const i=Ii(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:f,width:h,height:d}=u;if(a||e(),!h||!d)return;const p=ec(f),g=ec(i.clientWidth-(c+h)),_=ec(i.clientHeight-(f+d)),y=ec(c),b={rootMargin:-p+"px "+-g+"px "+-_+"px "+-y+"px",threshold:So(0,Pa(1,l))||1};let S=!0;function E(x){const C=x[0].intersectionRatio;if(C!==l){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!nx(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),s}function BL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=L0(t),c=i||s?[...u?su(u):[],...su(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&a?FL(u,n):null;let h=-1,d=null;o&&(d=new ResizeObserver(y=>{let[m]=y;m&&m.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(e)})),n()}),u&&!l&&d.observe(u),d.observe(e));let p,g=l?Io(t):null;l&&_();function _(){const y=Io(t);g&&!nx(g,y)&&n(),g=y,p=requestAnimationFrame(_)}return n(),()=>{var y;c.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),f?.(),(y=d)==null||y.disconnect(),d=null,l&&cancelAnimationFrame(p)}}const jL=fL,$L=hL,UL=lL,WL=aL,VL=(t,e,n)=>{const r=new Map,i={platform:LL,...n},s={...i.platform,_c:r};return oL(t,e,{...i,platform:s})};function HL(t){return t!=null&&typeof t=="object"&&"$el"in t}function hg(t){if(HL(t)){const e=t.$el;return D0(e)&&No(e)==="#comment"?null:e}return t}function ia(t){return typeof t=="function"?t():H(t)}function YL(t){return{name:"arrow",options:t,fn(e){const n=hg(ia(t.element));return n==null?{}:WL({element:n,padding:t.padding}).fn(e)}}}function rx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rw(t,e){const n=rx(t);return Math.round(e*n)/n}function qL(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,i=Me(()=>{var C;return(C=ia(n.open))!=null?C:!0}),s=Me(()=>ia(n.middleware)),o=Me(()=>{var C;return(C=ia(n.placement))!=null?C:"bottom"}),a=Me(()=>{var C;return(C=ia(n.strategy))!=null?C:"absolute"}),l=Me(()=>{var C;return(C=ia(n.transform))!=null?C:!0}),u=Me(()=>hg(t.value)),c=Me(()=>hg(e.value)),f=Ne(0),h=Ne(0),d=Ne(a.value),p=Ne(o.value),g=Of({}),_=Ne(!1),y=Me(()=>{const C={position:d.value,left:"0",top:"0"};if(!c.value)return C;const k=Rw(c.value,f.value),R=Rw(c.value,h.value);return l.value?{...C,transform:"translate("+k+"px, "+R+"px)",...rx(c.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:k+"px",top:R+"px"}});let m;function b(){if(u.value==null||c.value==null)return;const C=i.value;VL(u.value,c.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(k=>{f.value=k.x,h.value=k.y,d.value=k.strategy,p.value=k.placement,g.value=k.middlewareData,_.value=C!==!1})}function S(){typeof m=="function"&&(m(),m=void 0)}function E(){if(S(),r===void 0){b();return}if(u.value!=null&&c.value!=null){m=r(u.value,c.value,b);return}}function x(){i.value||(_.value=!1)}return En([s,o,a,i],b,{flush:"sync"}),En([u,c],E,{flush:"sync"}),En(i,x,{flush:"sync"}),bg()&&a2(S),{x:zo(f),y:zo(h),strategy:zo(d),placement:zo(p),middlewareData:zo(g),isPositioned:zo(_),floatingStyles:y,update:b}}const ix=6048e5,GL=864e5,zL=6e4,KL=36e5,QL=1e3,Nw=Symbol.for("constructDateFrom");function Vt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Nw in t?t[Nw](e):t instanceof Date?new t.constructor(e):new Date(e)}function lt(t,e){return Vt(e||t,t)}function Rr(t,e,n){const r=lt(t,n?.in);return isNaN(e)?Vt(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Qr(t,e,n){const r=lt(t,n?.in);if(isNaN(e))return Vt(t,NaN);if(!e)return r;const i=r.getDate(),s=Vt(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function sx(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:a=0,minutes:l=0,seconds:u=0}=e,c=lt(t,n?.in),f=i||r?Qr(c,i+r*12):c,h=o||s?Rr(f,o+s*7):f,d=l+a*60,g=(u+d*60)*1e3;return Vt(t,+h+g)}let XL={};function Lo(){return XL}function Ur(t,e){const n=Lo(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lt(t,e?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ma(t,e){return Ur(t,{...e,weekStartsOn:1})}function ox(t,e){const n=lt(t,e?.in),r=n.getFullYear(),i=Vt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ma(i),o=Vt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ma(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function yf(t){const e=lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Su(t,...e){const n=Vt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Lw(t,e){const n=lt(t,e?.in);return n.setHours(0,0,0,0),n}function ax(t,e,n){const[r,i]=Su(n?.in,t,e),s=Lw(r),o=Lw(i),a=+s-yf(s),l=+o-yf(o);return Math.round((a-l)/GL)}function JL(t,e){const n=ox(t,e),r=Vt(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ma(r)}function ZL(t,e,n){return Qr(t,e*3,n)}function F0(t,e,n){return Qr(t,e*12,n)}function Fw(t,e){const n=+lt(t)-+lt(e);return n<0?-1:n>0?1:n}function lx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Rl(t){return!(!lx(t)&&typeof t!="number"||isNaN(+lt(t)))}function Bw(t,e){const n=lt(t,e?.in);return Math.trunc(n.getMonth()/3)+1}function eF(t,e,n){const[r,i]=Su(n?.in,t,e);return r.getFullYear()-i.getFullYear()}function tF(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function nF(t,e,n){const[r,i]=Su(n?.in,t,e),s=Fw(r,i),o=Math.abs(eF(r,i));r.setFullYear(1584),i.setFullYear(1584);const a=Fw(r,i)===-s,l=s*(o-+a);return l===0?0:l}function ux(t,e){const[n,r]=Su(t,e.start,e.end);return{start:n,end:r}}function B0(t,e){const{start:n,end:r}=ux(e?.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=s;)l.push(Vt(n,o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?l.reverse():l}function yo(t,e){const n=lt(t,e?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function rF(t,e){const{start:n,end:r}=ux(e?.in,t);let i=+n>+r;const s=i?+yo(n):+yo(r);let o=yo(i?r:n),a=1;const l=[];for(;+o<=s;)l.push(Vt(n,o)),o=ZL(o,a);return i?l.reverse():l}function iF(t,e){const n=lt(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function cx(t,e){const n=lt(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ba(t,e){const n=lt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function j0(t,e){const n=Lo(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lt(t,e?.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function jw(t,e){const n=lt(t,e?.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}const sF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oF=(t,e,n)=>{let r;const i=sF[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cF={date:xd({formats:aF,defaultWidth:"full"}),time:xd({formats:lF,defaultWidth:"full"}),dateTime:xd({formats:uF,defaultWidth:"full"})},fF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hF=(t,e,n,r)=>fF[t];function ol(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const dF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_F=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bF={ordinalNumber:_F,era:ol({values:dF,defaultWidth:"wide"}),quarter:ol({values:pF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:mF,defaultWidth:"wide"}),day:ol({values:gF,defaultWidth:"wide"}),dayPeriod:ol({values:yF,defaultWidth:"wide",formattingValues:vF,defaultFormattingWidth:"wide"})};function al(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?EF(a,f=>f.test(o)):wF(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function wF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function EF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const CF=/^(\d+)(th|st|nd|rd)?/i,xF=/\d+/i,AF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kF={any:[/^b/i,/^(a|c)/i]},TF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IF={any:[/1/i,/2/i,/3/i,/4/i]},PF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LF={ordinalNumber:SF({matchPattern:CF,parsePattern:xF,valueCallback:t=>parseInt(t,10)}),era:al({matchPatterns:AF,defaultMatchWidth:"wide",parsePatterns:kF,defaultParseWidth:"any"}),quarter:al({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:al({matchPatterns:PF,defaultMatchWidth:"wide",parsePatterns:OF,defaultParseWidth:"any"}),day:al({matchPatterns:MF,defaultMatchWidth:"wide",parsePatterns:DF,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:RF,defaultMatchWidth:"any",parsePatterns:NF,defaultParseWidth:"any"})},fx={code:"en-US",formatDistance:oF,formatLong:cF,formatRelative:hF,localize:bF,match:LF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FF(t,e){const n=lt(t,e?.in);return ax(n,ba(n))+1}function $0(t,e){const n=lt(t,e?.in),r=+Ma(n)-+JL(n);return Math.round(r/ix)+1}function U0(t,e){const n=lt(t,e?.in),r=n.getFullYear(),i=Lo(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Vt(e?.in||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Ur(o,e),l=Vt(e?.in||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Ur(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function BF(t,e){const n=Lo(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=U0(t,e),s=Vt(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ur(s,e)}function W0(t,e){const n=lt(t,e?.in),r=+Ur(n,e)-+BF(n,e);return Math.round(r/ix)+1}function Ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ut(n+1,2)},d(t,e){return Ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ut(t.getHours()%12||12,e.length)},H(t,e){return Ut(t.getHours(),e.length)},m(t,e){return Ut(t.getMinutes(),e.length)},s(t,e){return Ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ut(i,e.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$w={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return gs.y(t,e)},Y:function(t,e,n,r){const i=U0(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ut(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ut(s,e.length)},R:function(t,e){const n=ox(t);return Ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=W0(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ut(i,e.length)},I:function(t,e,n){const r=$0(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gs.d(t,e)},D:function(t,e,n){const r=FF(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ut(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ut(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ut(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xo.noon:r===0?i=Xo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xo.evening:r>=12?i=Xo.afternoon:r>=4?i=Xo.morning:i=Xo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gs.s(t,e)},S:function(t,e){return gs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ww(r);case"XXXX":case"XX":return uo(r);default:return uo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ww(r);case"xxxx":case"xx":return uo(r);default:return uo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Uw(r,":");default:return"GMT"+uo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Uw(r,":");default:return"GMT"+uo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ut(r,e.length)},T:function(t,e,n){return Ut(+t,e.length)}};function Uw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ut(s,2)}function Ww(t,e){return t%60===0?(t>0?"-":"+")+Ut(Math.abs(t)/60,2):uo(t,e)}function uo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ut(Math.trunc(r/60),2),s=Ut(r%60,2);return n+i+e+s}const Vw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},hx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},jF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Vw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Vw(r,e)).replace("{{time}}",hx(i,e))},dg={p:hx,P:jF},$F=/^D+$/,UF=/^Y+$/,WF=["D","DD","YY","YYYY"];function dx(t){return $F.test(t)}function px(t){return UF.test(t)}function pg(t,e,n){const r=VF(t,e,n);if(console.warn(r),WF.includes(t))throw new RangeError(r)}function VF(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qF=/^'([^]*?)'?$/,GF=/''/g,zF=/[a-zA-Z]/;function Dr(t,e,n){const r=Lo(),i=n?.locale??r.locale??fx,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=lt(t,n?.in);if(!Rl(a))throw new RangeError("Invalid time value");let l=e.match(YF).map(c=>{const f=c[0];if(f==="p"||f==="P"){const h=dg[f];return h(c,i.formatLong)}return c}).join("").match(HF).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const f=c[0];if(f==="'")return{isToken:!1,value:KF(c)};if($w[f])return{isToken:!0,value:c};if(f.match(zF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const f=c.value;(!n?.useAdditionalWeekYearTokens&&px(f)||!n?.useAdditionalDayOfYearTokens&&dx(f))&&pg(f,e,String(t));const h=$w[f[0]];return h(a,f,i.localize,u)}).join("")}function KF(t){const e=t.match(qF);return e?e[1].replace(GF,"'"):t}function QF(t,e){return lt(t,e?.in).getDay()}function XF(t,e){const n=lt(t,e?.in),r=n.getFullYear(),i=n.getMonth(),s=Vt(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function JF(){return Object.assign({},Lo())}function Ai(t,e){return lt(t,e?.in).getHours()}function ZF(t,e){const n=lt(t,e?.in).getDay();return n===0?7:n}function rs(t,e){return lt(t,e?.in).getMinutes()}function Ct(t,e){return lt(t,e?.in).getMonth()}function Bs(t){return lt(t).getSeconds()}function ht(t,e){return lt(t,e?.in).getFullYear()}function _i(t,e){return+lt(t)>+lt(e)}function qi(t,e){return+lt(t)<+lt(e)}function oa(t,e){return+lt(t)==+lt(e)}function eB(t,e){const n=tB(e)?new e(0):Vt(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function tB(t){return typeof t=="function"&&t.prototype?.constructor===t}const nB=10;class mx{subPriority=0;validate(e,n){return!0}}class rB extends mx{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class iB extends mx{priority=nB;subPriority=-1;constructor(e,n){super(),this.context=e||(r=>Vt(n,r))}set(e,n){return n.timestampIsSet?e:Vt(e,eB(e,this.context))}}class Rt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new rB(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class sB extends Rt{priority=140;parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},mi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function wn(t,e){return t&&{value:e(t.value),rest:t.rest}}function cn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function gi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*KL+s*zL+o*QL),rest:e.slice(n[0].length)}}function gx(t){return cn(bn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return cn(bn.singleDigit,e);case 2:return cn(bn.twoDigits,e);case 3:return cn(bn.threeDigits,e);case 4:return cn(bn.fourDigits,e);default:return cn(new RegExp("^\\d{1,"+t+"}"),e)}}function vf(t,e){switch(t){case 1:return cn(bn.singleDigitSigned,e);case 2:return cn(bn.twoDigitsSigned,e);case 3:return cn(bn.threeDigitsSigned,e);case 4:return cn(bn.fourDigitsSigned,e);default:return cn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function V0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function yx(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function vx(t){return t%400===0||t%4===0&&t%100!==0}class oB extends Rt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return wn(vn(4,e),i);case"yo":return wn(r.ordinalNumber(e,{unit:"year"}),i);default:return wn(vn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const i=e.getFullYear();if(r.isTwoDigitYear){const o=yx(r.year,i);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const s=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class aB extends Rt{priority=130;parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return wn(vn(4,e),i);case"Yo":return wn(r.ordinalNumber(e,{unit:"year"}),i);default:return wn(vn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,i){const s=U0(e,i);if(r.isTwoDigitYear){const a=yx(r.year,s);return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ur(e,i)}const o=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ur(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class lB extends Rt{priority=130;parse(e,n){return vf(n==="R"?4:n.length,e)}set(e,n,r){const i=Vt(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Ma(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class uB extends Rt{priority=130;parse(e,n){return vf(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class cB extends Rt{priority=120;parse(e,n,r){switch(n){case"Q":case"QQ":return vn(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class fB extends Rt{priority=120;parse(e,n,r){switch(n){case"q":case"qq":return vn(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class hB extends Rt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"M":return wn(cn(bn.month,e),i);case"MM":return wn(vn(2,e),i);case"Mo":return wn(r.ordinalNumber(e,{unit:"month"}),i);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class dB extends Rt{priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"L":return wn(cn(bn.month,e),i);case"LL":return wn(vn(2,e),i);case"Lo":return wn(r.ordinalNumber(e,{unit:"month"}),i);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function pB(t,e,n){const r=lt(t,n?.in),i=W0(r,n)-e;return r.setDate(r.getDate()-i*7),lt(r,n?.in)}class mB extends Rt{priority=100;parse(e,n,r){switch(n){case"w":return cn(bn.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return vn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,i){return Ur(pB(e,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function gB(t,e,n){const r=lt(t,n?.in),i=$0(r,n)-e;return r.setDate(r.getDate()-i*7),r}class yB extends Rt{priority=100;parse(e,n,r){switch(n){case"I":return cn(bn.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return vn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return Ma(gB(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const vB=[31,28,31,30,31,30,31,31,30,31,30,31],_B=[31,29,31,30,31,30,31,31,30,31,30,31];class bB extends Rt{priority=90;subPriority=1;parse(e,n,r){switch(n){case"d":return cn(bn.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return vn(n.length,e)}}validate(e,n){const r=e.getFullYear(),i=vx(r),s=e.getMonth();return i?n>=1&&n<=_B[s]:n>=1&&n<=vB[s]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class wB extends Rt{priority=90;subpriority=1;parse(e,n,r){switch(n){case"D":case"DD":return cn(bn.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return vn(n.length,e)}}validate(e,n){const r=e.getFullYear();return vx(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function H0(t,e,n){const r=Lo(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=lt(t,n?.in),o=s.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Rr(s,c,n)}class EB extends Rt{priority=90;parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=H0(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class SB extends Rt{priority=90;parse(e,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return wn(vn(n.length,e),s);case"eo":return wn(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=H0(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class CB extends Rt{priority=90;parse(e,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return wn(vn(n.length,e),s);case"co":return wn(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=H0(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function xB(t,e,n){const r=lt(t,n?.in),i=ZF(r,n),s=e-i;return Rr(r,s,n)}class AB extends Rt{priority=90;parse(e,n,r){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return vn(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return wn(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return wn(r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return wn(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);default:return wn(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=xB(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class kB extends Rt{priority=80;parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(V0(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class TB extends Rt{priority=80;parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(V0(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class IB extends Rt{priority=80;parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(V0(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class PB extends Rt{priority=70;parse(e,n,r){switch(n){case"h":return cn(bn.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return vn(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const i=e.getHours()>=12;return i&&r<12?e.setHours(r+12,0,0,0):!i&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class OB extends Rt{priority=70;parse(e,n,r){switch(n){case"H":return cn(bn.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return vn(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class MB extends Rt{priority=70;parse(e,n,r){switch(n){case"K":return cn(bn.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return vn(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class DB extends Rt{priority=70;parse(e,n,r){switch(n){case"k":return cn(bn.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return vn(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const i=r<=24?r%24:r;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class RB extends Rt{priority=60;parse(e,n,r){switch(n){case"m":return cn(bn.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return vn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class NB extends Rt{priority=50;parse(e,n,r){switch(n){case"s":return cn(bn.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return vn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class LB extends Rt{priority=30;parse(e,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return wn(vn(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class FB extends Rt{priority=10;parse(e,n){switch(n){case"X":return gi(mi.basicOptionalMinutes,e);case"XX":return gi(mi.basic,e);case"XXXX":return gi(mi.basicOptionalSeconds,e);case"XXXXX":return gi(mi.extendedOptionalSeconds,e);default:return gi(mi.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Vt(e,e.getTime()-yf(e)-r)}incompatibleTokens=["t","T","x"]}class BB extends Rt{priority=10;parse(e,n){switch(n){case"x":return gi(mi.basicOptionalMinutes,e);case"xx":return gi(mi.basic,e);case"xxxx":return gi(mi.basicOptionalSeconds,e);case"xxxxx":return gi(mi.extendedOptionalSeconds,e);default:return gi(mi.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Vt(e,e.getTime()-yf(e)-r)}incompatibleTokens=["t","T","X"]}class jB extends Rt{priority=40;parse(e){return gx(e)}set(e,n,r){return[Vt(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class $B extends Rt{priority=20;parse(e){return gx(e)}set(e,n,r){return[Vt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const UB={G:new sB,y:new oB,Y:new aB,R:new lB,u:new uB,Q:new cB,q:new fB,M:new hB,L:new dB,w:new mB,I:new yB,d:new bB,D:new wB,E:new EB,e:new SB,c:new CB,i:new AB,a:new kB,b:new TB,B:new IB,h:new PB,H:new OB,K:new MB,k:new DB,m:new RB,s:new NB,S:new LB,X:new FB,x:new BB,t:new jB,T:new $B},WB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HB=/^'([^]*?)'?$/,YB=/''/g,qB=/\S/,GB=/[a-zA-Z]/;function mg(t,e,n,r){const i=()=>Vt(r?.in||n,NaN),s=JF(),o=r?.locale??s.locale??fx,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return t?i():lt(n,r?.in);const u={firstWeekContainsDate:a,weekStartsOn:l,locale:o},c=[new iB(r?.in,n)],f=e.match(VB).map(_=>{const y=_[0];if(y in dg){const m=dg[y];return m(_,o.formatLong)}return _}).join("").match(WB),h=[];for(let _ of f){!r?.useAdditionalWeekYearTokens&&px(_)&&pg(_,e,t),!r?.useAdditionalDayOfYearTokens&&dx(_)&&pg(_,e,t);const y=_[0],m=UB[y];if(m){const{incompatibleTokens:b}=m;if(Array.isArray(b)){const E=h.find(x=>b.includes(x.token)||x.token===y);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${_}\` at the same time`)}else if(m.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);h.push({token:y,fullToken:_});const S=m.run(t,_,o.match,u);if(!S)return i();c.push(S.setter),t=S.rest}else{if(y.match(GB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(_==="''"?_="'":y==="'"&&(_=zB(_)),t.indexOf(_)===0)t=t.slice(_.length);else return i()}}if(t.length>0&&qB.test(t))return i();const d=c.map(_=>_.priority).sort((_,y)=>y-_).filter((_,y,m)=>m.indexOf(_)===y).map(_=>c.filter(y=>y.priority===_).sort((y,m)=>m.subPriority-y.subPriority)).map(_=>_[0]);let p=lt(n,r?.in);if(isNaN(+p))return i();const g={};for(const _ of d){if(!_.validate(p,u))return i();const y=_.set(p,g,u);Array.isArray(y)?(p=y[0],Object.assign(g,y[1])):p=y}return p}function zB(t){return t.match(HB)[1].replace(YB,"'")}function Hw(t,e,n){const[r,i]=Su(n?.in,t,e);return+yo(r)==+yo(i)}function _x(t,e,n){return Rr(t,-e,n)}function KB(t,e){const n=e?.nearestTo??1;if(n<1||n>30)return Vt(t,NaN);const r=lt(t,e?.in),i=r.getSeconds()/60,s=r.getMilliseconds()/1e3/60,o=r.getMinutes()+i+s,a=e?.roundingMethod??"round",u=tF(a)(o/n)*n;return r.setMinutes(u,0,0),r}function bx(t,e,n){const r=lt(t,n?.in),i=r.getFullYear(),s=r.getDate(),o=Vt(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=XF(o);return r.setMonth(e,Math.min(s,a)),r}function wt(t,e,n){let r=lt(t,n?.in);return isNaN(+r)?Vt(t,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=bx(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}function QB(t,e,n){const r=lt(t,n?.in);return r.setMilliseconds(e),r}function XB(t,e,n){const r=lt(t,n?.in);return r.setSeconds(e),r}function zr(t,e,n){const r=lt(t,n?.in);return isNaN(+r)?Vt(t,NaN):(r.setFullYear(e),r)}function Da(t,e,n){return Qr(t,-e,n)}function JB(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:a=0,minutes:l=0,seconds:u=0}=e,c=Da(t,i+r*12,n),f=_x(c,o+s*7,n),h=l+a*60,p=(u+h*60)*1e3;return Vt(t,+f-p)}function Ex(t,e,n){return F0(t,-e,n)}function ZB(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const e7={},ml={};function vo(t,e){try{const r=(e7[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return r in ml?ml[r]:Yw(r,r.split(":"))}catch{if(t in ml)return ml[t];const n=t?.match(t7);return n?Yw(t,n.slice(1)):NaN}}const t7=/([+-]\d\d):?(\d\d)?/;function Yw(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return ml[t]=n*60+r>0?n*60+r+i:n*60-r-i}class bi extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(vo(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Sx(this),gg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new bi(...n,e):new bi(Date.now(),e)}withTimeZone(e){return new bi(+this,e)}getTimezoneOffset(){const e=-vo(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),gg(this),+this}[Symbol.for("constructDateFrom")](e){return new bi(+new Date(e),this.timeZone)}}const qw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!qw.test(t))return;const e=t.replace(qw,"$1UTC");bi.prototype[e]&&(t.startsWith("get")?bi.prototype[t]=function(){return this.internal[e]()}:(bi.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),n7(this),+this},bi.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),gg(this),+this}))});function gg(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-vo(t.timeZone,t)*60))}function n7(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Sx(t)}function Sx(t){const e=vo(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),o=i-s,a=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&a&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const l=i-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const u=new Date(+t);u.setUTCSeconds(0);const c=i>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(vo(t.timeZone,t)*60))%60;(f||c)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+f+c));const h=vo(t.timeZone,t),d=h>0?Math.floor(h):Math.ceil(h),g=-new Date(+t).getTimezoneOffset()-d,_=d!==n,y=g-l;if(_&&y){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+y);const m=vo(t.timeZone,t),b=m>0?Math.floor(m):Math.ceil(m),S=d-b;S&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+S),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+S))}}class aa extends bi{static tz(e,...n){return n.length?new aa(...n,e):new aa(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${ZB(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new aa(+this,e)}[Symbol.for("constructDateFrom")](e){return new aa(+new Date(e),this.timeZone)}}function Cu(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),mn("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),mn("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),mn("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function r7(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),mn("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Cx(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function xx(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Ax(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),mn("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function kx(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Tx(){return mn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[mn("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const Ix=Symbol("ContextKey"),i7=(t,e)=>{const{setTimeModelValue:n}=Fn(),r=X7(t),i=Ne(null),s=ti({menuFocused:!1,shiftKeyInMenu:!1,isInputFocused:!1,isTextInputDate:!1,arrowNavigationLevel:0}),o=r.getDate(new Date),a=Ne(""),l=Ne([{month:Ct(o),year:ht(o)}]),u=ti({hours:0,minutes:0,seconds:0});n(u,null,o,r.range.value.enabled);const c=Me({get:()=>i.value,set:g=>{i.value=g}}),f=Me(()=>g=>l.value[g]?l.value[g].month:0),h=Me(()=>g=>l.value[g]?l.value[g].year:0),d=(g,_)=>{s[g]=_},p=()=>{n(u,c.value,o,r.range.value.enabled)};_l(Ix,{rootProps:t,defaults:r,modelValue:c,state:Lc(s),rootEmit:e,calendars:l,month:f,year:h,time:u,today:o,inputValue:a,setState:d,updateTime:p,getDate:r.getDate})},St=()=>{const t=Fr(Ix);if(!t)throw new Error("Can't use context");return t};var Yr=(t=>(t.month="month",t.year="year",t))(Yr||{}),Co=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Co||{}),fr=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(fr||{});const s7=["timestamp","date","iso"];var qr=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(qr||{}),qt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(qt||{}),la=(t=>(t.MONTH_AND_YEAR="MM-yyyy",t.YEAR="yyyy",t.DATE="dd-MM-yyyy",t))(la||{}),Px=(t=>(t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t))(Px||{});const o7=()=>{const{rootProps:t,state:e}=St(),n=Me(()=>e.arrowNavigationLevel),r=Ne(-1),i=Ne(-1);En(n,(m,b)=>{y(m===0&&b>0)});const s=Ne([]),o=Ne(new Map),a=()=>{const m=Array.from(document.querySelectorAll(`[data-dp-action-element="${n.value}"]`)),b=new Map,S=new Map;for(const E of m){const x=E.getBoundingClientRect(),C=x.top,k=x.left;b.has(C)||b.set(C,[]),b.get(C).push(E),S.set(E,{row:C,col:k})}s.value=Array.from(b.entries()).sort((E,x)=>E[0]-x[0]).map(([E,x])=>l(x,S)),o.value=S},l=(m,b)=>m.sort((S,E)=>{const x=b.get(S),C=b.get(E);return x.col-C.col}),u=(m,b)=>{n.value===0&&(r.value=m,i.value=b)},c=m=>{if(![qt.arrowUp,qt.arrowDown,qt.arrowLeft,qt.arrowRight].includes(m.key))return;a(),m.preventDefault();const b=document.activeElement;if(!b?.hasAttribute("data-dp-action-element"))return;let S=-1,E=-1;for(let x=0;x<s.value.length;x++){const C=s.value[x].indexOf(b);if(C!==-1){S=x,E=C;break}}if(S!==-1)switch(m.key){case qt.arrowLeft:return f(S,E);case qt.arrowRight:return h(S,E);case qt.arrowUp:return d(S,E);case qt.arrowDown:return p(S,E);default:return}},f=(m,b)=>{if(b>0){const S=s.value[m][b-1];u(m,b-1),S&&S.focus()}},h=(m,b)=>{if(b<s.value[m].length-1){const S=s.value[m][b+1];u(m,b+1),S&&S.focus()}},d=(m,b)=>{if(m>0){const S=s.value[m-1],E=Math.min(b,S.length-1),x=S[E];u(m-1,E),x&&x.focus()}},p=(m,b)=>{if(m<s.value.length-1){const S=s.value[m+1],E=Math.min(b,S.length-1),x=S[E];u(m+1,E),x&&x.focus()}},g=()=>{Ln().then(()=>{a();const m=s.value[r.value]?.[i.value];m&&_(m)})},_=m=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{m.focus({preventScroll:!0})})})},y=m=>{if(m)return g();const b=document.querySelector(`[data-dp-element-active="${n.value}"]`);if(b&&!m)_(b);else{const S=document.querySelector(`[data-dp-action-element="${n.value}"]`);S&&_(S)}};ln(()=>{t.arrowNavigation&&(y(!1),document.addEventListener("keydown",c))}),ki(()=>{t.arrowNavigation&&document.removeEventListener("keydown",c)})},a7=()=>{const{checkPartialRangeValue:t,checkRangeEnabled:e,isValidDate:n}=Wr(),{convertType:r,errorMapper:i}=Fn(),{getDate:s,rootEmit:o,state:a,rootProps:l,inputValue:u,defaults:{textInput:c,range:f,multiDates:h,timeConfig:d,formats:p},modelValue:g,updateTime:_}=St(),{setTime:y,getWeekFromDate:m}=sr(),{formatSelectedDate:b,formatForTextInput:S}=Hs();En(g,(L,Y)=>{o("internal-model-change",g.value),JSON.stringify(Y??{})!==JSON.stringify(L??{})&&_()},{deep:!0}),En(f,(L,Y)=>{L.enabled!==Y.enabled&&(g.value=null)}),En(()=>p.value.input,()=>{ne()});const E=L=>L?l.modelType?ve(L):{hours:Ai(L),minutes:rs(L),seconds:d.value.enableSeconds?Bs(L):0}:null,x=L=>l.modelType?ve(L):{month:Ct(L),year:ht(L)},C=L=>Array.isArray(L)?h.value.enabled?L.map(Y=>k(Y,zr(s(),Y))):e(()=>[zr(s(),L[0]),L[1]?zr(s(),L[1]):t(f.value.partialRange)],f.value.enabled):zr(s(),+L),k=(L,Y)=>(typeof L=="string"||typeof L=="number")&&l.modelType?pe(L):Y,R=L=>Array.isArray(L)?[k(L[0],y(L[0])),k(L[1],y(L[1]))]:k(L,y(L)),j=L=>{const Y=wt(s(),{date:1});return Array.isArray(L)?h.value.enabled?L.map(P=>k(P,wt(Y,{month:+P.month,year:+P.year}))):e(()=>[k(L[0],wt(Y,{month:+L[0].month,year:+L[0].year})),k(L[1],L[1]?wt(Y,{month:+L[1].month,year:+L[1].year}):t(f.value.partialRange))],f.value.enabled):k(L,wt(Y,{month:+L.month,year:+L.year}))},K=L=>{if(Array.isArray(L))return L.map(Y=>pe(Y));throw new Error(i.dateArr("multi-dates"))},D=L=>{if(Array.isArray(L)&&f.value.enabled){const Y=L[0],P=L[1];return[s(Array.isArray(Y)?Y[0]:null),Array.isArray(P)&&P.length?s(P[0]):null]}return s(L[0])},ee=L=>l.modelAuto?Array.isArray(L)?[pe(L[0]),pe(L[1])]:l.autoApply?[pe(L)]:[pe(L),null]:Array.isArray(L)?e(()=>L[1]?[pe(L[0]),L[1]?pe(L[1]):t(f.value.partialRange)]:[pe(L[0])],f.value.enabled):pe(L),te=()=>{Array.isArray(g.value)&&f.value.enabled&&g.value.length===1&&g.value.push(t(f.value.partialRange))},Z=()=>{const L=g.value;return[ve(L[0]),L[1]?ve(L[1]):t(f.value.partialRange)]},fe=()=>Array.isArray(g.value)?g.value[1]?Z():ve(r(g.value[0])):[],q=()=>(g.value||[]).map(L=>ve(L)),re=(L=!1)=>(L||te(),l.modelAuto?fe():h.value.enabled?q():Array.isArray(g.value)?e(()=>Z(),f.value.enabled):ve(r(g.value))),me=L=>!L||Array.isArray(L)&&!L.length?null:l.timePicker?R(r(L)):l.monthPicker?j(r(L)):l.yearPicker?C(r(L)):h.value.enabled?K(r(L)):l.weekPicker?D(r(L)):ee(r(L)),ie=L=>{if(a.isTextInputDate)return;const Y=me(L);n(r(Y))?(g.value=r(Y),ne()):(g.value=null,u.value="")},X=()=>g.value?h.value.enabled?g.value.map(L=>b(L)).join("; "):c.value.enabled?S():b(g.value):"",ne=()=>{u.value=X()},pe=L=>l.modelType?s7.includes(l.modelType)?s(L):l.modelType==="format"&&typeof p.value.input=="string"?mg(L,p.value.input,s(),{locale:l.locale}):mg(L,l.modelType,s(),{locale:l.locale}):s(L),ve=L=>L?l.modelType?l.modelType==="timestamp"?+L:l.modelType==="iso"?L.toISOString():l.modelType==="format"&&typeof p.value.input=="string"?b(L):b(L,l.modelType):L:null,ge=L=>{o("update:model-value",L)},Ee=L=>Array.isArray(g.value)?h.value.enabled?g.value.map(Y=>L(Y)):[L(g.value[0]),g.value[1]?L(g.value[1]):null]:L(r(g.value)),J=()=>{if(Array.isArray(g.value)){const L=m(g.value[0],l.weekStart),Y=g.value[1]?m(g.value[1],l.weekStart):[];return[L.map(P=>s(P)),Y.map(P=>s(P))]}return m(g.value,l.weekStart).map(L=>s(L))},G=L=>ge(r(Ee(L))),oe=()=>o("update:model-value",J());return{checkBeforeEmit:()=>g.value?f.value.enabled?f.value.partialRange?g.value.length>=1:g.value.length===2:!!g.value:!1,parseExternalModelValue:ie,formatInputValue:ne,emitModelValue:()=>(ne(),l.monthPicker?G(x):l.timePicker?G(E):l.yearPicker?G(ht):l.weekPicker?oe():ge(re()))}},xu=()=>{const{defaults:{transitions:t}}=St(),e=Me(()=>r=>t.value?r?t.value.open:t.value.close:""),n=Me(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Au=t=>{const{today:e,time:n,modelValue:r,defaults:{range:i}}=St(),{setTimeModelValue:s}=Fn();En(i,(o,a)=>{o.enabled!==a.enabled&&s(n,r.value,e,i.value.enabled)},{deep:!0}),En(r,(o,a)=>{t&&JSON.stringify(o??{})!==JSON.stringify(a??{})&&t()},{deep:!0})},Wr=()=>{const{defaults:{safeDates:t,range:e,multiDates:n,filters:r,timeConfig:i},rootProps:s,getDate:o}=St(),{getMapKeyType:a,getMapDate:l,errorMapper:u,convertType:c}=Fn(),{isDateBefore:f,isDateAfter:h,isDateEqual:d,resetDate:p,getDaysInBetween:g,setTimeValue:_,getTimeObj:y,setTime:m}=sr(),b=I=>t.value.disabledDates?typeof t.value.disabledDates=="function"?t.value.disabledDates(o(I)):!!l(I,t.value.disabledDates):!1,S=I=>t.value.maxDate?s.yearPicker?ht(I)>ht(t.value.maxDate):h(I,t.value.maxDate):!1,E=I=>t.value.minDate?s.yearPicker?ht(I)<ht(t.value.minDate):f(I,t.value.minDate):!1,x=I=>{if(!I)return!1;const B=S(I),N=E(I),M=b(I),V=r.value.months.map(Q=>+Q).includes(Ct(I)),O=r.value.weekDays?.length?r.value.weekDays.some(Q=>+Q===QF(I)):!1,z=K(I),W=ht(I),U=W<+s.yearRange[0]||W>+s.yearRange[1];return!(B||N||M||V||U||O||z)},C=(I,B)=>f(...oe(t.value.minDate,I,B))||d(...oe(t.value.minDate,I,B)),k=(I,B)=>h(...oe(t.value.maxDate,I,B))||d(...oe(t.value.maxDate,I,B)),R=(I,B,N)=>{let M=!1;return t.value.maxDate&&N&&k(I,B)&&(M=!0),t.value.minDate&&!N&&C(I,B)&&(M=!0),M},j=(I,B,N,M)=>{let V=!1;return M&&(t.value.minDate||t.value.maxDate)?t.value.minDate&&t.value.maxDate?V=R(I,B,N):(t.value.minDate&&C(I,B)||t.value.maxDate&&k(I,B))&&(V=!0):V=!0,V},K=I=>Array.isArray(t.value.allowedDates)&&!t.value.allowedDates.length?!0:t.value.allowedDates?!l(I,t.value.allowedDates,a(s.monthPicker,s.yearPicker)):!1,D=I=>!x(I),ee=I=>e.value.noDisabledRange?!B0({start:I[0],end:I[1]}).some(B=>D(B)):!0,te=I=>{if(I){const B=ht(I);return B>=+s.yearRange[0]&&B<=s.yearRange[1]}return!0},Z=(I,B)=>!!(Array.isArray(I)&&I[B]&&(e.value.maxRange||e.value.minRange)&&te(I[B])),fe=(I,B,N=0)=>{if(Z(B,N)&&te(I)){const M=ax(I,B[N]),V=g(B[N],I),O=V.length===1?0:V.filter(W=>D(W)).length,z=Math.abs(M)-(e.value.minMaxRawRange?0:O);if(e.value.minRange&&e.value.maxRange)return z>=+e.value.minRange&&z<=+e.value.maxRange;if(e.value.minRange)return z>=+e.value.minRange;if(e.value.maxRange)return z<=+e.value.maxRange}return!0},q=()=>!i.value.enableTimePicker||s.monthPicker||s.yearPicker||i.value.ignoreTimeValidation,re=I=>Array.isArray(I)?[I[0]?_(I[0]):null,I[1]?_(I[1]):null]:_(I),me=(I,B,N)=>B?I.find(M=>+M.hours===Ai(B)&&M.minutes==="*"?!0:+M.minutes===rs(B)&&+M.hours===Ai(B))&&N:!1,ie=(I,B,N)=>{const[M,V]=I,[O,z]=B;return!me(M,O,N)&&!me(V,z,N)&&N},X=(I,B)=>{const N=Array.isArray(B)?B:[B];return Array.isArray(s.disabledTimes)?Array.isArray(s.disabledTimes[0])?ie(s.disabledTimes,N,I):!N.some(M=>me(s.disabledTimes,M,I)):I},ne=(I,B)=>{const N=Array.isArray(B)?[y(B[0]),B[1]?y(B[1]):void 0]:y(B),M=!s.disabledTimes(N);return I&&M},pe=(I,B)=>s.disabledTimes?Array.isArray(s.disabledTimes)?X(B,I):ne(B,I):B,ve=I=>{let B=!0;if(!I||q())return!0;const N=!t.value.minDate&&!t.value.maxDate?re(I):I;return(s.maxTime||t.value.maxDate)&&(B=Y(s.maxTime,t.value.maxDate,"max",c(N),B)),(s.minTime||t.value.minDate)&&(B=Y(s.minTime,t.value.minDate,"min",c(N),B)),pe(I,B)},ge=I=>{if(!s.monthPicker)return!0;let B=!0;const N=o(p(I));if(t.value.minDate&&t.value.maxDate){const M=o(p(t.value.minDate)),V=o(p(t.value.maxDate));return h(N,M)&&f(N,V)||d(N,M)||d(N,V)}if(t.value.minDate){const M=o(p(t.value.minDate));B=h(N,M)||d(N,M)}if(t.value.maxDate){const M=o(p(t.value.maxDate));B=f(N,M)||d(N,M)}return B},Ee=Me(()=>I=>!i.value.enableTimePicker||i.value.ignoreTimeValidation?!0:ve(I)),J=Me(()=>I=>s.monthPicker?Array.isArray(I)&&(e.value.enabled||n.value.enabled)?!I.filter(B=>!ge(B)).length:ge(I):!0),G=(I,B,N)=>{if(!B||N&&!t.value.maxDate||!N&&!t.value.minDate)return!1;const M=N?Qr(I,1):Da(I,1),V=[Ct(M),ht(M)];return N?!k(...V):!C(...V)},oe=(I,B,N)=>[wt(o(I),{date:1}),wt(o(),{month:B,year:N,date:1})],L=(I,B,N,M)=>{if(!I)return!0;if(M){const V=N==="max"?qi(I,B):_i(I,B),O={seconds:0,milliseconds:0};return V||oa(wt(I,O),wt(B,O))}return N==="max"?I.getTime()<=B.getTime():I.getTime()>=B.getTime()},Y=(I,B,N,M,V)=>{if(Array.isArray(M)){const z=P(I,M[0],B),W=P(I,M[1],B);return L(M[0],z,N,!!B)&&L(M[1],W,N,!!B)&&V}const O=P(I,M,B);return L(M,O,N,!!B)&&V},P=(I,B,N)=>I?m(I,B):o(N??B);return{isDisabled:D,validateDate:x,validateMonthYearInRange:j,isDateRangeAllowed:ee,checkMinMaxRange:fe,isValidTime:ve,validateMonthYear:G,validateMinDate:C,validateMaxDate:k,isValidDate:I=>Array.isArray(I)?Rl(I[0])&&(I[1]?Rl(I[1]):!0):I?Rl(I):!1,checkPartialRangeValue:I=>{if(I)return null;throw new Error(u.prop("partial-range"))},checkRangeEnabled:(I,B)=>{if(B)return I();throw new Error(u.prop("range"))},checkMinMaxValue:(I,B,N)=>{const M=N!=null,V=B!=null;if(!M&&!V)return!1;const O=+N,z=+B;return M&&V?+I>O||+I<z:M?+I>O:V?+I<z:!1},isTimeValid:Ee,isMonthValid:J}},l7=t=>{const{rootEmit:e,rootProps:n,defaults:{timeConfig:r,flow:i}}=St(),s=Ne(0),o=ti({[Co.timePicker]:!r.value.enableTimePicker||n.timePicker||n.monthPicker,[Co.calendar]:!1,[Co.header]:!1}),a=Me(()=>n.monthPicker||n.timePicker),l=d=>{if(i.value?.steps?.length){if(!d&&a.value)return h();o[d]=!0,Object.keys(o).filter(p=>!o[p]).length||h()}},u=()=>{i.value?.steps?.length&&s.value!==-1&&(s.value+=1,e("flow-step",s.value),h()),i.value?.steps?.length===s.value&&Ln().then(()=>c())},c=()=>{s.value=-1},f=(d,p,...g)=>{i.value?.steps[s.value]===d&&t.value&&t.value[p]?.(...g)},h=(d=0)=>{d&&(s.value+=d),f(fr.month,"toggleMonthPicker",!0),f(fr.year,"toggleYearPicker",!0),f(fr.calendar,"toggleTimePicker",!1,!0),f(fr.time,"toggleTimePicker",!0,!0);const p=i.value?.steps[s.value];(p===fr.hours||p===fr.minutes||p===fr.seconds)&&f(p,"toggleTimePicker",!0,!0,p)};return{childMount:l,updateFlowStep:u,resetFlow:c,handleFlow:h,flowStep:s}};function Ad(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function ll(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}function ul(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?c7(a,f=>f.test(o)):u7(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function u7(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function c7(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function f7(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const h7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d7=(t,e,n)=>{let r;const i=h7[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},p7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},m7=(t,e,n,r)=>p7[t],g7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E7=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S7={ordinalNumber:E7,era:ll({values:g7,defaultWidth:"wide"}),quarter:ll({values:y7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ll({values:v7,defaultWidth:"wide"}),day:ll({values:_7,defaultWidth:"wide"}),dayPeriod:ll({values:b7,defaultWidth:"wide",formattingValues:w7,defaultFormattingWidth:"wide"})},C7=/^(\d+)(th|st|nd|rd)?/i,x7=/\d+/i,A7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k7={any:[/^b/i,/^(a|c)/i]},T7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I7={any:[/1/i,/2/i,/3/i,/4/i]},P7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},O7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L7={ordinalNumber:f7({matchPattern:C7,parsePattern:x7,valueCallback:t=>parseInt(t,10)}),era:ul({matchPatterns:A7,defaultMatchWidth:"wide",parsePatterns:k7,defaultParseWidth:"any"}),quarter:ul({matchPatterns:T7,defaultMatchWidth:"wide",parsePatterns:I7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ul({matchPatterns:P7,defaultMatchWidth:"wide",parsePatterns:O7,defaultParseWidth:"any"}),day:ul({matchPatterns:M7,defaultMatchWidth:"wide",parsePatterns:D7,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:R7,defaultMatchWidth:"any",parsePatterns:N7,defaultParseWidth:"any"})},F7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$7={date:Ad({formats:F7,defaultWidth:"full"}),time:Ad({formats:B7,defaultWidth:"full"}),dateTime:Ad({formats:j7,defaultWidth:"full"})},U7={code:"en-US",formatDistance:d7,formatLong:$7,formatRelative:m7,localize:S7,match:L7,options:{weekStartsOn:0,firstWeekContainsDate:1}},Gw={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1,autoSwitchStartEnd:!0},W7={allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,escClose:!0,spaceConfirm:!0,monthChangeOnArrows:!0,monthChangeOnScroll:!0},zw={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0,format:void 0,maskFormat:void 0,applyOnBlur:!1,separators:void 0},V7={dates:[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}},H7={showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,selectBtnLabel:"Select",cancelBtnLabel:"Cancel",nowBtnLabel:"Now",nowBtnRound:void 0},Y7={toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`},Kw={menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},q7={weekDays:[],months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},G7={month:"LLL",year:"yyyy",weekDay:"EEEEEE",quarter:"MMMM",day:"d",input:void 0,preview:void 0},z7={enableTimePicker:!0,ignoreTimeValidation:!1,enableSeconds:!1,enableMinutes:!0,is24:!0,noHoursOverlay:!1,noMinutesOverlay:!1,noSecondsOverlay:!1,hoursGridIncrement:1,minutesGridIncrement:5,secondsGridIncrement:5,hoursIncrement:1,minutesIncrement:1,secondsIncrement:1,timePickerInline:!1,startTime:void 0},K7={flowStep:0,menuWrapRef:null,collapse:!1},Q7={weekStart:Px.Monday,yearRange:()=>[1900,2100],ui:()=>({}),locale:()=>U7,dark:!1,transitions:!0,hideNavigation:()=>[],vertical:!1,hideMonthYearSelect:!1,disableYearSelect:!1,autoApply:!1,disabledDates:()=>[],hideOffsetDates:!1,noToday:!1,markers:()=>[],presetDates:()=>[],preventMinMaxNavigation:!1,reverseYears:!1,weekPicker:!1,arrowNavigation:!1,monthPicker:!1,yearPicker:!1,quarterPicker:!1,timePicker:!1,modelAuto:!1,multiDates:!1,range:!1,inline:!1,sixWeeks:!1,focusStartDate:!1,yearFirst:!1,loading:!1,centered:!1},Qw={name:void 0,required:!1,autocomplete:"off",state:void 0,clearable:!0,alwaysClearable:!1,hideInputIcon:!1,id:void 0,inputmode:"none"},tc={type:"local",hideOnOffsetDates:!1,label:"W"},X7=t=>{const{getMapKey:e,getMapKeyType:n,getTimeObjFromCurrent:r}=Fn();function i(q,re){let me;return t.timezone?me=new aa(q??new Date,t.timezone):me=q?new Date(q):new Date,re?wt(me,{hours:0,minutes:0,seconds:0,milliseconds:0}):me}const s=()=>{const q=ee.value.enableSeconds?":ss":"",re=ee.value.enableMinutes?":mm":"";return ee.value.is24?`HH${re}${q}`:`hh${re}${q} aa`},o=()=>t.monthPicker?"MM/yyyy":t.timePicker?s():t.weekPicker?`${x.value?.type==="iso"?"II":"ww"}-RR`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":ee.value.enableTimePicker?`MM/dd/yyyy, ${s()}`:"MM/dd/yyyy",a=q=>r(i(),q,ee.value.enableSeconds),l=()=>R.value.enabled?ee.value.startTime&&Array.isArray(ee.value.startTime)?[a(ee.value.startTime[0]),a(ee.value.startTime[1])]:null:ee.value.startTime&&!Array.isArray(ee.value.startTime)?a(ee.value.startTime):null,u=q=>q?typeof q=="boolean"?q?2:0:Math.max(+q,2):0,c=q=>{const re=n(t.monthPicker,t.yearPicker);return new Map(q.map(me=>{const ie=i(me,f.value);return[e(ie,re),ie]}))},f=Me(()=>t.monthPicker||t.yearPicker||t.quarterPicker),h=Me(()=>{const q=typeof t.multiCalendars=="object"&&t.multiCalendars,re={static:!0,solo:!1};if(!t.multiCalendars)return{...re,count:u(!1)};const me=q?t.multiCalendars:{},ie=q?me.count??!0:t.multiCalendars,X=u(ie);return Object.assign(re,me,{count:X})}),d=Me(()=>l()),p=Me(()=>({...Y7,...t.ariaLabels})),g=Me(()=>({...q7,...t.filters})),_=Me(()=>typeof t.transitions=="boolean"?t.transitions?Kw:!1:{...Kw,...t.transitions}),y=Me(()=>({...H7,...t.actionRow})),m=Me(()=>typeof t.textInput=="object"?{...zw,...t.textInput,format:typeof t.textInput.format=="string"?t.textInput.format:K.value.input,pattern:t.textInput.format??K.value.input,enabled:!0}:{...zw,format:K.value.input,pattern:K.value.input,enabled:t.textInput}),b=Me(()=>{const q={input:!1};return typeof t.inline=="object"?{...q,...t.inline,enabled:!0}:{enabled:t.inline,...q}}),S=Me(()=>({...W7,...t.config})),E=Me(()=>typeof t.highlight=="function"?t.highlight:{...V7,...t.highlight}),x=Me(()=>typeof t.weekNumbers=="object"?{type:t.weekNumbers?.type??tc.type,hideOnOffsetDates:t.weekNumbers?.hideOnOffsetDates??tc.hideOnOffsetDates,label:t.weekNumbers.label??tc.label}:t.weekNumbers?tc:void 0),C=Me(()=>typeof t.multiDates=="boolean"?{enabled:t.multiDates,dragSelect:!0,limit:null}:{enabled:!!t.multiDates,limit:t.multiDates?.limit?+t.multiDates.limit:null,dragSelect:t.multiDates?.dragSelect??!0}),k=Me(()=>({minDate:t.minDate?i(t.minDate):null,maxDate:t.maxDate?i(t.maxDate):null,disabledDates:Array.isArray(t.disabledDates)?c(t.disabledDates):t.disabledDates,allowedDates:Array.isArray(t.allowedDates)?c(t.allowedDates):null,highlight:typeof E.value=="object"&&Array.isArray(E.value.dates)?c(E.value.dates):E.value,markers:t.markers?.length?new Map(t.markers.map(q=>{const re=i(q.date);return[e(re,la.DATE),q]})):null})),R=Me(()=>typeof t.range=="object"?{enabled:!0,...Gw,...t.range}:{enabled:t.range,...Gw}),j=Me(()=>({...Object.fromEntries(Object.keys(t.ui).map(q=>{const re=q,me=t.ui[re];if(re==="dayClass")return[re,t.ui[re]];const ie=typeof t.ui[re]=="string"?{[me]:!0}:Object.fromEntries(me.map(X=>[X,!0]));return[q,ie]}))})),K=Me(()=>({...G7,...t.formats,input:t.formats?.input??o(),preview:t.formats?.preview??o()})),D=Me(()=>{if(t.teleport)return typeof t.teleport=="string"?t.teleport:typeof t.teleport=="boolean"?"body":t.teleport}),ee=Me(()=>({...z7,...t.timeConfig})),te=Me(()=>{if(t.flow)return{steps:[],partial:!1,...t.flow}}),Z=Me(()=>{const q=m.value.enabled?"text":"none";return t.inputAttrs?{...Qw,inputmode:q,...t.inputAttrs}:{...Qw,inputmode:q}}),fe=Me(()=>({offset:t.floating?.offset??10,arrow:t.floating?.arrow??!0,strategy:t.floating?.strategy??void 0,placement:t.floating?.placement??void 0,flip:t.floating?.flip??!0,shift:t.floating?.shift??!0}));return{transitions:_,multiCalendars:h,startTime:d,ariaLabels:p,filters:g,actionRow:y,textInput:m,inline:b,config:S,highlight:E,weekNumbers:x,range:R,safeDates:k,multiDates:C,ui:j,formats:K,teleport:D,timeConfig:ee,flow:te,inputAttrs:Z,floatingConfig:fe,getDate:i}},Fn=()=>{const t=(m,b)=>Dr(m,b??la.DATE),e=(m,b)=>m?la.MONTH_AND_YEAR:b?la.YEAR:la.DATE,n=(m,b,S)=>b.get(t(m,S)),r=m=>m,i=m=>m===0?m:!m||Number.isNaN(+m)?null:+m,s=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", "),o=(m,b)=>{let S=[...document.querySelectorAll(s())];S=S.filter(x=>!m.contains(x)||"datepicker-instance"in x.dataset);const E=S.indexOf(m);if(E>=0&&(b?E-1>=0:E+1<=S.length))return S[E+(b?-1:1)]},a=m=>String(m).padStart(2,"0"),l=(m,b)=>m?.querySelector(`[data-dp-element="${b}"]`),u=(m,b,S=!1)=>{m&&b.allowStopPropagation&&(S&&m.stopImmediatePropagation(),m.stopPropagation())},c=(m,b,S=!1,E)=>{if(m.key===qt.enter||m.key===qt.space)return S&&m.preventDefault(),b();if(E)return E(m)},f=(m,b)=>{b.allowStopPropagation&&m.stopPropagation(),b.allowPreventDefault&&m.preventDefault()},h=m=>{if(m)return[...m.querySelectorAll("input, button, select, textarea, a[href]")][0]},d=()=>"ontouchstart"in globalThis||navigator.maxTouchPoints>0,p=m=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][m],g=m=>{const b=[],S=E=>E.filter(x=>!!x);for(let E=0;E<m.length;E+=3){const x=[m[E],m[E+1],m[E+2]];b.push(S(x))}return b},_={prop:m=>`"${m}" prop must be enabled!`,dateArr:m=>`You need to use array as "model-value" binding in order to support "${m}"`},y=(m,b,S,E,x)=>{const C={hours:Ai,minutes:rs,seconds:Bs};if(!b)return E?[C[m](S),C[m](S)]:C[m](S);if(Array.isArray(b)&&E){const k=b[0]??S,R=b[1];return[C[m](k),R?C[m](R):x[m][1]??C[m](S)]}return Array.isArray(b)&&!E?C[m](b[b.length-1]??S):C[m](b)};return{getMapKey:t,getMapKeyType:e,getMapDate:n,convertType:r,getNumVal:i,findNextFocusableElement:o,padZero:a,getElWithin:l,checkStopPropagation:u,checkKeyDown:c,handleEventPropagation:f,findFocusableEl:h,isTouchDevice:d,hoursToAmPmHours:p,getGroupedList:g,setTimeModelValue:(m,b,S,E)=>{m.hours=y("hours",b,S,E,m),m.minutes=y("minutes",b,S,E,m),m.seconds=y("seconds",b,S,E,m)},getTimeObjFromCurrent:(m,b,S)=>{const E={hours:Ai(m),minutes:rs(m),seconds:S?Bs(m):0};return Object.assign(E,b)},errorMapper:_}},sr=()=>{const{getDate:t}=St(),{getMapDate:e,getGroupedList:n}=Fn(),r=(y,m)=>{if(!y)return t();const b=t(y),S=wt(b,{hours:0,minutes:0,seconds:0,milliseconds:0});return m?iF(S):S},i=(y,m)=>{const b=t(m);return wt(b,{hours:+(y.hours??Ai(b)),minutes:+(y.minutes??rs(b)),seconds:+(y.seconds??Bs(b)),milliseconds:0})},s=(y,m)=>{const b=Ur(y,{weekStartsOn:+m}),S=j0(y,{weekStartsOn:+m});return[b,S]},o=(y,m)=>!y||!m?!1:qi(r(y),r(m)),a=(y,m)=>!y||!m?!1:oa(r(y),r(m)),l=(y,m)=>!y||!m?!1:_i(r(y),r(m)),u=(y,m,b)=>y?.[0]&&y?.[1]?l(b,y[0])&&o(b,y[1]):y?.[0]&&m?l(b,y[0])&&o(b,m)||o(b,y[0])&&l(b,m):!1,c=(y,m)=>{const b=l(y,m)?m:y,S=l(m,y)?m:y;return B0({start:b,end:S})},f=y=>`dp-${Dr(y,"yyyy-MM-dd")}`,h=y=>r(wt(t(y),{date:1})),d=(y,m)=>{if(m){const b=ht(t(m));if(b>y)return 12;if(b===y)return Ct(t(m))}},p=(y,m)=>{if(m){const b=ht(t(m));return b<y?-1:b===y?Ct(t(m)):void 0}},g=y=>{if(y)return ht(t(y))},_=y=>({hours:Ai(y),minutes:rs(y),seconds:Bs(y)});return{resetDateTime:r,groupListAndMap:(y,m)=>n(y).map(b=>b.map(S=>{const{active:E,disabled:x,isBetween:C,highlighted:k}=m(S);return{...S,active:E,disabled:x,className:{dp__overlay_cell_active:E,dp__overlay_cell:!E,dp__overlay_cell_disabled:x,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:x&&E,dp__cell_in_between:C,"dp--highlighted":k}}})),setTime:i,getWeekFromDate:s,isDateAfter:l,isDateBefore:o,isDateBetween:u,isDateEqual:a,getDaysInBetween:c,getCellId:f,resetDate:h,getMinMonth:d,getMaxMonth:p,getYearFromDate:g,getTimeObj:_,setTimeValue:y=>wt(t(),_(y)),sanitizeTime:(y,m,b)=>m&&(b||b===0)?Object.fromEntries(["hours","minutes","seconds"].map(S=>S===m?[S,b]:[S,Number.isNaN(+y[S])?void 0:+y[S]])):{hours:Number.isNaN(+y.hours)?void 0:+y.hours,minutes:Number.isNaN(+y.minutes)?void 0:+y.minutes,seconds:Number.isNaN(+(y.seconds??""))?void 0:+y.seconds},getBeforeAndAfterInRange:(y,m)=>{const b=_x(r(m),y),S=Rr(r(m),y);return{before:b,after:S}},isModelAuto:y=>Array.isArray(y)?!!y[0]&&!!y[1]:!1,matchDate:(y,m)=>y?m?m instanceof Map?!!e(y,m):m(t(y)):!1:!0,checkHighlightMonth:(y,m,b)=>typeof y=="function"?y({month:m,year:b}):y.months.some(S=>S.month===m&&S.year===b),checkHighlightYear:(y,m)=>typeof y=="function"?y(m):y.years.includes(m)}},fh=()=>{const{defaults:{config:t}}=St(),e=Ne(0);ln(()=>{n(),globalThis.addEventListener("resize",n,{passive:!0})}),ki(()=>{globalThis.removeEventListener("resize",n)});const n=()=>{e.value=globalThis.document.documentElement.clientWidth};return{isMobile:Me(()=>e.value<=t.value.mobileBreakpoint?!0:void 0)}},Hs=()=>{const{getDate:t,state:e,modelValue:n,rootProps:r,defaults:{formats:i,textInput:s}}=St(),o=p=>Dr(zr(t(),p),i.value.year,{locale:r.locale}),a=p=>Dr(bx(t(),p),i.value.month,{locale:r.locale}),l=p=>Dr(p,i.value.weekDay,{locale:r.locale}),u=p=>Dr(p,i.value.quarter,{locale:r.locale}),c=(p,g)=>[p,g].map(_=>u(_)).join("-"),f=p=>Dr(p,i.value.day,{locale:r.locale}),h=(p,g,_)=>{const y=_?i.value.preview:i.value.input;if(!p)return"";if(typeof y=="function")return y(p);const m=g??y,b={locale:r.locale};return Array.isArray(p)?`${Dr(p[0],m,b)}${r.modelAuto&&!p[1]?"":s.value.rangeSeparator}${p[1]?Dr(p[1],m,b):""}`:Dr(p,m,b)},d=()=>{const p=g=>Dr(g,s.value.format);return Array.isArray(n.value)?`${p(n.value[0])} ${s.value.rangeSeparator} ${n.value[1]?p(n.value[1]):""}`:""};return{formatYear:o,formatMonth:a,formatWeekDay:l,formatQuarter:u,formatSelectedDate:h,formatForTextInput:()=>e.isInputFocused&&n.value?Array.isArray(n.value)?d():Dr(n.value,s.value.format):h(n.value),formatPreview:p=>h(p,void 0,!0),formatQuarterText:c,formatDay:f}},hh=()=>{const{rootProps:t}=St(),{formatYear:e,formatMonth:n}=Hs();return{getMonths:()=>[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>({text:n(r),value:r})),getYears:()=>{const r=[];for(let i=+t.yearRange[0];i<=+t.yearRange[1];i++)r.push({value:+i,text:e(i)});return t.reverseYears?r.reverse():r},isOutOfYearRange:r=>r<+t.yearRange[0]||r>+t.yearRange[1]}},J7=t=>({openMenu:()=>t.value?.openMenu(),closeMenu:()=>t.value?.closeMenu(),selectDate:()=>t.value?.selectDate(),clearValue:()=>t.value?.clearValue(),formatInputValue:()=>t.value?.formatInputValue(),updateInternalModelValue:e=>t.value?.updateInternalModelValue(e),setMonthYear:(e,n)=>t.value?.setMonthYear(e,n),parseModel:()=>t.value?.parseModel(),switchView:(e,n)=>t.value?.switchView(e,n),handleFlow:()=>t.value?.handleFlow(),toggleMenu:()=>t.value?.toggleMenu(),dpMenuRef:()=>t.value?.dpMenuRef(),dpWrapMenuRef:()=>t.value?.dpWrapMenuRef(),inputRef:()=>t.value?.inputRef()}),Ya=()=>({boolHtmlAttribute:t=>t?!0:void 0}),Z7=()=>{const{getDate:t,rootProps:e,defaults:{textInput:n,startTime:r,timeConfig:i}}=St(),{getTimeObjFromCurrent:s}=Fn(),o=Ne(!1),a=Me(()=>Array.isArray(r.value)?r.value[0]:r.value??s(t(),{},i.value.enableSeconds)),l=(c,f)=>{const h=/[^a-zA-Z]+/g,d=/\D+/g,p=f.split(d),g=c.split(h),_=c.match(h)||[],y=f.match(d)||[];let m="";for(let b=0;b<p.length&&b<g.length;b++){b>0&&y[b-1]&&(m+=_[b-1]||y[b-1]);const S=p[b]?.length;m+=g[b]?.slice(0,S)}return m},u=(c,f,h)=>{const d=mg(c,l(f,c),t(),{locale:e.locale});return Rl(d)&&lx(d)?h||o.value?d:wt(d,{hours:+a.value.hours,minutes:+a.value.minutes,seconds:+(a.value.seconds??0),milliseconds:0}):null};return{textPasted:o,parseFreeInput:(c,f)=>{if(typeof n.value.pattern=="string")return u(c,n.value.pattern,f);if(Array.isArray(n.value.pattern)){let h=null;for(const d of n.value.pattern)if(h=u(c,d,f),h)break;return h}return typeof n.value.pattern=="function"?n.value.pattern(c):null},applyMaxValues:(c,f)=>{const h={MM:12,DD:31,hh:23,mm:59,ss:59};let d="",p=0;for(let g=0;g<f.length;g++){const _=f[g],y=_.length,m=c.slice(p,p+y);if(!m)break;if(m.length<y)d+=m;else{let b=Number.parseInt(m,10);h[_]&&b>h[_]&&(b=h[_]),d+=b.toString().padStart(y,"0").slice(0,y)}p+=y}return d},createMaskedValue:(c,f)=>{const h=/(YYYY|MM|DD|hh|mm|ss)/g,d=[...f.matchAll(h)].map(m=>m[0]),p=f.replace(h,"|").split("|").filter(Boolean),g=d.map(m=>m.length);let _="",y=0;for(let m=0;m<d.length;m++){const b=g[m],S=c.slice(y,y+b);if(!S)break;_+=S,S.length===b&&p[m]&&(_+=p[m]),y+=b}return _}}};var Zr=(t=>(t.Input="input",t.DatePicker="date-picker",t.Calendar="calendar",t.DatePickerHeader="date-picker-header",t.Menu="menu",t.ActionRow="action-row",t.TimePicker="time-picker",t.TimeInput="time-input",t.PassTrough="pass-trough",t.MonthPicker="month-picker",t.YearMode="year-mode",t.QuarterPicker="quarter-picker",t.YearPicker="year-picker",t))(Zr||{});const Jo=["time-input","time-picker","pass-trough"],Ox=[{name:"trigger",use:["input"]},{name:"input-icon",use:["input"]},{name:"clear-icon",use:["input"]},{name:"dp-input",use:["input"]},{name:"clock-icon",use:["time-picker","time-input","pass-trough"]},{name:"arrow-left",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-right",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-up",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"arrow-down",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"calendar-icon",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"day",use:["calendar","pass-trough"]},{name:"month-overlay-value",use:["date-picker-header","pass-trough","month-picker"]},{name:"year-overlay-value",use:["date-picker-header","pass-trough","year-mode","year-picker"]},{name:"year-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay-header",use:["date-picker-header","pass-trough"]},{name:"year-overlay-header",use:["date-picker-header","pass-trough"]},{name:"hours-overlay-value",use:Jo},{name:"hours-overlay-header",use:Jo},{name:"minutes-overlay-value",use:Jo},{name:"minutes-overlay-header",use:Jo},{name:"seconds-overlay-value",use:Jo},{name:"seconds-overlay-header",use:Jo},{name:"hours",use:["time-input","time-picker","pass-trough"]},{name:"minutes",use:["time-input","time-picker","pass-trough"]},{name:"seconds",use:["time-input","time-picker","pass-trough"]},{name:"month",use:["date-picker-header","time-picker","pass-trough"]},{name:"year",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"action-buttons",use:["action-row"]},{name:"action-preview",use:["action-row"]},{name:"calendar-header",use:["calendar","pass-trough"]},{name:"marker-tooltip",use:["calendar","pass-trough"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["time-picker","time-picker","pass-trough"]},{name:"am-pm-button",use:["time-picker","time-input","pass-trough"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["date-picker-header","pass-trough","month-picker","year-picker"]},{name:"time-picker",use:["date-picker","pass-trough"]},{name:"action-row",use:["action-row"]},{name:"marker",use:["calendar","pass-trough"]},{name:"quarter",use:["quarter-picker","pass-trough"]},{name:"top-extra",use:["date-picker-header","pass-trough","month-picker","quarter-picker","year-picker"]},{name:"tp-inline-arrow-up",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"tp-inline-arrow-down",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"arrow",use:["menu"]},{name:"menu-header",use:["menu"]}],Si=(t,e)=>Ox.filter(n=>t[n.name]&&n.use.includes(e)).map(n=>n.name),Mx=(t,e)=>Ox.map(n=>n.name).concat(e?.filter(n=>n.slot).map(n=>n.slot)??[]).filter(n=>!!t[n]),e9={key:1,class:"dp__input_wrap"},t9=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],n9={key:1,class:"dp--clear-btn"},r9=["aria-label"],i9=xn({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1}},emits:["clear","open","set-input-date","close","select-date","set-empty-date","toggle","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{rootEmit:s,inputValue:o,rootProps:a,defaults:{textInput:l,ariaLabels:u,inline:c,config:f,range:h,multiDates:d,ui:p,inputAttrs:g}}=St(),{checkMinMaxRange:_,isValidDate:y}=Wr(),{parseFreeInput:m,textPasted:b,createMaskedValue:S,applyMaxValues:E}=Z7(),{checkKeyDown:x,checkStopPropagation:C}=Fn(),{boolHtmlAttribute:k}=Ya(),R=on("dp-input"),j=Ne(null),K=Ne(!1),D=Me(()=>({dp__pointer:!a.disabled&&!a.readonly&&!l.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!l.value.enabled,dp__input:!0,dp__input_not_clearable:!g.value.clearable,dp__input_icon_pad:!g.value.hideInputIcon,dp__input_valid:typeof g.value.state=="boolean"?g.value.state:!1,dp__input_invalid:typeof g.value.state=="boolean"?!g.value.state:!1,dp__input_focus:K.value||i.isMenuOpen,dp__input_reg:!l.value.enabled,...p.value.input})),ee=()=>{r("set-input-date",null),g&&a.autoApply&&(r("set-empty-date"),j.value=null)},te=L=>{if(l.value.separators?.length){const Y=new RegExp(l.value.separators.map(P=>P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"));return L.split(Y)}return L.split(l.value.rangeSeparator)},Z=L=>{const[Y,P]=te(L);if(Y){const I=m(Y.trim(),o.value),B=P?m(P.trim(),o.value):void 0;if(_i(I,B))return;const N=I&&B?[I,B]:[I];_(B,N,0)&&(j.value=I?N:null)}},fe=()=>{b.value=!0},q=L=>{if(h.value.enabled)Z(L);else if(d.value.enabled){const Y=L.split(";");j.value=Y.map(P=>m(P.trim())).filter(P=>!!P)}else j.value=m(L,o.value)},re=L=>{const Y=typeof L=="string"?L:L.target?.value,P=l?.value?.maskFormat;let I=Y;if(typeof P=="string"){const B=/(YYYY|MM|DD|hh|mm|ss)/g,N=[...P.matchAll(B)].map(O=>O[0]),M=Y.replace(/\D/g,""),V=E(M,N);I=S(V,P)}I===""?ee():(l.value.openMenu&&!i.isMenuOpen&&r("open"),q(I),r("set-input-date",j.value)),b.value=!1,o.value=I,s("text-input",L,j.value)},me=L=>{l.value.enabled?(q(L.target.value),l.value.enterSubmit&&y(j.value)&&o.value!==""?(r("set-input-date",j.value,!0),j.value=null):l.value.enterSubmit&&o.value===""&&(j.value=null,r("clear"))):ne(L)},ie=(L,Y)=>{l.value.enabled&&l.value.tabSubmit&&!Y&&q(L.target.value),l.value.tabSubmit&&y(j.value)&&o.value!==""?(r("set-input-date",j.value,!0,!0),j.value=null):l.value.tabSubmit&&o.value===""&&(j.value=null,r("clear"))},X=()=>{K.value=!0,r("focus"),Ln().then(()=>{l.value.enabled&&l.value.selectOnFocus&&R.value?.select()})},ne=L=>{if(C(L,f.value,!0),l.value.enabled&&l.value.openMenu&&!c.value.input){if(l.value.openMenu==="open"&&!i.isMenuOpen)return r("open");if(l.value.openMenu==="toggle")return r("toggle")}else l.value.enabled||r("toggle")},pe=()=>{r("real-blur"),K.value=!1,(!i.isMenuOpen||c.value.enabled&&c.value.input)&&r("blur"),(a.autoApply&&l.value.enabled&&j.value&&!i.isMenuOpen||l.value.applyOnBlur)&&(r("set-input-date",j.value),r("select-date"),j.value=null)},ve=L=>{C(L,f.value,!0),r("clear")},ge=()=>{r("close")},Ee=L=>{if(L.key==="Tab"&&ie(L),L.key==="Enter"&&me(L),L.key==="Escape"&&l.value.escClose&&ge(),!l.value.enabled){if(L.code==="Tab")return;L.preventDefault()}},J=()=>{R.value?.focus({preventScroll:!0})},G=L=>{j.value=L},oe=L=>{L.key===qt.tab&&ie(L,!0)};return e({focusInput:J,setParsedDate:G}),(L,Y)=>(ke(),Be("div",{onClick:ne},[!L.$slots["dp-input"]&&!H(c).enabled?Ge(L.$slots,"trigger",{key:0}):Ye("",!0),!L.$slots.trigger&&(!H(c).enabled||H(c).input)?(ke(),Be("div",e9,[!L.$slots.trigger&&(!H(c).enabled||H(c).enabled&&H(c).input)?Ge(L.$slots,"dp-input",{key:0,value:H(o),isMenuOpen:t.isMenuOpen,onInput:re,onEnter:me,onTab:ie,onClear:ve,onBlur:pe,onKeypress:Ee,onPaste:fe,onFocus:X,openMenu:()=>L.$emit("open"),closeMenu:()=>L.$emit("close"),toggleMenu:()=>L.$emit("toggle")},()=>[ue("input",{id:H(g).id,ref:"dp-input","data-test-id":"dp-input",name:H(g).name,class:ut(D.value),inputmode:H(g).inputmode,placeholder:H(a).placeholder,disabled:H(k)(H(a).disabled),readonly:H(k)(H(a).readonly),required:H(k)(H(g).required),value:H(o),autocomplete:H(g).autocomplete,"aria-label":H(u).input,"aria-disabled":H(a).disabled||void 0,"aria-invalid":H(g).state===!1?!0:void 0,onInput:re,onBlur:pe,onFocus:X,onKeypress:Ee,onKeydown:Y[0]||(Y[0]=P=>Ee(P)),onPaste:fe,onInvalid:Y[1]||(Y[1]=P=>H(s)("invalid",P))},null,42,t9)]):Ye("",!0),ue("div",{onClick:Y[4]||(Y[4]=P=>r("toggle"))},[L.$slots["input-icon"]&&!H(g).hideInputIcon?(ke(),Be("span",{key:0,class:"dp__input_icon",onClick:Y[2]||(Y[2]=P=>r("toggle"))},[Ge(L.$slots,"input-icon")])):Ye("",!0),!L.$slots["input-icon"]&&!H(g).hideInputIcon&&!L.$slots["dp-input"]?(ke(),It(H(Cu),{key:1,"aria-label":H(u)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:Y[3]||(Y[3]=P=>r("toggle"))},null,8,["aria-label"])):Ye("",!0)]),L.$slots["clear-icon"]&&(H(g).alwaysClearable||H(o)&&H(g).clearable&&!H(a).disabled&&!H(a).readonly)?(ke(),Be("span",n9,[Ge(L.$slots,"clear-icon",{clear:ve})])):Ye("",!0),!L.$slots["clear-icon"]&&(H(g).alwaysClearable||H(g).clearable&&H(o)&&!H(a).disabled&&!H(a).readonly)?(ke(),Be("button",{key:2,"aria-label":H(u)?.clearInput,class:"dp--clear-btn",type:"button","data-test-id":"clear-input-value-btn",onKeydown:Y[5]||(Y[5]=P=>H(x)(P,()=>ve(P),!0,oe)),onClick:Y[6]||(Y[6]=Ci(P=>ve(P),["prevent"]))},[dt(H(r7),{class:"dp__input_icons"})],40,r9)):Ye("",!0)])):Ye("",!0)]))}}),s9={ref:"action-row",class:"dp__action_row"},o9=["title"],a9={ref:"action-buttons-container",class:"dp__action_buttons","data-dp-element":"action-row"},l9=["disabled"],u9=xn({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{default:0}},emits:["close-picker","select-date","select-now"],setup(t,{emit:e}){const n=e,r=t,{rootEmit:i,rootProps:s,modelValue:o,defaults:{actionRow:a,multiCalendars:l,inline:u,range:c,multiDates:f,formats:h}}=St(),{isTimeValid:d,isMonthValid:p}=Wr(),{formatPreview:g}=Hs(),{checkKeyDown:_,convertType:y}=Fn(),{boolHtmlAttribute:m}=Ya(),b=on("action-buttons-container"),S=on("action-row"),E=Ne(!1),x=Ne({});ln(()=>{C(),globalThis.addEventListener("resize",C)}),ki(()=>{globalThis.removeEventListener("resize",C)});const C=()=>{E.value=!1,setTimeout(()=>{const fe=b.value?.getBoundingClientRect(),q=S.value?.getBoundingClientRect();fe&&q&&(x.value.maxWidth=`${q.width-fe.width-20}px`),E.value=!0},0)},k=Me(()=>c.value.enabled&&!c.value.partialRange&&o.value?o.value.length===2:!0),R=Me(()=>!d.value(o.value)||!p.value(o.value)||!k.value),j=()=>{const fe=h.value.preview;return s.timePicker||s.monthPicker,fe(y(o.value))},K=()=>{const fe=o.value;return l.value.count>0?`${g(fe[0])} - ${g(fe[1])}`:[g(fe[0]),g(fe[1])]},D=Me(()=>!o.value||!r.menuMount?"":typeof h.value.preview=="string"?Array.isArray(o.value)?o.value.length===2&&o.value[1]?K():f.value.enabled?o.value.map(fe=>`${g(fe)}`):s.modelAuto?`${g(o.value[0])}`:`${g(o.value[0])} -`:g(o.value):j()),ee=()=>f.value.enabled?"; ":" - ",te=Me(()=>Array.isArray(D.value)?D.value.join(ee()):D.value),Z=()=>{d.value(o.value)&&p.value(o.value)&&k.value?n("select-date"):i("invalid-select")};return(fe,q)=>(ke(),Be("div",s9,[fe.$slots["action-row"]?Ge(fe.$slots,"action-row",wr(jr({key:0},{modelValue:H(o),disabled:R.value,selectDate:()=>fe.$emit("select-date"),closePicker:()=>fe.$emit("close-picker")}))):(ke(),Be(at,{key:1},[H(a).showPreview?(ke(),Be("div",{key:0,class:"dp__selection_preview",title:te.value||void 0,style:Nn(x.value)},[fe.$slots["action-preview"]&&E.value?Ge(fe.$slots,"action-preview",{key:0,value:H(o),formatValue:te.value}):Ye("",!0),!fe.$slots["action-preview"]&&E.value?(ke(),Be(at,{key:1},[Pt(Ze(te.value),1)],64)):Ye("",!0)],12,o9)):Ye("",!0),ue("div",a9,[fe.$slots["action-buttons"]?Ge(fe.$slots,"action-buttons",{key:0,value:H(o),selectDate:Z,selectionDisabled:R.value}):Ye("",!0),fe.$slots["action-buttons"]?Ye("",!0):(ke(),Be(at,{key:1},[!H(u).enabled&&H(a).showCancel?(ke(),Be("button",{key:0,ref:"cancel-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:q[0]||(q[0]=re=>fe.$emit("close-picker")),onKeydown:q[1]||(q[1]=re=>H(_)(re,()=>fe.$emit("close-picker")))},Ze(H(a).cancelBtnLabel),545)):Ye("",!0),H(a).showNow?(ke(),Be("button",{key:1,type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:q[2]||(q[2]=re=>fe.$emit("select-now")),onKeydown:q[3]||(q[3]=re=>H(_)(re,()=>fe.$emit("select-now")))},Ze(H(a).nowBtnLabel),33)):Ye("",!0),H(a).showSelect?(ke(),Be("button",{key:2,ref:"select-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_select",disabled:H(m)(R.value),"data-test-id":"select-button",onKeydown:q[4]||(q[4]=re=>H(_)(re,()=>Z())),onClick:Z},Ze(H(a).selectBtnLabel),41,l9)):Ye("",!0)],64))],512)],64))],512))}}),dh=()=>{const{rootProps:t,defaults:{multiCalendars:e}}=St(),n=Me(()=>s=>t.hideNavigation?.includes(s)),r=Me(()=>s=>e.value.count?e.value.solo?!0:s===0:!0),i=Me(()=>s=>e.value.count?e.value.solo?!0:s===e.value.count-1:!0);return{hideNavigationButtons:n,showLeftIcon:r,showRightIcon:i}},c9=["role","aria-label","tabindex"],f9={class:"dp__selection_grid_header"},h9=["aria-selected","aria-disabled","data-dp-action-element","data-dp-element-active","data-test-id","onClick","onKeydown","onMouseover"],d9=["aria-label","data-dp-action-element"],ku=xn({__name:"SelectionOverlay",props:{items:{},type:{},useRelative:{type:Boolean},height:{},overlayLabel:{},isLast:{type:Boolean},level:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{emit:e}){const n=e,r=t,{setState:i,defaults:{ariaLabels:s,config:o}}=St(),{hideNavigationButtons:a}=dh(),{handleEventPropagation:l,checkKeyDown:u}=Fn(),c=on("toggle-button"),f=on("overlay-container"),h=on("grid-wrap"),d=Ne(!1),p=Ne(null),g=Ne(),_=Ne(0);q2(()=>{p.value=null}),ln(async()=>{await Ln(),x(),i("arrowNavigationLevel",r.level??1)}),ki(()=>{i("arrowNavigationLevel",(r.level??1)-1)});const y=Me(()=>({dp__overlay:!0,"dp--overlay-absolute":!r.useRelative,"dp--overlay-relative":r.useRelative})),m=Me(()=>r.useRelative?{height:`${r.height}px`,width:"var(--dp-menu-min-width)"}:void 0),b=Me(()=>({dp__overlay_col:!0})),S=Me(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:r.isLast})),E=Me(()=>({dp__overlay_container:!0,dp__container_flex:r.items?.length<=6,dp__container_block:r.items?.length>6}));En(()=>r.items,()=>x(!1),{deep:!0});const x=(ee=!0)=>{Ln().then(()=>{const te=document.querySelector(`[data-dp-element-active="${r.level??1}"]`),Z=Cr(h),fe=Cr(c),q=Cr(f),re=fe?fe.getBoundingClientRect().height:0;Z&&(Z.getBoundingClientRect().height?_.value=Z.getBoundingClientRect().height-re:_.value=o.value.modeHeight-re),te&&q&&ee&&(q.scrollTop=te.offsetTop-q.offsetTop-(_.value/2-te.getBoundingClientRect().height)-re)})},C=ee=>{ee.disabled||n("selected",ee.value)},k=()=>{n("toggle"),n("reset-flow")},R=ee=>{o.value.escClose&&(k(),l(ee,o.value))},j=ee=>{g.value=ee,n("hover-value",ee)},K=ee=>{if(ee.key===qt.esc)return R(ee)},D=ee=>{if(ee.key===qt.enter)return k()};return(ee,te)=>(ke(),Be("div",{ref:"grid-wrap",class:ut(y.value),style:Nn(m.value),role:t.useRelative?void 0:"dialog","aria-label":t.overlayLabel,tabindex:t.useRelative?void 0:"0",onKeydown:K,onClick:te[0]||(te[0]=Ci(()=>{},["prevent"]))},[ue("div",{ref:"overlay-container",class:ut(E.value),style:Nn({"--dp-overlay-height":`${_.value}px`}),role:"grid"},[ue("div",f9,[Ge(ee.$slots,"header")]),Ge(ee.$slots,"overlay",{},()=>[(ke(!0),Be(at,null,Dt(t.items,(Z,fe)=>(ke(),Be("div",{key:fe,class:ut(["dp__overlay_row",{dp__flex_row:t.items.length>=3}]),role:"row"},[(ke(!0),Be(at,null,Dt(Z,q=>(ke(),Be("div",{key:q.value,role:"gridcell",class:ut(b.value),"aria-selected":q.active||void 0,"aria-disabled":q.disabled||void 0,"data-dp-action-element":t.level??1,"data-dp-element-active":q.active?t.level??1:void 0,tabindex:"0","data-test-id":q.text,onClick:Ci(re=>C(q),["prevent"]),onKeydown:re=>H(u)(re,()=>C(q),!0),onMouseover:re=>j(q.value)},[ue("div",{class:ut(q.className)},[Ge(ee.$slots,"item",{item:q},()=>[Pt(Ze(q.text),1)])],2)],42,h9))),128))],2))),128))])],6),ee.$slots["button-icon"]?Mn((ke(),Be("button",{key:0,ref:"toggle-button",type:"button","aria-label":H(s)?.toggleOverlay,class:ut(S.value),tabindex:"0","data-dp-action-element":t.level??1,onClick:k,onKeydown:D},[Ge(ee.$slots,"button-icon")],42,d9)),[[oc,!H(a)(t.type)]]):Ye("",!0)],46,c9))}}),p9=["data-dp-mobile"],ph=xn({__name:"InstanceWrap",props:{stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const{defaults:{multiCalendars:e}}=St(),{isMobile:n}=fh(),r=Me(()=>e.value.count>0?[...new Array(e.value.count).keys()]:[0]);return(i,s)=>(ke(),Be("div",{class:ut({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:H(e).count>0,"dp--flex-display-collapsed":t.collapse}),"data-dp-mobile":H(n)},[Ge(i.$slots,"default",{instances:r.value,wrapClass:{dp__instance_calendar:H(e).count>0}})],10,p9))}}),m9=["data-dp-element","aria-label","aria-disabled"],Nl=xn({__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const{checkKeyDown:n}=Fn(),r=e;return(i,s)=>(ke(),Be("button",{ref:"arrow-btn",type:"button","data-dp-element":t.elName,"data-dp-action-element":"0",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:s[0]||(s[0]=o=>r("activate")),onKeydown:s[1]||(s[1]=o=>H(n)(o,()=>r("activate"),!0))},[ue("span",{class:ut(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[Ge(i.$slots,"default")],2)],40,m9))}}),g9=["aria-label","data-test-id"],Dx=xn({__name:"YearModePicker",props:{items:{},instance:{},year:{},showYearPicker:{type:Boolean,default:!1},isDisabled:{}},emits:["handle-year","year-select","toggle-year-picker"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=dh(),{rootProps:o,defaults:{config:a,ariaLabels:l,ui:u}}=St(),{showTransition:c,transitionName:f}=xu(),{formatYear:h}=Hs(),{boolHtmlAttribute:d}=Ya(),p=Ne(!1),g=Me(()=>h(r.year)),_=(b=!1,S)=>{p.value=!p.value,n("toggle-year-picker",{flow:b,show:S})},y=b=>{p.value=!1,n("year-select",b)},m=(b=!1)=>{n("handle-year",b)};return(b,S)=>(ke(),Be(at,null,[ue("div",{class:ut(["dp--year-mode-picker",{"dp--hidden-el":p.value}])},[H(s)(t.instance)?(ke(),It(Nl,{key:0,ref:"mpPrevIconRef","aria-label":H(l)?.prevYear,disabled:H(d)(t.isDisabled(!1)),class:ut(H(u)?.navBtnPrev),onActivate:S[0]||(S[0]=E=>m(!1))},{default:st(()=>[b.$slots["arrow-left"]?Ge(b.$slots,"arrow-left",{key:0}):Ye("",!0),b.$slots["arrow-left"]?Ye("",!0):(ke(),It(H(Cx),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ye("",!0),ue("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${H(l)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${t.instance}`,"data-dp-action-element":"0",onClick:S[1]||(S[1]=()=>_(!1)),onKeydown:S[2]||(S[2]=qT(Ci(()=>_(!1),["prevent"]),["enter"]))},[b.$slots.year?Ge(b.$slots,"year",{key:0,text:g.value,value:t.year}):Ye("",!0),b.$slots.year?Ye("",!0):(ke(),Be(at,{key:1},[Pt(Ze(t.year),1)],64))],40,g9),H(i)(t.instance)?(ke(),It(Nl,{key:1,ref:"mpNextIconRef","aria-label":H(l)?.nextYear,disabled:H(d)(t.isDisabled(!0)),class:ut(H(u)?.navBtnNext),onActivate:S[3]||(S[3]=E=>m(!0))},{default:st(()=>[b.$slots["arrow-right"]?Ge(b.$slots,"arrow-right",{key:0}):Ye("",!0),b.$slots["arrow-right"]?Ye("",!0):(ke(),It(H(xx),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ye("",!0)],2),dt(Ra,{name:H(f)(t.showYearPicker),css:H(c)},{default:st(()=>[t.showYearPicker?(ke(),It(ku,{key:0,items:t.items,config:H(a),"is-last":H(o).autoApply&&!H(a).keepActionRow,"overlay-label":H(l)?.yearPicker?.(!0),type:"year",onToggle:_,onSelected:S[4]||(S[4]=E=>y(E))},Kn({"button-icon":st(()=>[b.$slots["calendar-icon"]?Ge(b.$slots,"calendar-icon",{key:0}):Ye("",!0),b.$slots["calendar-icon"]?Ye("",!0):(ke(),It(H(Cu),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:st(({item:E})=>[Ge(b.$slots,"year-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","config","is-last","overlay-label"])):Ye("",!0)]),_:3},8,["name","css"])],64))}}),Rx=t=>{const{getDate:e,rootEmit:n,state:r,month:i,year:s,modelValue:o,calendars:a,rootProps:l,defaults:{multiCalendars:u,range:c,safeDates:f,filters:h,highlight:d}}=St(),{resetDate:p,getYearFromDate:g,checkHighlightYear:_,groupListAndMap:y}=sr(),{getYears:m}=hh(),{validateMonthYear:b,checkMinMaxValue:S}=Wr(),E=Ne([!1]),x=Me(()=>m()),C=Me(()=>(ie,X)=>{const ne=wt(p(e()),{month:i.value(ie),year:s.value(ie)}),pe=X?cx(ne):ba(ne);return b(pe,l.preventMinMaxNavigation,X)}),k=()=>Array.isArray(o.value)&&u.value.solo&&o.value[1],R=()=>{for(let ie=0;ie<u.value.count;ie++)if(ie===0)a.value[ie]=a.value[0];else if(ie===u.value.count-1&&k())a.value[ie]={month:Ct(o.value[1]),year:ht(o.value[1])};else{const X=wt(e(),a.value[ie-1]);a.value[ie]={month:Ct(X),year:ht(F0(X,1))}}},j=ie=>{if(!ie)return R();const X=wt(e(),a.value[ie]);return a.value[0].year=ht(Ex(X,u.value.count-1)),R()},K=(ie,X)=>{const ne=nF(X,ie);return c.value.showLastInRange&&ne>1?X:ie},D=ie=>l.focusStartDate||u.value.solo?ie[0]:ie[1]?K(ie[0],ie[1]):ie[0],ee=()=>{if(o.value){const ie=Array.isArray(o.value)?D(o.value):o.value;a.value[0]={month:Ct(ie),year:ht(ie)}}},te=()=>{ee(),u.value.count&&R()};En(o,(ie,X)=>{r.isTextInputDate&&JSON.stringify(ie??{})!==JSON.stringify(X??{})&&te()}),ln(()=>{te()});const Z=(ie,X)=>{a.value[X].year=ie,n("update-month-year",{instance:X,year:ie,month:a.value[X].month}),u.value.count&&!u.value.solo&&j(X)},fe=Me(()=>ie=>y(x.value,X=>{const ne=s.value(ie)===X.value,pe=S(X.value,g(f.value.minDate),g(f.value.maxDate))||h.value.years?.includes(s.value(ie)),ve=_(d.value,X.value);return{active:ne,disabled:pe,highlighted:ve}})),q=(ie,X)=>{Z(ie,X),me(X)},re=(ie,X=!1)=>{if(!C.value(ie,X)){const ne=X?s.value(ie)+1:s.value(ie)-1;Z(ne,ie)}},me=(ie,X=!1,ne)=>{X||t("reset-flow"),ne===void 0?E.value[ie]=!E.value[ie]:E.value[ie]=ne,E.value[ie]?n("overlay-toggle",{open:!0,overlay:fr.year}):n("overlay-toggle",{open:!1,overlay:fr.year})};return{isDisabled:C,groupedYears:fe,showYearPicker:E,selectYear:Z,setStartDate:()=>{l.startDate&&(o.value&&l.focusStartDate||!o.value)&&Z(ht(e(l.startDate)),0)},toggleYearPicker:me,handleYearSelect:q,handleYear:re}},mh=()=>{const{isDateAfter:t,isDateBefore:e,isDateEqual:n}=sr(),{getDate:r,rootEmit:i,rootProps:s,modelValue:o,defaults:{range:a}}=St();return{getRangeWithFixedDate:l=>Array.isArray(o.value)&&(o.value.length===2||o.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(t(l,o.value[0])||n(l,o.value[0]))?[o.value[0],l]:a.value.fixedEnd&&(e(l,o.value[1])||n(l,o.value[1]))?[l,o.value[1]]:(i("invalid-fixed-range",l),o.value):[],setPresetDate:l=>{Array.isArray(l.value)&&l.value.length<=2&&a.value.enabled?o.value=l.value.map(u=>r(u)):Array.isArray(l.value)||(o.value=r(l.value))},checkRangeAutoApply:(l,u,c)=>{a&&(l[0]&&l[1]&&s.autoApply&&u("auto-apply",c),l[0]&&!l[1]&&(s.modelAuto||a.value.partialRange)&&s.autoApply&&u("auto-apply",c))},setMonthOrYearRange:l=>{let u=o.value?o.value.slice():[];return u.length===2&&u[1]!==null&&(u=[]),u.length?(e(l,u[0])?u.unshift(l):u[1]=l,i("range-end",l)):(u=[l],i("range-start",l)),u},handleMultiDatesSelect:(l,u)=>{if(o.value&&Array.isArray(o.value))if(o.value.some(c=>n(l,c))){const c=o.value.filter(f=>!n(f,l));o.value=c.length?c:null}else(u&&+u>o.value.length||!u)&&o.value.push(l);else o.value=[l]}}},y9=(t,e)=>{const{getDate:n,rootEmit:r,state:i,calendars:s,year:o,modelValue:a,rootProps:l,defaults:{range:u,highlight:c,safeDates:f,filters:h,multiDates:d}}=St();Au(()=>{i.isTextInputDate&&q(ht(n(l.startDate)),0)});const{checkMinMaxRange:p,checkMinMaxValue:g}=Wr(),{isDateBetween:_,resetDateTime:y,resetDate:m,getMinMonth:b,getMaxMonth:S,checkHighlightMonth:E,groupListAndMap:x}=sr(),{checkRangeAutoApply:C,getRangeWithFixedDate:k,handleMultiDatesSelect:R,setMonthOrYearRange:j,setPresetDate:K}=mh(),{padZero:D}=Fn(),{getMonths:ee,isOutOfYearRange:te}=hh(),Z=Me(()=>ee()),fe=Ne(null),{selectYear:q,groupedYears:re,showYearPicker:me,toggleYearPicker:ie,handleYearSelect:X,handleYear:ne,isDisabled:pe,setStartDate:ve}=Rx(e);ln(()=>{ve()});const ge=Q=>Q?{month:Ct(Q),year:ht(Q)}:{month:null,year:null},Ee=()=>a.value?Array.isArray(a.value)?a.value.map(Q=>ge(Q)):ge(a.value):ge(),J=(Q,he)=>{const le=s.value[Q],Oe=Ee();return Array.isArray(Oe)?Oe.some(w=>w.year===le?.year&&w.month===he):le?.year===Oe.year&&he===Oe.month},G=(Q,he,le)=>{const Oe=Ee();return Array.isArray(Oe)?o.value(he)===Oe[le]?.year&&Q===Oe[le]?.month:!1},oe=(Q,he)=>{if(u.value.enabled){const le=Ee();if(Array.isArray(a.value)&&Array.isArray(le)){const Oe=G(Q,he,0)||G(Q,he,1),w=wt(m(n()),{month:Q,year:o.value(he)});return _(a.value,fe.value,w)&&!Oe}return!1}return!1},L=Me(()=>Q=>x(Z.value,he=>{const le=J(Q,he.value),Oe=g(he.value,b(o.value(Q),f.value.minDate),S(o.value(Q),f.value.maxDate))||W(f.value.disabledDates,o.value(Q),he.value)||h.value.months?.includes(he.value)||!U(f.value.allowedDates,o.value(Q),he.value)||te(o.value(Q)),w=oe(he.value,Q),A=E(c.value,he.value,o.value(Q));return{active:le,disabled:Oe,isBetween:w,highlighted:A}})),Y=(Q,he)=>wt(m(n()),{month:Q,year:o.value(he)}),P=(Q,he)=>{const le=a.value?a.value:m(n());a.value=wt(le,{month:Q,year:o.value(he)}),e("auto-apply"),e("update-flow-step")},I=(Q,he)=>{const le=Y(Q,he);u.value.fixedEnd||u.value.fixedStart?a.value=k(le):a.value?p(le,a.value)&&(a.value=j(Y(Q,he))):a.value=[Y(Q,he)],Ln().then(()=>{C(a.value,e,a.value.length<2)})},B=(Q,he)=>{R(Y(Q,he),d.value.limit),e("auto-apply",!0)},N=(Q,he)=>(s.value[he].month=Q,V(he,s.value[he].year,Q),d.value.enabled?B(Q,he):u.value.enabled?I(Q,he):P(Q,he)),M=(Q,he)=>{q(Q,he),V(he,Q,null)},V=(Q,he,le)=>{let Oe=le;if(!Oe&&Oe!==0){const w=Ee();Oe=Array.isArray(w)?w[Q].month:w.month}r("update-month-year",{instance:Q,year:he,month:Oe})},O=(Q,he)=>{fe.value=Y(Q,he)},z=Q=>{K({value:Q}),e("auto-apply")},W=(Q,he,le)=>{if(Q instanceof Map){const Oe=`${D(le+1)}-${he}`;return Q.size?Q.has(Oe):!1}return typeof Q=="function"?Q(y(wt(n(),{month:le,year:he}),!0)):!1},U=(Q,he,le)=>{if(Q instanceof Map){const Oe=`${D(le+1)}-${he}`;return Q.size?Q.has(Oe):!0}return!0};return{groupedMonths:L,groupedYears:re,year:o,isDisabled:pe,showYearPicker:me,modelValue:a,toggleYearPicker:ie,handleYearSelect:X,handleYear:ne,presetDate:z,setHoverDate:O,selectMonth:N,selectYear:M,getModelMonthYear:Ee}},v9=xn({__name:"MonthPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply","update-flow-step","mount"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=$s(),{rootProps:o,defaults:{config:a}}=St(),l=Si(s,Zr.YearMode);ln(()=>{r("mount")});const{groupedMonths:u,groupedYears:c,year:f,isDisabled:h,showYearPicker:d,modelValue:p,presetDate:g,setHoverDate:_,selectMonth:y,selectYear:m,toggleYearPicker:b,handleYearSelect:S,handleYear:E,getModelMonthYear:x}=y9(i,r);return e({getSidebarProps:()=>({modelValue:p,year:f,getModelMonthYear:x,selectMonth:y,selectYear:m,handleYear:E}),presetDate:g,toggleYearPicker:C=>b(0,C)}),(C,k)=>(ke(),It(ph,{collapse:t.collapse,stretch:""},{default:st(({instances:R,wrapClass:j})=>[(ke(!0),Be(at,null,Dt(R,K=>(ke(),Be("div",{key:K,class:ut(j)},[C.$slots["top-extra"]?Ge(C.$slots,"top-extra",{key:0,value:H(p)}):Ye("",!0),Ge(C.$slots,"month-year",jr({ref_for:!0},{year:H(f),months:H(u)(K),years:H(c)(K),selectMonth:H(y),selectYear:H(m),instance:K}),()=>[dt(ku,{items:H(u)(K),"is-last":H(o).autoApply&&!H(a).keepActionRow,height:H(a).modeHeight,"no-overlay-focus":!!(t.noOverlayFocus||H(o).textInput),"use-relative":"",level:0,type:"month",onSelected:D=>H(y)(D,K),onHoverValue:D=>H(_)(D,K)},Kn({header:st(()=>[dt(Dx,{items:H(c)(K),instance:K,"show-year-picker":H(d)[K],year:H(f)(K),"is-disabled":D=>H(h)(K,D),onHandleYear:D=>H(E)(K,D),onYearSelect:D=>H(S)(D,K),onToggleYearPicker:D=>H(b)(K,D?.flow,D?.show)},Kn({_:2},[Dt(H(l),(D,ee)=>({name:D,fn:st(te=>[Ge(C.$slots,D,jr({ref_for:!0},te))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[C.$slots["month-overlay-value"]?{name:"item",fn:st(({item:D})=>[Ge(C.$slots,"month-overlay-value",{text:D.text,value:D.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","onSelected","onHoverValue"])])],2))),128))]),_:3},8,["collapse"]))}}),_9=(t,e)=>{const{rootEmit:n,getDate:r,state:i,modelValue:s,rootProps:o,defaults:{highlight:a,multiDates:l,filters:u,range:c,safeDates:f}}=St(),{getYears:h}=hh(),{isDateBetween:d,resetDate:p,resetDateTime:g,getYearFromDate:_,checkHighlightYear:y,groupListAndMap:m}=sr(),{checkRangeAutoApply:b,setMonthOrYearRange:S}=mh(),{checkMinMaxValue:E,checkMinMaxRange:x}=Wr();Au(()=>{i.isTextInputDate&&(k.value=ht(r(o.startDate)))});const C=Ne(null),k=Ne();ln(()=>{o.startDate&&(s.value&&o.focusStartDate||!s.value)&&(k.value=ht(r(o.startDate)))});const R=Z=>Array.isArray(s.value)?s.value.some(fe=>ht(fe)===Z):s.value?ht(s.value)===Z:!1,j=Z=>c.value.enabled&&Array.isArray(s.value)?d(s.value,C.value,te(Z)):!1,K=Z=>f.value.allowedDates?.size?f.value.allowedDates.has(`${Z}`):!0,D=Z=>f.value.disabledDates instanceof Map?f.value.disabledDates.size?f.value.disabledDates.has(`${Z}`):!1:typeof f.value.disabledDates=="function"?f.value.disabledDates(zr(g(ba(r())),Z)):!0,ee=Me(()=>m(h(),Z=>{const fe=R(Z.value),q=E(Z.value,_(f.value.minDate),_(f.value.maxDate))||u.value.years.includes(Z.value)||!K(Z.value)||D(Z.value),re=j(Z.value)&&!fe,me=y(a.value,Z.value);return{active:fe,disabled:q,isBetween:re,highlighted:me}})),te=Z=>zr(p(ba(r())),Z);return{groupedYears:ee,focusYear:k,setHoverValue:Z=>{C.value=zr(p(r()),Z)},selectYear:Z=>{if(n("update-month-year",{instance:0,year:Z,month:Number.NaN}),l.value.enabled)return s.value?Array.isArray(s.value)&&((s.value?.map(fe=>ht(fe))).includes(Z)?s.value=s.value.filter(fe=>ht(fe)!==Z):s.value.push(zr(g(r()),Z))):s.value=[zr(g(ba(r())),Z)],e("auto-apply",!0);c.value.enabled?x(te(Z),s.value)&&(s.value=S(te(Z)),Ln().then(()=>{b(s.value,e,s.value.length<2)})):(s.value=te(Z),e("auto-apply"))}}},b9=xn({__name:"YearPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{modelValue:s,defaults:{config:o},rootProps:a}=St(),{groupedYears:l,focusYear:u,selectYear:c,setHoverValue:f}=_9(i,r);return e({getSidebarProps:()=>({modelValue:s,selectYear:c})}),(h,d)=>(ke(),Be("div",null,[h.$slots["top-extra"]?Ge(h.$slots,"top-extra",{key:0,value:H(s)}):Ye("",!0),h.$slots["month-year"]?Ge(h.$slots,"month-year",wr(jr({key:1},{years:H(l),selectYear:H(c)}))):(ke(),It(ku,{key:2,items:H(l),"is-last":H(a).autoApply&&!H(o).keepActionRow,height:H(o).modeHeight,"no-overlay-focus":!!(t.noOverlayFocus||H(a).textInput),"focus-value":H(u),type:"year","use-relative":"",onSelected:H(c),onHoverValue:H(f)},Kn({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:st(({item:p})=>[Ge(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),w9={key:0,class:"dp__time_input"},E9=["data-compact","data-collapsed"],S9=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],C9=["aria-label","disabled","data-dp-action-element","data-test-id","onKeydown","onClick"],x9=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],A9={key:0},k9=["aria-label","data-dp-action-element","data-compact"],T9=xn({__name:"TimeInput",props:{hours:{},minutes:{},seconds:{},order:{},closeTimePickerBtn:{},disabledTimesConfig:{},validateTime:{}},emits:["update:hours","update:minutes","update:seconds","overlay-opened","overlay-closed","set-hours","set-minutes","reset-flow","mounted"],setup(t,{expose:e,emit:n}){const r=n,i=t,{getDate:s,rootEmit:o,rootProps:a,defaults:{ariaLabels:l,filters:u,config:c,range:f,multiCalendars:h,timeConfig:d}}=St(),{checkKeyDown:p,hoursToAmPmHours:g}=Fn(),{boolHtmlAttribute:_}=Ya(),{sanitizeTime:y,groupListAndMap:m}=sr(),{transitionName:b,showTransition:S}=xu(),E=ti({hours:!1,minutes:!1,seconds:!1}),x=Ne("AM"),C=Ne(null),k=Ne(),R=Ne(!1);ln(()=>{r("mounted")});const j=W=>wt(s(),{hours:W.hours,minutes:W.minutes,seconds:d.value.enableSeconds?W.seconds:0,milliseconds:0}),K=Me(()=>a.timePicker||d.value.timePickerInline?0:1),D=Me(()=>W=>ge(W,i[W])||te(W,i[W])),ee=Me(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),te=(W,U)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!i.validateTime(W,U):!1,Z=(W,U)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const Q=U?+d.value[`${W}Increment`]:-+d.value[`${W}Increment`],he=i[W]+Q;return!i.validateTime(W,he)}return!1},fe=Me(()=>W=>!L(+i[W]+ +d.value[`${W}Increment`],W)||Z(W,!0)),q=Me(()=>W=>!L(+i[W]-+d.value[`${W}Increment`],W)||Z(W,!1)),re=(W,U)=>sx(wt(s(),W),U),me=(W,U)=>JB(wt(s(),W),U),ie=Me(()=>({dp__time_col:!0,dp__time_col_block:!d.value.timePickerInline,dp__time_col_reg_block:!d.value.enableSeconds&&d.value.is24&&!d.value.timePickerInline,dp__time_col_reg_inline:!d.value.enableSeconds&&d.value.is24&&d.value.timePickerInline,dp__time_col_reg_with_button:!d.value.enableSeconds&&!d.value.is24,dp__time_col_sec:d.value.enableSeconds&&d.value.is24,dp__time_col_sec_with_button:d.value.enableSeconds&&!d.value.is24})),X=Me(()=>d.value.timePickerInline&&f.value.enabled&&!h.value.count),ne=Me(()=>{const W=[{type:"hours"}];return d.value.enableMinutes&&W.push({type:"",separator:!0},{type:"minutes"}),d.value.enableSeconds&&W.push({type:"",separator:!0},{type:"seconds"}),W}),pe=Me(()=>ne.value.filter(W=>!W.separator)),ve=Me(()=>W=>{if(W==="hours"){const U=M(+i.hours);return{text:U<10?`0${U}`:`${U}`,value:U}}return{text:i[W]<10?`0${i[W]}`:`${i[W]}`,value:i[W]}}),ge=(W,U)=>{if(!i.disabledTimesConfig)return!1;const Q=i.disabledTimesConfig(i.order,W==="hours"?U:void 0);return Q[W]?!!Q[W]?.includes(U):!0},Ee=(W,U)=>U!=="hours"||x.value==="AM"?W:W+12,J=W=>{const U=d.value.is24?24:12,Q=W==="hours"?U:60,he=+d.value[`${W}GridIncrement`],le=W==="hours"&&!d.value.is24?he:0,Oe=[];for(let w=le;w<Q;w+=he)Oe.push({value:d.value.is24?w:Ee(w,W),text:w<10?`0${w}`:`${w}`});return W==="hours"&&!d.value.is24&&Oe.unshift({value:x.value==="PM"?12:0,text:"12"}),m(Oe,w=>({active:!1,disabled:u.value.times[W].includes(w.value)||!L(w.value,W)||ge(W,w.value)||te(W,w.value)}))},G=W=>W>=0?W:59,oe=W=>W>=0?W:23,L=(W,U)=>{const Q=a.minTime?j(y(a.minTime)):null,he=a.maxTime?j(y(a.maxTime)):null,le=j(y(ee.value,U,U==="minutes"||U==="seconds"?G(W):oe(W)));return Q&&he?(qi(le,he)||oa(le,he))&&(_i(le,Q)||oa(le,Q)):Q?_i(le,Q)||oa(le,Q):he?qi(le,he)||oa(le,he):!0},Y=W=>d.value[`no${W[0].toUpperCase()+W.slice(1)}Overlay`],P=W=>{Y(W)||(E[W]=!E[W],E[W]?(R.value=!0,r("overlay-opened",W)):(R.value=!1,r("overlay-closed",W)))},I=W=>W==="hours"?Ai:W==="minutes"?rs:Bs,B=()=>{k.value&&clearTimeout(k.value)},N=(W,U=!0,Q)=>{const he=U?re:me,le=U?+d.value[`${W}Increment`]:-+d.value[`${W}Increment`];L(+i[W]+le,W)&&r(`update:${W}`,I(W)(he({[W]:+i[W]},{[W]:+d.value[`${W}Increment`]}))),!Q?.keyboard&&c.value.timeArrowHoldThreshold&&(k.value=setTimeout(()=>{N(W,U)},c.value.timeArrowHoldThreshold))},M=W=>d.value.is24?W:(W>=12?x.value="PM":x.value="AM",g(W)),V=()=>{x.value==="PM"?(x.value="AM",r("update:hours",i.hours-12)):(x.value="PM",r("update:hours",i.hours+12)),o("am-pm-change",x.value)},O=W=>{E[W]=!0},z=(W,U)=>(P(W),r(`update:${W}`,U));return e({openChildCmp:O}),(W,U)=>H(a).disabled?Ye("",!0):(ke(),Be("div",w9,[(ke(!0),Be(at,null,Dt(ne.value,(Q,he)=>(ke(),Be("div",{key:he,class:ut(ie.value),"data-compact":X.value&&!H(d).enableSeconds,"data-collapsed":X.value&&H(d).enableSeconds},[Q.separator?(ke(),Be(at,{key:0},[R.value?Ye("",!0):(ke(),Be(at,{key:0},[Pt(":")],64))],64)):(ke(),Be(at,{key:1},[ue("button",{type:"button",class:ut({dp__btn:!0,dp__inc_dec_button:!H(d).timePickerInline,dp__inc_dec_button_inline:H(d).timePickerInline,dp__tp_inline_btn_top:H(d).timePickerInline,dp__inc_dec_button_disabled:fe.value(Q.type),"dp--hidden-el":R.value}),"data-test-id":`${Q.type}-time-inc-btn-${i.order}`,"aria-label":H(l)?.incrementValue(Q.type),tabindex:"0","data-dp-action-element":K.value,onKeydown:le=>H(p)(le,()=>N(Q.type,!0,{keyboard:!0}),!0),onClick:le=>H(c).timeArrowHoldThreshold?void 0:N(Q.type,!0),onMousedown:le=>H(c).timeArrowHoldThreshold?N(Q.type,!0):void 0,onMouseup:B},[H(d).timePickerInline?Ge(W.$slots,"tp-inline-arrow-up",{key:1},()=>[U[2]||(U[2]=ue("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[3]||(U[3]=ue("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):Ge(W.$slots,"arrow-up",{key:0},()=>[dt(H(kx))])],42,S9),ue("button",{type:"button","aria-label":`${ve.value(Q.type).text}-${H(l)?.openTpOverlay(Q.type)}`,class:ut({dp__time_display:!0,dp__time_display_block:!H(d).timePickerInline,dp__time_display_inline:H(d).timePickerInline,"dp--time-invalid":D.value(Q.type),"dp--time-overlay-btn":!D.value(Q.type),"dp--hidden-el":R.value}),disabled:H(_)(Y(Q.type)),tabindex:"0","data-dp-action-element":K.value,"data-test-id":`${Q.type}-toggle-overlay-btn-${i.order}`,onKeydown:le=>H(p)(le,()=>P(Q.type),!0),onClick:le=>P(Q.type)},[Ge(W.$slots,Q.type,{text:ve.value(Q.type).text,value:ve.value(Q.type).value},()=>[Pt(Ze(ve.value(Q.type).text),1)])],42,C9),ue("button",{type:"button",class:ut({dp__btn:!0,dp__inc_dec_button:!H(d).timePickerInline,dp__inc_dec_button_inline:H(d).timePickerInline,dp__tp_inline_btn_bottom:H(d).timePickerInline,dp__inc_dec_button_disabled:q.value(Q.type),"dp--hidden-el":R.value}),"data-test-id":`${Q.type}-time-dec-btn-${i.order}`,"aria-label":H(l)?.decrementValue(Q.type),tabindex:"0","data-dp-action-element":K.value,onKeydown:le=>H(p)(le,()=>N(Q.type,!1,{keyboard:!0}),!0),onClick:le=>H(c).timeArrowHoldThreshold?void 0:N(Q.type,!1),onMousedown:le=>H(c).timeArrowHoldThreshold?N(Q.type,!1):void 0,onMouseup:B},[H(d).timePickerInline?Ge(W.$slots,"tp-inline-arrow-down",{key:1},()=>[U[4]||(U[4]=ue("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[5]||(U[5]=ue("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):Ge(W.$slots,"arrow-down",{key:0},()=>[dt(H(Tx))])],42,x9)],64))],10,E9))),128)),H(d).is24?Ye("",!0):(ke(),Be("div",A9,[Ge(W.$slots,"am-pm-button",{toggle:V,value:x.value},()=>[ue("button",{ref_key:"amPmButton",ref:C,type:"button",class:"dp__pm_am_button",role:"button","aria-label":H(l)?.amPmButton,tabindex:"0","data-dp-action-element":K.value,"data-compact":X.value,onClick:V,onKeydown:U[0]||(U[0]=Q=>H(p)(Q,()=>V(),!0))},Ze(x.value),41,k9)])])),(ke(!0),Be(at,null,Dt(pe.value,(Q,he)=>(ke(),It(Ra,{key:he,name:H(b)(E[Q.type]),css:H(S)},{default:st(()=>[E[Q.type]?(ke(),It(ku,{key:0,items:J(Q.type),"is-last":H(a).autoApply&&!H(c).keepActionRow,type:Q.type,"aria-labels":H(l),level:H(d).timePickerInline||H(a).timePicker?1:2,"overlay-label":H(l).timeOverlay?.(Q.type),onSelected:le=>z(Q.type,le),onToggle:le=>P(Q.type),onResetFlow:U[1]||(U[1]=le=>W.$emit("reset-flow"))},Kn({"button-icon":st(()=>[Ge(W.$slots,"clock-icon",{},()=>[W.$slots["clock-icon"]?Ye("",!0):(ke(),It(kg(H(d).timePickerInline?H(Cu):H(Ax)),{key:0}))])]),_:2},[W.$slots[`${Q.type}-overlay-value`]?{name:"item",fn:st(({item:le})=>[Ge(W.$slots,`${Q.type}-overlay-value`,{text:le.text,value:le.value})]),key:"0"}:void 0,W.$slots[`${Q.type}-overlay-header`]?{name:"header",fn:st(()=>[Ge(W.$slots,`${Q.type}-overlay-header`,{toggle:()=>P(Q.type)})]),key:"1"}:void 0]),1032,["items","is-last","type","aria-labels","level","overlay-label","onSelected","onToggle"])):Ye("",!0)]),_:2},1032,["name","css"]))),128))]))}}),I9=["data-dp-mobile"],P9=["aria-label","tabindex"],O9=["role","aria-label","tabindex"],M9=["aria-label"],Nx=xn({__name:"TimePicker",props:{hours:{},minutes:{},seconds:{},disabledTimesConfig:{type:[Function,null]},noOverlayFocus:{type:Boolean},validateTime:{type:Function}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup(t,{expose:e,emit:n}){const r=n,i=t,{rootEmit:s,setState:o,modelValue:a,rootProps:l,defaults:{ariaLabels:u,textInput:c,config:f,range:h,timeConfig:d}}=St(),{isModelAuto:p}=sr(),{checkKeyDown:g,findFocusableEl:_}=Fn(),{transitionName:y,showTransition:m}=xu(),{hideNavigationButtons:b}=dh(),{isMobile:S}=fh(),E=$s(),x=on("overlay"),C=on("close-tp-btn"),k=on("tp-input"),R=Ne(!1);ln(()=>{r("mount")});const j=Me(()=>h.value.enabled&&l.modelAuto?p(a.value):!0),K=Ne(!1),D=ve=>({hours:Array.isArray(i.hours)?i.hours[ve]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[ve]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[ve]:i.seconds}),ee=Me(()=>{const ve=[];if(h.value.enabled)for(let ge=0;ge<2;ge++)ve.push(D(ge));else ve.push(D(0));return ve}),te=(ve,ge=!1,Ee="")=>{ge||r("reset-flow"),K.value=ve,o("arrowNavigationLevel",ve?1:0),s("overlay-toggle",{open:ve,overlay:fr.time}),Ln(()=>{Ee!==""&&k.value?.[0]&&k.value[0].openChildCmp(Ee)})},Z=Me(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:l.autoApply&&!f.value.keepActionRow})),fe=Si(E,Zr.TimeInput),q=(ve,ge,Ee)=>h.value.enabled?ge===0?[ve,ee.value[1][Ee]]:[ee.value[0][Ee],ve]:ve,re=ve=>{r("update:hours",ve)},me=ve=>{r("update:minutes",ve)},ie=ve=>{r("update:seconds",ve)},X=()=>{if(x.value&&!c.value.enabled&&!i.noOverlayFocus){const ve=_(x.value);ve&&ve.focus({preventScroll:!0})}},ne=ve=>{R.value=!1,s("overlay-toggle",{open:!1,overlay:ve})},pe=ve=>{R.value=!0,s("overlay-toggle",{open:!0,overlay:ve})};return e({toggleTimePicker:te}),(ve,ge)=>(ke(),Be("div",{class:"dp--tp-wrap","data-dp-mobile":H(S)},[!H(l).timePicker&&!H(d).timePickerInline?Mn((ke(),Be("button",{key:0,ref:"open-tp-btn",type:"button","data-dp-action-element":"0",class:ut({...Z.value,"dp--hidden-el":K.value}),"aria-label":H(u)?.openTimePicker,tabindex:t.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:ge[0]||(ge[0]=Ee=>H(g)(Ee,()=>te(!0))),onClick:ge[1]||(ge[1]=Ee=>te(!0))},[Ge(ve.$slots,"clock-icon",{},()=>[dt(H(Ax))])],42,P9)),[[oc,!H(b)("time")]]):Ye("",!0),dt(Ra,{name:H(y)(K.value),css:H(m)&&!H(d).timePickerInline},{default:st(()=>[K.value||H(l).timePicker||H(d).timePickerInline?(ke(),Be("div",{key:0,ref:"overlay",role:H(d).timePickerInline?void 0:"dialog",class:ut({dp__overlay:!H(d).timePickerInline,"dp--overlay-absolute":!H(l).timePicker&&!H(d).timePickerInline,"dp--overlay-relative":H(l).timePicker}),style:Nn(H(l).timePicker?{height:`${H(f).modeHeight}px`}:void 0),"aria-label":H(u)?.timePicker,tabindex:H(d).timePickerInline?void 0:0},[ue("div",{class:ut(H(d).timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[Ge(ve.$slots,"time-picker-overlay",{hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:re,setMinutes:me,setSeconds:ie},()=>[ue("div",{class:ut(H(d).timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ke(!0),Be(at,null,Dt(ee.value,(Ee,J)=>Mn((ke(),It(T9,jr({key:J},{ref_for:!0},{order:J,hours:Ee.hours,minutes:Ee.minutes,seconds:Ee.seconds,closeTimePickerBtn:C.value,disabledTimesConfig:t.disabledTimesConfig,disabled:J===0?H(h).fixedStart:H(h).fixedEnd},{ref_for:!0,ref:"tp-input","validate-time":(G,oe)=>t.validateTime(G,q(oe,J,G)),"onUpdate:hours":G=>re(q(G,J,"hours")),"onUpdate:minutes":G=>me(q(G,J,"minutes")),"onUpdate:seconds":G=>ie(q(G,J,"seconds")),onMounted:X,onOverlayClosed:ne,onOverlayOpened:pe}),Kn({_:2},[Dt(H(fe),(G,oe)=>({name:G,fn:st(L=>[Ge(ve.$slots,G,jr({ref_for:!0},L))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[oc,J===0?!0:j.value]])),128))],2)]),!H(l).timePicker&&!H(d).timePickerInline?Mn((ke(),Be("button",{key:0,ref:"close-tp-btn","data-dp-action-element":"1",type:"button",class:ut({...Z.value,"dp--hidden-el":R.value}),"aria-label":H(u)?.closeTimePicker,tabindex:"0",onKeydown:ge[2]||(ge[2]=Ee=>H(g)(Ee,()=>te(!1))),onClick:ge[3]||(ge[3]=Ee=>te(!1))},[Ge(ve.$slots,"calendar-icon",{},()=>[dt(H(Cu))])],42,M9)),[[oc,!H(b)("time")]]):Ye("",!0)],2)],14,O9)):Ye("",!0)]),_:3},8,["name","css"])],8,I9))}}),Lx=t=>{const{getDate:e,modelValue:n,time:r,rootProps:i,defaults:{range:s,timeConfig:o}}=St(),{isDateEqual:a,setTime:l}=sr(),u=(C,k)=>Array.isArray(r[C])?r[C][k]:r[C],c=C=>o.value.enableSeconds?Array.isArray(r.seconds)?r.seconds[C]:r.seconds:0,f=(C,k)=>C?l(k!==void 0?{hours:u("hours",k),minutes:u("minutes",k),seconds:c(k)}:{hours:r.hours,minutes:r.minutes,seconds:c()},C):XB(e(),c(k)),h=(C,k)=>{r[C]=k},d=Me(()=>i.modelAuto&&s.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:s.value.enabled),p=(C,k)=>{const R=Object.fromEntries(Object.keys(r).map(j=>j===C?[j,k]:[j,r[j]].slice()));if(d.value&&!s.value.disableTimeRangeValidation){const j=D=>n.value?l({hours:R.hours[D],minutes:R.minutes[D],seconds:R.seconds[D]},n.value[D]):null,K=D=>QB(n.value[D],0);return!(a(j(0),j(1))&&(_i(j(0),K(1))||qi(j(1),K(0))))}return!0},g=(C,k)=>{p(C,k)&&(h(C,k),t&&t())},_=C=>{g("hours",C)},y=C=>{g("minutes",C)},m=C=>{g("seconds",C)},b=(C,k)=>{_(C.hours),y(C.minutes),m(C.seconds),n.value&&k(n.value)},S=C=>{if(C){const k=Array.isArray(C),R=k?[+C[0].hours,+C[1].hours]:+C.hours,j=k?[+C[0].minutes,+C[1].minutes]:+C.minutes,K=k?[+(C[0].seconds??0),+(C[1].seconds??0)]:+(C.seconds??0);h("hours",R),h("minutes",j),o.value.enableSeconds&&h("seconds",K)}},E=(C,k)=>{const R={hours:Array.isArray(r.hours)?r.hours[C]:r.hours,disabledArr:[]};return(k||k===0)&&(R.hours=k),Array.isArray(i.disabledTimes)&&(R.disabledArr=s.value.enabled&&Array.isArray(i.disabledTimes[C])?i.disabledTimes[C]:i.disabledTimes),R},x=Me(()=>(C,k)=>{if(Array.isArray(i.disabledTimes)){const{disabledArr:R,hours:j}=E(C,k),K=R.filter(D=>+D.hours===j);return K[0]?.minutes==="*"?{hours:[j],minutes:void 0,seconds:void 0}:{hours:[],minutes:K?.map(D=>+D.minutes)??[],seconds:K?.map(D=>D.seconds?+D.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{assignTime:h,updateHours:_,updateMinutes:y,updateSeconds:m,getSetDateTime:f,updateTimeValues:b,getSecondsValue:c,assignStartTime:S,validateTime:p,disabledTimesConfig:x}},D9=t=>{const{getDate:e,time:n,modelValue:r,state:i,defaults:{startTime:s,range:o,timeConfig:a}}=St(),{getTimeObj:l}=sr();Au(()=>{i.isTextInputDate&&E()});const{updateTimeValues:u,getSetDateTime:c,assignTime:f,assignStartTime:h,disabledTimesConfig:d,validateTime:p}=Lx(g);function g(){t("update-flow-step")}const _=C=>{const{hours:k,minutes:R,seconds:j}=C;return{hours:+k,minutes:+R,seconds:j?+j:0}},y=()=>{if(a.value.startTime){if(Array.isArray(a.value.startTime)){const k=_(a.value.startTime[0]),R=_(a.value.startTime[1]);return[wt(e(),k),wt(e(),R)]}const C=_(a.value.startTime);return wt(e(),C)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[C,k]=y();r.value=[c(C,0),c(k,1)]}else r.value=c(y())},b=C=>Array.isArray(C)?[l(e(C[0])),l(e(C[1]))]:[l(C??e())],S=(C,k,R)=>{f("hours",C),f("minutes",k),f("seconds",a.value.enableSeconds?R:0)},E=()=>{const[C,k]=b(r.value);return o.value.enabled?S([C.hours,k.hours],[C.minutes,k.minutes],[C.seconds,k.seconds]):S(C.hours,C.minutes,C.seconds)};ln(()=>(h(s.value),r.value?E():m()));const x=()=>{Array.isArray(r.value)?r.value=r.value.map((C,k)=>C&&c(C,k)):r.value=c(r.value),t("time-update")};return{modelValue:r,time:n,disabledTimesConfig:d,validateTime:p,updateTime:C=>{u(C,x)}}},R9=xn({__name:"TimePickerSolo",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["time-update","mount","reset-flow","update-flow-step"],setup(t,{expose:e,emit:n}){const r=n,i=$s(),s=Si(i,Zr.TimePicker),o=on("time-input"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:f}=D9(r);return ln(()=>{r("mount")}),e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c}),toggleTimePicker:(h,d=!1,p="")=>{o.value?.toggleTimePicker(h,d,p)}}),(h,d)=>(ke(),It(ph,{"multi-calendars":0,stretch:""},{default:st(({wrapClass:p})=>[ue("div",{class:ut(p)},[dt(Nx,jr({ref:"time-input"},h.$props,{hours:H(a).hours,minutes:H(a).minutes,seconds:H(a).seconds,"disabled-times-config":H(u),"validate-time":H(f),"onUpdate:hours":d[0]||(d[0]=g=>H(c)({hours:g,minutes:H(a).minutes,seconds:H(a).seconds})),"onUpdate:minutes":d[1]||(d[1]=g=>H(c)({hours:H(a).hours,minutes:g,seconds:H(a).seconds})),"onUpdate:seconds":d[2]||(d[2]=g=>H(c)({hours:H(a).hours,minutes:H(a).minutes,seconds:g})),onResetFlow:d[3]||(d[3]=g=>h.$emit("reset-flow"))}),Kn({_:2},[Dt(H(s),(g,_)=>({name:g,fn:st(y=>[Ge(h.$slots,g,wr(Nr(y)))])}))]),1040,["hours","minutes","seconds","disabled-times-config","validate-time"])],2)]),_:3}))}}),N9=(t,e)=>{const{getDate:n,rootProps:r,defaults:{filters:i}}=St(),{validateMonthYearInRange:s,validateMonthYear:o}=Wr(),a=(h,d)=>{let p=h;return i.value.months.includes(Ct(p))?(p=d?Qr(h,1):Da(h,1),a(p,d)):p},l=(h,d)=>{let p=h;return i.value.years.includes(ht(p))?(p=d?F0(h,1):Ex(h,1),l(p,d)):p},u=(h,d=!1)=>{const p=wt(n(),{month:t.month,year:t.year});let g=h?Qr(p,1):Da(p,1);r.disableYearSelect&&(g=zr(g,t.year));let _=Ct(g),y=ht(g);i.value.months.includes(_)&&(g=a(g,h),_=Ct(g),y=ht(g)),i.value.years.includes(y)&&(g=l(g,h),y=ht(g)),s(_,y,h,r.preventMinMaxNavigation)&&c(_,y,d)},c=(h,d,p=!1)=>{e("update-month-year",{month:h,year:d,fromNav:p})},f=Me(()=>h=>o(wt(n(),{month:t.month,year:t.year}),r.preventMinMaxNavigation,h));return{handleMonthYearChange:u,isDisabled:f,updateMonthYear:c}},L9={class:"dp--header-wrap"},F9={key:0,class:"dp__month_year_wrap"},B9={key:0},j9={class:"dp__month_year_wrap"},$9=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],U9=xn({__name:"DpHeader",props:{month:{},year:{},instance:{},years:{},months:{},menuWrapRef:{}},emits:["mount","reset-flow","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{rootEmit:s,rootProps:o,modelValue:a,defaults:{ariaLabels:l,filters:u,config:c,highlight:f,safeDates:h,ui:d}}=St(),{transitionName:p,showTransition:g}=xu(),{showLeftIcon:_,showRightIcon:y}=dh(),{handleMonthYearChange:m,isDisabled:b,updateMonthYear:S}=N9(i,r),{getMaxMonth:E,getMinMonth:x,getYearFromDate:C,groupListAndMap:k,checkHighlightYear:R,checkHighlightMonth:j}=sr(),{checkKeyDown:K}=Fn(),{formatYear:D}=Hs(),{checkMinMaxValue:ee}=Wr(),{boolHtmlAttribute:te}=Ya(),Z=Ne(!1),fe=Ne(!1),q=Ne(!1);ln(()=>{r("mount")});const re=Y=>({get:()=>i[Y],set:P=>{const I=Y===Yr.month?Yr.year:Yr.month;r("update-month-year",{[Y]:P,[I]:i[I]}),Y===Yr.month?Ee(!0):J(!0)}}),me=Me(re(Yr.month)),ie=Me(re(Yr.year)),X=Me(()=>Y=>({month:i.month,year:i.year,items:Y===Yr.month?i.months:i.years,instance:i.instance,updateMonthYear:S,toggle:Y===Yr.month?Ee:J})),ne=Me(()=>i.months.find(P=>P.value===i.month)||{text:"",value:0}),pe=Me(()=>k(i.months,Y=>{const P=i.month===Y.value,I=ee(Y.value,x(i.year,h.value.minDate),E(i.year,h.value.maxDate))||u.value.months.includes(Y.value),B=j(f.value,Y.value,i.year);return{active:P,disabled:I,highlighted:B}})),ve=Me(()=>k(i.years,Y=>{const P=i.year===Y.value,I=ee(Y.value,C(h.value.minDate),C(h.value.maxDate))||u.value.years.includes(Y.value),B=R(f.value,Y.value);return{active:P,disabled:I,highlighted:B}})),ge=(Y,P,I)=>{I===void 0?Y.value=!Y.value:Y.value=I,Y.value?(q.value=!0,s("overlay-toggle",{open:!0,overlay:P})):(q.value=!1,s("overlay-toggle",{open:!1,overlay:P}))},Ee=(Y=!1,P)=>{G(Y),ge(Z,fr.month,P)},J=(Y=!1,P)=>{G(Y),ge(fe,fr.year,P)},G=Y=>{Y||r("reset-flow")},oe=Me(()=>[{type:Yr.month,index:1,toggle:Ee,modelValue:me.value,updateModelValue:Y=>me.value=Y,text:ne.value.text,showSelectionGrid:Z.value,items:pe.value,ariaLabel:l.value?.openMonthsOverlay,overlayLabel:l.value.monthPicker?.(!0)??void 0},{type:Yr.year,index:2,toggle:J,modelValue:ie.value,updateModelValue:Y=>ie.value=Y,text:D(i.year),showSelectionGrid:fe.value,items:ve.value,ariaLabel:l.value?.openYearsOverlay,overlayLabel:l.value.yearPicker?.(!0)??void 0}]),L=Me(()=>o.disableYearSelect?[oe.value[0]]:o.yearFirst?[...oe.value].reverse():oe.value);return e({toggleMonthPicker:Ee,toggleYearPicker:J,handleMonthYearChange:m}),(Y,P)=>(ke(),Be("div",L9,[Y.$slots["month-year"]?(ke(),Be("div",F9,[Ge(Y.$slots,"month-year",wr(Nr({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:H(S),handleMonthYearChange:H(m),instance:t.instance,isDisabled:H(b)})))])):(ke(),Be(at,{key:1},[Y.$slots["top-extra"]?(ke(),Be("div",B9,[Ge(Y.$slots,"top-extra",{value:H(a)})])):Ye("",!0),ue("div",j9,[H(_)(t.instance)&&!H(o).vertical?(ke(),It(Nl,{key:0,"aria-label":H(l)?.prevMonth,disabled:H(te)(H(b)(!1)),class:ut(H(d)?.navBtnPrev),"el-name":"action-prev",onActivate:P[0]||(P[0]=I=>H(m)(!1,!0))},{default:st(()=>[Y.$slots["arrow-left"]?Ge(Y.$slots,"arrow-left",{key:0}):Ye("",!0),Y.$slots["arrow-left"]?Ye("",!0):(ke(),It(H(Cx),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ye("",!0),ue("div",{class:ut(["dp__month_year_wrap",{dp__year_disable_select:H(o).disableYearSelect}])},[(ke(!0),Be(at,null,Dt(L.value,I=>(ke(),Be(at,{key:I.type},[ue("button",{type:"button","data-dp-element":`overlay-${I.type}`,class:ut(["dp__btn dp__month_year_select",{"dp--hidden-el":q.value}]),"aria-label":`${I.text}-${I.ariaLabel}`,"data-test-id":`${I.type}-toggle-overlay-${t.instance}`,tabindex:"0","data-dp-action-element":"0",onClick:B=>I.toggle(!1),onKeydown:B=>H(K)(B,()=>I.toggle(),!0)},[Y.$slots[I.type]?Ge(Y.$slots,I.type,{key:0,text:I.text,value:i[I.type]}):Ye("",!0),Y.$slots[I.type]?Ye("",!0):(ke(),Be(at,{key:1},[Pt(Ze(I.text),1)],64))],42,$9),dt(Ra,{name:H(p)(I.showSelectionGrid),css:H(g)},{default:st(()=>[I.showSelectionGrid?(ke(),It(ku,{key:0,items:I.items,"is-last":H(o).autoApply&&!H(c).keepActionRow,"skip-button-ref":!1,type:I.type,"header-refs":[],"menu-wrap-ref":t.menuWrapRef,"overlay-label":I.overlayLabel,onSelected:I.updateModelValue,onToggle:I.toggle},Kn({"button-icon":st(()=>[Y.$slots["calendar-icon"]?Ge(Y.$slots,"calendar-icon",{key:0}):Ye("",!0),Y.$slots["calendar-icon"]?Ye("",!0):(ke(),It(H(Cu),{key:1}))]),_:2},[Y.$slots[`${I.type}-overlay-value`]?{name:"item",fn:st(({item:B})=>[Ge(Y.$slots,`${I.type}-overlay-value`,{text:B.text,value:B.value})]),key:"0"}:void 0,Y.$slots[`${I.type}-overlay`]?{name:"overlay",fn:st(()=>[Ge(Y.$slots,`${I.type}-overlay`,jr({ref_for:!0},X.value(I.type)))]),key:"1"}:void 0,Y.$slots[`${I.type}-overlay-header`]?{name:"header",fn:st(()=>[Ge(Y.$slots,`${I.type}-overlay-header`,{toggle:I.toggle})]),key:"2"}:void 0]),1032,["items","is-last","type","menu-wrap-ref","overlay-label","onSelected","onToggle"])):Ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),H(_)(t.instance)&&H(o).vertical?(ke(),It(Nl,{key:1,"aria-label":H(l)?.prevMonth,"el-name":"action-prev",disabled:H(te)(H(b)(!1)),class:ut(H(d)?.navBtnPrev),onActivate:P[1]||(P[1]=I=>H(m)(!1,!0))},{default:st(()=>[Y.$slots["arrow-up"]?Ge(Y.$slots,"arrow-up",{key:0}):Ye("",!0),Y.$slots["arrow-up"]?Ye("",!0):(ke(),It(H(kx),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ye("",!0),H(y)(t.instance)?(ke(),It(Nl,{key:2,ref:"rightIcon","el-name":"action-next",disabled:H(te)(H(b)(!0)),"aria-label":H(l)?.nextMonth,class:ut(H(d)?.navBtnNext),onActivate:P[2]||(P[2]=I=>H(m)(!0,!0))},{default:st(()=>[Y.$slots[H(o).vertical?"arrow-down":"arrow-right"]?Ge(Y.$slots,H(o).vertical?"arrow-down":"arrow-right",{key:0}):Ye("",!0),Y.$slots[H(o).vertical?"arrow-down":"arrow-right"]?Ye("",!0):(ke(),It(kg(H(o).vertical?H(Tx):H(xx)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):Ye("",!0)])],64))]))}}),W9={class:"dp__calendar_header",role:"row"},V9={key:0,class:"dp__calendar_header_item",role:"gridcell"},H9=["aria-label"],Y9={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},q9={class:"dp__cell_inner"},G9=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","data-dp-element-active","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],z9=xn({__name:"DpCalendar",props:{instance:{},mappedDates:{},month:{},year:{}},emits:["mount","select-date","set-hover-date","handle-scroll","handle-swipe"],setup(t,{expose:e,emit:n}){const r=n,i=t,{getDate:s,rootEmit:o,rootProps:a,defaults:{transitions:l,config:u,ariaLabels:c,multiCalendars:f,weekNumbers:h,multiDates:d,ui:p}}=St(),{isDateAfter:g,isDateEqual:_,resetDateTime:y,getCellId:m}=sr(),{checkKeyDown:b,checkStopPropagation:S,isTouchDevice:E}=Fn(),{formatWeekDay:x}=Hs(),C=on("calendar-wrap"),k=on("active-tooltip"),R=Ne([]),j=Ne(null),K=Ne(!0),D=Ne(!1),ee=Ne(""),te=Ne({bottom:"",left:"",transform:""}),Z=Ne({left:"50%"});K8(C,{onSwipeEnd:(O,z)=>{u.value.noSwipe||(a.vertical?(z==="up"||z==="down")&&r("handle-swipe",z==="up"?"left":"right"):(z==="left"||z==="right")&&r("handle-swipe",z==="right"?"left":"right"))}});const fe=Me(()=>a.calendar?a.calendar(i.mappedDates):i.mappedDates),q=Me(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames():V());ln(()=>{r("mount",{cmp:"calendar",dayRefs:R.value}),u.value.monthChangeOnScroll&&C.value&&C.value.addEventListener("wheel",Y,{passive:!1})}),ki(()=>{u.value.monthChangeOnScroll&&C.value&&C.value.removeEventListener("wheel",Y)});const re=O=>O?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",me=(O,z)=>{if(a.transitions){const W=y(wt(s(),{month:i.month,year:i.year}));ee.value=g(y(wt(s(),{month:O,year:z})),W)?l.value[re(!0)]:l.value[re(!1)],K.value=!1,Ln(()=>{K.value=!0})}},ie=Me(()=>({...p.value.calendar})),X=O=>({type:"dot",...O}),ne=Me(()=>O=>{const z=X(O);return{dp__marker_dot:z.type==="dot",dp__marker_line:z.type==="line"}}),pe=Me(()=>O=>_(O,j.value)),ve=Me(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),ge=Me(()=>O=>a.hideOffsetDates?O.current:!0),Ee=async(O,z)=>{const{width:W,height:U}=O.getBoundingClientRect();j.value=z.value;let Q={left:`${W/2}px`},he=-50;if(await Ln(),k.value?.[0]){const{left:le,width:Oe}=k.value[0].getBoundingClientRect();le<0&&(Q={left:"0"},he=0,Z.value.left=`${W/2}px`),globalThis.innerWidth<le+Oe&&(Q={right:"0"},he=0,Z.value.left=`${Oe-W/2}px`)}te.value={bottom:`${U}px`,...Q,transform:`translateX(${he}%)`}},J=async(O,z,W)=>{const U=Cr(R.value?.[z]?.[W]);U&&(O.marker?.customPosition&&O.marker?.tooltip?.length?te.value=O.marker.customPosition(U):await Ee(U,O),o("tooltip-open",O.marker))},G=async(O,z,W)=>{if(D.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",O);if(r("set-hover-date",O),O.marker?.tooltip?.length){if(a.hideOffsetDates&&!O.current)return;await J(O,z,W)}},oe=O=>{j.value&&(j.value=null,te.value=structuredClone({bottom:"",left:"",transform:""}),o("tooltip-close",O.marker))},L=(O,z,W)=>{O&&(Array.isArray(R.value[z])?R.value[z][W]=O:R.value[z]=[O])},Y=O=>{u.value.monthChangeOnScroll&&(O.preventDefault(),r("handle-scroll",O))},P=O=>h.value?h.value.type==="local"?W0(O.value,{weekStartsOn:+a.weekStart,locale:a.locale}):h.value.type==="iso"?$0(O.value):typeof h.value.type=="function"?h.value.type(O.value):"":"",I=O=>{const z=O[0];return h.value?.hideOnOffsetDates?O.some(W=>W.current)?P(z):"":P(z)},B=(O,z,W=!0)=>{!W&&E()||(!d.value.enabled||u.value.allowPreventDefault)&&(S(O,u.value),r("select-date",z))},N=O=>{S(O,u.value)},M=O=>{d.value.enabled&&d.value.dragSelect?(D.value=!0,r("select-date",O)):d.value.enabled&&r("select-date",O)},V=()=>{const O=s(),z=Ur(O,{locale:a.locale,weekStartsOn:+a.weekStart}),W=j0(O,{locale:a.locale,weekStartsOn:+a.weekStart});return B0({start:z,end:W}).map(U=>x(U))};return e({triggerTransition:me}),(O,z)=>(ke(),Be("div",{class:ut(ve.value)},[ue("div",{ref:"calendar-wrap",class:ut(ie.value),role:"grid"},[ue("div",W9,[H(h)?(ke(),Be("div",V9,Ze(H(h).label),1)):Ye("",!0),(ke(!0),Be(at,null,Dt(q.value,(W,U)=>(ke(),Be("div",{key:U,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":H(c)?.weekDay?.(U)},[Ge(O.$slots,"calendar-header",{day:W,index:U},()=>[Pt(Ze(W),1)])],8,H9))),128))]),z[2]||(z[2]=ue("div",{class:"dp__calendar_header_separator"},null,-1)),dt(Ra,{name:ee.value,css:!!H(l)},{default:st(()=>[K.value?(ke(),Be("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:z[1]||(z[1]=W=>D.value=!1)},[(ke(!0),Be(at,null,Dt(fe.value,(W,U)=>(ke(),Be("div",{key:U,class:"dp__calendar_row",role:"row"},[H(h)?(ke(),Be("div",Y9,[ue("div",q9,Ze(I(W.days)),1)])):Ye("",!0),(ke(!0),Be(at,null,Dt(W.days,(Q,he)=>(ke(),Be("div",{id:H(m)(Q.value),ref_for:!0,ref:le=>L(le,U,he),key:he+U,role:"gridcell",class:"dp__calendar_item","aria-selected":(Q.classData.dp__active_date||Q.classData.dp__range_start||Q.classData.dp__range_end)??void 0,"aria-disabled":Q.classData.dp__cell_disabled||void 0,"aria-label":H(c)?.day?.(Q),tabindex:!Q.current&&H(a).hideOffsetDates?void 0:0,"data-test-id":H(m)(Q.value),"data-dp-element-active":Q.classData.dp__active_date?0:void 0,"data-dp-action-element":"0",onClick:Ci(le=>B(le,Q),["prevent"]),onTouchend:le=>B(le,Q,!1),onKeydown:le=>H(b)(le,()=>O.$emit("select-date",Q)),onMouseenter:le=>G(Q,U,he),onMouseleave:le=>oe(Q),onMousedown:le=>M(Q),onMouseup:z[0]||(z[0]=le=>D.value=!1)},[ue("div",{class:ut(["dp__cell_inner",Q.classData])},[O.$slots.day&&ge.value(Q)?Ge(O.$slots,"day",{key:0,day:+Q.text,date:Q.value}):Ye("",!0),O.$slots.day?Ye("",!0):(ke(),Be(at,{key:1},[Pt(Ze(Q.text),1)],64)),Q.marker&&ge.value(Q)?Ge(O.$slots,"marker",{key:2,marker:Q.marker,day:+Q.text,date:Q.value},()=>[ue("div",{class:ut(ne.value(Q.marker)),style:Nn(Q.marker.color?{backgroundColor:Q.marker.color}:{})},null,6)]):Ye("",!0),pe.value(Q.value)?(ke(),Be("div",{key:3,ref_for:!0,ref:"active-tooltip",class:"dp__marker_tooltip",style:Nn(te.value)},[Q.marker?.tooltip?(ke(),Be("div",{key:0,class:"dp__tooltip_content",onClick:N},[(ke(!0),Be(at,null,Dt(Q.marker.tooltip,(le,Oe)=>(ke(),Be("div",{key:Oe,class:"dp__tooltip_text"},[Ge(O.$slots,"marker-tooltip",{tooltip:le,day:Q.value},()=>[ue("div",{class:"dp__tooltip_mark",style:Nn(le.color?{backgroundColor:le.color}:{})},null,4),ue("div",null,Ze(le.text),1)])]))),128)),ue("div",{class:"dp__arrow_bottom_tp",style:Nn(Z.value)},null,4)])):Ye("",!0)],4)):Ye("",!0)],2)],40,G9))),128))]))),128))],32)):Ye("",!0)]),_:3},8,["name","css"])],2)],2))}}),K9=(t,e,n,r)=>{const i=Ne([]),s=Ne(new Date),o=Ne(),{getDate:a,rootEmit:l,calendars:u,month:c,year:f,time:h,modelValue:d,rootProps:p,today:g,state:_,defaults:{multiCalendars:y,startTime:m,range:b,config:S,safeDates:E,multiDates:x,timeConfig:C,flow:k}}=St(),{validateMonthYearInRange:R,isDisabled:j,isDateRangeAllowed:K,checkMinMaxRange:D}=Wr(),{updateTimeValues:ee,getSetDateTime:te,assignTime:Z,assignStartTime:fe,validateTime:q,disabledTimesConfig:re}=Lx(r),{formatDay:me}=Hs(),{resetDateTime:ie,setTime:X,isDateBefore:ne,isDateEqual:pe,getDaysInBetween:ve}=sr(),{checkRangeAutoApply:ge,getRangeWithFixedDate:Ee,handleMultiDatesSelect:J,setPresetDate:G}=mh(),{getMapDate:oe}=Fn();Au(()=>M(_.isTextInputDate));const L=Se=>!S.value.keepViewOnOffsetClick||Se?!0:!o.value,Y=(Se,je,Je,rt=!1)=>{L(rt)&&(u.value[Se]??=u.value[Se]={month:0,year:0},u.value[Se].month=je??u.value[Se]?.month,u.value[Se].year=Je??u.value[Se]?.year)},P=()=>{p.autoApply&&e("select-date")},I=()=>{m.value&&fe(m.value)};ln(()=>{d.value||(F(),I()),M(!0),p.focusStartDate&&p.startDate&&F()});const B=Me(()=>k.value?.steps?.length&&!k.value?.partial?t.flowStep===k.value.steps.length:!0),N=()=>{p.autoApply&&B.value&&e("auto-apply",k.value?.partial?t.flowStep!==k.value?.steps?.length:!1)},M=(Se=!1)=>{if(d.value)return Array.isArray(d.value)?(i.value=d.value,le(Se)):W(d.value,Se);if(y.value.count&&Se&&!p.startDate)return z(a(),Se)},V=()=>Array.isArray(d.value)&&b.value.enabled?Ct(d.value[0])===Ct(d.value[1]??d.value[0]):!1,O=Se=>{const je=Qr(Se,1);return{month:Ct(je),year:ht(je)}},z=(Se=a(),je=!1)=>{if((!y.value.count||!y.value.static||je)&&Y(0,Ct(Se),ht(Se)),y.value.count&&(!d.value||V()||!y.value.solo)&&(!y.value.solo||je))for(let Je=1;Je<y.value.count;Je++){const rt=wt(a(),{month:c.value(Je-1),year:f.value(Je-1)}),Bt=sx(rt,{months:1});u.value[Je]={month:Ct(Bt),year:ht(Bt)}}},W=(Se,je)=>{z(Se),Z("hours",Ai(Se)),Z("minutes",rs(Se)),Z("seconds",Bs(Se)),y.value.count&&je&&A()},U=Se=>{if(y.value.count){if(y.value.solo)return 0;const je=Ct(Se[0]),Je=Ct(Se[1]);return Math.abs(Je-je)<y.value.count?0:1}return 1},Q=(Se,je)=>{Se[1]&&b.value.showLastInRange?z(Se[U(Se)],je):z(Se[0],je);const Je=(rt,Bt)=>[rt(Se[0]),Se?.[1]?rt(Se[1]):h[Bt][1]];Z("hours",Je(Ai,"hours")),Z("minutes",Je(rs,"minutes")),Z("seconds",Je(Bs,"seconds"))},he=(Se,je)=>{if((b.value.enabled||p.weekPicker)&&!x.value.enabled)return Q(Se,je);if(x.value.enabled&&je){const Je=Se[Se.length-1];return W(Je,je)}},le=Se=>{const je=d.value;he(je,Se),y.value.count&&y.value.solo&&A()},Oe=(Se,je)=>{const Je=wt(a(),{month:c.value(je),year:f.value(je)}),rt=Se<0?Qr(Je,1):Da(Je,1);R(Ct(rt),ht(rt),Se<0,p.preventMinMaxNavigation)&&(Y(je,Ct(rt),ht(rt)),l("update-month-year",{instance:je,month:Ct(rt),year:ht(rt)}),y.value.count&&!y.value.solo&&w(je),n())},w=Se=>{for(let je=Se-1;je>=0;je--){const Je=Da(wt(a(),{month:c.value(je+1),year:f.value(je+1)}),1);Y(je,Ct(Je),ht(Je))}for(let je=Se+1;je<=y.value.count-1;je++){const Je=Qr(wt(a(),{month:c.value(je-1),year:f.value(je-1)}),1);Y(je,Ct(Je),ht(Je))}},A=()=>{if(Array.isArray(d.value)&&d.value.length===2){const Se=a(a(d.value[1]??Qr(d.value[0],1))),[je,Je]=[Ct(d.value[0]),ht(d.value[0])],[rt,Bt]=[Ct(d.value[1]),ht(d.value[1])];(je!==rt||je===rt&&Je!==Bt)&&y.value.solo&&Y(1,Ct(Se),ht(Se))}else d.value&&!Array.isArray(d.value)&&(Y(0,Ct(d.value),ht(d.value)),z(a()))},F=()=>{p.startDate&&(Y(0,Ct(a(p.startDate)),ht(a(p.startDate))),y.value.count&&w(0))},de=(Se,je)=>{if(S.value.monthChangeOnScroll){const Je=Date.now()-s.value.getTime(),rt=Math.abs(Se.deltaY);let Bt=500;rt>1&&(Bt=100),rt>100&&(Bt=0),Je>Bt&&(s.value=new Date,Oe(S.value.monthChangeOnScroll==="inverse"?Se.deltaY:-Se.deltaY,je))}},_e=(Se,je,Je=!1)=>{S.value.monthChangeOnArrows&&p.vertical===Je&&xe(Se,je)},xe=(Se,je)=>{Oe(Se==="right"?-1:1,je)},Re=Se=>{if(E.value.markers)return oe(Se.value,E.value.markers)},ye=(Se,je)=>{switch(p.sixWeeks===!0?"append":p.sixWeeks){case"prepend":return[!0,!1];case"center":return[Se==0,!0];case"fair":return[Se==0||je>Se,!0];case"append":return[!1,!1];default:return[!1,!1]}},Ce=(Se,je,Je,rt)=>{if(p.sixWeeks&&Se.length<6){const Bt=6-Se.length,Cn=(je.getDay()+7-rt)%7,In=6-(Je.getDay()+7-rt)%7,[Xn,Pn]=ye(Cn,In);for(let kt=1;kt<=Bt;kt++)if(Pn?!!(kt%2)==Xn:Xn){const Tt=Se[0].days[0],Yn=Ue(Rr(Tt.value,-7),Ct(je));Se.unshift({days:Yn})}else{const Tt=Se[Se.length-1],Yn=Tt.days[Tt.days.length-1],qn=Ue(Rr(Yn.value,1),Ct(je));Se.push({days:qn})}}return Se},Ue=(Se,je)=>{const Je=a(Se),rt=[];for(let Bt=0;Bt<7;Bt++){const Cn=Rr(Je,Bt),In=Ct(Cn)!==je;rt.push({text:p.hideOffsetDates&&In?"":me(Cn),value:Cn,current:!In,classData:{}})}return rt},He=(Se,je)=>{const Je=[],rt=a(new Date(je,Se)),Bt=a(new Date(je,Se+1,0)),Cn=p.weekStart,In=Ur(rt,{weekStartsOn:Cn}),Xn=Pn=>{const kt=Ue(Pn,Se);if(Je.push({days:kt}),!Je[Je.length-1].days.some(Tt=>pe(a(Tt.value),ie(Bt)))){const Tt=Rr(Pn,7);Xn(Tt)}};return Xn(In),Ce(Je,rt,Bt,Cn)},tt=Se=>{const je=X({hours:h.hours,minutes:h.minutes,seconds:Bn()},a(Se.value));l("date-click",je),x.value.enabled?J(je,x.value.limit):d.value=je,r(),Ln().then(()=>{N()})},nt=Se=>b.value.noDisabledRange?ve(i.value[0],Se).some(je=>j(je)):!1,Ke=()=>{i.value=d.value?d.value.slice().filter(Se=>!!Se):[],i.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(i.value=[])},Qt=(Se,je)=>{const Je=[a(Se.value),Rr(a(Se.value),+b.value.autoRange)];K(Je)?(je&&Nt(Se.value),i.value=Je):l("invalid-date",Se.value)},Nt=Se=>{const je=Ct(a(Se)),Je=ht(a(Se));if(Y(0,je,Je),y.value.count>0)for(let rt=1;rt<y.value.count;rt++){const Bt=O(wt(a(Se),{year:f.value(rt-1),month:c.value(rt-1)}));Y(rt,Bt.month,Bt.year)}},An=Se=>{if(nt(Se.value)||!D(Se.value,d.value,b.value.fixedStart?0:1))return l("invalid-date",Se.value);i.value=Ee(a(Se.value))},kn=(Se,je)=>{if(Ke(),b.value.autoRange)return Qt(Se,je);if(b.value.fixedStart||b.value.fixedEnd)return An(Se);i.value[0]?D(a(Se.value),d.value)&&!nt(Se.value)?ne(a(Se.value),a(i.value[0]))?b.value.autoSwitchStartEnd?(i.value.unshift(a(Se.value)),l("range-end",i.value[0])):(i.value[0]=a(Se.value),l("range-start",i.value[0])):(i.value[1]=a(Se.value),l("range-end",i.value[1])):l("invalid-date",Se.value):(i.value[0]=a(Se.value),l("range-start",i.value[0]))},Bn=(Se=!0)=>C.value.enableSeconds?Array.isArray(h.seconds)?Se?h.seconds[0]:h.seconds[1]:h.seconds:0,Sn=Se=>{i.value[Se]=X({hours:h.hours[Se],minutes:h.minutes[Se],seconds:Bn(Se!==1)},i.value[Se])},us=()=>{i.value[0]&&i.value[1]&&+i.value?.[0]>+i.value?.[1]&&(i.value.reverse(),l("range-start",i.value[0]),l("range-end",i.value[1]))},ai=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Sn(0):(Sn(0),Sn(1),r()),us(),d.value=i.value.slice(),ge(i.value,e,i.value.length<2||k.value?.steps.length?t.flowStep!==k.value?.steps?.length:!1))},Pi=(Se,je=!1)=>{if(j(Se.value)||!Se.current&&p.hideOffsetDates)return l("invalid-date",Se.value);if(o.value=structuredClone(Se),!b.value.enabled)return tt(Se);Array.isArray(h.hours)&&Array.isArray(h.minutes)&&!x.value.enabled&&(kn(Se,je),ai())},ae=(Se,je)=>{Y(Se,je.month,je.year,!0),y.value.count&&!y.value.solo&&w(Se),l("update-month-year",{instance:Se,month:je.month,year:je.year}),n(y.value.solo?Se:void 0);const Je=k.value?.steps?.length?k.value.steps[t.flowStep]:void 0;!je.fromNav&&(Je===fr.month||Je===fr.year)&&r()},ce=Se=>{G({value:Se}),P(),p.multiCalendars&&Ln().then(()=>M(!0))},Fe=()=>{let Se=a();return p.actionRow?.nowBtnRound&&(Se=KB(Se,{roundingMethod:p.actionRow.nowBtnRound.rounding??"ceil",nearestTo:p.actionRow.nowBtnRound.roundTo??15})),Se},Ve=()=>{const Se=Fe();!b.value.enabled&&!x.value.enabled?d.value=Se:d.value&&Array.isArray(d.value)&&d.value[0]?x.value.enabled?d.value=[...d.value,Se]:d.value=ne(Se,d.value[0])?[Se,d.value[0]]:[d.value[0],Se]:d.value=[Se],P()},ze=()=>{if(Array.isArray(d.value))if(x.value.enabled){const Se=un();d.value[d.value.length-1]=te(Se)}else d.value=d.value.map((Se,je)=>Se&&te(Se,je));else d.value=te(d.value);e("time-update")},un=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,Tn=Se=>{let je="";if(b.value.enabled&&Array.isArray(d.value))for(const Je of Object.keys(Se)){const rt=Se[Je];Array.isArray(rt)&&(h[Je][0]!==rt[0]&&(je="range-start"),h[Je][1]!==rt[1]&&(je="range-start"))}return je};return{calendars:u,modelValue:d,month:c,year:f,time:h,disabledTimesConfig:re,today:g,validateTime:q,getCalendarDays:He,getMarker:Re,handleScroll:de,handleSwipe:xe,handleArrow:_e,selectDate:Pi,updateMonthYear:ae,presetDate:ce,selectCurrentDate:Ve,updateTime:Se=>{const je=Tn(Se);ee(Se,ze),je&&l(je,d.value[je==="range-start"?0:1])},assignMonthAndYear:z,setStartTime:I}},Q9=()=>{const{isModelAuto:t,matchDate:e,isDateAfter:n,isDateBefore:r,isDateBetween:i,isDateEqual:s,getWeekFromDate:o,getBeforeAndAfterInRange:a}=sr(),{getDate:l,today:u,rootProps:c,defaults:{multiCalendars:f,multiDates:h,ui:d,highlight:p,safeDates:g,range:_},modelValue:y}=St(),{isDisabled:m}=Wr(),b=Ne(null),S=O=>{!O.current&&c.hideOffsetDates||(b.value=O.value)},E=()=>{b.value=null},x=O=>Array.isArray(y.value)&&_.value.enabled&&y.value[0]&&b.value?O?n(b.value,y.value[0]):r(b.value,y.value[0]):!0,C=(O,z)=>{const W=()=>y.value?z?y.value[0]||null:y.value[1]:null,U=y.value&&Array.isArray(y.value)?W():null;return s(l(O.value),U)},k=O=>{const z=Array.isArray(y.value)?y.value[0]:null;return O?!r(b.value,z):!0},R=(O,z=!0)=>(_.value.enabled||c.weekPicker)&&Array.isArray(y.value)&&y.value.length===2?c.hideOffsetDates&&!O.current?!1:s(l(O.value),y.value[z?0:1]):_.value.enabled?C(O,z)&&k(z)||s(O.value,Array.isArray(y.value)?y.value[0]:null)&&x(z):!1,j=(O,z)=>{if(Array.isArray(y.value)&&y.value[0]&&y.value.length===1){const W=s(O.value,b.value);return z?n(y.value[0],O.value)&&W:r(y.value[0],O.value)&&W}return!1},K=O=>!y.value||c.hideOffsetDates&&!O.current?!1:_.value.enabled?c.modelAuto&&Array.isArray(y.value)?s(O.value,y.value[0]??u):!1:h.value.enabled&&Array.isArray(y.value)?y.value.some(z=>s(z,O.value)):s(O.value,y.value?y.value:u),D=O=>{if(_.value.autoRange||c.weekPicker){if(b.value){if(c.hideOffsetDates&&!O.current)return!1;const z=Rr(b.value,+_.value.autoRange),W=o(l(b.value),c.weekStart);return c.weekPicker?s(W[1],l(O.value)):s(z,l(O.value))}return!1}return!1},ee=O=>{if(_.value.autoRange||c.weekPicker){if(b.value){const z=Rr(b.value,+_.value.autoRange);if(c.hideOffsetDates&&!O.current)return!1;const W=o(l(b.value),c.weekStart);return c.weekPicker?n(O.value,W[0])&&r(O.value,W[1]):n(O.value,b.value)&&r(O.value,z)}return!1}return!1},te=O=>{if(_.value.autoRange||c.weekPicker){if(b.value){if(c.hideOffsetDates&&!O.current)return!1;const z=o(l(b.value),c.weekStart);return c.weekPicker?s(z[0],O.value):s(b.value,O.value)}return!1}return!1},Z=O=>i(y.value,b.value,O.value),fe=()=>c.modelAuto&&Array.isArray(y.value)?!!y.value[0]:!1,q=()=>c.modelAuto?t(y.value):!0,re=O=>{if(c.weekPicker)return!1;const z=_.value.enabled?!R(O)&&!R(O,!1):!0;return!m(O.value)&&!K(O)&&!(!O.current&&c.hideOffsetDates)&&z},me=O=>_.value.enabled?c.modelAuto?fe()&&K(O):!1:K(O),ie=O=>p.value?e(O.value,g.value.highlight):!1,X=O=>{const z=m(O.value);return z&&(typeof p.value=="function"?!p.value(O.value,z):!p.value.options.highlightDisabled)},ne=O=>typeof p.value=="function"?p.value(O.value):p.value.weekdays?.includes(O.value.getDay()),pe=O=>(_.value.enabled||c.weekPicker)&&(!(f.value.count>0)||O.current)&&q()&&!(!O.current&&c.hideOffsetDates)&&!K(O)?Z(O):!1,ve=O=>{if(Array.isArray(y.value)&&y.value.length===1){const{before:z,after:W}=a(+_.value.maxRange,y.value[0]);return qi(O.value,z)||_i(O.value,W)}return!1},ge=O=>{if(Array.isArray(y.value)&&y.value.length===1){const{before:z,after:W}=a(+_.value.minRange,y.value[0]);return i([z,W],y.value[0],O.value)}return!1},Ee=O=>_.value.enabled&&(_.value.maxRange||_.value.minRange)?_.value.maxRange&&_.value.minRange?ve(O)||ge(O):_.value.maxRange?ve(O):ge(O):!1,J=O=>{const{isRangeStart:z,isRangeEnd:W}=Y(O),U=_.value.enabled?z||W:!1;return{dp__cell_offset:!O.current,dp__pointer:!c.disabled&&!(!O.current&&c.hideOffsetDates)&&!m(O.value)&&!Ee(O),dp__cell_disabled:m(O.value)||Ee(O),dp__cell_highlight:!X(O)&&(ie(O)||ne(O))&&!me(O)&&!U&&!te(O)&&!(pe(O)&&c.weekPicker)&&!W,dp__cell_highlight_active:!X(O)&&(ie(O)||ne(O))&&me(O),dp__today:!c.noToday&&s(O.value,u)&&O.current,"dp--past":r(O.value,u),"dp--future":n(O.value,u)}},G=O=>({dp__active_date:me(O),dp__date_hover:re(O)}),oe=O=>{if(y.value&&!Array.isArray(y.value)){const z=o(y.value,c.weekStart);return{...M(O),dp__range_start:s(z[0],O.value),dp__range_end:s(z[1],O.value),dp__range_between_week:n(O.value,z[0])&&r(O.value,z[1])}}return{...M(O)}},L=O=>{if(y.value&&Array.isArray(y.value)){const z=o(y.value[0],c.weekStart),W=y.value[1]?o(y.value[1],c.weekStart):[];return{...M(O),dp__range_start:s(z[0],O.value)||s(W[0],O.value),dp__range_end:s(z[1],O.value)||s(W[1],O.value),dp__range_between_week:n(O.value,z[0])&&r(O.value,z[1])||n(O.value,W[0])&&r(O.value,W[1]),dp__range_between:n(O.value,z[1])&&r(O.value,W[0])}}return{...M(O)}},Y=O=>{const z=f.value.count>0?O.current&&R(O)&&q():R(O)&&q(),W=f.value.count>0?O.current&&R(O,!1)&&q():R(O,!1)&&q();return{isRangeStart:z,isRangeEnd:W}},P=O=>_.value.enabled&&(_.value.fixedStart||_.value.fixedEnd)&&Array.isArray(y.value)&&y.value.length===2,I=(O,z,W,U)=>!P(y.value)||!b.value?!1:z?_.value.fixedEnd&&s(O.value,b.value)&&qi(O.value,y.value[0])&&!W:_.value.fixedStart&&s(O.value,b.value)&&_i(O.value,y.value[1])&&!U,B=(O,z)=>!P(y.value)||!b.value?!1:z?_.value.fixedEnd&&_i(O.value,b.value)&&qi(O.value,y.value[0]):_.value.fixedStart&&qi(O.value,b.value)&&_i(O.value,y.value[1]),N=O=>{const{isRangeStart:z,isRangeEnd:W}=Y(O);return{dp__range_start:z,dp__range_end:W,dp__range_between:pe(O),dp__date_hover:s(O.value,b.value)&&!z&&!W&&!c.weekPicker,dp__date_hover_start:j(O,!0)||I(O,!0,z,W),dp__date_hover_end:j(O,!1)||I(O,!1,z,W),"dp--extended-fixed-start":B(O,!0),"dp--extended-fixed-end":B(O,!1)}},M=O=>({...N(O),dp__cell_auto_range:ee(O),dp__cell_auto_range_start:te(O),dp__cell_auto_range_end:D(O)}),V=O=>_.value.enabled?_.value.autoRange?M(O):c.modelAuto?{...G(O),...N(O)}:c.weekPicker?L(O):N(O):c.weekPicker?oe(O):G(O);return{setHoverDate:S,clearHoverDate:E,getDayClassData:O=>c.hideOffsetDates&&!O.current?{}:{...J(O),...V(O),[d.value.dayClass?d.value.dayClass(O.value,y.value):""]:!0,...d.value.calendarCell}}},X9={key:0},J9=xn({__name:"DatePicker",props:J2({flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},K7),emits:["mount","update-flow-step","reset-flow","focus-menu","select-date","time-update","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{month:s,year:o,modelValue:a,time:l,disabledTimesConfig:u,today:c,validateTime:f,getCalendarDays:h,getMarker:d,handleArrow:p,handleScroll:g,handleSwipe:_,selectDate:y,updateMonthYear:m,presetDate:b,selectCurrentDate:S,updateTime:E,assignMonthAndYear:x,setStartTime:C}=K9(i,r,G,oe),k=$s(),{setHoverDate:R,getDayClassData:j,clearHoverDate:K}=Q9(),{getDate:D,rootEmit:ee,rootProps:te,defaults:{multiCalendars:Z,timeConfig:fe}}=St(),{getYears:q,getMonths:re}=hh(),{getCellId:me}=sr(),ie=on("calendar-header"),X=on("calendar"),ne=on("time-picker"),pe=Si(k,Zr.Calendar),ve=Si(k,Zr.DatePickerHeader),ge=Si(k,Zr.TimePicker),Ee=V=>{r("mount",V)};En(Z,(V,O)=>{V.count-O.count>0&&x()},{deep:!0});const J=Me(()=>V=>h(s.value(V),o.value(V)).map(O=>({...O,days:O.days.map(z=>(z.marker=d(z),z.classData=j(z),z))})));function G(V){V||V===0?X.value?.[V]?.triggerTransition(s.value(V),o.value(V)):X.value?.forEach((O,z)=>O?.triggerTransition(s.value(z),o.value(z)))}function oe(){r("update-flow-step")}const L=(V,O,z=0)=>{ie.value?.[z]?.toggleMonthPicker(V,O)},Y=(V,O,z=0)=>{ie.value?.[z]?.toggleYearPicker(V,O)},P=(V,O,z)=>{ne.value?.toggleTimePicker(V,O,z)},I=(V,O)=>{if(!te.range){const z=a.value?a.value:c,W=O?D(O):z,U=V?Ur(W,{weekStartsOn:1}):j0(W,{weekStartsOn:1});y({value:U,current:Ct(W)===s.value(0),text:"",classData:{}}),document.getElementById(me(U))?.focus()}},B=V=>{ie.value?.[0]?.handleMonthYearChange(V,!0)},N=V=>{m(0,{month:s.value(0),year:o.value(0)+(V?1:-1),fromNav:!0})},M=V=>{ee("overlay-toggle",{open:!1,overlay:V}),r("focus-menu")};return e({clearHoverDate:K,presetDate:b,selectCurrentDate:S,handleArrow:p,updateMonthYear:m,setStartTime:C,toggleMonthPicker:L,toggleYearPicker:Y,toggleTimePicker:P,getSidebarProps:()=>({modelValue:a,month:s,year:o,time:l,updateTime:E,updateMonthYear:m,selectDate:y,presetDate:b}),changeMonth:B,changeYear:N,selectWeekDate:I}),(V,O)=>(ke(),Be(at,null,[dt(ph,{collapse:t.collapse},{default:st(({instances:z,wrapClass:W})=>[(ke(!0),Be(at,null,Dt(z,U=>(ke(),Be("div",{key:U,class:ut(W)},[H(te).hideMonthYearSelect?Ye("",!0):(ke(),It(U9,{key:0,ref_for:!0,ref:"calendar-header",months:H(re)(),years:H(q)(),month:H(s)(U),year:H(o)(U),instance:U,"menu-wrap-ref":t.menuWrapRef,onMount:O[0]||(O[0]=Q=>Ee(H(Co).header)),onResetFlow:O[1]||(O[1]=Q=>V.$emit("reset-flow")),onUpdateMonthYear:Q=>H(m)(U,Q),onOverlayClosed:M},Kn({_:2},[Dt(H(ve),(Q,he)=>({name:Q,fn:st(le=>[Ge(V.$slots,Q,jr({ref_for:!0},le))])}))]),1032,["months","years","month","year","instance","menu-wrap-ref","onUpdateMonthYear"])),dt(z9,{ref_for:!0,ref:"calendar","mapped-dates":J.value(U),instance:U,month:H(s)(U),year:H(o)(U),onSelectDate:Q=>H(y)(Q,U!==1),onSetHoverDate:O[2]||(O[2]=Q=>H(R)(Q)),onHandleScroll:Q=>H(g)(Q,U),onHandleSwipe:Q=>H(_)(Q,U),onMount:O[3]||(O[3]=Q=>Ee(H(Co).calendar))},Kn({_:2},[Dt(H(pe),(Q,he)=>({name:Q,fn:st(le=>[Ge(V.$slots,Q,jr({ref_for:!0},le))])}))]),1032,["mapped-dates","instance","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2))),128))]),_:3},8,["collapse"]),H(fe).enableTimePicker?(ke(),Be("div",X9,[Ge(V.$slots,"time-picker",wr(Nr({time:H(l),updateTime:H(E)})),()=>[dt(Nx,{ref:"time-picker",hours:H(l).hours,minutes:H(l).minutes,seconds:H(l).seconds,"disabled-times-config":H(u),"validate-time":H(f),"no-overlay-focus":t.noOverlayFocus,onMount:O[4]||(O[4]=z=>Ee(H(Co).timePicker)),"onUpdate:hours":O[5]||(O[5]=z=>H(E)({hours:z,minutes:H(l).minutes,seconds:H(l).seconds})),"onUpdate:minutes":O[6]||(O[6]=z=>H(E)({hours:H(l).hours,minutes:z,seconds:H(l).seconds})),"onUpdate:seconds":O[7]||(O[7]=z=>H(E)({hours:H(l).hours,minutes:H(l).minutes,seconds:z})),onResetFlow:O[8]||(O[8]=z=>V.$emit("reset-flow"))},Kn({_:2},[Dt(H(ge),(z,W)=>({name:z,fn:st(U=>[Ge(V.$slots,z,wr(Nr(U)))])}))]),1032,["hours","minutes","seconds","disabled-times-config","validate-time","no-overlay-focus"])])])):Ye("",!0)],64))}}),Z9=(t,e)=>{const{getDate:n,modelValue:r,year:i,calendars:s,defaults:{highlight:o,range:a,multiDates:l}}=St(),{isDateBetween:u,isDateEqual:c}=sr(),{checkRangeAutoApply:f,handleMultiDatesSelect:h,setMonthOrYearRange:d}=mh();Au();const{isDisabled:p}=Wr(),{formatQuarterText:g}=Hs(),{selectYear:_,groupedYears:y,showYearPicker:m,isDisabled:b,toggleYearPicker:S,handleYearSelect:E,handleYear:x,setStartDate:C}=Rx(e),k=Ne();ln(()=>{C()});const R=Me(()=>q=>r.value?Array.isArray(r.value)?r.value.some(re=>Hw(q,re)):Hw(r.value,q):!1),j=q=>{if(a.value.enabled){if(Array.isArray(r.value)){const re=c(q,r.value[0])||c(q,r.value[1]);return u(r.value,k.value,q)&&!re}return!1}return!1},K=(q,re)=>q.quarter===Bw(re)&&q.year===ht(re),D=q=>typeof o.value=="function"?o.value({quarter:Bw(q),year:ht(q)}):o.value.quarters.some(re=>K(re,q)),ee=Me(()=>q=>{const re=wt(n(),{year:i.value(q)});return rF({start:ba(re),end:cx(re)}).map(me=>{const ie=yo(me),X=jw(me),ne=p(me),pe=j(ie),ve=D(ie);return{text:g(ie,X),value:ie,active:R.value(ie),highlighted:ve,disabled:ne,isBetween:pe}})}),te=q=>{h(q,l.value.limit),e("auto-apply",!0)},Z=q=>{r.value=d(q),f(r.value,e,r.value.length<2)},fe=q=>{r.value=q,e("auto-apply")};return{groupedYears:y,year:i,isDisabled:b,quarters:ee,showYearPicker:m,modelValue:r,selectYear:_,toggleYearPicker:S,handleYearSelect:E,handleYear:x,setHoverDate:q=>{k.value=q},selectQuarter:(q,re,me)=>{if(!me)return s.value[re].month=Ct(jw(q)),l.value.enabled?te(q):a.value.enabled?Z(q):fe(q)}}},ej={class:"dp--quarter-items"},tj=["data-test-id","disabled","onClick","onMouseover"],nj=xn({__name:"QuarterPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaults:{config:s}}=St(),o=$s(),{boolHtmlAttribute:a}=Ya(),l=Si(o,Zr.YearMode),{groupedYears:u,year:c,isDisabled:f,quarters:h,modelValue:d,showYearPicker:p,setHoverDate:g,selectQuarter:_,toggleYearPicker:y,handleYearSelect:m,handleYear:b}=Z9(i,r);return e({getSidebarProps:()=>({modelValue:d,year:c,selectQuarter:_,handleYearSelect:m,handleYear:b})}),(S,E)=>(ke(),It(ph,{collapse:t.collapse,stretch:""},{default:st(({instances:x,wrapClass:C})=>[(ke(!0),Be(at,null,Dt(x,k=>(ke(),Be("div",{key:k,class:ut(C)},[ue("div",{class:"dp-quarter-picker-wrap",style:Nn({minHeight:`${H(s).modeHeight}px`})},[S.$slots["top-extra"]?Ge(S.$slots,"top-extra",{key:0,value:H(d)}):Ye("",!0),ue("div",null,[dt(Dx,{items:H(u)(k),instance:k,"show-year-picker":H(p)[k],year:H(c)(k),"is-disabled":R=>H(f)(k,R),onHandleYear:R=>H(b)(k,R),onYearSelect:R=>H(m)(R,k),onToggleYearPicker:R=>H(y)(k,R?.flow,R?.show)},Kn({_:2},[Dt(H(l),(R,j)=>({name:R,fn:st(K=>[Ge(S.$slots,R,jr({ref_for:!0},K))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ue("div",ej,[(ke(!0),Be(at,null,Dt(H(h)(k),(R,j)=>(ke(),Be("div",{key:j},[ue("button",{type:"button",class:ut(["dp--qr-btn",{"dp--qr-btn-active":R.active,"dp--qr-btn-between":R.isBetween,"dp--qr-btn-disabled":R.disabled,"dp--highlighted":R.highlighted}]),"data-dp-action-element":"0","data-test-id":R.value,disabled:H(a)(R.disabled),onClick:K=>H(_)(R.value,k,R.disabled),onMouseover:K=>H(g)(R.value)},[Ge(S.$slots,"quarter",{value:R.value,text:R.text},()=>[Pt(Ze(R.text),1)])],42,tj)]))),128))])],4)],2))),128))]),_:3},8,["collapse"]))}}),rj=["id","tabindex","role","aria-label"],ij={key:0,class:"dp--menu-load-container"},sj={key:1,class:"dp--menu-header"},oj=["data-dp-mobile"],aj={key:0,class:"dp__sidebar_left"},lj=["data-dp-mobile"],uj=["data-test-id","data-dp-mobile","onClick","onKeydown"],cj={class:"dp__instance_calendar"},fj={key:2,class:"dp__sidebar_right"},hj={key:2,class:"dp__action_extra"},dj=xn({__name:"DatepickerMenu",props:{collapse:{type:Boolean},noOverlayFocus:{type:Boolean},getInputRect:{type:Function}},emits:["close-picker","select-date","auto-apply","time-update","menu-blur"],setup(t,{expose:e,emit:n}){const r=n,i=$s(),{state:s,rootProps:o,defaults:{textInput:a,inline:l,config:u,ui:c,ariaLabels:f},setState:h}=St(),{isMobile:d}=fh(),{handleEventPropagation:p,getElWithin:g,checkStopPropagation:_,checkKeyDown:y}=Fn();o7();const m=on("inner-menu"),b=on("dp-menu"),S=on("dyn-cmp"),E=Ne(0),x=Ne(!1),C=Ne(!1),{flowStep:k,updateFlowStep:R,childMount:j,resetFlow:K,handleFlow:D}=l7(S),ee=M=>{C.value=!0,u.value.allowPreventDefault&&M.preventDefault(),_(M,u.value,!0)};ln(()=>{x.value=!0,te(),globalThis.addEventListener("resize",te);const M=Cr(b);M&&!a.value.enabled&&!l.value.enabled&&h("menuFocused",!0),M&&(M.addEventListener("pointerdown",ee),M.addEventListener("mousedown",ee)),document.addEventListener("mousedown",N)}),ki(()=>{globalThis.removeEventListener("resize",te),document.removeEventListener("mousedown",N);const M=Cr(b);M&&(M.removeEventListener("pointerdown",ee),M.removeEventListener("mousedown",ee))});const te=()=>{const M=Cr(m);M&&(E.value=M.getBoundingClientRect().width)},Z=Me(()=>o.monthPicker?v9:o.yearPicker?b9:o.timePicker?R9:o.quarterPicker?nj:J9),fe=()=>{const M=Cr(b);M&&M.focus({preventScroll:!0})},q=Me(()=>S.value?.getSidebarProps()||{}),re=Si(i,Zr.ActionRow),me=Si(i,Zr.PassTrough),ie=Me(()=>({dp__menu_disabled:o.disabled,dp__menu_readonly:o.readonly,"dp-menu-loading":o.loading})),X=Me(()=>({dp__menu:!0,dp__menu_index:!l.value.enabled,dp__relative:l.value.enabled,...c.value.menu})),ne=M=>{_(M,u.value,!0)},pe=M=>{u.value.escClose&&(r("close-picker"),p(M,u.value))},ve=M=>{o.arrowNavigation||(M===qr.left||M===qr.up?G("handleArrow",qr.left,0,M===qr.up):G("handleArrow",qr.right,0,M===qr.down))},ge=M=>{h("shiftKeyInMenu",M.shiftKey),!o.hideMonthYearSelect&&M.code===qt.tab&&M.target.classList.contains("dp__menu")&&s.shiftKeyInMenu&&(M.preventDefault(),_(M,u.value,!0),r("close-picker"))},Ee=M=>{S.value?.toggleTimePicker(!1,!1),S.value?.toggleMonthPicker(!1,!1,M),S.value?.toggleYearPicker(!1,!1,M)},J=(M,V=0)=>M==="month"?S.value?.toggleMonthPicker(!1,!0,V):M==="year"?S.value?.toggleYearPicker(!1,!0,V):M==="time"?S.value?.toggleTimePicker(!0,!1):Ee(V),G=(M,...V)=>{S.value?.[M]&&S.value?.[M](...V)},oe=()=>{G("selectCurrentDate")},L=M=>{G("presetDate",Ts(M))},Y=()=>{G("clearHoverDate")},P=(M,V)=>{G("updateMonthYear",M,V)},I=(M,V)=>{M.preventDefault(),ve(V)},B=M=>{if(ge(M),M.key===qt.home||M.key===qt.end)return G("selectWeekDate",M.key===qt.home,M.target.getAttribute("id"));switch((M.key===qt.pageUp||M.key===qt.pageDown)&&(M.shiftKey?(G("changeYear",M.key===qt.pageUp),g(b.value,"overlay-year")?.focus()):(G("changeMonth",M.key===qt.pageUp),g(b.value,M.key===qt.pageUp?"action-prev":"action-next")?.focus()),M.target.getAttribute("id")&&b.value?.focus({preventScroll:!0})),M.key){case qt.esc:return pe(M);case qt.arrowLeft:return I(M,qr.left);case qt.arrowRight:return I(M,qr.right);case qt.arrowUp:return I(M,qr.up);case qt.arrowDown:return I(M,qr.down);default:return}},N=M=>{l.value.enabled&&!l.value.input&&!b.value?.contains(M.target)&&C.value&&(C.value=!1,r("menu-blur"))};return e({updateMonthYear:P,switchView:J,onValueCleared:()=>{S.value?.setStartTime?.()},handleFlow:D}),(M,V)=>(ke(),Be("div",{id:H(o).menuId,ref:"dp-menu",tabindex:H(l).enabled?void 0:"0",role:H(l).enabled?void 0:"dialog","aria-label":H(f)?.menu,class:ut(X.value),onMouseleave:Y,onClick:ne,onKeydown:B},[(H(o).disabled||H(o).readonly)&&H(l).enabled||H(o).loading?(ke(),Be("div",{key:0,class:ut(ie.value)},[H(o).loading?(ke(),Be("div",ij,[...V[5]||(V[5]=[ue("span",{class:"dp--menu-loader"},null,-1)])])):Ye("",!0)],2)):Ye("",!0),M.$slots["menu-header"]?(ke(),Be("div",sj,[Ge(M.$slots,"menu-header")])):Ye("",!0),Ge(M.$slots,"arrow"),ue("div",{ref:"inner-menu",class:ut({dp__menu_content_wrapper:H(o).presetDates?.length||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(H(o).presetDates?.length||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"])}),"data-dp-mobile":H(d),style:Nn({"--dp-menu-width":`${E.value}px`})},[M.$slots["left-sidebar"]?(ke(),Be("div",aj,[Ge(M.$slots,"left-sidebar",wr(Nr(q.value)))])):Ye("",!0),H(o).presetDates.length?(ke(),Be("div",{key:1,class:ut({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0}),"data-dp-mobile":H(d)},[(ke(!0),Be(at,null,Dt(H(o).presetDates,(O,z)=>(ke(),Be(at,{key:z},[O.slot?Ge(M.$slots,O.slot,{key:0,presetDate:L,label:O.label,value:O.value}):(ke(),Be("button",{key:1,type:"button",style:Nn(O.style||{}),class:ut(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test-id":O.testId??void 0,"data-dp-mobile":H(d),onClick:Ci(W=>L(O.value),["prevent"]),onKeydown:W=>H(y)(W,()=>L(O.value),!0)},Ze(O.label),47,uj))],64))),128))],10,lj)):Ye("",!0),ue("div",cj,[(ke(),It(kg(Z.value),{ref:"dyn-cmp","flow-step":H(k),collapse:t.collapse,"no-overlay-focus":t.noOverlayFocus,"menu-wrap-ref":b.value,onMount:H(j),onUpdateFlowStep:H(R),onResetFlow:H(K),onFocusMenu:fe,onSelectDate:V[0]||(V[0]=O=>M.$emit("select-date")),onAutoApply:V[1]||(V[1]=O=>M.$emit("auto-apply",O)),onTimeUpdate:V[2]||(V[2]=O=>M.$emit("time-update"))},Kn({_:2},[Dt(H(me),(O,z)=>({name:O,fn:st(W=>[Ge(M.$slots,O,wr(Nr({...W})))])}))]),1064,["flow-step","collapse","no-overlay-focus","menu-wrap-ref","onMount","onUpdateFlowStep","onResetFlow"]))]),M.$slots["right-sidebar"]?(ke(),Be("div",fj,[Ge(M.$slots,"right-sidebar",wr(Nr(q.value)))])):Ye("",!0)],14,oj),M.$slots["action-extra"]?(ke(),Be("div",hj,[M.$slots["action-extra"]?Ge(M.$slots,"action-extra",{key:0,selectCurrentDate:oe}):Ye("",!0)])):Ye("",!0),!H(o).autoApply||H(u).keepActionRow?(ke(),It(u9,{key:3,"menu-mount":x.value,"calendar-width":E.value,onClosePicker:V[3]||(V[3]=O=>M.$emit("close-picker")),onSelectDate:V[4]||(V[4]=O=>M.$emit("select-date")),onSelectNow:oe},Kn({_:2},[Dt(H(re),(O,z)=>({name:O,fn:st(W=>[Ge(M.$slots,O,wr(Nr(W)))])}))]),1032,["menu-mount","calendar-width"])):Ye("",!0)],42,rj))}}),pj=["data-dp-mobile"],mj=xn({__name:"VueDatePicker",setup(t,{expose:e}){const{rootEmit:n,setState:r,inputValue:i,modelValue:s,rootProps:o,defaults:{inline:a,config:l,textInput:u,range:c,multiDates:f,teleport:h,floatingConfig:d}}=St(),{validateDate:p,isValidTime:g}=Wr(),{menuTransition:_,showTransition:y}=xu(),{isMobile:m}=fh(),{findNextFocusableElement:b,getNumVal:S}=Fn(),E=$s(),x=Ne(!1),C=Ne(a.value.enabled||o.centered),k=Ev(o,"modelValue"),R=Ev(o,"timezone"),j=on("dp-menu-wrap"),K=on("dp-menu"),D=on("input-cmp"),ee=on("picker-wrapper"),te=on("menu-arrow"),Z=Ne(!1),fe=Ne(!1),q=Ne(!1),re=Ne(!0),me=Ke=>(d.value.arrow&&Ke.push(YL({element:d.value.arrow===!0?te:d.value.arrow})),d.value.flip&&Ke.push(UL(typeof d.value.flip=="object"?d.value.flip:{})),d.value.shift&&Ke.push($L(typeof d.value.shift=="object"?d.value.shift:{})),Ke),{floatingStyles:ie,middlewareData:X,placement:ne,y:pe}=qL(D,j,{strategy:d.value.strategy,placement:d.value.placement,middleware:me([jL(d.value.offset)]),whileElementsMounted:BL});ln(()=>{Ee(o.modelValue),Ln().then(()=>{a.value.enabled||globalThis.addEventListener("resize",N)}),a.value.enabled&&(x.value=!0),globalThis.addEventListener("keyup",M),globalThis.addEventListener("keydown",V)}),ki(()=>{a.value.enabled||globalThis.removeEventListener("resize",N),globalThis.removeEventListener("keyup",M),globalThis.removeEventListener("keydown",V)});const ve=Mx(E,o.presetDates),ge=Si(E,Zr.Input);En([k,R],()=>{Ee(k.value)},{deep:!0}),En([ne,pe],()=>{!a.value.enabled&&!o.centered&&re.value&&(C.value=!1,Ln().then(()=>{re.value=!1,C.value=!0}))});const{parseExternalModelValue:Ee,emitModelValue:J,formatInputValue:G,checkBeforeEmit:oe}=a7(),L=Me(()=>({dp__main:!0,dp__theme_dark:o.dark,dp__theme_light:!o.dark,dp__flex_display:a.value.enabled,"dp--flex-display-collapsed":q.value,dp__flex_display_with_input:a.value.input})),Y=Me(()=>o.dark?"dp__theme_dark":"dp__theme_light"),P=Me(()=>a.value.enabled&&(o.timePicker||o.monthPicker||o.yearPicker||o.quarterPicker)),I=()=>D.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},B=()=>{x.value&&l.value.closeOnScroll&&w()},N=()=>{const Ke=K.value?.$el.getBoundingClientRect().width??0;q.value=document.body.offsetWidth<=Ke},M=Ke=>{Ke.key==="Tab"&&!a.value.enabled&&!o.teleport&&l.value.tabOutClosesMenu&&(ee.value.contains(document.activeElement)||w()),fe.value=Ke.shiftKey},V=Ke=>{fe.value=Ke.shiftKey},O=()=>{!o.disabled&&!o.readonly&&(re.value=!0,x.value=!0,x.value&&n("open"),x.value||Oe(),Ee(o.modelValue))},z=()=>{i.value="",Oe(),K.value?.onValueCleared(),D.value?.setParsedDate(null),n("update:model-value",null),n("cleared"),l.value.closeOnClearValue&&w()},W=()=>{const Ke=s.value;return!Ke||!Array.isArray(Ke)&&p(Ke)?!0:Array.isArray(Ke)?f.value.enabled||Ke.length===2&&p(Ke[0])&&p(Ke[1])?!0:c.value.partialRange&&!o.timePicker?p(Ke[0]):!1:!1},U=()=>{oe()&&W()?(J(),w()):n("invalid-select")},Q=Ke=>{he(),J(),l.value.closeOnAutoApply&&!Ke&&w()},he=()=>{D.value&&u.value.enabled&&D.value.setParsedDate(s.value)},le=(Ke=!1)=>{o.autoApply&&g(s.value)&&W()&&(c.value.enabled&&Array.isArray(s.value)?(c.value.partialRange||s.value.length===2)&&Q(Ke):Q(Ke))},Oe=()=>{u.value.enabled||(s.value=null)},w=(Ke=!1)=>{re.value=!0,Ke&&s.value&&l.value.setDateOnMenuClose&&U(),a.value.enabled||(x.value&&(x.value=!1,r("menuFocused",!1),r("shiftKeyInMenu",!1),n("closed"),i.value&&Ee(k.value)),Oe(),n("blur"))},A=(Ke,Qt,Nt=!1)=>{if(!Ke){s.value=null;return}const An=Array.isArray(Ke)?Ke.every(Bn=>p(Bn)):p(Ke),kn=g(Ke);An&&kn?(r("isTextInputDate",!0),s.value=Ke,Qt?(Z.value=Nt,U(),n("text-submit")):o.autoApply&&le(!0),Ln().then(()=>{r("isTextInputDate",!1)})):n("invalid-date",Ke)},F=()=>{o.autoApply&&g(s.value)&&J(),he()},de=()=>x.value?w():O(),_e=Ke=>{s.value=Ke},xe=()=>{u.value.enabled&&(r("isInputFocused",!0),G()),n("focus")},Re=()=>{u.value.enabled&&(r("isInputFocused",!1),Ee(o.modelValue),Z.value&&b(ee.value,fe.value)?.focus()),n("blur")},ye=(Ke,Qt)=>{K.value&&K.value.updateMonthYear(Qt??0,{month:S(Ke.month),year:S(Ke.year)})},Ce=Ke=>{Ee(Ke??o.modelValue)},Ue=(Ke,Qt)=>{K.value?.switchView(Ke,Qt)},He=(Ke,Qt)=>{if(x.value)return l.value.onClickOutside?l.value.onClickOutside(Ke,Qt):w(!0)},tt=(Ke=0)=>{K.value?.handleFlow(Ke)},nt=()=>j;return z8(j,Ke=>He(W,Ke),{ignore:[D]}),e({closeMenu:w,selectDate:U,clearValue:z,openMenu:O,onScroll:B,formatInputValue:G,updateInternalModelValue:_e,setMonthYear:ye,parseModel:Ce,switchView:Ue,toggleMenu:de,handleFlow:tt,getDpWrapMenuRef:nt,dpMenuRef:()=>K,dpWrapMenuRef:()=>j,inputRef:()=>D}),(Ke,Qt)=>(ke(),Be("div",{ref:"picker-wrapper",class:ut(L.value),"data-datepicker-instance":"","data-dp-mobile":H(m)},[dt(i9,{ref:"input-cmp","is-menu-open":x.value,onClear:z,onOpen:O,onSetInputDate:A,onSetEmptyDate:H(J),onSelectDate:U,onToggle:de,onClose:w,onFocus:xe,onBlur:Re,onRealBlur:Qt[0]||(Qt[0]=Nt=>H(r)("isInputFocused",!1))},Kn({_:2},[Dt(H(ge),(Nt,An)=>({name:Nt,fn:st(kn=>[Ge(Ke.$slots,Nt,wr(Nr(kn)))])}))]),1032,["is-menu-open","onSetEmptyDate"]),dt(E3,{to:H(h),disabled:!H(h)},{default:st(()=>[ue("div",{ref:"dp-menu-wrap",class:ut({"dp--menu-wrapper":!H(a).enabled,dp__outer_menu_wrap:!0,"dp--centered":H(o).centered}),style:Nn(!H(a).enabled&&!H(o).centered?H(ie):void 0)},[dt(Ra,{name:H(_)(H(ne).startsWith("top")),css:H(y)&&!H(a).enabled&&!H(o).centered&&C.value},{default:st(()=>[x.value&&C.value?(ke(),It(dj,{key:0,ref:"dp-menu",class:ut({[Y.value]:!0}),"no-overlay-focus":P.value,collapse:q.value,"get-input-rect":I,onClosePicker:w,onSelectDate:U,onAutoApply:le,onTimeUpdate:F,onMenuBlur:Qt[1]||(Qt[1]=Nt=>H(n)("blur"))},Kn({_:2},[Dt(H(ve),(Nt,An)=>({name:Nt,fn:st(kn=>[Ge(Ke.$slots,Nt,wr(Nr({...kn})))])})),!H(a).enabled&&!H(o).centered&&H(d).arrow===!0?{name:"arrow",fn:st(()=>[ue("div",{ref:"menu-arrow",class:ut({dp__arrow_top:H(ne)==="bottom",dp__arrow_bottom:H(ne)==="top"}),style:Nn({left:H(X).arrow?.x!=null?`${H(X).arrow.x}px`:"",top:H(X).arrow?.y!=null?`${H(X).arrow.y}px`:""})},null,6)]),key:"0"}:void 0]),1032,["class","no-overlay-focus","collapse"])):Ye("",!0)]),_:3},8,["name","css"])],6)]),_:3},8,["to","disabled"])],10,pj))}}),gj=xn({__name:"VueDatePickerRoot",props:J2({multiCalendars:{type:[Boolean,Number,String,Object]},modelValue:{},modelType:{},dark:{type:Boolean},transitions:{type:[Boolean,Object]},ariaLabels:{},hideNavigation:{},timezone:{},vertical:{type:Boolean},hideMonthYearSelect:{type:Boolean},disableYearSelect:{type:Boolean},yearRange:{},autoApply:{type:Boolean},disabledDates:{type:[Array,Function]},startDate:{},hideOffsetDates:{type:Boolean},noToday:{type:Boolean},allowedDates:{},markers:{},presetDates:{},flow:{},preventMinMaxNavigation:{type:Boolean},reverseYears:{type:Boolean},weekPicker:{type:Boolean},filters:{},arrowNavigation:{type:Boolean},highlight:{type:[Function,Object]},teleport:{type:[String,Boolean]},centered:{type:Boolean},locale:{},weekStart:{},weekNumbers:{type:[Boolean,Object]},dayNames:{type:[Function,Array]},monthPicker:{type:Boolean},yearPicker:{type:Boolean},modelAuto:{type:Boolean},formats:{},multiDates:{type:[Boolean,Object]},minDate:{},maxDate:{},minTime:{},maxTime:{},inputAttrs:{},timeConfig:{},placeholder:{},timePicker:{type:Boolean},range:{type:[Boolean,Object]},menuId:{},disabled:{type:Boolean},readonly:{type:Boolean},inline:{type:[Boolean,Object]},textInput:{type:[Boolean,Object]},sixWeeks:{type:[Boolean,String]},actionRow:{},focusStartDate:{type:Boolean},disabledTimes:{type:[Function,Array]},calendar:{type:Function},config:{},quarterPicker:{type:Boolean},yearFirst:{type:Boolean},loading:{type:Boolean},ui:{},floating:{}},Q7),emits:["update:model-value","internal-model-change","text-submit","text-input","open","closed","focus","blur","cleared","flow-step","update-month-year","invalid-select","invalid-fixed-range","invalid-date","tooltip-open","tooltip-close","am-pm-change","range-start","range-end","date-click","overlay-toggle","invalid"],setup(t,{expose:e,emit:n}){const r=n,i=t;i7(i,r);const s=$s(),o=Mx(s,i.presetDates),a=on("date-picker");return e(J7(a)),(l,u)=>(ke(),It(mj,{ref:"date-picker"},Kn({_:2},[Dt(H(o),(c,f)=>({name:c,fn:st(h=>[Ge(l.$slots,c,wr(Nr(h)))])}))]),1536))}}),yj=Na("records",()=>{const t=Ne({}),e=Ne(!1);async function n(r){e.value=!0,t.value={};const i=await ru(Ki(ya,`records/${r}`));i.exists()&&(t.value=i.val()),e.value=!1}return{records:t,loading:e,fetchByDate:n}}),vj={class:"history-wrapper"},_j={class:"main-content"},bj={class:"calendar-container"},wj={key:0,class:"date-info"},Ej={class:"date-display"},Sj={class:"result-history-container"},Cj={key:0,class:"medicines-list"},xj={class:"med-header"},Aj={class:"med-time"},kj={class:"med-name"},Tj={class:"med-dose"},Ij={key:1,class:"no-medicines"},Pj={key:2,class:"no-date-selected"},Oj={__name:"medhistory",setup(t){const e=Ne(null),n=yj();En(e,o=>{if(!o)return;const a=new Date(o).toISOString().split("T")[0];n.fetchByDate(a)});const r=Me(()=>e.value?new Date(e.value).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),i=Me(()=>Object.entries(n.records).map(([o,a])=>({medicine:o,time:a.time,lastTaken:a.lastTaken})).sort((o,a)=>o.time.localeCompare(a.time)));function s(o){return new Date(o).toLocaleString("en-US")}return(o,a)=>(ke(),Be("div",vj,[a[6]||(a[6]=ue("div",{class:"header"},[ue("h2",{class:"header-title"},"Medication History"),ue("p",{class:"header-description"}," Track and view your medication history in one place ")],-1)),ue("div",_j,[ue("div",bj,[a[1]||(a[1]=ue("p",{class:"calendar-header"},"Select a date",-1)),dt(H(gj),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),class:"date-picker",placeholder:"Pick a date","enable-time-picker":!1},null,8,["modelValue"]),e.value?(ke(),Be("div",wj,[ue("p",Ej,Ze(r.value),1)])):Ye("",!0)]),ue("div",Sj,[a[5]||(a[5]=ue("span",{class:"calendar-header"},"On this day, you have taken",-1)),e.value&&i.value.length>0?(ke(),Be("div",Cj,[(ke(!0),Be(at,null,Dt(i.value,(l,u)=>(ke(),Be("div",{key:u,class:"medicine-card"},[ue("div",xj,[a[2]||(a[2]=ue("span",{class:"med-box"},"TAKEN",-1)),ue("span",Aj,Ze(l.time),1)]),ue("p",kj,Ze(l.medicine),1),ue("p",Tj," Last taken: "+Ze(s(l.lastTaken)),1)]))),128))])):e.value&&!H(n).loading?(ke(),Be("div",Ij,[...a[3]||(a[3]=[ue("p",null,"No medications taken on this date",-1)])])):(ke(),Be("div",Pj,[...a[4]||(a[4]=[ue("p",null,"Select a date to view medications",-1)])]))])])]))}},Mj=Us(Oj,[["__scopeId","data-v-a7c6e185"]]),Dj=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:wN},{path:"/register",name:"Register",component:AN},{path:"/dashboard",name:"Dashboard",component:LN,children:[{path:"home",name:"Home",component:_8},{path:"editmedication",name:"EditMedication",component:P8},{path:"editprofile",name:"EditProfile",component:V8},{path:"medhistory",name:"MedHistory",component:Mj}]}],Rj=uP({history:WI(),routes:Dj}),Y0=KT(cP);Y0.use(JT());Y0.use(Rj);Y0.mount("#app");
